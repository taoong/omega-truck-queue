(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var rm={exports:{}},Ml={};var kv;function ow(){if(kv)return Ml;kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var Uv;function lw(){return Uv||(Uv=1,rm.exports=ow()),rm.exports}var N=lw(),sm={exports:{}},ve={};var Pv;function uw(){if(Pv)return ve;Pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,J={};function ce(M,X,ne){this.props=M,this.context=X,this.refs=J,this.updater=ne||Z}ce.prototype.isReactComponent={},ce.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},ce.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _e(){}_e.prototype=ce.prototype;function de(M,X,ne){this.props=M,this.context=X,this.refs=J,this.updater=ne||Z}var He=de.prototype=new _e;He.constructor=de,ee(He,ce.prototype),He.isPureReactComponent=!0;var Ge=Array.isArray;function Me(){}var C={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function w(M,X,ne){var se=ne.ref;return{$$typeof:r,type:M,key:X,ref:se!==void 0?se:null,props:ne}}function V(M,X){return w(M.type,X,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return X[ne]})}var R=/\/+/g;function Ie(M,X){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):X.toString(36)}function Le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Me,Me):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,ne,se,pe){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case r:case e:ke=!0;break;case A:return ke=M._init,G(ke(M._payload),X,ne,se,pe)}}if(ke)return pe=pe(M),ke=se===""?"."+Ie(M,0):se,Ge(pe)?(ne="",ke!=null&&(ne=ke.replace(R,"$&/")+"/"),G(pe,X,ne,"",function(ys){return ys})):pe!=null&&(D(pe)&&(pe=V(pe,ne+(pe.key==null||M&&M.key===pe.key?"":(""+pe.key).replace(R,"$&/")+"/")+ke)),X.push(pe)),1;ke=0;var xt=se===""?".":se+":";if(Ge(M))for(var at=0;at<M.length;at++)se=M[at],Se=xt+Ie(se,at),ke+=G(se,X,ne,Se,pe);else if(at=F(M),typeof at=="function")for(M=at.call(M),at=0;!(se=M.next()).done;)se=se.value,Se=xt+Ie(se,at++),ke+=G(se,X,ne,Se,pe);else if(Se==="object"){if(typeof M.then=="function")return G(Le(M),X,ne,se,pe);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ke}function te(M,X,ne){if(M==null)return M;var se=[],pe=0;return G(M,se,"","",function(Se){return X.call(ne,Se,pe++)}),se}function he(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qe={map:te,forEach:function(M,X,ne){te(M,function(){X.apply(this,arguments)},ne)},count:function(M){var X=0;return te(M,function(){X++}),X},toArray:function(M){return te(M,function(X){return X})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ve.Activity=b,ve.Children=Qe,ve.Component=ce,ve.Fragment=n,ve.Profiler=l,ve.PureComponent=de,ve.StrictMode=s,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ve.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},ve.cache=function(M){return function(){return M.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(M,X,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=ee({},M.props),pe=M.key;if(X!=null)for(Se in X.key!==void 0&&(pe=""+X.key),X)!T.call(X,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&X.ref===void 0||(se[Se]=X[Se]);var Se=arguments.length-2;if(Se===1)se.children=ne;else if(1<Se){for(var ke=Array(Se),xt=0;xt<Se;xt++)ke[xt]=arguments[xt+2];se.children=ke}return w(M.type,pe,se)},ve.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},ve.createElement=function(M,X,ne){var se,pe={},Se=null;if(X!=null)for(se in X.key!==void 0&&(Se=""+X.key),X)T.call(X,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(pe[se]=X[se]);var ke=arguments.length-2;if(ke===1)pe.children=ne;else if(1<ke){for(var xt=Array(ke),at=0;at<ke;at++)xt[at]=arguments[at+2];pe.children=xt}if(M&&M.defaultProps)for(se in ke=M.defaultProps,ke)pe[se]===void 0&&(pe[se]=ke[se]);return w(M,Se,pe)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(M){return{$$typeof:g,render:M}},ve.isValidElement=D,ve.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:he}},ve.memo=function(M,X){return{$$typeof:p,type:M,compare:X===void 0?null:X}},ve.startTransition=function(M){var X=C.T,ne={};C.T=ne;try{var se=M(),pe=C.S;pe!==null&&pe(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Me,Pe)}catch(Se){Pe(Se)}finally{X!==null&&ne.types!==null&&(X.types=ne.types),C.T=X}},ve.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ve.use=function(M){return C.H.use(M)},ve.useActionState=function(M,X,ne){return C.H.useActionState(M,X,ne)},ve.useCallback=function(M,X){return C.H.useCallback(M,X)},ve.useContext=function(M){return C.H.useContext(M)},ve.useDebugValue=function(){},ve.useDeferredValue=function(M,X){return C.H.useDeferredValue(M,X)},ve.useEffect=function(M,X){return C.H.useEffect(M,X)},ve.useEffectEvent=function(M){return C.H.useEffectEvent(M)},ve.useId=function(){return C.H.useId()},ve.useImperativeHandle=function(M,X,ne){return C.H.useImperativeHandle(M,X,ne)},ve.useInsertionEffect=function(M,X){return C.H.useInsertionEffect(M,X)},ve.useLayoutEffect=function(M,X){return C.H.useLayoutEffect(M,X)},ve.useMemo=function(M,X){return C.H.useMemo(M,X)},ve.useOptimistic=function(M,X){return C.H.useOptimistic(M,X)},ve.useReducer=function(M,X,ne){return C.H.useReducer(M,X,ne)},ve.useRef=function(M){return C.H.useRef(M)},ve.useState=function(M){return C.H.useState(M)},ve.useSyncExternalStore=function(M,X,ne){return C.H.useSyncExternalStore(M,X,ne)},ve.useTransition=function(){return C.H.useTransition()},ve.version="19.2.3",ve}var Lv;function ug(){return Lv||(Lv=1,sm.exports=uw()),sm.exports}var ut=ug(),am={exports:{}},Vl={},om={exports:{}},lm={};var jv;function cw(){return jv||(jv=1,(function(r){function e(G,te){var he=G.length;G.push(te);e:for(;0<he;){var Pe=he-1>>>1,Qe=G[Pe];if(0<l(Qe,te))G[Pe]=te,G[he]=Qe,he=Pe;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var te=G[0],he=G.pop();if(he!==te){G[0]=he;e:for(var Pe=0,Qe=G.length,M=Qe>>>1;Pe<M;){var X=2*(Pe+1)-1,ne=G[X],se=X+1,pe=G[se];if(0>l(ne,he))se<Qe&&0>l(pe,ne)?(G[Pe]=pe,G[se]=he,Pe=se):(G[Pe]=ne,G[X]=he,Pe=X);else if(se<Qe&&0>l(pe,he))G[Pe]=pe,G[se]=he,Pe=se;else break e}}return te}function l(G,te){var he=G.sortIndex-te.sortIndex;return he!==0?he:G.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],A=1,b=null,x=3,F=!1,Z=!1,ee=!1,J=!1,ce=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function He(G){for(var te=n(p);te!==null;){if(te.callback===null)s(p);else if(te.startTime<=G)s(p),te.sortIndex=te.expirationTime,e(y,te);else break;te=n(p)}}function Ge(G){if(ee=!1,He(G),!Z)if(n(y)!==null)Z=!0,Me||(Me=!0,U());else{var te=n(p);te!==null&&Le(Ge,te.startTime-G)}}var Me=!1,C=-1,T=5,w=-1;function V(){return J?!0:!(r.unstable_now()-w<T)}function D(){if(J=!1,Me){var G=r.unstable_now();w=G;var te=!0;try{e:{Z=!1,ee&&(ee=!1,_e(C),C=-1),F=!0;var he=x;try{t:{for(He(G),b=n(y);b!==null&&!(b.expirationTime>G&&V());){var Pe=b.callback;if(typeof Pe=="function"){b.callback=null,x=b.priorityLevel;var Qe=Pe(b.expirationTime<=G);if(G=r.unstable_now(),typeof Qe=="function"){b.callback=Qe,He(G),te=!0;break t}b===n(y)&&s(y),He(G)}else s(y);b=n(y)}if(b!==null)te=!0;else{var M=n(p);M!==null&&Le(Ge,M.startTime-G),te=!1}}break e}finally{b=null,x=he,F=!1}te=void 0}}finally{te?U():Me=!1}}}var U;if(typeof de=="function")U=function(){de(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ie=R.port2;R.port1.onmessage=D,U=function(){Ie.postMessage(null)}}else U=function(){ce(D,0)};function Le(G,te){C=ce(function(){G(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(G){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var he=x;x=te;try{return G()}finally{x=he}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=x;x=G;try{return te()}finally{x=he}},r.unstable_scheduleCallback=function(G,te,he){var Pe=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Pe+he:Pe):he=Pe,G){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=he+Qe,G={id:A++,callback:te,priorityLevel:G,startTime:he,expirationTime:Qe,sortIndex:-1},he>Pe?(G.sortIndex=he,e(p,G),n(y)===null&&G===n(p)&&(ee?(_e(C),C=-1):ee=!0,Le(Ge,he-Pe))):(G.sortIndex=Qe,e(y,G),Z||F||(Z=!0,Me||(Me=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var te=x;return function(){var he=x;x=te;try{return G.apply(this,arguments)}finally{x=he}}}})(lm)),lm}var zv;function hw(){return zv||(zv=1,om.exports=cw()),om.exports}var um={exports:{}},Jt={};var qv;function fw(){if(qv)return Jt;qv=1;var r=ug();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:p,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(y,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,A)},Jt.flushSync=function(y){var p=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=A,s.d.f()}},Jt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Jt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Jt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var A=p.as,b=g(A,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,F=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:F}):A==="script"&&s.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:F,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Jt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,b=g(A,p.crossOrigin);s.d.L(y,A,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(y,p){if(typeof y=="string")if(p){var A=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Jt.requestFormReset=function(y){s.d.r(y)},Jt.unstable_batchedUpdates=function(y,p){return y(p)},Jt.useFormState=function(y,p,A){return d.H.useFormState(y,p,A)},Jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var Bv;function dw(){if(Bv)return um.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=fw(),um.exports}var Hv;function mw(){if(Hv)return Vl;Hv=1;var r=hw(),e=ug(),n=dw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function A(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=A(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),_e=Symbol.for("react.consumer"),de=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case ce:return"Profiler";case J:return"StrictMode";case Ge:return"Suspense";case Me:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case de:return t.displayName||"Context";case _e:return(t._context.displayName||"Context")+".Consumer";case He:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Ie(t.type)||"Memo";case T:i=t._payload,t=t._init;try{return Ie(t(i))}catch{}}return null}var Le=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Pe=[],Qe=-1;function M(t){return{current:t}}function X(t){0>Qe||(t.current=Pe[Qe],Pe[Qe]=null,Qe--)}function ne(t,i){Qe++,Pe[Qe]=t.current,t.current=i}var se=M(null),pe=M(null),Se=M(null),ke=M(null);function xt(t,i){switch(ne(Se,i),ne(pe,t),ne(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?rv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=rv(i),t=sv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(se),ne(se,t)}function at(){X(se),X(pe),X(Se)}function ys(t){t.memoizedState!==null&&ne(ke,t);var i=se.current,a=sv(i,t.type);i!==a&&(ne(pe,t),ne(se,a))}function ha(t){pe.current===t&&(X(se),X(pe)),ke.current===t&&(X(ke),Nl._currentValue=he)}var fa,da;function oi(t){if(fa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fa=i&&i[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+da}var No=!1;function _s(t,i){if(!t||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(B){z=B}t.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var I=_.split(`
`),j=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var H=`
`+I[o].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=o&&0<=h);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function Do(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return oi("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=Do(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,af=r.unstable_shouldYield,Eu=r.unstable_requestPaint,nn=r.unstable_now,vs=r.unstable_getCurrentPriorityLevel,xo=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,of=r.unstable_LowPriority,Tu=r.unstable_IdlePriority,Au=r.log,Su=r.unstable_setDisableYieldValue,Fn=null,Bt=null;function In(t){if(typeof Au=="function"&&Su(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Fn,t)}catch{}}var dt=Math.clz32?Math.clz32:wu,bu=Math.log,ma=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(bu(t)/ma|0)|0}var li=256,Es=262144,Et=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ui(o):(_&=E,_!==0?h=ui(_):a||(a=E&~t,a!==0&&(h=ui(a))))):(E=o&~f,E!==0?h=ui(E):_!==0?h=ui(_):a||(a=o&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ts(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uf(t,i,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var H=31-dt(a),Y=1<<H;E[H]=0,I[H]=-1;var z=j[H];if(z!==null)for(j[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}a&=~Y}o!==0&&As(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function As(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-dt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Vo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function ko(t,i){var a=i&-i;return a=(a&42)!==0?1:Ss(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function Qn(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var Kn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Kn,Lt="__reactProps$"+Kn,fi="__reactContainer$"+Kn,ga="__reactEvents$"+Kn,cf="__reactListeners$"+Kn,Cu="__reactHandles$"+Kn,Nu="__reactResources$"+Kn,di="__reactMarker$"+Kn;function pa(t){delete t[Tt],delete t[Lt],delete t[ga],delete t[cf],delete t[Cu]}function mi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=fv(t);t!==null;){if(a=t[Tt])return a;t=fv(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gi(t){var i=t[Nu];return i||(i=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[di]=!0}var Uo=new Set,Po={};function pi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Po[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},zo={};function Du(t){return vt.call(zo,t)?!0:vt.call(jo,t)?!1:Lo.test(t)?zo[t]=!0:(jo[t]=!0,!1)}function ya(t,i,a){if(Du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=qo(t,i,""+t[i])}}function bs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=vr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ws=/[\n"\\]/g;function on(t){return t.replace(ws,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,_,jt(i)):a!=null?Bo(t,_,jt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+jt(E):t.removeAttribute("name")}function Ou(t,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Bo(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function xu(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Tr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Le(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ke(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Mu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Ho(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Ho(t,f,i[f])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Go=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,vi=null;function Rs(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(s(90));_a(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&bs(o)}break e;case"textarea":xu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var Ta=!1;function br(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var o=t(i);return o}finally{if(Ta=!1,(Sr!==null||vi!==null)&&(Ic(),Sr&&(i=Sr,t=vi,vi=Sr=null,Rs(i),t)))for(i=0;i<t.length;i++)Rs(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Lt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Dn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Is=!1}var Ei=null,Qo=null,Cs=null;function Ko(){if(Cs)return Cs;var t,i=Qo,a=i.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Cs=h.slice(t,1<o?1-o:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function $n(){return!1}function Ht(t){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:$n,this.isPropagationStopped=$n,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ht(Hi),wr=b({},Hi,{view:0,detail:0}),Yo=Ht(wr),Rr,Aa,Ai,Sa=b({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Rr=t.screenX-Ai.screenX,Aa=t.screenY-Ai.screenY):Aa=Rr=0,Ai=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Xo=Ht(Sa),Ds=b({},Sa,{dataTransfer:0}),ku=Ht(Ds),Uu=b({},wr,{relatedTarget:0}),Os=Ht(Uu),$o=b({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Ht($o),ba=b({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lu=Ht(ba),ju=b({},Hi,{data:0}),Si=Ht(ju),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bu[t])?!!i[t]:!1}function Ir(){return Hu}var rn=b({},wr,{key:function(t){if(t.key){var i=zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fu=Ht(rn),Gu=b({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Ht(Gu),c=b({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),m=Ht(c),v=b({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(v),P=b({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ht(P),W=b({},Hi,{newState:0,oldState:0}),Te=Ht(W),mt=[9,13,27,32],qe=Dn&&"CompositionEvent"in window,ot=null;Dn&&"documentMode"in document&&(ot=document.documentMode);var On=Dn&&"TextEvent"in window&&!ot,bi=Dn&&(!qe||ot&&8<ot&&11>=ot),Jn=" ",Zn=!1;function xs(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function OS(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Zn?null:t;default:return null}}function xS(t,i){if(Ra)return t==="compositionend"||!qe&&xs(t,i)?(t=Ko(),Cs=Qo=Ei=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!MS[t.type]:i==="textarea"}function pp(t,i,a,o){Sr?vi?vi.push(o):vi=[o]:Sr=o,i=Vc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Jo=null,Zo=null;function VS(t){Z_(t,0)}function Qu(t){var i=pn(t);if(bs(i))return t}function yp(t,i){if(t==="change")return i}var _p=!1;if(Dn){var hf;if(Dn){var ff="oninput"in document;if(!ff){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),ff=typeof vp.oninput=="function"}hf=ff}else hf=!1;_p=hf&&(!document.documentMode||9<document.documentMode)}function Ep(){Jo&&(Jo.detachEvent("onpropertychange",Tp),Zo=Jo=null)}function Tp(t){if(t.propertyName==="value"&&Qu(Zo)){var i=[];pp(i,Zo,t,Nn(t)),br(VS,i)}}function kS(t,i,a){t==="focusin"?(Ep(),Jo=i,Zo=a,Jo.attachEvent("onpropertychange",Tp)):t==="focusout"&&Ep()}function US(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qu(Zo)}function PS(t,i){if(t==="click")return Qu(i)}function LS(t,i){if(t==="input"||t==="change")return Qu(i)}function jS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:jS;function Wo(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Ap(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sp(t,i){var a=Ap(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ap(a)}}function bp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?bp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var zS=Dn&&"documentMode"in document&&11>=document.documentMode,Ia=null,mf=null,el=null,gf=!1;function Rp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Ia==null||Ia!==_i(o)||(o=Ia,"selectionStart"in o&&df(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),el&&Wo(el,o)||(el=o,o=Vc(mf,"onSelect"),0<o.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ia)))}function Ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},pf={},Ip={};Dn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Vs(t){if(pf[t])return pf[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ip)return pf[t]=i[a];return t}var Cp=Vs("animationend"),Np=Vs("animationiteration"),Dp=Vs("animationstart"),qS=Vs("transitionrun"),BS=Vs("transitionstart"),HS=Vs("transitioncancel"),Op=Vs("transitionend"),xp=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Wn(t,i){xp.set(t,i),pi(i,[t])}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Na=0,_f=0;function Yu(){for(var t=Na,i=_f=Na=0;i<t;){var a=xn[i];xn[i++]=null;var o=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var f=xn[i];if(xn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Mp(a,h,f)}}function Xu(t,i,a,o){xn[Na++]=t,xn[Na++]=i,xn[Na++]=a,xn[Na++]=o,_f|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function vf(t,i,a,o){return Xu(t,i,a,o),$u(t)}function ks(t,i){return Xu(t,null,null,i),$u(t)}function Mp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-dt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function $u(t){if(50<Al)throw Al=0,Cd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function FS(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,o){return new FS(t,i,a,o)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Vp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ju(t,i,a,o,h,f){var _=0;if(o=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=Xb(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=vn(31,a,i,h),t.elementType=w,t.lanes=f,t;case ee:return Us(a.children,h,f,i);case J:_=8,h|=24;break;case ce:return t=vn(12,a,i,h|2),t.elementType=ce,t.lanes=f,t;case Ge:return t=vn(13,a,i,h),t.elementType=Ge,t.lanes=f,t;case Me:return t=vn(19,a,i,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:_=10;break e;case _e:_=9;break e;case He:_=11;break e;case C:_=14;break e;case T:_=16,o=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=vn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Us(t,i,a,o){return t=vn(7,t,o,i),t.lanes=a,t}function Tf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function kp(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Af(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Up=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Up.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Up.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Oa=[],xa=0,Zu=null,tl=0,Vn=[],kn=0,Cr=null,wi=1,Ri="";function Qi(t,i){Oa[xa++]=tl,Oa[xa++]=Zu,Zu=t,tl=i}function Pp(t,i,a){Vn[kn++]=wi,Vn[kn++]=Ri,Vn[kn++]=Cr,Cr=t;var o=wi;t=Ri;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var f=32-dt(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,wi=1<<32-dt(i)+h|a<<h|o,Ri=f+t}else wi=1<<f|a<<h|o,Ri=t}function Sf(t){t.return!==null&&(Qi(t,1),Pp(t,1,0))}function bf(t){for(;t===Zu;)Zu=Oa[--xa],Oa[xa]=null,tl=Oa[--xa],Oa[xa]=null;for(;t===Cr;)Cr=Vn[--kn],Vn[kn]=null,Ri=Vn[--kn],Vn[kn]=null,wi=Vn[--kn],Vn[kn]=null}function Lp(t,i){Vn[kn++]=wi,Vn[kn++]=Ri,Vn[kn++]=Cr,wi=i.id,Ri=i.overflow,Cr=t}var Ft=null,it=null,Ve=!1,Nr=null,Un=!1,wf=Error(s(519));function Dr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Mn(i,t)),wf}function jp(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[Lt]=o,a){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)Re(bl[a],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":Re("invalid",i),Ou(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Re("invalid",i);break;case"textarea":Re("invalid",i),Tr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||nv(i.textContent,a)?(o.popover!=null&&(Re("beforetoggle",i),Re("toggle",i)),o.onScroll!=null&&Re("scroll",i),o.onScrollEnd!=null&&Re("scrollend",i),o.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Dr(t,!0)}function zp(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ft=Ft.return}}function Ma(t){if(t!==Ft)return!1;if(!Ve)return zp(t),Ve=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&it&&Dr(t),zp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=hv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=hv(t)}else i===27?(i=it,Fr(t.type)?(t=Yd,Yd=null,it=t):it=i):it=Ft?Ln(t.stateNode.nextSibling):null;return!0}function Ps(){it=Ft=null,Ve=!1}function Rf(){var t=Nr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Nr=null),t}function nl(t){Nr===null?Nr=[t]:Nr.push(t)}var If=M(null),Ls=null,Ki=null;function Or(t,i,a){ne(If,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=If.current,X(If)}function Cf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Nf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<i.length;I++)if(E.context===i[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Cf(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Cf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Va(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Nf(i,t,a,o),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Ls=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return qp(Ls,t)}function ec(t,i){return Ls===null&&js(t),qp(t,i)}function qp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var GS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},QS=r.unstable_scheduleCallback,KS=r.unstable_NormalPriority,bt={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new GS,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&QS(KS,function(){t.controller.abort()})}var rl=null,Of=0,ka=0,Ua=null;function YS(t,i){if(rl===null){var a=rl=[];Of=0,ka=Vd(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Of++,i.then(Bp,Bp),i}function Bp(){if(--Of===0&&rl!==null){Ua!==null&&(Ua.status="fulfilled");var t=rl;rl=null,ka=0,Ua=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function XS(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Hp=G.S;G.S=function(t,i){R_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&YS(t,i),Hp!==null&&Hp(t,i)};var zs=M(null);function xf(){var t=zs.current;return t!==null?t:tt.pooledCache}function tc(t,i){i===null?ne(zs,zs.current):ne(zs,i.pool)}function Fp(){var t=xf();return t===null?null:{parent:bt._currentValue,pool:t}}var Pa=Error(s(460)),Mf=Error(s(474)),nc=Error(s(542)),ic={then:function(){}};function Gp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yp(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yp(t),t}throw Bs=i,Pa}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Pa):a}}var Bs=null;function Kp(){if(Bs===null)throw Error(s(459));var t=Bs;return Bs=null,t}function Yp(t){if(t===Pa||t===nc)throw Error(s(483))}var La=null,sl=0;function rc(t){var i=sl;return sl+=1,La===null&&(La=[]),Qp(La,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Xp(t){function i(k,O){if(t){var L=k.deletions;L===null?(k.deletions=[O],k.flags|=16):L.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Gi(k,O),k.index=0,k.sibling=null,k}function f(k,O,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<O?(k.flags|=67108866,O):L):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,L,Q){return O===null||O.tag!==6?(O=Tf(L,k.mode,Q),O.return=k,O):(O=h(O,L),O.return=k,O)}function I(k,O,L,Q){var le=L.type;return le===ee?H(k,O,L.props.children,Q,L.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===T&&qs(le)===O.type)?(O=h(O,L.props),al(O,L),O.return=k,O):(O=Ju(L.type,L.key,L.props,null,k.mode,Q),al(O,L),O.return=k,O)}function j(k,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Af(L,k.mode,Q),O.return=k,O):(O=h(O,L.children||[]),O.return=k,O)}function H(k,O,L,Q,le){return O===null||O.tag!==7?(O=Us(L,k.mode,Q,le),O.return=k,O):(O=h(O,L),O.return=k,O)}function Y(k,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Tf(""+O,k.mode,L),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return L=Ju(O.type,O.key,O.props,null,k.mode,L),al(L,O),L.return=k,L;case Z:return O=Af(O,k.mode,L),O.return=k,O;case T:return O=qs(O),Y(k,O,L)}if(Le(O)||U(O))return O=Us(O,k.mode,L,null),O.return=k,O;if(typeof O.then=="function")return Y(k,rc(O),L);if(O.$$typeof===de)return Y(k,ec(k,O),L);sc(k,O)}return null}function z(k,O,L,Q){var le=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return le!==null?null:E(k,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===le?I(k,O,L,Q):null;case Z:return L.key===le?j(k,O,L,Q):null;case T:return L=qs(L),z(k,O,L,Q)}if(Le(L)||U(L))return le!==null?null:H(k,O,L,Q,null);if(typeof L.then=="function")return z(k,O,rc(L),Q);if(L.$$typeof===de)return z(k,O,ec(k,L),Q);sc(k,L)}return null}function B(k,O,L,Q,le){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,E(O,k,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?L:Q.key)||null,I(O,k,Q,le);case Z:return k=k.get(Q.key===null?L:Q.key)||null,j(O,k,Q,le);case T:return Q=qs(Q),B(k,O,L,Q,le)}if(Le(Q)||U(Q))return k=k.get(L)||null,H(O,k,Q,le,null);if(typeof Q.then=="function")return B(k,O,L,rc(Q),le);if(Q.$$typeof===de)return B(k,O,L,ec(O,Q),le);sc(O,Q)}return null}function ae(k,O,L,Q){for(var le=null,je=null,oe=O,be=O=0,Ne=null;oe!==null&&be<L.length;be++){oe.index>be?(Ne=oe,oe=null):Ne=oe.sibling;var ze=z(k,oe,L[be],Q);if(ze===null){oe===null&&(oe=Ne);break}t&&oe&&ze.alternate===null&&i(k,oe),O=f(ze,O,be),je===null?le=ze:je.sibling=ze,je=ze,oe=Ne}if(be===L.length)return a(k,oe),Ve&&Qi(k,be),le;if(oe===null){for(;be<L.length;be++)oe=Y(k,L[be],Q),oe!==null&&(O=f(oe,O,be),je===null?le=oe:je.sibling=oe,je=oe);return Ve&&Qi(k,be),le}for(oe=o(oe);be<L.length;be++)Ne=B(oe,k,be,L[be],Q),Ne!==null&&(t&&Ne.alternate!==null&&oe.delete(Ne.key===null?be:Ne.key),O=f(Ne,O,be),je===null?le=Ne:je.sibling=Ne,je=Ne);return t&&oe.forEach(function(Xr){return i(k,Xr)}),Ve&&Qi(k,be),le}function fe(k,O,L,Q){if(L==null)throw Error(s(151));for(var le=null,je=null,oe=O,be=O=0,Ne=null,ze=L.next();oe!==null&&!ze.done;be++,ze=L.next()){oe.index>be?(Ne=oe,oe=null):Ne=oe.sibling;var Xr=z(k,oe,ze.value,Q);if(Xr===null){oe===null&&(oe=Ne);break}t&&oe&&Xr.alternate===null&&i(k,oe),O=f(Xr,O,be),je===null?le=Xr:je.sibling=Xr,je=Xr,oe=Ne}if(ze.done)return a(k,oe),Ve&&Qi(k,be),le;if(oe===null){for(;!ze.done;be++,ze=L.next())ze=Y(k,ze.value,Q),ze!==null&&(O=f(ze,O,be),je===null?le=ze:je.sibling=ze,je=ze);return Ve&&Qi(k,be),le}for(oe=o(oe);!ze.done;be++,ze=L.next())ze=B(oe,k,be,ze.value,Q),ze!==null&&(t&&ze.alternate!==null&&oe.delete(ze.key===null?be:ze.key),O=f(ze,O,be),je===null?le=ze:je.sibling=ze,je=ze);return t&&oe.forEach(function(aw){return i(k,aw)}),Ve&&Qi(k,be),le}function et(k,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===ee&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var le=L.key;O!==null;){if(O.key===le){if(le=L.type,le===ee){if(O.tag===7){a(k,O.sibling),Q=h(O,L.props.children),Q.return=k,k=Q;break e}}else if(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===T&&qs(le)===O.type){a(k,O.sibling),Q=h(O,L.props),al(Q,L),Q.return=k,k=Q;break e}a(k,O);break}else i(k,O);O=O.sibling}L.type===ee?(Q=Us(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=Ju(L.type,L.key,L.props,null,k.mode,Q),al(Q,L),Q.return=k,k=Q)}return _(k);case Z:e:{for(le=L.key;O!==null;){if(O.key===le)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(k,O.sibling),Q=h(O,L.children||[]),Q.return=k,k=Q;break e}else{a(k,O);break}else i(k,O);O=O.sibling}Q=Af(L,k.mode,Q),Q.return=k,k=Q}return _(k);case T:return L=qs(L),et(k,O,L,Q)}if(Le(L))return ae(k,O,L,Q);if(U(L)){if(le=U(L),typeof le!="function")throw Error(s(150));return L=le.call(L),fe(k,O,L,Q)}if(typeof L.then=="function")return et(k,O,rc(L),Q);if(L.$$typeof===de)return et(k,O,ec(k,L),Q);sc(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(k,O.sibling),Q=h(O,L),Q.return=k,k=Q):(a(k,O),Q=Tf(L,k.mode,Q),Q.return=k,k=Q),_(k)):a(k,O)}return function(k,O,L,Q){try{sl=0;var le=et(k,O,L,Q);return La=null,le}catch(oe){if(oe===Pa||oe===nc)throw oe;var je=vn(29,oe,null,k.mode);return je.lanes=Q,je.return=k,je}}}var Hs=Xp(!0),$p=Xp(!1),xr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Be&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=$u(t),Mp(t,null,a),i}return Xu(t,o,i,a),$u(t)}function ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Vo(t,a)}}function Uf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function ll(){if(Pf){var t=Ua;if(t!==null)throw t}}function ul(t,i,a,o){Pf=!1;var h=t.updateQueue;xr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,_===null?f=j:_.next=j,_=I;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=j:E.next=j,H.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;_=0,H=j=I=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ce&z)===z:(o&z)===z){z!==0&&z===ka&&(Pf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ae=t,fe=E;z=i;var et=a;switch(fe.tag){case 1:if(ae=fe.payload,typeof ae=="function"){Y=ae.call(et,Y,z);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=fe.payload,z=typeof ae=="function"?ae.call(et,Y,z):ae,z==null)break e;Y=b({},Y,z);break e;case 2:xr=!0}}z=E.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(j=H=B,I=Y):H=H.next=B,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),jr|=_,t.lanes=_,t.memoizedState=Y}}function Jp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Zp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jp(a[t],i)}var ja=M(null),ac=M(0);function Wp(t,i){t=ir,ne(ac,t),ne(ja,i),ir=t|i.baseLanes}function Lf(){ne(ac,ir),ne(ja,ja.current)}function jf(){ir=ac.current,X(ja),X(ac)}var En=M(null),Pn=null;function kr(t){var i=t.alternate;ne(gt,gt.current&1),ne(En,t),Pn===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(Pn=t)}function zf(t){ne(gt,gt.current),ne(En,t),Pn===null&&(Pn=t)}function ey(t){t.tag===22?(ne(gt,gt.current),ne(En,t),Pn===null&&(Pn=t)):Ur()}function Ur(){ne(gt,gt.current),ne(En,En.current)}function Tn(t){X(En),Pn===t&&(Pn=null),X(gt)}var gt=M(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Ae=null,Ze=null,wt=null,lc=!1,za=!1,Fs=!1,uc=0,cl=0,qa=null,$S=0;function ht(){throw Error(s(321))}function qf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Bf(t,i,a,o,h,f){return Xi=f,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Py:id,Fs=!1,f=a(o,h),Fs=!1,za&&(f=ny(i,a,o,h)),ty(t),f}function ty(t){G.H=dl;var i=Ze!==null&&Ze.next!==null;if(Xi=0,wt=Ze=Ae=null,lc=!1,cl=0,qa=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Wu(t)&&(Rt=!0))}function ny(t,i,a,o){Ae=t;var h=0;do{if(za&&(qa=null),cl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,wt=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Ly,f=i(a,o)}while(za);return f}function JS(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Hf(){var t=uc!==0;return uc=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lc=!1}Xi=0,wt=Ze=Ae=null,za=!1,cl=uc=0,qa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ae.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if(Ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=wt===null?Ae.memoizedState:wt.next;if(i!==null)wt=i,Ze=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},wt===null?Ae.memoizedState=wt=t:wt=wt.next=t}return wt}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=cl;return cl+=1,qa===null&&(qa=[]),t=Qp(qa,t,i),i=Ae,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Py:id),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===de)return Gt(t)}throw Error(s(438,String(t)))}function Qf(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cc(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function fc(t){var i=pt();return Kf(i,Ze,t)}function Kf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var E=_=null,I=null,j=i,H=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ce&Y)===Y:(Xi&Y)===Y){var z=j.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===ka&&(H=!0);else if((Xi&z)===z){j=j.next,z===ka&&(H=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=Y,_=f):I=I.next=Y,Ae.lanes|=z,jr|=z;Y=j.action,Fs&&a(f,Y),f=j.hasEagerState?j.eagerState:a(f,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=z,_=f):I=I.next=z,Ae.lanes|=Y,jr|=Y;j=j.next}while(j!==null&&j!==i);if(I===null?_=f:I.next=E,!_n(f,t.memoizedState)&&(Rt=!0,H&&(a=Ua,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Yf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);_n(f,i.memoizedState)||(Rt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function iy(t,i,a){var o=Ae,h=pt(),f=Ve;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,Jf(ay.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},sy.bind(null,o,h,a,i),null),tt===null)throw Error(s(349));f||(Xi&127)!==0||ry(o,i,a)}return a}function ry(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=cc(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function sy(t,i,a,o){i.value=a,i.getSnapshot=o,oy(i)&&ly(t)}function ay(t,i,a){return a(function(){oy(i)&&ly(t)})}function oy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function ly(t){var i=ks(t,2);i!==null&&dn(i,t,2)}function Xf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Fs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function uy(t,i,a,o){return t.baseState=a,Kf(t,Ze,typeof o=="function"?o:$i)}function ZS(t,i,a,o,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,cy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function cy(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=G.T,_={};G.T=_;try{var E=a(h,o),I=G.S;I!==null&&I(_,E),hy(t,i,E)}catch(j){$f(t,i,j)}finally{f!==null&&_.types!==null&&(f.types=_.types),G.T=f}}else try{f=a(h,o),hy(t,i,f)}catch(j){$f(t,i,j)}}function hy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){fy(t,i,o)},function(o){return $f(t,i,o)}):fy(t,i,a)}function fy(t,i,a){i.status="fulfilled",i.value=a,dy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cy(t,a)))}function $f(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,dy(i),i=i.next;while(i!==o)}t.action=null}function dy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function my(t,i){return i}function gy(t,i){if(Ve){var a=tt.formState;if(a!==null){e:{var o=Ae;if(Ve){if(it){t:{for(var h=it,f=Un;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=Ln(h.nextSibling),o=h.data==="F!";break e}}Dr(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},a.queue=o,a=Vy.bind(null,Ae,o),o.dispatch=a,o=Xf(!1),f=nd.bind(null,Ae,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=ZS.bind(null,Ae,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function py(t){var i=pt();return yy(i,Ze,t)}function yy(t,i,a){if(i=Kf(t,i,my)[0],t=fc($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=hl(i)}catch(_){throw _===Pa?nc:_}else o=i;i=pt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,Ba(9,{destroy:void 0},WS.bind(null,h,a),null)),[o,f,t]}function WS(t,i){t.action=i}function _y(t){var i=pt(),a=Ze;if(a!==null)return yy(i,a,t);pt(),i=i.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ba(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=cc(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function vy(){return pt().memoizedState}function dc(t,i,a,o){var h=sn();Ae.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,o===void 0?null:o)}function mc(t,i,a,o){var h=pt();o=o===void 0?null:o;var f=h.memoizedState.inst;Ze!==null&&o!==null&&qf(o,Ze.memoizedState.deps)?h.memoizedState=Ba(i,f,a,o):(Ae.flags|=t,h.memoizedState=Ba(1|i,f,a,o))}function Ey(t,i){dc(8390656,8,t,i)}function Jf(t,i){mc(2048,8,t,i)}function eb(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=cc(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ty(t){var i=pt().memoizedState;return eb({ref:i,nextImpl:t}),function(){if((Be&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ay(t,i){return mc(4,2,t,i)}function Sy(t,i){return mc(4,4,t,i)}function by(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,a){a=a!=null?a.concat([t]):null,mc(4,4,by.bind(null,i,t),a)}function Zf(){}function Ry(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&qf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Iy(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&qf(i,o[1]))return o[0];if(o=t(),Fs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[o,i],o}function Wf(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(Ce&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=C_(),Ae.lanes|=t,jr|=t,a)}function Cy(t,i,a,o){return _n(a,i)?a:ja.current!==null?(t=Wf(t,a,o),_n(t,i)||(Rt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Ce&261930)===0?(Rt=!0,t.memoizedState=a):(t=C_(),Ae.lanes|=t,jr|=t,i)}function Ny(t,i,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var _=G.T,E={};G.T=E,nd(t,!1,i,a);try{var I=h(),j=G.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=XS(I,o);fl(t,i,H,bn(t))}else fl(t,i,o,bn(t))}catch(Y){fl(t,i,{then:function(){},status:"rejected",reason:Y},bn())}finally{te.p=f,_!==null&&E.types!==null&&(_.types=E.types),G.T=_}}function tb(){}function ed(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Dy(t).queue;Ny(t,h,i,he,a===null?tb:function(){return Oy(t),a(o)})}function Dy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Oy(t){var i=Dy(t);i.next===null&&(i=t.alternate.memoizedState),fl(t,i.next.queue,{},bn())}function td(){return Gt(Nl)}function xy(){return pt().memoizedState}function My(){return pt().memoizedState}function nb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Mr(a);var o=Vr(i,t,a);o!==null&&(dn(o,i,a),ol(o,i,a)),i={cache:Df()},t.payload=i;return}i=i.return}}function ib(t,i,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?ky(i,a):(a=vf(t,i,a,o),a!==null&&(dn(a,t,o),Uy(a,i,o)))}function Vy(t,i,a){var o=bn();fl(t,i,a,o)}function fl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))ky(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,_))return Xu(t,i,h,0),tt===null&&Yu(),!1}catch{}if(a=vf(t,i,h,o),a!==null)return dn(a,t,o),Uy(a,i,o),!0}return!1}function nd(t,i,a,o){if(o={lane:2,revertLane:Vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=vf(t,a,o,2),i!==null&&dn(i,t,2)}function gc(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function ky(t,i){za=lc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Uy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Vo(t,a)}}var dl={readContext:Gt,use:hc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};dl.useEffectEvent=ht;var Py={readContext:Gt,use:hc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Ey,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,dc(4194308,4,by.bind(null,i,t),a)},useLayoutEffect:function(t,i){return dc(4194308,4,t,i)},useInsertionEffect:function(t,i){dc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(Fs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Fs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=ib.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=Vy.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=sn();return Wf(a,t,i)},useTransition:function(){var t=Xf(!1);return t=Ny.bind(null,Ae,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ae,h=sn();if(Ve){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Ce&127)!==0||ry(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Ey(ay.bind(null,o,f,t),[t]),o.flags|=2048,Ba(9,{destroy:void 0},sy.bind(null,o,f,a,i),null),a},useId:function(){var t=sn(),i=tt.identifierPrefix;if(Ve){var a=Ri,o=wi;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=uc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$S++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:gy,useActionState:gy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return sn().memoizedState=nb.bind(null,Ae)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Be&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Gt,use:hc,useCallback:Ry,useContext:Gt,useEffect:Jf,useImperativeHandle:wy,useInsertionEffect:Ay,useLayoutEffect:Sy,useMemo:Iy,useReducer:fc,useRef:vy,useState:function(){return fc($i)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=pt();return Cy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=fc($i)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:iy,useId:xy,useHostTransitionStatus:td,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=pt();return uy(a,Ze,t,i)},useMemoCache:Qf,useCacheRefresh:My};id.useEffectEvent=Ty;var Ly={readContext:Gt,use:hc,useCallback:Ry,useContext:Gt,useEffect:Jf,useImperativeHandle:wy,useInsertionEffect:Ay,useLayoutEffect:Sy,useMemo:Iy,useReducer:Yf,useRef:vy,useState:function(){return Yf($i)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=pt();return Ze===null?Wf(a,t,i):Cy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Yf($i)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:iy,useId:xy,useHostTransitionStatus:td,useFormState:_y,useActionState:_y,useOptimistic:function(t,i){var a=pt();return Ze!==null?uy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:My};Ly.useEffectEvent=Ty;function rd(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=bn(),h=Mr(o);h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,o),i!==null&&(dn(i,t,o),ol(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=bn(),h=Mr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,o),i!==null&&(dn(i,t,o),ol(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),o=Mr(a);o.tag=2,i!=null&&(o.callback=i),i=Vr(t,o,a),i!==null&&(dn(i,t,a),ol(i,t,a))}};function jy(t,i,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,o)||!Wo(h,f):!0}function zy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function Gs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function qy(t){Ku(t)}function By(t){console.error(t)}function Hy(t){Ku(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Fy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function Gy(t){return t=Mr(t),t.tag=3,t}function Qy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Fy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fy(i,a,o),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function rb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Cc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ic?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Od(t,o,h)),!1;case 22:return a.flags|=65536,o===ic?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Od(t,o,h)),!1}throw Error(s(435,a.tag))}return Od(t,o,h),Cc(),!1}if(Ve)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==wf&&(t=Error(s(422),{cause:o}),nl(Mn(t,a)))):(o!==wf&&(i=Error(s(423),{cause:o}),nl(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Mn(o,a),h=ad(t.stateNode,o,h),Uf(t,h),ft!==4&&(ft=2)),!1;var f=Error(s(520),{cause:o});if(f=Mn(f,a),Tl===null?Tl=[f]:Tl.push(f),ft!==4&&(ft=2),i===null)return!0;o=Mn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,o,t),Uf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zr===null||!zr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gy(h),Qy(h,t,a,o),Uf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),Rt=!1;function Qt(t,i,a,o){i.child=t===null?$p(i,null,a,o):Hs(i,t.child,a,o)}function Ky(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return js(i),o=Bf(t,i,a,_,f,h),E=Hf(),t!==null&&!Rt?(Ff(t,i,h),Ji(t,i,h)):(Ve&&E&&Sf(i),i.flags|=1,Qt(t,i,o,h),i.child)}function Yy(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Ef(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Xy(t,i,f,o,h)):(t=Ju(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!gd(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,o)&&t.ref===i.ref)return Ji(t,i,h)}return i.flags|=1,t=Gi(f,o),t.ref=i.ref,t.return=i,i.child=t}function Xy(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(Wo(f,o)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=o=f,gd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Ji(t,i,h)}return ld(t,i,a,o,h)}function $y(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Jy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(i,f!==null?f.cachePool:null),f!==null?Wp(i,f):Lf(),ey(i);else return o=i.lanes=536870912,Jy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(tc(i,f.cachePool),Wp(i,f),Ur(),i.memoizedState=null):(t!==null&&tc(i,null),Lf(),Ur());return Qt(t,i,h,a),i.child}function ml(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Jy(t,i,a,o,h){var f=xf();return f=f===null?null:{parent:bt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&tc(i,null),Lf(),ey(i),t!==null&&Va(t,i,o,!0),i.childLanes=h,null}function yc(t,i){return i=vc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Zy(t,i,a){return Hs(i,t.child,null,a),t=yc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function sb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ve){if(o.mode==="hidden")return t=yc(i,o),i.lanes=536870912,ml(null,t);if(zf(i),(t=it)?(t=cv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=kp(t),a.return=i,i.child=a,Ft=i,it=null)):t=null,t===null)throw Dr(i);return i.lanes=536870912,null}return yc(i,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=Zy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Va(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(o=tt,o!==null&&(_=ko(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,ks(t,_),dn(o,t,_),od;Cc(),i=Zy(t,i,a)}else t=f.treeContext,it=Ln(_.nextSibling),Ft=i,Ve=!0,Nr=null,Un=!1,t!==null&&Lp(i,t),i=yc(i,o),i.flags|=4096;return i}return t=Gi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function _c(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,o,h){return js(i),a=Bf(t,i,a,o,void 0,h),o=Hf(),t!==null&&!Rt?(Ff(t,i,h),Ji(t,i,h)):(Ve&&o&&Sf(i),i.flags|=1,Qt(t,i,a,h),i.child)}function Wy(t,i,a,o,h,f){return js(i),i.updateQueue=null,a=ny(i,o,a,h),ty(t),o=Hf(),t!==null&&!Rt?(Ff(t,i,f),Ji(t,i,f)):(Ve&&o&&Sf(i),i.flags|=1,Qt(t,i,a,f),i.child)}function e_(t,i,a,o,h){if(js(i),i.stateNode===null){var f=Da,_=a.contextType;typeof _=="object"&&_!==null&&(f=Gt(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Vf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Gt(_):Da,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&sd.enqueueReplaceState(f,f.state,null),ul(i,o,f,h),ll(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var E=i.memoizedProps,I=Gs(a,E);f.props=I;var j=f.context,H=a.contextType;_=Da,typeof H=="object"&&H!==null&&(_=Gt(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==_)&&zy(i,f,o,_),xr=!1;var z=i.memoizedState;f.state=z,ul(i,o,f,h),ll(),j=i.memoizedState,E||z!==j||xr?(typeof Y=="function"&&(rd(i,a,Y,o),j=i.memoizedState),(I=xr||jy(i,a,I,o,z,j,_))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=_,o=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,kf(t,i),_=i.memoizedProps,H=Gs(a,_),f.props=H,Y=i.pendingProps,z=f.context,j=a.contextType,I=Da,typeof j=="object"&&j!==null&&(I=Gt(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Y||z!==I)&&zy(i,f,o,I),xr=!1,z=i.memoizedState,f.state=z,ul(i,o,f,h),ll();var B=i.memoizedState;_!==Y||z!==B||xr||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof E=="function"&&(rd(i,a,E,o),B=i.memoizedState),(H=xr||jy(i,a,H,o,z,B,I)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=I,o=H):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,_c(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Hs(i,t.child,null,h),i.child=Hs(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=Ji(t,i,h),t}function t_(t,i,a,o){return Ps(),i.flags|=256,Qt(t,i,a,o),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Fp()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function n_(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ve){if(h?kr(i):Ur(),(t=it)?(t=cv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=kp(t),a.return=i,i.child=a,Ft=i,it=null)):t=null,t===null)throw Dr(i);return Kd(t)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ur(),h=i.mode,E=vc({mode:"hidden",children:E},h),o=Us(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=cd(a),o.childLanes=hd(t,_,a),i.memoizedState=ud,ml(null,o)):(kr(i),fd(i,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)i.flags&256?(kr(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(Ur(),i.child=t.child,i.flags|=128,i=null):(Ur(),E=o.fallback,h=i.mode,o=vc({mode:"visible",children:o.children},h),E=Us(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Hs(i,t.child,null,a),o=i.child,o.memoizedState=cd(a),o.childLanes=hd(t,_,a),i.memoizedState=ud,i=ml(null,o));else if(kr(i),Kd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(s(419)),o.stack="",o.digest=_,nl({value:o,source:null,stack:null}),i=dd(t,i,a)}else if(Rt||Va(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=tt,_!==null&&(o=ko(_,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,ks(t,o),dn(_,t,o),od;Qd(E)||Cc(),i=dd(t,i,a)}else Qd(E)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,it=Ln(E.nextSibling),Ft=i,Ve=!0,Nr=null,Un=!1,t!==null&&Lp(i,t),i=fd(i,o.children),i.flags|=4096);return i}return h?(Ur(),E=o.fallback,h=i.mode,I=t.child,j=I.sibling,o=Gi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=Gi(j,E):(E=Us(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,ml(null,o),o=i.child,E=t.child.memoizedState,E===null?E=cd(a):(h=E.cachePool,h!==null?(I=bt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Fp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=hd(t,_,a),i.memoizedState=ud,ml(t.child,o)):(kr(i),a=t.child,t=a.sibling,a=Gi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function vc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return Hs(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function i_(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Cf(t.return,i,a)}function md(t,i,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function r_(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=gt.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,ne(gt,_),Qt(t,i,o,a),o=Ve?tl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i_(t,a,i);else if(t.tag===19)i_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,f,o);break;case"together":md(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Ji(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Gi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Gi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function gd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function ab(t,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),Or(i,bt,t.memoizedState.cache),Ps();break;case 27:case 5:ys(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?n_(t,i,a):(kr(i),t=Ji(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Va(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return r_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(gt,gt.current),o)break;return null;case 22:return i.lanes=0,$y(t,i,a,i.pendingProps);case 24:Or(i,bt,t.memoizedState.cache)}return Ji(t,i,a)}function s_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!gd(t,a)&&(i.flags&128)===0)return Rt=!1,ab(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ve&&(i.flags&1048576)!==0&&Pp(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Ef(t)?(o=Gs(t,o),i.tag=1,i=e_(null,i,t,o,a)):(i.tag=0,i=ld(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===He){i.tag=11,i=Ky(null,i,t,o,a);break e}else if(h===C){i.tag=14,i=Yy(null,i,t,o,a);break e}}throw i=Ie(t)||t,Error(s(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Gs(o,i.pendingProps),e_(t,i,o,h,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,kf(t,i),ul(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Or(i,bt,o),o!==f.cache&&Nf(i,[bt],a,!0),ll(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=t_(t,i,o,a);break e}else if(o!==h){h=Mn(Error(s(424)),i),nl(h),i=t_(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=Ln(t.firstChild),Ft=i,Ve=!0,Nr=null,Un=!0,a=$p(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ps(),o===h){i=Ji(t,i,a);break e}Qt(t,i,o,a)}i=i.child}return i;case 26:return _c(t,i),t===null?(a=pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ve||(a=i.type,t=i.pendingProps,o=kc(Se.current).createElement(a),o[Tt]=i,o[Lt]=t,Kt(o,a,t),At(o),i.stateNode=o):i.memoizedState=pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ys(i),t===null&&Ve&&(o=i.stateNode=dv(i.type,i.pendingProps,Se.current),Ft=i,Un=!0,h=it,Fr(i.type)?(Yd=h,it=Ln(o.firstChild)):it=h),Qt(t,i,i.pendingProps.children,a),_c(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ve&&((h=o=it)&&(o=Ub(o,i.type,i.pendingProps,Un),o!==null?(i.stateNode=o,Ft=i,it=Ln(o.firstChild),Un=!1,h=!0):h=!1),h||Dr(i)),ys(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Hd(h,f)?o=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Bf(t,i,JS,null,null,a),Nl._currentValue=h),_c(t,i),Qt(t,i,o,a),i.child;case 6:return t===null&&Ve&&((t=a=it)&&(a=Pb(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ft=i,it=null,t=!0):t=!1),t||Dr(i)),null;case 13:return n_(t,i,a);case 4:return xt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Hs(i,null,o,a):Qt(t,i,o,a),i.child;case 11:return Ky(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Or(i,i.type,o.value),Qt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,js(i),h=Gt(h),o=o(h),i.flags|=1,Qt(t,i,o,a),i.child;case 14:return Yy(t,i,i.type,i.pendingProps,a);case 15:return Xy(t,i,i.type,i.pendingProps,a);case 19:return r_(t,i,a);case 31:return sb(t,i,a);case 22:return $y(t,i,a,i.pendingProps);case 24:return js(i),o=Gt(bt),t===null?(h=xf(),h===null&&(h=tt,f=Df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Vf(i),Or(i,bt,h)):((t.lanes&a)!==0&&(kf(t,i),ul(i,null,null,a),ll()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,bt,o)):(o=f.cache,Or(i,bt,o),o!==h.cache&&Nf(i,[bt],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function pd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(x_())t.flags|=8192;else throw Bs=ic,Mf}else t.flags&=-16777217}function a_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tv(i))if(x_())t.flags|=8192;else throw Bs=ic,Mf}function Ec(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ru():536870912,t.lanes|=i,Qa|=i)}function gl(t,i){if(!Ve)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function ob(t,i,a){var o=i.pendingProps;switch(bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Yi(bt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),rt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(Zi(i),f!==null?(rt(i),a_(i,f)):(rt(i),pd(i,h,null,o,a))):f?f!==t.memoizedState?(Zi(i),rt(i),a_(i,f)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Zi(i),rt(i),pd(i,h,t,o,a)),null;case 27:if(ha(i),a=Se.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Zi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=se.current,Ma(i)?jp(i):(t=dv(h,o,a),i.stateNode=t,Zi(i))}return rt(i),null;case 5:if(ha(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Zi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(f=se.current,Ma(i))jp(i);else{var _=kc(Se.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Tt]=i,f[Lt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Kt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Zi(i)}}return rt(i),pd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Zi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||nv(t.nodeValue,a)),t||Dr(i,!0)}else t=kc(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ec(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&Ld(i.stateNode.containerInfo),rt(i),null;case 10:return Yi(i.type),rt(i),null;case 19:if(X(gt),o=i.memoizedState,o===null)return rt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)gl(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=oc(t),f!==null){for(i.flags|=128,gl(o,!1),t=f.updateQueue,i.updateQueue=t,Ec(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Vp(a,t),a=a.sibling;return ne(gt,gt.current&1|2),Ve&&Qi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&nn()>wc&&(i.flags|=128,h=!0,gl(o,!1),i.lanes=4194304)}else{if(!h)if(t=oc(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ec(i,t),gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ve)return rt(i),null}else 2*nn()-o.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,h=!0,gl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=gt.current,ne(gt,h?a&1|2:a&1),Ve&&Qi(i,o.treeForkCount),t):(rt(i),null);case 22:case 23:return Tn(i),jf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Ec(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&X(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(bt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lb(t,i){switch(bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(bt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ha(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(gt),null;case 4:return at(),null;case 10:return Yi(i.type),null;case 22:case 23:return Tn(i),jf(),t!==null&&X(zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(bt),null;case 25:return null;default:return null}}function o_(t,i){switch(bf(i),i.tag){case 3:Yi(bt),at();break;case 26:case 27:case 5:ha(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:X(gt);break;case 10:Yi(i.type);break;case 22:case 23:Tn(i),jf(),t!==null&&X(zs);break;case 24:Yi(bt)}}function pl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Xe(i,i.return,E)}}function Pr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var I=a,j=E;try{j()}catch(H){Xe(h,I,H)}}}o=o.next}while(o!==f)}}catch(H){Xe(i,i.return,H)}}function l_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Zp(i,a)}catch(o){Xe(t,t.return,o)}}}function u_(t,i,a){a.props=Gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,i,o)}}function yl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Xe(t,i,h)}}function Ii(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function c_(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function yd(t,i,a){try{var o=t.stateNode;Db(o,t.type,a,i),o[Lt]=i}catch(h){Xe(t,t.return,h)}}function h_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(o!==4&&(o===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function Tc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}function f_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,o,a),i[Tt]=t,i[Lt]=a}catch(f){Xe(t,t.return,f)}}var Wi=!1,It=!1,Ed=!1,d_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function ub(t,i){if(t=t.containerInfo,qd=Bc,t=wp(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,I=-1,j=0,H=0,Y=t,z=null;t:for(;;){for(var B;Y!==a||h!==0&&Y.nodeType!==3||(E=_+h),Y!==f||o!==0&&Y.nodeType!==3||(I=_+o),Y.nodeType===3&&(_+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===t)break t;if(z===a&&++j===h&&(E=_),z===f&&++H===o&&(I=_),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:t,selectionRange:a},Bc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ae=Gs(a.type,h);t=o.getSnapshotBeforeUpdate(ae,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(fe){Xe(a,a.return,fe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function m_(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),o&4&&pl(5,a);break;case 1:if(tr(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Gs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}o&64&&l_(a),o&512&&yl(a,a.return);break;case 3:if(tr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zp(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&o&4&&f_(a);case 26:case 5:tr(t,a),i===null&&o&4&&c_(a),o&512&&yl(a,a.return);break;case 12:tr(t,a);break;case 31:tr(t,a),o&4&&y_(t,a);break;case 13:tr(t,a),o&4&&__(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_b.bind(null,a),Lb(t,a))));break;case 22:if(o=a.memoizedState!==null||Wi,!o){i=i!==null&&i.memoizedState!==null||It,h=Wi;var f=It;Wi=o,(It=i)&&!f?nr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Wi=h,It=f}break;case 30:break;default:tr(t,a)}}function g_(t){var i=t.alternate;i!==null&&(t.alternate=null,g_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function er(t,i,a){for(a=a.child;a!==null;)p_(t,i,a),a=a.sibling}function p_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:It||Ii(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ii(a,i);var o=lt,h=un;Fr(a.type)&&(lt=a.stateNode,un=!1),er(t,i,a),Rl(a.stateNode),lt=o,un=h;break;case 5:It||Ii(a,i);case 6:if(o=lt,h=un,lt=null,er(t,i,a),lt=o,un=h,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Xe(a,i,f)}else try{lt.removeChild(a.stateNode)}catch(f){Xe(a,i,f)}break;case 18:lt!==null&&(un?(t=lt,lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):lv(lt,a.stateNode));break;case 4:o=lt,h=un,lt=a.stateNode.containerInfo,un=!0,er(t,i,a),lt=o,un=h;break;case 0:case 11:case 14:case 15:Pr(2,a,i),It||Pr(4,a,i),er(t,i,a);break;case 1:It||(Ii(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&u_(a,i,o)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:It=(o=It)||a.memoizedState!==null,er(t,i,a),It=o;break;default:er(t,i,a)}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(a){Xe(i,i.return,a)}}}function __(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){Xe(i,i.return,a)}}function cb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new d_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new d_),i;default:throw Error(s(435,t.tag))}}function Ac(t,i){var a=cb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=vb.bind(null,t,o);o.then(h,h)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Fr(E.type)){lt=E.stateNode,un=!1;break e}break;case 5:lt=E.stateNode,un=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(lt===null)throw Error(s(160));p_(f,_,h),lt=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)v_(i,t),i=i.sibling}var ei=null;function v_(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),o&4&&(Pr(3,t,t.return),pl(3,t),Pr(5,t,t.return));break;case 1:cn(i,t),hn(t),o&512&&(It||a===null||Ii(a,a.return)),o&64&&Wi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ei;if(cn(i,t),hn(t),o&512&&(It||a===null||Ii(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Kt(f,o,a),f[Tt]=t,At(f),o=f;break e;case"link":var _=vv("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=vv("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Tt]=t,At(f),o=f}t.stateNode=o}else Ev(h,t.type,t.stateNode);else t.stateNode=_v(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Ev(h,t.type,t.stateNode):_v(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),o&512&&(It||a===null||Ii(a,a.return)),a!==null&&o&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),o&512&&(It||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(ae){Xe(t,t.return,ae)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Ed=!0);break;case 6:if(cn(i,t),hn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ae){Xe(t,t.return,ae)}}break;case 3:if(Lc=null,h=ei,ei=Uc(i.containerInfo),cn(i,t),ei=h,hn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(ae){Xe(t,t.return,ae)}Ed&&(Ed=!1,E_(t));break;case 4:o=ei,ei=Uc(t.stateNode.containerInfo),cn(i,t),hn(t),ei=o;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ac(t,o)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ac(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Wi,H=It;if(Wi=j||h,It=H||I,cn(i,t),It=H,Wi=j,hn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Wi||It||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(f=I.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ae){Xe(I,I.return,ae)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ae){Xe(I,I.return,ae)}}}else if(i.tag===18){if(a===null){I=i;try{var B=I.stateNode;h?uv(B,!0):uv(I.stateNode,!1)}catch(ae){Xe(I,I.return,ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ac(t,a))));break;case 19:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ac(t,o)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(h_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=_d(t);Tc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var E=_d(t);Tc(t,E,_);break;case 3:case 4:var I=a.stateNode.containerInfo,j=_d(t);vd(t,j,I);break;default:throw Error(s(161))}}catch(H){Xe(t,t.return,H)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function E_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;E_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)m_(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Qs(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&u_(i,i.return,a),Qs(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ii(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function nr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:nr(h,f,a),pl(4,f);break;case 1:if(nr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Xe(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Jp(I[h],E)}catch(j){Xe(o,o.return,j)}}a&&_&64&&l_(f),yl(f,f.return);break;case 27:f_(f);case 26:case 5:nr(h,f,a),a&&o===null&&_&4&&c_(f),yl(f,f.return);break;case 12:nr(h,f,a);break;case 31:nr(h,f,a),a&&_&4&&y_(h,f);break;case 13:nr(h,f,a),a&&_&4&&__(h,f);break;case 22:f.memoizedState===null&&nr(h,f,a),yl(f,f.return);break;case 30:break;default:nr(h,f,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function Ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t))}function ti(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T_(t,i,a,o),i=i.sibling}function T_(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,o),h&2048&&pl(9,i);break;case 1:ti(t,i,a,o);break;case 3:ti(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){ti(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(i,i.return,I)}}else ti(t,i,a,o);break;case 31:ti(t,i,a,o);break;case 13:ti(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?ti(t,i,a,o):_l(t,i):f._visibility&2?ti(t,i,a,o):(f._visibility|=2,Ha(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:ti(t,i,a,o),h&2048&&Ad(i.alternate,i);break;default:ti(t,i,a,o)}}function Ha(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,E=a,I=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(f,_,E,I,h),pl(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?Ha(f,_,E,I,h):_l(f,_):(H._visibility|=2,Ha(f,_,E,I,h)),h&&j&2048&&Td(_.alternate,_);break;case 24:Ha(f,_,E,I,h),h&&j&2048&&Ad(_.alternate,_);break;default:Ha(f,_,E,I,h)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:_l(a,o),h&2048&&Td(o.alternate,o);break;case 24:_l(a,o),h&2048&&Ad(o.alternate,o);break;default:_l(a,o)}i=i.sibling}}var vl=8192;function Fa(t,i,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)A_(t,i,a),t=t.sibling}function A_(t,i,a){switch(t.tag){case 26:Fa(t,i,a),t.flags&vl&&t.memoizedState!==null&&$b(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,i,a);break;case 3:case 4:var o=ei;ei=Uc(t.stateNode.containerInfo),Fa(t,i,a),ei=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=vl,vl=16777216,Fa(t,i,a),vl=o):Fa(t,i,a));break;default:Fa(t,i,a)}}function S_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];zt=o,w_(o,t)}S_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)b_(t),t=t.sibling}function b_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):El(t);break;default:El(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];zt=o,w_(o,t)}S_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function w_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:il(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,zt=o;else e:for(a=t;zt!==null;){o=zt;var h=o.sibling,f=o.return;if(g_(o),o===a){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var hb={getCacheForType:function(t){var i=Gt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(bt).controller.signal}},fb=typeof WeakMap=="function"?WeakMap:Map,Be=0,tt=null,we=null,Ce=0,Ye=0,An=null,Lr=!1,Ga=!1,Sd=!1,ir=0,ft=0,jr=0,Ks=0,bd=0,Sn=0,Qa=0,Tl=null,fn=null,wd=!1,bc=0,R_=0,wc=1/0,Rc=null,zr=null,Vt=0,qr=null,Ka=null,rr=0,Rd=0,Id=null,I_=null,Al=0,Cd=null;function bn(){return(Be&2)!==0&&Ce!==0?Ce&-Ce:G.T!==null?Vd():Iu()}function C_(){if(Sn===0)if((Ce&536870912)===0||Ve){var t=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function dn(t,i,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Br(t,Ce,Sn,!1)),Ts(t,a),((Be&2)===0||t!==tt)&&(t===tt&&((Be&2)===0&&(Ks|=a),ft===4&&Br(t,Ce,Sn,!1)),Ci(t))}function N_(t,i,a){if((Be&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=o?gb(t,i):Dd(t,i,!0),f=o;do{if(h===0){Ga&&!o&&Br(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!db(a)){h=Dd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=t;h=Tl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ya(E,_).flags|=256),_=Dd(E,_,!1),_!==2){if(Sd&&!I){E.errorRecoveryDisabledLanes|=f,Ks|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ya(t,0),Br(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(o,i,Sn,!Lr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bc+300-nn(),10<h)){if(Br(o,i,Sn,!Lr),ci(o,0,!0)!==0)break e;rr=i,o.timeoutHandle=av(D_.bind(null,o,a,fn,Rc,wd,i,Sn,Ks,Qa,Lr,f,"Throttled",-0,0),h);break e}D_(o,a,fn,Rc,wd,i,Sn,Ks,Qa,Lr,f,null,-0,0)}}break}while(!0);Ci(t)}function D_(t,i,a,o,h,f,_,E,I,j,H,Y,z,B){if(t.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},A_(i,f,Y);var ae=(f&62914560)===f?bc-nn():(f&4194048)===f?R_-nn():0;if(ae=Jb(Y,ae),ae!==null){rr=f,t.cancelPendingCommit=ae(L_.bind(null,t,i,f,a,o,h,_,E,I,H,Y,null,z,B)),Br(t,f,_,!j);return}}L_(t,i,f,a,o,h,_,E,I)}function db(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,a,o){i&=~bd,i&=~Ks,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-dt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&As(t,a,i)}function Ic(){return(Be&6)===0?(Sl(0),!1):!0}function Nd(){if(we!==null){if(Ye===0)var t=we.return;else t=we,Ki=Ls=null,Gf(t),La=null,sl=0,t=we;for(;t!==null;)o_(t.alternate,t),t=t.return;we=null}}function Ya(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Mb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rr=0,Nd(),tt=t,we=a=Gi(t.current,null),Ce=i,Ye=0,An=null,Lr=!1,Ga=Gn(t,i),Sd=!1,Qa=Sn=bd=Ks=jr=ft=0,fn=Tl=null,wd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-dt(o),f=1<<h;i|=t[h],o&=~f}return ir=i,Yu(),a}function O_(t,i){Ae=null,G.H=dl,i===Pa||i===nc?(i=Kp(),Ye=3):i===Mf?(i=Kp(),Ye=4):Ye=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,we===null&&(ft=1,pc(t,Mn(i,t.current)))}function x_(){var t=En.current;return t===null?!0:(Ce&4194048)===Ce?Pn===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?t===Pn:!1}function M_(){var t=G.H;return G.H=dl,t===null?dl:t}function V_(){var t=G.A;return G.A=hb,t}function Cc(){ft=4,Lr||(Ce&4194048)!==Ce&&En.current!==null||(Ga=!0),(jr&134217727)===0&&(Ks&134217727)===0||tt===null||Br(tt,Ce,Sn,!1)}function Dd(t,i,a){var o=Be;Be|=2;var h=M_(),f=V_();(tt!==t||Ce!==i)&&(Rc=null,Ya(t,i)),i=!1;var _=ft;e:do try{if(Ye!==0&&we!==null){var E=we,I=An;switch(Ye){case 8:Nd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var j=Ye;if(Ye=0,An=null,Xa(t,E,I,j),a&&Ga){_=0;break e}break;default:j=Ye,Ye=0,An=null,Xa(t,E,I,j)}}mb(),_=ft;break}catch(H){O_(t,H)}while(!0);return i&&t.shellSuspendCounter++,Ki=Ls=null,Be=o,G.H=h,G.A=f,we===null&&(tt=null,Ce=0,Yu()),_}function mb(){for(;we!==null;)k_(we)}function gb(t,i){var a=Be;Be|=2;var o=M_(),h=V_();tt!==t||Ce!==i?(Rc=null,wc=nn()+500,Ya(t,i)):Ga=Gn(t,i);e:do try{if(Ye!==0&&we!==null){i=we;var f=An;t:switch(Ye){case 1:Ye=0,An=null,Xa(t,i,f,1);break;case 2:case 9:if(Gp(f)){Ye=0,An=null,U_(i);break}i=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),Ci(t)},f.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Gp(f)?(Ye=0,An=null,U_(i)):(Ye=0,An=null,Xa(t,i,f,7));break;case 5:var _=null;switch(we.tag){case 26:_=we.memoizedState;case 5:case 27:var E=we;if(_?Tv(_):E.stateNode.complete){Ye=0,An=null;var I=E.sibling;if(I!==null)we=I;else{var j=E.return;j!==null?(we=j,Nc(j)):we=null}break t}}Ye=0,An=null,Xa(t,i,f,5);break;case 6:Ye=0,An=null,Xa(t,i,f,6);break;case 8:Nd(),ft=6;break e;default:throw Error(s(462))}}pb();break}catch(H){O_(t,H)}while(!0);return Ki=Ls=null,G.H=o,G.A=h,Be=a,we!==null?0:(tt=null,Ce=0,Yu(),ft)}function pb(){for(;we!==null&&!af();)k_(we)}function k_(t){var i=s_(t.alternate,t,ir);t.memoizedProps=t.pendingProps,i===null?Nc(t):we=i}function U_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Wy(a,i,i.pendingProps,i.type,void 0,Ce);break;case 11:i=Wy(a,i,i.pendingProps,i.type.render,i.ref,Ce);break;case 5:Gf(i);default:o_(a,i),i=we=Vp(i,ir),i=s_(a,i,ir)}t.memoizedProps=t.pendingProps,i===null?Nc(t):we=i}function Xa(t,i,a,o){Ki=Ls=null,Gf(i),La=null,sl=0;var h=i.return;try{if(rb(t,h,i,a,Ce)){ft=1,pc(t,Mn(a,t.current)),we=null;return}}catch(f){if(h!==null)throw we=h,f;ft=1,pc(t,Mn(a,t.current)),we=null;return}i.flags&32768?(Ve||o===1?t=!0:Ga||(Ce&536870912)!==0?t=!1:(Lr=t=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),P_(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){P_(i,Lr);return}t=i.return;var a=ob(i.alternate,i,ir);if(a!==null){we=a;return}if(i=i.sibling,i!==null){we=i;return}we=i=t}while(i!==null);ft===0&&(ft=5)}function P_(t,i){do{var a=lb(t.alternate,t);if(a!==null){a.flags&=32767,we=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){we=t;return}we=t=a}while(t!==null);ft=6,we=null}function L_(t,i,a,o,h,f,_,E,I){t.cancelPendingCommit=null;do Dc();while(Vt!==0);if((Be&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=_f,uf(t,a,f,_,E,I),t===tt&&(we=tt=null,Ce=0),Ka=i,qr=t,rr=a,Rd=f,Id=h,I_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Eb(_r,function(){return H_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=te.p,te.p=2,_=Be,Be|=4;try{ub(t,i,a)}finally{Be=_,te.p=h,G.T=o}}Vt=1,j_(),z_(),q_()}}function j_(){if(Vt===1){Vt=0;var t=qr,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=Be;Be|=4;try{v_(i,t);var f=Bd,_=wp(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&bp(E.ownerDocument.documentElement,E)){if(I!==null&&df(E)){var j=I.start,H=I.end;if(H===void 0&&(H=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),ae=E.textContent.length,fe=Math.min(I.start,ae),et=I.end===void 0?fe:Math.min(I.end,ae);!B.extend&&fe>et&&(_=et,et=fe,fe=_);var k=Sp(E,fe),O=Sp(E,et);if(k&&O&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),B.removeAllRanges(),fe>et?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Bc=!!qd,Bd=qd=null}finally{Be=h,te.p=o,G.T=a}}t.current=i,Vt=2}}function z_(){if(Vt===2){Vt=0;var t=qr,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=Be;Be|=4;try{m_(t,i.alternate,i)}finally{Be=h,te.p=o,G.T=a}}Vt=3}}function q_(){if(Vt===4||Vt===3){Vt=0,Eu();var t=qr,i=Ka,a=rr,o=I_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ka=qr=null,B_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),qi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=te.p,te.p=2,G.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{G.T=i,te.p=h}}(rr&3)!==0&&Dc(),Ci(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Cd?Al++:(Al=0,Cd=t):Al=0,Sl(0)}}function B_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,il(i)))}function Dc(){return j_(),z_(),q_(),H_()}function H_(){if(Vt!==5)return!1;var t=qr,i=Rd;Rd=0;var a=qi(rr),o=G.T,h=te.p;try{te.p=32>a?32:a,G.T=null,a=Id,Id=null;var f=qr,_=rr;if(Vt=0,Ka=qr=null,rr=0,(Be&6)!==0)throw Error(s(331));var E=Be;if(Be|=4,b_(f.current),T_(f,f.current,_,a),Be=E,Sl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{te.p=h,G.T=o,B_(t,i)}}function F_(t,i,a){i=Mn(a,i),i=ad(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(Ts(t,2),Ci(t))}function Xe(t,i,a){if(t.tag===3)F_(t,t,a);else for(;i!==null;){if(i.tag===3){F_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zr===null||!zr.has(o))){t=Mn(a,t),a=Gy(2),o=Vr(i,a,2),o!==null&&(Qy(a,o,i,t),Ts(o,2),Ci(o));break}}i=i.return}}function Od(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new fb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Sd=!0,h.add(a),t=yb.bind(null,t,i,a),i.then(t,t))}function yb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Ce&a)===a&&(ft===4||ft===3&&(Ce&62914560)===Ce&&300>nn()-bc?(Be&2)===0&&Ya(t,0):bd|=a,Qa===Ce&&(Qa=0)),Ci(t)}function G_(t,i){i===0&&(i=Ru()),t=ks(t,i),t!==null&&(Ts(t,i),Ci(t))}function _b(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),G_(t,a)}function vb(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),G_(t,a)}function Eb(t,i){return Mt(t,i)}var Oc=null,$a=null,xd=!1,xc=!1,Md=!1,Hr=0;function Ci(t){t!==$a&&t.next===null&&($a===null?Oc=$a=t:$a=$a.next=t),xc=!0,xd||(xd=!0,Ab())}function Sl(t,i){if(!Md&&xc){Md=!0;do for(var a=!1,o=Oc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,X_(o,f))}else f=Ce,f=ci(o,o===tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gn(o,f)||(a=!0,X_(o,f));o=o.next}while(a);Md=!1}}function Tb(){Q_()}function Q_(){xc=xd=!1;var t=0;Hr!==0&&xb()&&(t=Hr);for(var i=nn(),a=null,o=Oc;o!==null;){var h=o.next,f=K_(o,i);f===0?(o.next=null,a===null?Oc=h:a.next=h,h===null&&($a=a)):(a=o,(t!==0||(f&3)!==0)&&(xc=!0)),o=h}Vt!==0&&Vt!==5||Sl(t),Hr!==0&&(Hr=0)}function K_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-dt(f),E=1<<_,I=h[_];I===-1?((E&a)===0||(E&o)!==0)&&(h[_]=lf(E,i)):I<=i&&(t.expiredLanes|=E),f&=~E}if(i=tt,a=Ce,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&yr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&yr(o),qi(a)){case 2:case 8:a=Mo;break;case 32:a=_r;break;case 268435456:a=Tu;break;default:a=_r}return o=Y_.bind(null,t),a=Mt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&yr(o),t.callbackPriority=2,t.callbackNode=null,2}function Y_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var o=Ce;return o=ci(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(N_(t,o,i),K_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Y_.bind(null,t):null)}function X_(t,i){if(Dc())return null;N_(t,i,!0)}function Ab(){Vb(function(){(Be&6)!==0?Mt(xo,Tb):Q_()})}function Vd(){if(Hr===0){var t=ka;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Hr=t}return Hr}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function J_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Sb(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=$_((h[Lt]||null).action),_=o.submitter;_&&(i=(i=_[Lt]||null)?$_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new Ti("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hr!==0){var I=_?J_(h,_):new FormData(h);ed(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=_?J_(h,_):new FormData(h),ed(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var Ud=yf[kd],bb=Ud.toLowerCase(),wb=Ud[0].toUpperCase()+Ud.slice(1);Wn(bb,"on"+wb)}Wn(Cp,"onAnimationEnd"),Wn(Np,"onAnimationIteration"),Wn(Dp,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(qS,"onTransitionRun"),Wn(BS,"onTransitionStart"),Wn(HS,"onTransitionCancel"),Wn(Op,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function Z_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(H){Ku(H)}h.currentTarget=null,f=I}else for(_=0;_<o.length;_++){if(E=o[_],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(H){Ku(H)}h.currentTarget=null,f=I}}}}function Re(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var o=t+"__bubble";a.has(o)||(W_(i,t,2,!1),a.add(o))}function Pd(t,i,a){var o=0;i&&(o|=4),W_(a,t,o,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Mc]){t[Mc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(Rb.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,Pd("selectionchange",!1,i))}}function W_(t,i,a,o){switch(Cv(i)){case 2:var h=ew;break;case 8:h=tw;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=mi(E),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=f=_;continue e}E=E.parentNode}}o=o.return}br(function(){var j=f,H=Nn(a),Y=[];e:{var z=xp.get(t);if(z!==void 0){var B=Ti,ae=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":B=Fu;break;case"focusin":ae="focus",B=Os;break;case"focusout":ae="blur",B=Os;break;case"beforeblur":case"afterblur":B=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case Cp:case Np:case Dp:B=Pu;break;case Op:B=S;break;case"scroll":case"scrollend":B=Yo;break;case"wheel":B=q;break;case"copy":case"cut":case"paste":B=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Fi;break;case"toggle":case"beforetoggle":B=Te}var fe=(i&4)!==0,et=!fe&&(t==="scroll"||t==="scrollend"),k=fe?z!==null?z+"Capture":null:z;fe=[];for(var O=j,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=Xn(O,k),Q!=null&&fe.push(wl(O,Q,L))),et)break;O=O.return}0<fe.length&&(z=new B(z,ae,null,a,H),Y.push({event:z,listeners:fe}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&a!==Go&&(ae=a.relatedTarget||a.fromElement)&&(mi(ae)||ae[fi]))break e;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ae=a.relatedTarget||a.toElement,B=j,ae=ae?mi(ae):null,ae!==null&&(et=u(ae),fe=ae.tag,ae!==et||fe!==5&&fe!==27&&fe!==6)&&(ae=null)):(B=null,ae=j),B!==ae)){if(fe=Xo,Q="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(fe=Fi,Q="onPointerLeave",k="onPointerEnter",O="pointer"),et=B==null?z:pn(B),L=ae==null?z:pn(ae),z=new fe(Q,O+"leave",B,a,H),z.target=et,z.relatedTarget=L,Q=null,mi(H)===j&&(fe=new fe(k,O+"enter",ae,a,H),fe.target=L,fe.relatedTarget=et,Q=fe),et=Q,B&&ae)t:{for(fe=Ib,k=B,O=ae,L=0,Q=k;Q;Q=fe(Q))L++;Q=0;for(var le=O;le;le=fe(le))Q++;for(;0<L-Q;)k=fe(k),L--;for(;0<Q-L;)O=fe(O),Q--;for(;L--;){if(k===O||O!==null&&k===O.alternate){fe=k;break t}k=fe(k),O=fe(O)}fe=null}else fe=null;B!==null&&ev(Y,z,B,fe,!1),ae!==null&&et!==null&&ev(Y,et,ae,fe,!0)}}e:{if(z=j?pn(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var je=yp;else if(gp(z))if(_p)je=LS;else{je=US;var oe=kS}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&va(j.elementType)&&(je=yp):je=PS;if(je&&(je=je(t,j))){pp(Y,je,a,H);break e}oe&&oe(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Bo(z,"number",z.value)}switch(oe=j?pn(j):window,t){case"focusin":(gp(oe)||oe.contentEditable==="true")&&(Ia=oe,mf=j,el=null);break;case"focusout":el=mf=Ia=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Rp(Y,a,H);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Rp(Y,a,H)}var be;if(qe)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ra?xs(t,a)&&(Ne="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(bi&&a.locale!=="ko"&&(Ra||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ra&&(be=Ko()):(Ei=H,Qo="value"in Ei?Ei.value:Ei.textContent,Ra=!0)),oe=Vc(j,Ne),0<oe.length&&(Ne=new Si(Ne,t,null,a,H),Y.push({event:Ne,listeners:oe}),be?Ne.data=be:(be=wa(a),be!==null&&(Ne.data=be)))),(be=On?OS(t,a):xS(t,a))&&(Ne=Vc(j,"onBeforeInput"),0<Ne.length&&(oe=new Si("onBeforeInput","beforeinput",null,a,H),Y.push({event:oe,listeners:Ne}),oe.data=be)),Sb(Y,t,j,a,H)}Z_(Y,i)})}function wl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(t,a),h!=null&&o.unshift(wl(t,h,f)),h=Xn(t,i),h!=null&&o.push(wl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Ib(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ev(t,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=Xn(a,f),j!=null&&_.unshift(wl(a,j,I))):h||(j=Xn(a,f),j!=null&&_.push(wl(a,j,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Cb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(Cb,`
`).replace(Nb,"")}function nv(t,i){return i=tv(i),tv(t)===i}function We(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(t,""+o);break;case"className":yn(t,"class",o);break;case"tabIndex":yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,o);break;case"style":Fo(t,o,f);break;case"data":if(i!=="object"){yn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Yn);break;case"onScroll":o!=null&&Re("scroll",t);break;case"onScrollEnd":o!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Re("beforetoggle",t),Re("toggle",t),ya(t,"popover",o);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,ya(t,a,o))}}function zd(t,i,a,o,h,f){switch(a){case"style":Fo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&Re("scroll",t);break;case"onScrollEnd":o!=null&&Re("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Lt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ya(t,a,o)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,f,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),o&&We(t,i,"src",a.src,a,null);return;case"input":Re("invalid",t);var E=f=_=h=null,I=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":_=H;break;case"checked":I=H;break;case"defaultChecked":j=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(t,i,o,H,a,null)}}Ou(t,f,E,I,j,_,h,!1);return;case"select":Re("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:We(t,i,h,E,a,null)}i=f,a=_,t.multiple=!!o,i!=null?Er(t,!!o,i,!1):a!=null&&Er(t,!!o,a,!0);return;case"textarea":Re("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:We(t,i,_,E,a,null)}Tr(t,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":We(t,i,I,o,a,null));return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)Re(bl[o],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,j,o,a,null)}return;default:if(va(i)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&zd(t,i,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&We(t,i,E,o,a,null))}function Db(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,I=null,j=null,H=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(B)||We(t,i,B,null,o,Y)}}for(var z in o){var B=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":H=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Y&&We(t,i,z,B,o,Y)}}_a(t,_,E,I,j,H,f,h);return;case"select":B=_=E=z=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":B=I;default:o.hasOwnProperty(f)||We(t,i,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==I&&We(t,i,h,f,o,I)}i=E,a=_,o=B,z!=null?Er(t,!!a,z,!1):!!o!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&We(t,i,_,h,o,f)}xu(t,z,B);return;case"option":for(var ae in a)z=a[ae],a.hasOwnProperty(ae)&&z!=null&&!o.hasOwnProperty(ae)&&(ae==="selected"?t.selected=!1:We(t,i,ae,null,o,z));for(I in o)z=o[I],B=a[I],o.hasOwnProperty(I)&&z!==B&&(z!=null||B!=null)&&(I==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":We(t,i,I,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)z=a[fe],a.hasOwnProperty(fe)&&z!=null&&!o.hasOwnProperty(fe)&&We(t,i,fe,null,o,z);for(j in o)if(z=o[j],B=a[j],o.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:We(t,i,j,z,o,B)}return;default:if(va(i)){for(var et in a)z=a[et],a.hasOwnProperty(et)&&z!==void 0&&!o.hasOwnProperty(et)&&zd(t,i,et,void 0,o,z);for(H in o)z=o[H],B=a[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||zd(t,i,H,z,o,B);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&We(t,i,k,null,o,z);for(Y in o)z=o[Y],B=a[Y],!o.hasOwnProperty(Y)||z===B||z==null&&B==null||We(t,i,Y,z,o,B)}function iv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ob(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&iv(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],j=I.startTime;if(j>E)break;var H=I.transferSize,Y=I.initiatorType;H&&iv(Y)&&(I=I.responseEnd,_+=H*(I<E?1:(E-j)/(I-j)))}if(--o,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qd=null,Bd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function xb(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(kb)}:av;function kb(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function lv(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),eo(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);eo(i)}function uv(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ub(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function Pb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function cv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Yd=null;function hv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function fv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function dv(t,i,a){switch(i=kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var jn=new Map,mv=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sr=te.d;te.d={f:jb,r:zb,D:qb,C:Bb,L:Hb,m:Fb,X:Qb,S:Gb,M:Kb};function jb(){var t=sr.f(),i=Ic();return t||i}function zb(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?Oy(i):sr.r(t)}var Ja=typeof document>"u"?null:document;function gv(t,i,a){var o=Ja;if(o&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),mv.has(h)||(mv.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Kt(i,"link",t),At(i),o.head.appendChild(i)))}}function qb(t){sr.D(t),gv("dns-prefetch",t,null)}function Bb(t,i){sr.C(t,i),gv("preconnect",t,i)}function Hb(t,i,a){sr.L(t,i,a);var o=Ja;if(o&&t&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var f=h;switch(i){case"style":f=Za(t);break;case"script":f=Wa(t)}jn.has(f)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Il(f))||i==="script"&&o.querySelector(Cl(f))||(i=o.createElement("link"),Kt(i,"link",t),At(i),o.head.appendChild(i)))}}function Fb(t,i){sr.m(t,i);var a=Ja;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(t)}if(!jn.has(f)&&(t=b({rel:"modulepreload",href:t},i),jn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(f)))return}o=a.createElement("link"),Kt(o,"link",t),At(o),a.head.appendChild(o)}}}function Gb(t,i,a){sr.S(t,i,a);var o=Ja;if(o&&t){var h=gi(o).hoistableStyles,f=Za(t);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Il(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(f))&&Xd(t,a);var I=_=o.createElement("link");At(I),Kt(I,"link",t),I._p=new Promise(function(j,H){I.onload=j,I.onerror=H}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Pc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function Qb(t,i){sr.X(t,i);var a=Ja;if(a&&t){var o=gi(a).hoistableScripts,h=Wa(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=b({src:t,async:!0},i),(i=jn.get(h))&&$d(t,i),f=a.createElement("script"),At(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Kb(t,i){sr.M(t,i);var a=Ja;if(a&&t){var o=gi(a).hoistableScripts,h=Wa(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=b({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&$d(t,i),f=a.createElement("script"),At(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pv(t,i,a,o){var h=(h=Se.current)?Uc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=gi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var f=gi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Il(t)))&&!f._p&&(_.instance=f,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),f||Yb(h,t,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=gi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+on(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function yv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Yb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Kt(i,"link",a),At(i),t.head.appendChild(i))}function Wa(t){return'[src="'+on(t)+'"]'}function Cl(t){return"script[async]"+t}function _v(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return i.instance=o,At(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),At(o),Kt(o,"style",h),Pc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Za(a.href);var f=t.querySelector(Il(h));if(f)return i.state.loading|=4,i.instance=f,At(f),f;o=yv(a),(h=jn.get(h))&&Xd(o,h),f=(t.ownerDocument||t).createElement("link"),At(f);var _=f;return _._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Kt(f,"link",o),i.state.loading|=4,Pc(f,a.precedence,t),i.instance=f;case"script":return f=Wa(a.src),(h=t.querySelector(Cl(f)))?(i.instance=h,At(h),h):(o=a,(h=jn.get(f))&&(o=b({},a),$d(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Kt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Pc(o,a.precedence,t));return i.instance}function Pc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function vv(t,i,a){if(Lc===null){var o=new Map,h=Lc=new Map;h.set(a,o)}else h=Lc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[di]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function Ev(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Xb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $b(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(o.href),f=i.querySelector(Il(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,At(f);return}f=i.ownerDocument||i,o=yv(o),(h=jn.get(h))&&Xd(o,h),f=f.createElement("link"),At(f);var _=f;_._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Kt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function Jb(t,i){return t.stylesheets&&t.count===0&&qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Jd===0&&(Jd=62500*Ob());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function qc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(Zb,t),zc=null,jc.call(t))}function Zb(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var o=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=jc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:de,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Wb(t,i,a,o,h,f,_,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Av(t,i,a,o,h,f,_,E,I,j,H,Y){return t=new Wb(t,i,a,_,I,j,H,Y,E),i=1,f===!0&&(i|=24),f=vn(3,null,null,i),t.current=f,f.stateNode=t,i=Df(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Vf(f),t}function Sv(t){return t?(t=Da,t):Da}function bv(t,i,a,o,h,f){h=Sv(h),o.context===null?o.context=h:o.pendingContext=h,o=Mr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Vr(t,o,i),a!==null&&(dn(a,t,i),ol(a,t,i))}function wv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zd(t,i){wv(t,i),(t=t.alternate)&&wv(t,i)}function Rv(t){if(t.tag===13||t.tag===31){var i=ks(t,67108864);i!==null&&dn(i,t,67108864),Zd(t,67108864)}}function Iv(t){if(t.tag===13||t.tag===31){var i=bn();i=Ss(i);var a=ks(t,i);a!==null&&dn(a,t,i),Zd(t,i)}}var Bc=!0;function ew(t,i,a,o){var h=G.T;G.T=null;var f=te.p;try{te.p=2,Wd(t,i,a,o)}finally{te.p=f,G.T=h}}function tw(t,i,a,o){var h=G.T;G.T=null;var f=te.p;try{te.p=8,Wd(t,i,a,o)}finally{te.p=f,G.T=h}}function Wd(t,i,a,o){if(Bc){var h=em(o);if(h===null)jd(t,i,o,Hc,a),Nv(t,o);else if(iw(h,t,i,a,o))o.stopPropagation();else if(Nv(t,o),i&4&&-1<nw.indexOf(t)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ui(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var I=1<<31-dt(_);E.entanglements[1]|=I,_&=~I}Ci(f),(Be&6)===0&&(wc=nn()+500,Sl(0))}}break;case 31:case 13:E=ks(f,2),E!==null&&dn(E,f,2),Ic(),Zd(f,2)}if(f=em(o),f===null&&jd(t,i,o,Hc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else jd(t,i,o,null,a)}}function em(t){return t=Nn(t),tm(t)}var Hc=null;function tm(t){if(Hc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hc=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case xo:return 2;case Mo:return 8;case _r:case of:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var nm=!1,Gr=null,Qr=null,Kr=null,Dl=new Map,Ol=new Map,Yr=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function xl(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&Rv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function iw(t,i,a,o,h){switch(i){case"focusin":return Gr=xl(Gr,t,i,a,o,h),!0;case"dragenter":return Qr=xl(Qr,t,i,a,o,h),!0;case"mouseover":return Kr=xl(Kr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,xl(Dl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,xl(Ol.get(f)||null,t,i,a,o,h)),!0}return!1}function Dv(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Iv(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Iv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Go=o,a.target.dispatchEvent(o),Go=null}else return i=Cn(a),i!==null&&Rv(i),t.blockedOn=a,!1;i.shift()}return!0}function Ov(t,i,a){Fc(t)&&a.delete(i)}function rw(){nm=!1,Gr!==null&&Fc(Gr)&&(Gr=null),Qr!==null&&Fc(Qr)&&(Qr=null),Kr!==null&&Fc(Kr)&&(Kr=null),Dl.forEach(Ov),Ol.forEach(Ov)}function Gc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rw)))}var Qc=null;function xv(t){Qc!==t&&(Qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===t&&(Qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(tm(o||a)===null)continue;break}var f=Cn(a);f!==null&&(t.splice(i,3),i-=3,ed(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function eo(t){function i(I){return Gc(I,t)}Gr!==null&&Gc(Gr,t),Qr!==null&&Gc(Qr,t),Kr!==null&&Gc(Kr,t),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Yr.length;a++){var o=Yr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Lt]||null;if(typeof f=="function")_||xv(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Lt]||null)E=_.formAction;else if(tm(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),xv(a)}}}function Mv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Kc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=bn();bv(a,o,t,i,null,null)},Kc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;bv(t.current,2,null,t,null,null),Ic(),i[fi]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Iu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&Dv(t)}};var Vv=e.version;if(Vv!=="19.2.3")throw Error(s(527,Vv,"19.2.3"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var sw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Fn=Yc.inject(sw),Bt=Yc}catch{}}return Vl.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=qy,f=By,_=Hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Av(t,1,!1,null,null,a,o,null,h,f,_,Mv),t[fi]=i.current,Ld(t),new im(i)},Vl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=qy,_=By,E=Hy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Av(t,1,!0,i,a??null,o,h,I,f,_,E,Mv),i.context=Sv(null),a=i.current,o=bn(),o=Ss(o),h=Mr(o),h.callback=null,Vr(a,h,o),a=o,i.current.lanes=a,Ts(i,a),Ci(i),t[fi]=i.current,Ld(t),new Kc(i)},Vl.version="19.2.3",Vl}var Fv;function gw(){if(Fv)return am.exports;Fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=mw(),am.exports}var pw=gw();const yw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_w=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Gv=r=>{const e=_w(r);return e.charAt(0).toUpperCase()+e.slice(1)},V0=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),vw=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Ew={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tw=ut.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...g},y)=>ut.createElement("svg",{ref:y,...Ew,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:V0("lucide",l),...!u&&!vw(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,A])=>ut.createElement(p,A)),...Array.isArray(u)?u:[u]]));const Rn=(r,e)=>{const n=ut.forwardRef(({className:s,...l},u)=>ut.createElement(Tw,{ref:u,iconNode:e,className:V0(`lucide-${yw(Gv(r))}`,`lucide-${r}`,s),...l}));return n.displayName=Gv(r),n};const Aw=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Sw=Rn("bell",Aw);const bw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mm=Rn("circle-alert",bw);const ww=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kl=Rn("circle-check-big",ww);const Rw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k0=Rn("circle-x",Rw);const Iw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cm=Rn("clock",Iw);const Cw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Nw=Rn("eye-off",Cw);const Dw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ow=Rn("eye",Dw);const xw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Mw=Rn("history",xw);const Vw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kw=Rn("log-out",Vw);const Uw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pw=Rn("settings",Uw);const Lw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jw=Rn("shield",Lw);const zw=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Qv=Rn("truck",zw);const qw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hm=Rn("users",qw),Bw=()=>{};var Kv={};const U0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Hw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,p=y?r[l+2]:0,A=u>>2,b=(u&3)<<4|g>>4;let x=(g&15)<<2|p>>6,F=p&63;y||(F=64,d||(x=64)),s.push(n[A],n[b],n[x],n[F])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(U0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Hw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const p=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||p==null||b==null)throw new Fw;const x=u<<2|g>>4;if(s.push(x),p!==64){const F=g<<4&240|p>>2;if(s.push(F),b!==64){const Z=p<<6&192|b;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gw=function(r){const e=U0(r);return P0.encodeByteArray(e,!0)},mh=function(r){return Gw(r).replace(/\./g,"")},L0=function(r){try{return P0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kw=()=>Qw().__FIREBASE_DEFAULTS__,Yw=()=>{if(typeof process>"u"||typeof Kv>"u")return;const r=Kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Xw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&L0(r[1]);return e&&JSON.parse(e)},Mh=()=>{try{return Bw()||Kw()||Yw()||Xw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>Mh()?.emulatorHosts?.[r],$w=r=>{const e=j0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},z0=()=>Mh()?.config,q0=r=>Mh()?.[`_${r}`];class Jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(r){return(await fetch(r,{credentials:"include"})).ok}function Zw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mh(JSON.stringify(n)),mh(JSON.stringify(d)),""].join(".")}const Bl={};function Ww(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?r.emulator.push(e):r.prod.push(e);return r}function e1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Yv=!1;function H0(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Bl[r]===e||Bl[r]||Yv)return;Bl[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=Ww().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,F){x.setAttribute("width","24"),x.setAttribute("id",F),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Yv=!0,d()},x}function A(x,F){x.setAttribute("id",F),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=e1(s),F=n("text"),Z=document.getElementById(F)||document.createElement("span"),ee=n("learnmore"),J=document.getElementById(ee)||document.createElement("a"),ce=n("preprendIcon"),_e=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const de=x.element;g(de),A(J,ee);const He=p();y(_e,ce),de.append(_e,Z,J,He),document.body.appendChild(de)}u?(Z.innerText="Preview backend disconnected.",_e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function n1(){const r=Mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function s1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a1(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function o1(){return!n1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F0(){try{return typeof indexedDB=="object"}catch{return!1}}function G0(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}function l1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const u1="FirebaseError";class zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=u1,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?c1(u,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new zi(l,g,s)}}function c1(r,e){return r.replace(h1,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const h1=/\{\$([^}]+)}/g;function f1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=e[l];if(Xv(u)&&Xv(d)){if(!ea(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Xv(r){return r!==null&&typeof r=="object"}function lu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ul(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Pl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function d1(r,e){const n=new m1(r,e);return n.subscribe.bind(n)}class m1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");g1(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=fm),l.error===void 0&&(l.error=fm),l.complete===void 0&&(l.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}function Ot(r){return r&&r._delegate?r._delegate:r}class ri{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ys="[DEFAULT]";class p1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Jw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_1(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&d.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:y1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(r){return r===Ys?void 0:r}function _1(r){return r.instantiationMode==="EAGER"}class v1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const E1={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},T1=De.INFO,A1={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},S1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=A1[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cg{constructor(e){this.name=e,this._logLevel=T1,this._logHandler=S1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const b1=(r,e)=>e.some(n=>r instanceof n);let $v,Jv;function w1(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,Vm=new WeakMap,K0=new WeakMap,dm=new WeakMap,hg=new WeakMap;function I1(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(cr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Q0.set(n,r)}).catch(()=>{}),hg.set(e,r),e}function C1(r){if(Vm.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Vm.set(r,e)}let km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Vm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||K0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function N1(r){km=r(km)}function D1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return K0.set(s,e.sort?e.sort():[e]),cr(s)}:R1().includes(r)?function(...e){return r.apply(mm(this),e),cr(Q0.get(this))}:function(...e){return cr(r.apply(mm(this),e))}}function O1(r){return typeof r=="function"?D1(r):(r instanceof IDBTransaction&&C1(r),b1(r,w1())?new Proxy(r,km):r)}function cr(r){if(r instanceof IDBRequest)return I1(r);if(dm.has(r))return dm.get(r);const e=O1(r);return e!==r&&(dm.set(r,e),hg.set(e,r)),e}const mm=r=>hg.get(r);function Vh(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),g=cr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(cr(d.result),y.oldVersion,y.newVersion,cr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}function gm(r,{blocked:e}={}){const n=indexedDB.deleteDatabase(r);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),cr(n).then(()=>{})}const x1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],pm=new Map;function Zv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=M1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||x1.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return pm.set(e,u),u}N1(r=>({...r,get:(e,n,s)=>Zv(e,n)||r.get(e,n,s),has:(e,n)=>!!Zv(e,n)||r.has(e,n)}));class V1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function k1(r){return r.getComponent()?.type==="VERSION"}const Um="@firebase/app",Wv="0.14.6";const dr=new cg("@firebase/app"),U1="@firebase/app-compat",P1="@firebase/analytics-compat",L1="@firebase/analytics",j1="@firebase/app-check-compat",z1="@firebase/app-check",q1="@firebase/auth",B1="@firebase/auth-compat",H1="@firebase/database",F1="@firebase/data-connect",G1="@firebase/database-compat",Q1="@firebase/functions",K1="@firebase/functions-compat",Y1="@firebase/installations",X1="@firebase/installations-compat",$1="@firebase/messaging",J1="@firebase/messaging-compat",Z1="@firebase/performance",W1="@firebase/performance-compat",eR="@firebase/remote-config",tR="@firebase/remote-config-compat",nR="@firebase/storage",iR="@firebase/storage-compat",rR="@firebase/firestore",sR="@firebase/ai",aR="@firebase/firestore-compat",oR="firebase",lR="12.6.0";const Pm="[DEFAULT]",uR={[Um]:"fire-core",[U1]:"fire-core-compat",[L1]:"fire-analytics",[P1]:"fire-analytics-compat",[z1]:"fire-app-check",[j1]:"fire-app-check-compat",[q1]:"fire-auth",[B1]:"fire-auth-compat",[H1]:"fire-rtdb",[F1]:"fire-data-connect",[G1]:"fire-rtdb-compat",[Q1]:"fire-fn",[K1]:"fire-fn-compat",[Y1]:"fire-iid",[X1]:"fire-iid-compat",[$1]:"fire-fcm",[J1]:"fire-fcm-compat",[Z1]:"fire-perf",[W1]:"fire-perf-compat",[eR]:"fire-rc",[tR]:"fire-rc-compat",[nR]:"fire-gcs",[iR]:"fire-gcs-compat",[rR]:"fire-fst",[aR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};const gh=new Map,cR=new Map,Lm=new Map;function eE(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Li(r){const e=r.name;if(Lm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,r);for(const n of gh.values())eE(n,r);for(const n of cR.values())eE(n,r);return!0}function To(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new oa("app","Firebase",hR);class fR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const Ao=lR;function Y0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Pm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw ns.create("bad-app-name",{appName:String(l)});if(n||(n=z0()),!n)throw ns.create("no-options");const u=gh.get(l);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw ns.create("duplicate-app",{appName:l})}const d=new v1(l);for(const y of Lm.values())d.addComponent(y);const g=new fR(n,s,d);return gh.set(l,g),g}function fg(r=Pm){const e=gh.get(r);if(!e&&r===Pm&&z0())return Y0();if(!e)throw ns.create("no-app",{appName:r});return e}function Bn(r,e,n){let s=uR[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(d.join(" "));return}Li(new ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const dR="firebase-heartbeat-database",mR=1,Yl="firebase-heartbeat-store";let ym=null;function X0(){return ym||(ym=Vh(dR,mR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),ym}async function gR(r){try{const n=(await X0()).transaction(Yl),s=await n.objectStore(Yl).get($0(r));return await n.done,s}catch(e){if(e instanceof zi)dr.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function tE(r,e){try{const s=(await X0()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,$0(r)),await s.done}catch(n){if(n instanceof zi)dr.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function $0(r){return`${r.name}!${r.options.appId}`}const pR=1024,yR=30;class _R{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ER(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>yR){const l=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nE(),{heartbeatsToSend:n,unsentEntries:s}=vR(this._heartbeatsCache.heartbeats),l=mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return dr.warn(e),""}}}function nE(){return new Date().toISOString().substring(0,10)}function vR(r,e=pR){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),iE(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),iE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F0()?G0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iE(r){return mh(JSON.stringify({version:2,heartbeats:r})).length}function TR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function AR(r){Li(new ri("platform-logger",e=>new V1(e),"PRIVATE")),Li(new ri("heartbeat",e=>new _R(e),"PRIVATE")),Bn(Um,Wv,r),Bn(Um,Wv,"esm2020"),Bn("fire-js","")}AR("");var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var is,J0;(function(){var r;function e(C,T){function w(){}w.prototype=T.prototype,C.F=T.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(V,D,U){for(var R=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)R[Ie-2]=arguments[Ie];return T.prototype[D].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,T,w){w||(w=0);const V=Array(16);if(typeof T=="string")for(var D=0;D<16;++D)V[D]=T.charCodeAt(w++)|T.charCodeAt(w++)<<8|T.charCodeAt(w++)<<16|T.charCodeAt(w++)<<24;else for(D=0;D<16;++D)V[D]=T[w++]|T[w++]<<8|T[w++]<<16|T[w++]<<24;T=C.g[0],w=C.g[1],D=C.g[2];let U=C.g[3],R;R=T+(U^w&(D^U))+V[0]+3614090360&4294967295,T=w+(R<<7&4294967295|R>>>25),R=U+(D^T&(w^D))+V[1]+3905402710&4294967295,U=T+(R<<12&4294967295|R>>>20),R=D+(w^U&(T^w))+V[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(T^D&(U^T))+V[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(U^w&(D^U))+V[4]+4118548399&4294967295,T=w+(R<<7&4294967295|R>>>25),R=U+(D^T&(w^D))+V[5]+1200080426&4294967295,U=T+(R<<12&4294967295|R>>>20),R=D+(w^U&(T^w))+V[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(T^D&(U^T))+V[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(U^w&(D^U))+V[8]+1770035416&4294967295,T=w+(R<<7&4294967295|R>>>25),R=U+(D^T&(w^D))+V[9]+2336552879&4294967295,U=T+(R<<12&4294967295|R>>>20),R=D+(w^U&(T^w))+V[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(T^D&(U^T))+V[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(U^w&(D^U))+V[12]+1804603682&4294967295,T=w+(R<<7&4294967295|R>>>25),R=U+(D^T&(w^D))+V[13]+4254626195&4294967295,U=T+(R<<12&4294967295|R>>>20),R=D+(w^U&(T^w))+V[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(T^D&(U^T))+V[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(D^U&(w^D))+V[1]+4129170786&4294967295,T=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(T^w))+V[6]+3225465664&4294967295,U=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(U^T))+V[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^T&(D^U))+V[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(D^U&(w^D))+V[5]+3593408605&4294967295,T=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(T^w))+V[10]+38016083&4294967295,U=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(U^T))+V[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^T&(D^U))+V[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(D^U&(w^D))+V[9]+568446438&4294967295,T=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(T^w))+V[14]+3275163606&4294967295,U=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(U^T))+V[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^T&(D^U))+V[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(D^U&(w^D))+V[13]+2850285829&4294967295,T=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(T^w))+V[2]+4243563512&4294967295,U=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(U^T))+V[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^T&(D^U))+V[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(w^D^U)+V[5]+4294588738&4294967295,T=w+(R<<4&4294967295|R>>>28),R=U+(T^w^D)+V[8]+2272392833&4294967295,U=T+(R<<11&4294967295|R>>>21),R=D+(U^T^w)+V[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^T)+V[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(w^D^U)+V[1]+2763975236&4294967295,T=w+(R<<4&4294967295|R>>>28),R=U+(T^w^D)+V[4]+1272893353&4294967295,U=T+(R<<11&4294967295|R>>>21),R=D+(U^T^w)+V[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^T)+V[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(w^D^U)+V[13]+681279174&4294967295,T=w+(R<<4&4294967295|R>>>28),R=U+(T^w^D)+V[0]+3936430074&4294967295,U=T+(R<<11&4294967295|R>>>21),R=D+(U^T^w)+V[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^T)+V[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(w^D^U)+V[9]+3654602809&4294967295,T=w+(R<<4&4294967295|R>>>28),R=U+(T^w^D)+V[12]+3873151461&4294967295,U=T+(R<<11&4294967295|R>>>21),R=D+(U^T^w)+V[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^T)+V[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(D^(w|~U))+V[0]+4096336452&4294967295,T=w+(R<<6&4294967295|R>>>26),R=U+(w^(T|~D))+V[7]+1126891415&4294967295,U=T+(R<<10&4294967295|R>>>22),R=D+(T^(U|~w))+V[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~T))+V[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=T+(D^(w|~U))+V[12]+1700485571&4294967295,T=w+(R<<6&4294967295|R>>>26),R=U+(w^(T|~D))+V[3]+2399980690&4294967295,U=T+(R<<10&4294967295|R>>>22),R=D+(T^(U|~w))+V[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~T))+V[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=T+(D^(w|~U))+V[8]+1873313359&4294967295,T=w+(R<<6&4294967295|R>>>26),R=U+(w^(T|~D))+V[15]+4264355552&4294967295,U=T+(R<<10&4294967295|R>>>22),R=D+(T^(U|~w))+V[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~T))+V[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=T+(D^(w|~U))+V[4]+4149444226&4294967295,T=w+(R<<6&4294967295|R>>>26),R=U+(w^(T|~D))+V[11]+3174756917&4294967295,U=T+(R<<10&4294967295|R>>>22),R=D+(T^(U|~w))+V[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~T))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,T){T===void 0&&(T=C.length);const w=T-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<T;){if(D==0)for(;U<=w;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<T;)if(V[D++]=C.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<T;)if(V[D++]=C[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=T},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;T=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=T&255,T/=256;for(this.v(C),C=Array(16),T=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)C[T++]=this.g[w]>>>V&255;return C};function u(C,T){var w=g;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=T(C)}function d(C,T){this.h=T;const w=[];let V=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;V&&U==T||(w[D]=U,V=!1)}this.g=w}var g={};function y(C){return-128<=C&&C<128?u(C,function(T){return new d([T|0],T<0?-1:0)}):new d([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return J(p(-C));const T=[];let w=1;for(let V=0;C>=w;V++)T[V]=C/w|0,w*=4294967296;return new d(T,0)}function A(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return J(A(C.substring(1),T));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=p(Math.pow(T,8));let V=b;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+D),T);D<8?(D=p(Math.pow(T,D)),V=V.j(D).add(p(R))):(V=V.j(w),V=V.add(p(R)))}return V}var b=y(0),x=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(ee(this))return-J(this).m();let C=0,T=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);C+=(V>=0?V:4294967296+V)*T,T*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(ee(this))return"-"+J(this).toString(C);const T=p(Math.pow(C,6));var w=this;let V="";for(;;){const D=He(w,T).g;w=ce(w,D.j(T));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=D,Z(w))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function ee(C){return C.h==-1}r.l=function(C){return C=ce(this,C),ee(C)?-1:Z(C)?0:1};function J(C){const T=C.g.length,w=[];for(let V=0;V<T;V++)w[V]=~C.g[V];return new d(w,~C.h).add(x)}r.abs=function(){return ee(this)?J(this):this},r.add=function(C){const T=Math.max(this.g.length,C.g.length),w=[];let V=0;for(let D=0;D<=T;D++){let U=V+(this.i(D)&65535)+(C.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=R>>>16,U&=65535,R&=65535,w[D]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ce(C,T){return C.add(J(T))}r.j=function(C){if(Z(this)||Z(C))return b;if(ee(this))return ee(C)?J(this).j(J(C)):J(J(this).j(C));if(ee(C))return J(this.j(J(C)));if(this.l(F)<0&&C.l(F)<0)return p(this.m()*C.m());const T=this.g.length+C.g.length,w=[];for(var V=0;V<2*T;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const U=this.i(V)>>>16,R=this.i(V)&65535,Ie=C.i(D)>>>16,Le=C.i(D)&65535;w[2*V+2*D]+=R*Le,_e(w,2*V+2*D),w[2*V+2*D+1]+=U*Le,_e(w,2*V+2*D+1),w[2*V+2*D+1]+=R*Ie,_e(w,2*V+2*D+1),w[2*V+2*D+2]+=U*Ie,_e(w,2*V+2*D+2)}for(C=0;C<T;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=T;C<2*T;C++)w[C]=0;return new d(w,0)};function _e(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function de(C,T){this.g=C,this.h=T}function He(C,T){if(Z(T))throw Error("division by zero");if(Z(C))return new de(b,b);if(ee(C))return T=He(J(C),T),new de(J(T.g),J(T.h));if(ee(T))return T=He(C,J(T)),new de(J(T.g),T.h);if(C.g.length>30){if(ee(C)||ee(T))throw Error("slowDivide_ only works with positive integers.");for(var w=x,V=T;V.l(C)<=0;)w=Ge(w),V=Ge(V);var D=Me(w,1),U=Me(V,1);for(V=Me(V,2),w=Me(w,2);!Z(V);){var R=U.add(V);R.l(C)<=0&&(D=D.add(w),U=R),V=Me(V,1),w=Me(w,1)}return T=ce(C,D.j(T)),new de(D,T)}for(D=b;C.l(T)>=0;){for(w=Math.max(1,Math.floor(C.m()/T.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=p(w),R=U.j(T);ee(R)||R.l(C)>0;)w-=V,U=p(w),R=U.j(T);Z(U)&&(U=x),D=D.add(U),C=ce(C,R)}return new de(D,C)}r.B=function(C){return He(this,C).h},r.and=function(C){const T=Math.max(this.g.length,C.g.length),w=[];for(let V=0;V<T;V++)w[V]=this.i(V)&C.i(V);return new d(w,this.h&C.h)},r.or=function(C){const T=Math.max(this.g.length,C.g.length),w=[];for(let V=0;V<T;V++)w[V]=this.i(V)|C.i(V);return new d(w,this.h|C.h)},r.xor=function(C){const T=Math.max(this.g.length,C.g.length),w=[];for(let V=0;V<T;V++)w[V]=this.i(V)^C.i(V);return new d(w,this.h^C.h)};function Ge(C){const T=C.g.length+1,w=[];for(let V=0;V<T;V++)w[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(w,C.h)}function Me(C,T){const w=T>>5;T%=32;const V=C.g.length-w,D=[];for(let U=0;U<V;U++)D[U]=T>0?C.i(U+w)>>>T|C.i(U+w+1)<<32-T:C.i(U+w);return new d(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,J0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=A,is=d}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z0,Ll,W0,nh,jm,eT,tT,nT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in v))break e;v=v[P]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function A(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,P,q){for(var W=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)W[Te-2]=arguments[Te];return m.prototype[P].apply(S,W)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function Z(c,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let W=0;W<q;W++)c[v+W]=P[W]}else c.push(P)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){d.setTimeout(()=>{throw c},0)}function ce(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,v){const S=de.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var de=new ee(()=>new He,c=>c.reset());class He{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,Me=!1,C=new _e,T=()=>{const c=Promise.resolve(void 0);Ge=()=>{c.then(w)}};function w(){for(var c;c=ce();){try{c.h.call(c.g)}catch(v){J(v)}var m=de;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Ie(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}b(Ie,D),Ie.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(c,m,v,S,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=P,this.key=++G,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function Qe(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,m){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)c[v]=S[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function se(c){this.src=c,this.g={},this.h=0}se.prototype.add=function(c,m,v,S,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const W=Se(c,m,S,P);return W>-1?(m=c[W],v||(m.fa=!1)):(m=new te(m,this.src,q,!!S,P),m.fa=v,c.push(m)),m};function pe(c,m){const v=m.type;if(v in c.g){var S=c.g[v],P=Array.prototype.indexOf.call(S,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(S,P,1),q&&(he(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,m,v,S){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return P}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),xt={};function at(c,m,v,S,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)at(c,m[q],v,S,P);return null}return v=Oo(v),c&&c[Le]?c.J(m,v,g(S)?!!S.capture:!1,P):ys(c,m,v,!1,S,P)}function ys(c,m,v,S,P,q){if(!m)throw Error("Invalid event type");const W=g(P)?!!P.capture:!!P;let Te=_s(c);if(Te||(c[ke]=Te=new se(c)),v=Te.add(m,v,S,W,q),v.proxy)return v;if(S=ha(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(P=W),P===void 0&&(P=!1),c.addEventListener(m.toString(),S,P);else if(c.attachEvent)c.attachEvent(oi(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ha(){function c(v){return m.call(c.src,c.listener,v)}const m=No;return c}function fa(c,m,v,S,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)fa(c,m[q],v,S,P);else S=g(S)?!!S.capture:!!S,v=Oo(v),c&&c[Le]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Se(m,v,S,P),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=_s(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Se(m,v,S,P)),(v=c>-1?m[c]:null)&&da(v))}function da(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Le])pe(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(oi(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=_s(m))?(pe(v,c),v.h==0&&(v.src=null,m[ke]=null)):he(c)}}}function oi(c){return c in xt?xt[c]:xt[c]="on"+c}function No(c,m){if(c.da)c=!0;else{m=new Ie(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&da(c),c=v.call(S,m)}return c}function _s(c){return c=c[ke],c instanceof se?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(m){return c.handleEvent(m)}),c[Do])}function vt(){V.call(this),this.i=new se(this),this.M=this,this.G=null}b(vt,V),vt.prototype[Le]=!0,vt.prototype.removeEventListener=function(c,m,v,S){fa(this,c,m,v,S)};function Mt(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var P=m;m=new D(S,c),ne(m,P)}P=!0;let q,W;if(v)for(W=v.length-1;W>=0;W--)q=m.g=v[W],P=yr(q,S,!0,m)&&P;if(q=m.g=c,P=yr(q,S,!0,m)&&P,P=yr(q,S,!1,m)&&P,v)for(W=0;W<v.length;W++)q=m.g=v[W],P=yr(q,S,!1,m)&&P}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)he(v[S]);delete c.g[m],c.h--}}this.G=null},vt.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},vt.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function yr(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==v){const Te=W.listener,mt=W.ha||W.src;W.fa&&pe(c.i,W),P=Te.call(mt,S)!==!1&&P}}return P&&!S.defaultPrevented}function af(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Eu(c){c.g=af(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){V.call(this),this.h=c,this.g={}}b(vs,V);var xo=[];function Mo(c){Pe(c.g,function(m,v){this.g.hasOwnProperty(v)&&da(m)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Mo(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=d.JSON.stringify,of=d.JSON.parse,Tu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Au(){}function Su(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}b(Bt,D);function In(){D.call(this,"c")}b(In,D);var dt={},bu=null;function ma(){return bu=bu||new vt}dt.Ia="serverreachability";function wu(c){D.call(this,dt.Ia,c)}b(wu,D);function li(c){const m=ma();Mt(m,new wu(m))}dt.STAT_EVENT="statevent";function Es(c,m){D.call(this,dt.STAT_EVENT,c),this.stat=m}b(Es,D);function Et(c){const m=ma();Mt(m,new Es(m,c))}dt.Ja="timingevent";function ui(c,m){D.call(this,dt.Ja,c),this.size=m}b(ui,D);function ci(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function lf(c,m,v,S,P,q){c.info(function(){if(c.g)if(q){var W="",Te=q.split("&");for(let qe=0;qe<Te.length;qe++){var mt=Te[qe].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const On=ot.split("_");W=On.length>=2&&On[1]=="type"?W+(ot+"="+mt+"&"):W+(ot+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+v+`
`+W})}function Ru(c,m,v,S,P,q,W){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+W})}function hi(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+uf(c,v)+(S?" "+S:"")})}function Ts(c,m){c.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function uf(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<S.length;W++)S[W]=""}}}}return _r(q)}catch{return m}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function Ss(){}b(Ss,Au),Ss.prototype.g=function(){return new XMLHttpRequest},ko=new Ss;function qi(c){return encodeURIComponent(String(c))}function Iu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Qn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function fi(c,m,v){c.M=1,c.A=bs(St(m)),c.u=v,c.R=!0,ga(c,null)}function ga(c,m){c.F=Date.now(),di(c),c.B=St(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),va(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Kn,c.g=Bu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(xo[0]=P.toString()),P=xo);for(let q=0;q<P.length;q++){const W=at(v,P[q],S||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),li(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&$n(c)==3?m.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Te=$n(this.g),mt=this.g.ya(),qe=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Te!=4||mt==7||(mt==8||qe<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=cf(this);if(this.o=m==200,Ru(this.i,this.v,this.B,this.l,this.S,Te,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var q=S;break t}}q=null}if(c=q)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,Et(12),pn(this),Cn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Nu(this,v),ot==Lt){Te==4&&(this.m=4,Et(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ot,null),gi(this,ot);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(W),W.P=!0,Et(11))}}else hi(this.i,this.l,v,null),gi(this,v);Te==4&&pn(this),this.o&&!this.K&&(Te==4?Lu(this.j,this):(this.o=!1,di(this)))}else Hi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),pn(this),Cn(this)}}}catch{}};function cf(c){if(!Cu(c))return c.g.la();const m=Ht(c.g);if(m==="")return"";let v="";const S=m.length,P=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(P&&q==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Lt:(v=Number(m.substring(v,S)),isNaN(v)?Tt:(S+=1,S+v>m.length?Lt:(m=m.slice(S,S+v),c.C=S+v,m)))}Qn.prototype.cancel=function(){this.K=!0,pn(this)};function di(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(p(c.aa,c),m)}function mi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(li(),Et(17)),pn(this),this.m=2,Cn(this)):pa(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Lu(c.j,c)}function pn(c){mi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Mo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function gi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ba(v),Rr(v);else break e;Os(v),Et(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(p(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&ba(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let qe=P[m];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const On=qe[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const bi=qe[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Jn=qe[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(S=1.5*Jn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Zn=c.g;if(Zn){const xs=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var q=S.h;q.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Lo(q,q.h),q.h=null))}if(S.G){const wa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(S.wa=wa,Ke(S.J,S.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var W=c;if(S.na=qu(S,S.L?S.ba:null,S.W),W.L){jo(S.h,W);var Te=W,mt=S.O;mt&&(Te.H=mt),Te.D&&(mi(Te),di(Te)),S.g=W}else Uu(S);v.i.length>0&&Ai(v)}else qe[0]!="stop"&&qe[0]!="close"||Si(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Si(v,7):Yo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}li(4)}catch{}}var At=class{constructor(c,m){this.g=c,this.map=m}};function Uo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function yi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Lo(c,m){c.g?c.g.add(m):c.h=m}function jo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Uo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return F(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let P,q=null;S>=0?(P=c[v].substring(0,S),q=c[v].substring(S+1)):P=c[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,qo(this,Vu(c.i)),this.m=c.m):c&&(m=String(c).match(Du))?(this.l=!1,jt(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),vr(this,m[4]),this.h=_i(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ws(m,_a,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ws(m,_a,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?Bo:Ou,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,xu)),c.join("")},yn.prototype.resolve=function(c){const m=St(this);let v=!!c.j;v?jt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)vr(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let W=0;W<P.length;){const Te=P[W++];Te=="."?S&&W==P.length&&q.push(""):Te==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&W==P.length&&q.push("")):(q.push(Te),S=!0)}S=q.join("/")}else S=P}return v?m.h=S:v=c.i.toString()!=="",v?qo(m,Vu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function St(c){return new yn(c)}function jt(c,m,v){c.j=v?_i(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function qo(c,m,v){m instanceof Tr?(c.i=m,Ea(c.i,c.l)):(v||(m=ws(m,Er)),c.i=new Tr(m,c.l))}function Ke(c,m,v){c.i.set(m,v)}function bs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,Ou=/[#\?:]/g,Bo=/[#\?]/g,Er=/[#\?@]/g,xu=/#/g;function Tr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(c,m){ln(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Mu(c,m){ln(c),m=Ar(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ho(c,m){return ln(c),m=Ar(c,m),c.g.has(m)}r.forEach=function(c,m){ln(this),this.g.forEach(function(v,S){v.forEach(function(P){c.call(m,P,S,this)},this)},this)};function Fo(c,m){ln(c);let v=[];if(typeof m=="string")Ho(c,m)&&(v=v.concat(c.g.get(Ar(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return ln(this),this.i=null,c=Ar(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Fo(this,c),c.length>0?String(c[0]):m):m};function va(c,m,v){Mu(c,m),v.length>0&&(c.i=null,c.g.set(Ar(c,m),F(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const P=qi(v);v=Fo(this,v);for(let q=0;q<v.length;q++){let W=P;v[q]!==""&&(W+="="+qi(v[q])),c.push(W)}}return this.i=c.join("&")};function Vu(c){const m=new Tr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ar(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Ea(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(Mu(this,S),va(this,P,v))},c)),c.j=m}function Yn(c,m){const v=new Gn;if(d.Image){const S=new Image;S.onload=A(Nn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=A(Nn,v,"TestLoadImage: error",!1,m,S),S.onabort=A(Nn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(Nn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Go(c,m){const v=new Gn,S=new AbortController,P=setTimeout(()=>{S.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(P),q.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Nn(v,"TestPingServer: error",!1,m)})}function Nn(c,m,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function Sr(){this.g=new Tu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(vi,Au),vi.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,m){vt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Rs,vt),r=Rs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?br(this):Xn(this),this.readyState==3&&Ta(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let m="";return Pe(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Is(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Dn(v),typeof c=="string"?v!=null&&qi(v):Ke(c,m,v))}function Je(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,vt);var Ei=/^https?$/i,Qo=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Cs(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Qo,m,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of v)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Cs(this,q)}};function Cs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Ko(c),Bi(c)}function Ko(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let W=String(c.D).match(Du)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),S=!Ei.test(W?W.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var P=$n(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Ko(c)}}finally{Bi(c)}}}}function Bi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),of(m)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const m={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(R(c[S]))continue;var v=Iu(c[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Qe(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function wr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,S){Et(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=qu(this,null,this.W),Ai(this)};function Yo(c){if(Aa(c),c.I==3){var m=c.V++,v=St(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",m),Ke(v,"TYPE","terminate"),Ds(c,v),m=new Qn(c,c.j,m),m.M=2,m.A=bs(St(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}zu(c)}function Rr(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function Aa(c){Rr(c),c.v&&(d.clearTimeout(c.v),c.v=null),ba(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ai(c){if(!Po(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ge||T(),Me||(Ge(),Me=!0),C.add(m,c),c.D=0}}function Sa(c,m){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(p(c.Ea,c,m),ju(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ku(this,P,m),v=St(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ds(this,v),q&&(this.R?m="headers="+qi(Dn(q))+"&"+m:this.u&&Is(v,this.u,q)),Lo(this.h,P),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",m),Ke(v,"SID","null"),P.U=!0,fi(P,v,null)):fi(P,v,m),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Po(this.h)||Xo(this))};function Xo(c,m){var v;m?v=m.l:v=c.V++;const S=St(c.J);Ke(S,"SID",c.M),Ke(S,"RID",v),Ke(S,"AID",c.K),Ds(c,S),c.u&&c.o&&Is(S,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=ku(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lo(c.h,v),fi(v,S,m)}function Ds(c,m){c.H&&Pe(c.H,function(v,S){Ke(m,S,v)}),c.l&&Pe({},function(v,S){Ke(m,S,v)})}function ku(c,m,v){v=Math.min(c.i.length,v);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var P=c.i;let Te=-1;for(;;){const mt=["count="+v];Te==-1?v>0?(Te=P[0].g,mt.push("ofs="+Te)):Te=0:mt.push("ofs="+Te);let qe=!0;for(let ot=0;ot<v;ot++){var q=P[ot].g;const On=P[ot].map;if(q-=Te,q<0)Te=Math.max(0,P[ot].g-100),qe=!1;else try{q="req"+q+"_"||"";try{var W=On instanceof Map?On:Object.entries(On);for(const[bi,Jn]of W){let Zn=Jn;g(Jn)&&(Zn=_r(Jn)),mt.push(q+bi+"="+encodeURIComponent(Zn))}}catch(bi){throw mt.push(q+"type="+encodeURIComponent("_badmap")),bi}}catch{S&&S(On)}}if(qe){W=mt.join("&");break e}}W=void 0}return c=c.i.splice(0,v),m.G=c,W}function Uu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ge||T(),Me||(Ge(),Me=!0),C.add(m,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(p(c.Da,c),ju(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Rr(this),Pu(this))};function $o(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=St(c.na);Ke(m,"RID","rpc"),Ke(m,"SID",c.M),Ke(m,"AID",c.K),Ke(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(m,"TO",c.ia),Ke(m,"TYPE","xmlhttp"),Ds(c,m),c.u&&c.o&&Is(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=bs(St(m)),v.u=null,v.R=!0,ga(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Os(this),Et(19))};function ba(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Lu(c,m){var v=null;if(c.g==m){ba(c),$o(c),c.g=null;var S=2}else if(yi(c.h,m))v=m.G,jo(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;S=ma(),Mt(S,new ui(S,v)),Ai(c)}else Uu(c);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&Sa(c,m)||S==2&&Os(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function ju(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Si(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),S=c.Ua;const P=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jt(S,"https"),bs(S),P?Yn(S.toString(),v):Go(S.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(m),zu(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const m=zo(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function qu(c,m,v){var S=v instanceof yn?St(v):new yn(v);if(S.g!="")m&&(S.g=m+"."+S.g),vr(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new yn(null);S&&jt(q,S),m&&(q.g=m),P&&vr(q,P),v&&(q.h=v),S=q}return v=c.G,m=c.wa,v&&m&&Ke(S,v,m),Ke(S,"VER",c.ka),Ds(c,S),S}function Bu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Je(new vi({ab:v})):new Je(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}r=Hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){vt.call(this),this.g=new wr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Fi(this)}b(rn,vt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Yo(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);m.i.push(new At(m.Ya++,c)),m.I==3&&Ai(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,rn.Z.N.call(this)};function Fu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(Fu,Bt);function Gu(){In.call(this),this.status=1}b(Gu,In);function Fi(c){this.g=c}b(Fi,Hu),Fi.prototype.ra=function(){Mt(this.g,"a")},Fi.prototype.qa=function(c){Mt(this.g,new Fu(c))},Fi.prototype.pa=function(c){Mt(this.g,new Gu)},Fi.prototype.oa=function(){Mt(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,nT=function(){return new Ir},tT=function(){return ma()},eT=dt,jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,nh=As,Vo.COMPLETE="complete",W0=Vo,Su.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Ll=Su,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Z0=Je}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",aE="4.9.3";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let So="12.7.0";const ta=new cg("@firebase/firestore");function no(){return ta.logLevel}function re(r,...e){if(ta.logLevel<=De.DEBUG){const n=e.map(dg);ta.debug(`Firestore (${So}): ${r}`,...n)}}function mr(r,...e){if(ta.logLevel<=De.ERROR){const n=e.map(dg);ta.error(`Firestore (${So}): ${r}`,...n)}}function mo(r,...e){if(ta.logLevel<=De.WARN){const n=e.map(dg);ta.warn(`Firestore (${So}): ${r}`,...n)}}function dg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ge(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,iT(r,s,n)}function iT(r,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function Fe(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||iT(e,l,s)}function Ee(r,e){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class bR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wR{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new rT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class RR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new RR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=NR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function zm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=e.charAt(s);if(l!==u)return _m(l)===_m(u)?Oe(l,u):_m(l)?1:-1}return Oe(r.length,e.length)}const DR=55296,OR=57343;function _m(r){const e=r.charCodeAt(0);return e>=DR&&e<=OR}function go(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}const lE="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ge(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Oi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),l=Oi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class nt extends Oi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const xR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Oi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return xR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Xt([lE])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(u(),l++)}if(u(),d)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ue{constructor(e){this.path=e}static fromPath(e){return new ue(nt.fromString(e))}static fromName(e){return new ue(nt.fromString(e).popFirst(5))}static empty(){return new ue(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new nt(e.slice()))}}function sT(r,e,n){if(!n)throw new ie(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MR(r,e,n,s){if(e===!0&&s===!0)throw new ie(K.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function uE(r){if(!ue.isDocumentKey(r))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cE(r){if(ue.isDocumentKey(r))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function aT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function Hn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(r);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function uu(r,e){if(!aT(r))throw new ie(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ie(K.INVALID_ARGUMENT,n);return!0}const hE=-62135596800,fE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*fE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hE)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new st(0,0))}static max(){return new ye(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function VR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=ye.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new ss(l,ue.empty(),e)}function kR(r){return new ss(r.readTime,r.key,Xl)}class ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(ye.min(),ue.empty(),Xl)}static max(){return new ss(ye.max(),ue.empty(),Xl)}}function UR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}const PR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bo(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==PR)throw r;re("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,s)=>{n(e)}))}static reject(e){return new $(((n,s)=>{s(e)}))}static waitFor(e){return new $(((n,s)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>s(y)))})),d=!0,u===l&&n()}))}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new $(((s,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((A=>{d[p]=A,++g,g===u&&s(d)}),(A=>l(A)))}}))}static doWhile(e,n){return new $(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function jR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;const gg=-1;function Ph(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function zR(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const oT="";function qR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=dE(e)),e=BR(r.get(n),e);return dE(e)}function BR(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case oT:n+="";break;default:n+=u}}return n}function dE(r){return r+oT+""}function mE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function fs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function lT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=l??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Yt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(e){return new gE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class gE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Pt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class uT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uT("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const HR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=HR.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const cT="server_timestamp",hT="__type__",fT="__previous_value__",dT="__local_write_time__";function pg(r){return(r?.mapValue?.fields||{})[hT]?.stringValue===cT}function Lh(r){const e=r.mapValue.fields[fT];return pg(e)?Lh(e):e}function $l(r){const e=as(r.mapValue.fields[dT].timestampValue);return new st(e.seconds,e.nanos)}class FR{constructor(e,n,s,l,u,d,g,y,p,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=A}}const yh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}const mT="__type__",GR="__max__",Jc={mapValue:{}},gT="__vector__",_h="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pg(r)?4:KR(r)?9007199254740991:QR(r)?10:11:ge(28295,{value:r})}function ji(r,e){if(r===e)return!0;const n=ls(r);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=as(l.timestampValue),g=as(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return os(l.bytesValue).isEqual(os(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=yt(l.doubleValue),g=yt(u.doubleValue);return d===g?ph(d)===ph(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(mE(d)!==mE(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ji(d[y],g[y])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find((n=>ji(n,e)))!==void 0}function po(r,e){if(r===e)return 0;const n=ls(r),s=ls(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=yt(u.integerValue||u.doubleValue),y=yt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return pE(r.timestampValue,e.timestampValue);case 4:return pE($l(r),$l(e));case 5:return zm(r.stringValue,e.stringValue);case 6:return(function(u,d){const g=os(u),y=os(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const A=Oe(g[p],y[p]);if(A!==0)return A}return Oe(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Oe(yt(u.latitude),yt(d.latitude));return g!==0?g:Oe(yt(u.longitude),yt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return yE(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[_h]?.arrayValue,A=y[_h]?.arrayValue,b=Oe(p?.values?.length||0,A?.values?.length||0);return b!==0?b:yE(p,A)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Jc.mapValue&&d===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(d===Jc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},A=Object.keys(p);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const x=zm(y[b],A[b]);if(x!==0)return x;const F=po(g[y[b]],p[A[b]]);if(F!==0)return F}return Oe(y.length,A.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function pE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=as(r),s=as(e),l=Oe(n.seconds,s.seconds);return l!==0?l:Oe(n.nanos,s.nanos)}function yE(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=po(n[l],s[l]);if(u)return u}return Oe(n.length,s.length)}function yo(r){return qm(r)}function qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=as(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return os(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ue.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=qm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${qm(n.fields[d])}`;return l+"}"})(r.mapValue):ge(61005,{value:r})}function ih(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(r);return e?16+ih(e):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return fs(s.fields,((u,d)=>{l+=u.length+ih(d)})),l})(r.mapValue);default:throw ge(13486,{value:r})}}function _E(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Bm(r){return!!r&&"integerValue"in r}function yg(r){return!!r&&"arrayValue"in r}function vE(r){return!!r&&"nullValue"in r}function EE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function QR(r){return(r?.mapValue?.fields||{})[mT]?.stringValue===gT}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return fs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Hl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return e}return{...r}}function KR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GR}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Xt.emptyPath(),s={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=Hl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];rh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){fs(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new gn(Hl(this.value))}}function pT(r){const e=[];return fs(r.fields,((n,s)=>{const l=new Xt([n]);if(rh(s)){const u=pT(s.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new wn(e)}class en{constructor(e,n,s,l,u,d,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new en(e,0,ye.min(),ye.min(),ye.min(),gn.empty(),0)}static newFoundDocument(e,n,s,l){return new en(e,1,n,ye.min(),s,l,0)}static newNoDocument(e,n){return new en(e,2,n,ye.min(),ye.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ye.min(),ye.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,n){this.position=e,this.inclusive=n}}function TE(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?s=ue.comparator(ue.fromName(d.referenceValue),n.key):s=po(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function AE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ji(r.position[n],e.position[n]))return!1;return!0}class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function YR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class yT{}class Nt extends yT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $R(e,n,s):n==="array-contains"?new WR(e,s):n==="in"?new eI(e,s):n==="not-in"?new tI(e,s):n==="array-contains-any"?new nI(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new JR(e,s):new ZR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends yT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new si(e,n)}matches(e){return _T(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _T(r){return r.op==="and"}function vT(r){return XR(r)&&_T(r)}function XR(r){for(const e of r.filters)if(e instanceof si)return!1;return!0}function Hm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(vT(r))return r.filters.map((e=>Hm(e))).join(",");{const e=r.filters.map((n=>Hm(n))).join(",");return`${r.op}(${e})`}}function ET(r,e){return r instanceof Nt?(function(s,l){return l instanceof Nt&&s.op===l.op&&s.field.isEqual(l.field)&&ji(s.value,l.value)})(r,e):r instanceof si?(function(s,l){return l instanceof si&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,g)=>u&&ET(d,l.filters[g])),!0):!1})(r,e):void ge(19439)}function TT(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"})(r):"Filter"}class $R extends Nt{constructor(e,n,s){super(e,n,s),this.key=ue.fromName(s.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class JR extends Nt{constructor(e,n){super(e,"in",n),this.keys=AT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ZR extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=AT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function AT(r,e){return(e.arrayValue?.values||[]).map((n=>ue.fromName(n.referenceValue)))}class WR extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yg(n)&&Zl(n.arrayValue,this.value)}}class eI extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class tI extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class nI extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Zl(this.value.arrayValue,s)))}}class iI{constructor(e,n=null,s=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function SE(r,e=null,n=[],s=[],l=null,u=null,d=null){return new iI(r,e,n,s,l,u,d)}function _g(r){const e=Ee(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Hm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=n}return e.Te}function vg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!YR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ET(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!AE(r.startAt,e.startAt)&&AE(r.endAt,e.endAt)}function Fm(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ro{constructor(e,n=null,s=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rI(r,e,n,s,l,u,d,g){return new Ro(r,e,n,s,l,u,d,g)}function jh(r){return new Ro(r)}function bE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ST(r){return r.collectionGroup!==null}function Fl(r){const e=Ee(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Pt(Xt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Wl(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Wl(Xt.keyField(),s))}return e.Ie}function xi(r){const e=Ee(r);return e.Ee||(e.Ee=sI(e,Fl(r))),e.Ee}function sI(r,e){if(r.limitType==="F")return SE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Wl(l.field,u)}));const n=r.endAt?new vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vh(r.startAt.position,r.startAt.inclusive):null;return SE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Gm(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Qm(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function zh(r,e){return vg(xi(r),xi(e))&&r.limitType===e.limitType}function bT(r){return`${_g(xi(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>TT(l))).join(", ")}]`),Ph(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>yo(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>yo(l))).join(",")),`Target(${s})`})(xi(r))}; limitType=${r.limitType})`}function qh(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ue.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Fl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const p=TE(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,Fl(s),l)||s.endAt&&!(function(d,g,y){const p=TE(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,Fl(s),l))})(r,e)}function aI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wT(r){return(e,n)=>{let s=!1;for(const l of Fl(r)){const u=oI(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function oI(r,e,n){const s=r.field.isKeyField()?ue.comparator(e.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?po(y,p):ge(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:r.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return lT(this.inner)}size(){return this.innerSize}}const lI=new ct(ue.comparator);function gr(){return lI}const RT=new ct(ue.comparator);function jl(...r){let e=RT;for(const n of r)e=e.insert(n.key,n);return e}function IT(r){let e=RT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $s(){return Gl()}function CT(){return Gl()}function Gl(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const uI=new ct(ue.comparator),cI=new Pt(ue.comparator);function xe(...r){let e=cI;for(const n of r)e=e.add(n);return e}const hI=new Pt(Oe);function fI(){return hI}function Eg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function NT(r){return{integerValue:""+r}}function DT(r,e){return zR(e)?NT(e):Eg(r,e)}class Bh{constructor(){this._=void 0}}function dI(r,e,n){return r instanceof eu?(function(l,u){const d={fields:{[hT]:{stringValue:cT},[dT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&pg(u)&&(u=Lh(u)),u&&(d.fields[fT]=u),{mapValue:d}})(n,e):r instanceof tu?xT(r,e):r instanceof nu?MT(r,e):(function(l,u){const d=OT(l,u),g=wE(d)+wE(l.Ae);return Bm(d)&&Bm(l.Ae)?NT(g):Eg(l.serializer,g)})(r,e)}function mI(r,e,n){return r instanceof tu?xT(r,e):r instanceof nu?MT(r,e):n}function OT(r,e){return r instanceof iu?(function(s){return Bm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class eu extends Bh{}class tu extends Bh{constructor(e){super(),this.elements=e}}function xT(r,e){const n=VT(e);for(const s of r.elements)n.some((l=>ji(l,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends Bh{constructor(e){super(),this.elements=e}}function MT(r,e){let n=VT(e);for(const s of r.elements)n=n.filter((l=>!ji(l,s)));return{arrayValue:{values:n}}}class iu extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wE(r){return yt(r.integerValue||r.doubleValue)}function VT(r){return yg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class kT{constructor(e,n){this.field=e,this.transform=n}}function gI(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tu&&l instanceof tu||s instanceof nu&&l instanceof nu?go(s.elements,l.elements,ji):s instanceof iu&&l instanceof iu?ji(s.Ae,l.Ae):s instanceof eu&&l instanceof eu})(r.transform,e.transform)}class pI{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function UT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Tg(r.key,ii.none()):new cu(r.key,r.data,ii.none());{const n=r.data,s=gn.empty();let l=new Pt(Xt.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ds(r.key,s,new wn(l.toArray()),ii.none())}}function yI(r,e,n){r instanceof cu?(function(l,u,d){const g=l.value.clone(),y=IE(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):r instanceof ds?(function(l,u,d){if(!sh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=IE(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(PT(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Ql(r,e,n,s){return r instanceof cu?(function(u,d,g,y){if(!sh(u.precondition,d))return g;const p=u.value.clone(),A=CE(u.fieldTransforms,y,d);return p.setAll(A),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof ds?(function(u,d,g,y){if(!sh(u.precondition,d))return g;const p=CE(u.fieldTransforms,y,d),A=d.data;return A.setAll(PT(u)),A.setAll(p),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,d,g){return sh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,n)}function _I(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=OT(s.transform,l||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function RE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&go(s,l,((u,d)=>gI(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cu extends Hh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ds extends Hh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function PT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function IE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,g=e.data.field(u.field);s.set(u.field,mI(d,g,n[l]))}return s}function CE(r,e,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,dI(u,d,e))}return s}class Tg extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EI{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&yI(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=CT();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=UT(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(ye.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),xe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>RE(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>RE(n,s)))}}class Ag{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return uI})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new Ag(e,n,s,l)}}class TI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Ue;function SI(r){switch(r){case K.OK:return ge(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function LT(r){if(r===void 0)return mr("GRPC error has no .code"),K.UNKNOWN;switch(r){case Ct.OK:return K.OK;case Ct.CANCELLED:return K.CANCELLED;case Ct.UNKNOWN:return K.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return K.INTERNAL;case Ct.UNAVAILABLE:return K.UNAVAILABLE;case Ct.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ct.NOT_FOUND:return K.NOT_FOUND;case Ct.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ct.ABORTED:return K.ABORTED;case Ct.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ct.DATA_LOSS:return K.DATA_LOSS;default:return ge(39323,{code:r})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function bI(){return new TextEncoder}const wI=new is([4294967295,4294967295],0);function NE(r){const e=bI().encode(r),n=new J0;return n.update(e),new Uint8Array(n.digest())}function DE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([l,u],0)]}class Sg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=is.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(is.fromNumber(s)));return l.compare(wI)===1&&(l=new is([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NE(e),[s,l]=DE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Sg(u,l,n);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=NE(e),[s,l]=DE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(ye.min(),l,new ct(Oe),gr(),xe())}}class hu{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,xe(),xe(),xe())}}class ah{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class jT{constructor(e,n){this.targetId=e,this.Ce=n}}class zT{constructor(e,n,s=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class OE{constructor(){this.ve=0,this.Fe=xE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),s=xe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:ge(38017,{changeType:u})}})),new hu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=xE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RI{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=Zc(),this.He=Zc(),this.Ye=new ct(Oe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Fm(u))if(s===0){const d=new ue(u.path);this.et(n,d,en.newNoDocument(d,ye.min()))}else Fe(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=os(s).toUint8Array()}catch(y){if(y instanceof uT)return mo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Sg(d,l,u)}catch(y){return mo(y instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Fm(g.target)){const y=new ue(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,en.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=xe();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Fh(e,n,this.Ye,this.je,s);return this.je=gr(),this.Je=Zc(),this.He=Zc(),this.Ye=new ct(Oe),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new OE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Oe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Oe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new ct(ue.comparator)}function xE(){return new ct(ue.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class DI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(r,e){return r.useProto3Json||Ph(e)?e:{value:e}}function Eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OI(r,e){return Eh(r,e.toTimestamp())}function Mi(r){return Fe(!!r,49232),ye.fromTimestamp((function(n){const s=as(n);return new st(s.seconds,s.nanos)})(r))}function bg(r,e){return Ym(r,e).canonicalString()}function Ym(r,e){const n=(function(l){return new nt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function BT(r){const e=nt.fromString(r);return Fe(KT(e),10190,{key:e.toString()}),e}function Xm(r,e){return bg(r.databaseId,e.path)}function vm(r,e){const n=BT(e);if(n.get(1)!==r.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ue(FT(n))}function HT(r,e){return bg(r.databaseId,e)}function xI(r){const e=BT(r);return e.length===4?nt.emptyPath():FT(e)}function $m(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ME(r,e,n){return{name:Xm(r,e),fields:n.value.mapValue.fields}}function MI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ge(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,A){return p.useProto3Json?(Fe(A===void 0||typeof A=="string",58123),$t.fromBase64String(A||"")):(Fe(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),$t.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const A=p.code===void 0?K.UNKNOWN:LT(p.code);return new ie(A,p.message||"")})(d);n=new zT(s,l,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=vm(r,s.document.name),u=Mi(s.document.updateTime),d=s.document.createTime?Mi(s.document.createTime):ye.min(),g=new gn({mapValue:{fields:s.document.fields}}),y=en.newFoundDocument(l,u,d,g),p=s.targetIds||[],A=s.removedTargetIds||[];n=new ah(p,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=vm(r,s.document),u=s.readTime?Mi(s.readTime):ye.min(),d=en.newNoDocument(l,u),g=s.removedTargetIds||[];n=new ah([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=vm(r,s.document),u=s.removedTargetIds||[];n=new ah([],u,l,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new AI(l,u),g=s.targetId;n=new jT(g,d)}}return n}function VI(r,e){let n;if(e instanceof cu)n={update:ME(r,e.key,e.value)};else if(e instanceof Tg)n={delete:Xm(r,e.key)};else if(e instanceof ds)n={update:ME(r,e.key,e.data),updateMask:HI(e.fieldMask)};else{if(!(e instanceof vI))return ge(16599,{Vt:e.type});n={verify:Xm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const g=d.transform;if(g instanceof eu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof iu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ge(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:OI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ge(27497)})(r,e.precondition)),n}function kI(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?Mi(l.updateTime):Mi(u);return d.isEqual(ye.min())&&(d=Mi(u)),new pI(d,l.transformResults||[])})(n,e)))):[]}function UI(r,e){return{documents:[HT(r,e.path)]}}function PI(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=HT(r,l);const u=(function(p){if(p.length!==0)return QT(si.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((A=>(function(x){return{field:ro(x.field),direction:zI(x.dir)}})(A)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Km(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:l}}function LI(r){let e=xI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Fe(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let u=[];n.where&&(u=(function(b){const x=GT(b);return x instanceof si&&vT(x)?x.getFilters():[x]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((x=>(function(Z){return new Wl(so(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(n.orderBy));let g=null;n.limit&&(g=(function(b){let x;return x=typeof b=="object"?b.value:b,Ph(x)?null:x})(n.limit));let y=null;n.startAt&&(y=(function(b){const x=!!b.before,F=b.values||[];return new vh(F,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const x=!b.before,F=b.values||[];return new vh(F,x)})(n.endAt)),rI(e,l,d,u,g,"F",y,p)}function jI(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=so(n.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(n.unaryFilter.field);return Nt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(so(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>GT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(n.compositeFilter.op))})(r):ge(30097,{filter:r})}function zI(r){return II[r]}function qI(r){return CI[r]}function BI(r){return NI[r]}function ro(r){return{fieldPath:r.canonicalString()}}function so(r){return Xt.fromServerFormat(r.fieldPath)}function QT(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(vE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(vE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:qI(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((l=>QT(l)));return s.length===1?s[0]:{compositeFilter:{op:BI(n.op),filters:s}}})(r):ge(54877,{filter:r})}function HI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ts{constructor(e,n,s,l,u=ye.min(),d=ye.min(),g=$t.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FI{constructor(e){this.yt=e}}function GI(r){const e=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qm(e,e.limit,"L"):e}class QI{constructor(){this.Cn=new KI}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ss.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class KI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Pt(nt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Pt(nt.comparator)).toArray()}}const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(YT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const kE="LruGarbageCollector",YI=1048576;function UE([r,e],[n,s]){const l=Oe(r,n);return l===0?Oe(e,s):l}class XI{constructor(e){this.Ir=e,this.buffer=new Pt(UE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();UE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $I{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(kE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?re(kE,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class JI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Uh.ce);const s=new XI(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(VE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,d,g,y,p;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(s=b,g=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),no()<=De.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${b} documents in `+(p-y)+`ms
Total Duration: ${p-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function ZI(r,e){return new JI(r,e)}class WI{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class tC{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Ql(s.mutation,l,wn.empty(),st.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,xe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=xe()){const l=$s();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let d=jl();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,xe())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,s,l){let u=gr();const d=Gl(),g=(function(){return Gl()})();return n.forEach(((y,p)=>{const A=s.get(p.key);l.has(p.key)&&(A===void 0||A.mutation instanceof ds)?u=u.insert(p.key,p):A!==void 0?(d.set(p.key,A.mutation.getFieldMask()),Ql(A.mutation,p,A.mutation.getFieldMask(),st.now())):d.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,A)=>d.set(p,A))),n.forEach(((p,A)=>g.set(p,new eC(A,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=Gl();let l=new ct(((d,g)=>d-g)),u=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let A=s.get(y)||wn.empty();A=g.applyToLocalView(p,A),s.set(y,A);const b=(l.get(g.batchId)||xe()).add(y);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,A=y.value,b=CT();A.forEach((x=>{if(!u.has(x)){const F=UT(n.get(x),s.get(x));F!==null&&b.set(x,F),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,b))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(d){return ue.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ST(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):$.resolve($s());let g=Xl,y=u;return d.next((p=>$.forEach(p,((A,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{y=y.insert(A,x)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,xe()))).next((A=>({batchId:g,changes:IT(A)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next((s=>{let l=jl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,u).next((g=>$.forEach(g,(y=>{const p=(function(b,x){return new Ro(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,l).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((d=>{u.forEach(((y,p)=>{const A=p.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))}));let g=jl();return d.forEach(((y,p)=>{const A=u.get(y);A!==void 0&&Ql(A.mutation,p,wn.empty(),st.now()),qh(n,p)&&(g=g.insert(y,p))})),g}))}}class nC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:GI(l.bundledQuery),readTime:Mi(l.readTime)}})(n)),$.resolve()}}class iC{constructor(){this.overlays=new ct(ue.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return $.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),$.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const l=$s(),u=n.length+1,d=new ue(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>s&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ct(((p,A)=>p-A));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let A=u.get(p.largestBatchId);A===null&&(A=$s(),u=u.insert(p.largestBatchId,A)),A.set(p.getKey(),p)}}const g=$s(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,A)=>g.set(p,A))),!(g.size()>=l)););return $.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new TI(n,s));let u=this.qr.get(n);u===void 0&&(u=xe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class rC{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}class wg{constructor(){this.Qr=new Pt(qt.$r),this.Ur=new Pt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ue(new nt([])),s=new qt(n,e),l=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new nt([])),s=new qt(n,e),l=new qt(n,e+1);let u=xe();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||Oe(e.Yr,n.Yr)}static Kr(e,n){return Oe(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}class sC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(qt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new EI(u,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new qt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?gg:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),l=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Oe);return n.forEach((l=>{const u=new qt(l,0),d=new qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;ue.isDocumentKey(u)||(u=u.child(""));const d=new qt(new ue(u),0);let g=new Pt(Oe);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(l=>{const u=new qt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class aC{constructor(e){this.ri=e,this.docs=(function(){return new ct(ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=gr();const d=n.path,g=new ue(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:A}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||UR(kR(A),s)<=0||(l.has(A.key)||qh(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,s,l){ge(9500)}ii(e,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new oC(this)}getSize(e){return $.resolve(this.size)}}class oC extends WI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class lC{constructor(e){this.persistence=e,this.si=new la((n=>_g(n)),vg),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new wg,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}class XT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new rC,this.referenceDelegate=e(this),this.Pi=new lC(this),this.indexManager=new QI,this.remoteDocumentCache=(function(l){return new aC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new FI(n),this.Ii=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new sC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){re("MemoryPersistence","Starting transaction:",e);const l=new uC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class uC extends LR{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new wg,this.Vi=null}static mi(e){return new Rg(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=ue.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.pi=new la((s=>qR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=ZI(this,n)}static mi(e,n){return new Th(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?$.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((g=>{g||(s++,u.removeEntry(d,ye.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,s){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ig{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=xe(),l=xe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Ig(e,n.fromCache,s,l)}}class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return o1()?8:jR(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new cC;return this.Ss(e,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,d,g.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(no()<=De.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(no()<=De.DEBUG&&re("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(no()<=De.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):$.resolve())}ys(e,n){if(bE(n))return $.resolve(null);let s=xi(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Qm(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=xe(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(n,g);return this.Cs(n,p,d,y.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,s,l){return bE(n)||l.isEqual(ye.min())?$.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,l)?$.resolve(null):(no()<=De.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),io(n)),this.vs(e,d,n,VR(l,Xl)).next((g=>g)))}))}Ds(e,n){let s=new Pt(wT(e));return n.forEach(((l,u)=>{qh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return no()<=De.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(e,n,ss.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Cg="LocalStore",fC=3e8;class dC{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ct(Oe),this.xs=new la((u=>_g(u)),vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mC(r,e,n,s){return new dC(r,e,n,s)}async function $T(r,e){const n=Ee(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],g=[];let y=xe();for(const p of l){d.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}for(const p of u){g.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}return n.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function gC(r,e){const n=Ee(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,A){const b=p.batch,x=b.keys();let F=$.resolve();return x.forEach((Z=>{F=F.next((()=>A.getEntry(y,Z))).next((ee=>{const J=p.docVersions.get(Z);Fe(J!==null,48541),ee.version.compareTo(J)<0&&(b.applyToRemoteDocument(ee,p),ee.isValidDocument()&&(ee.setReadTime(p.commitVersion),A.addEntry(ee)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(y,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=xe();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function JT(r){const e=Ee(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function pC(r,e){const n=Ee(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((A,b)=>{const x=l.get(b);if(!x)return;g.push(n.Pi.removeMatchingKeys(u,A.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,A.addedDocuments,b))));let F=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?F=F.withResumeToken($t.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(b,F),(function(ee,J,ce){return ee.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=fC?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(x,F,A)&&g.push(n.Pi.updateTargetData(u,F))}));let y=gr(),p=xe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(yC(u,d,e.documentUpdates).next((A=>{y=A.ks,p=A.qs}))),!s.isEqual(ye.min())){const A=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(A)}return $.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function yC(r,e,n){let s=xe(),l=xe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let d=gr();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(ye.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):re(Cg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function _C(r,e){const n=Ee(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=gg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function vC(r,e){const n=Ee(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new ts(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jm(r,e,n){const s=Ee(r),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;re(Cg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function PE(r,e,n){const s=Ee(r);let l=ye.min(),u=xe();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,A){const b=Ee(y),x=b.xs.get(A);return x!==void 0?$.resolve(b.Ms.get(x)):b.Pi.getTargetData(p,A)})(s,d,xi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?l:ye.min(),n?u:xe()))).next((g=>(EC(s,aI(e),g),{documents:g,Qs:u})))))}function EC(r,e,n){let s=r.Os.get(e)||ye.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class LE{constructor(){this.activeTargetIds=fI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TC{constructor(){this.Mo=new LE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new LE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AC{Oo(e){}shutdown(){}}const jE="ConnectivityMonitor";class zE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(jE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(jE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wc=null;function Zm(){return Wc===null?Wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wc++,"0x"+Wc.toString(16)}const Em="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const d=Zm(),g=this.zo(e,n.toUriEncodedString());re(Em,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:p}=new URL(g),A=Eo(p);return this.Jo(e,g,y,s,A).then((b=>(re(Em,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw mo(Em,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",s),b}))}Ho(e,n,s,l,u,d){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=SC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class wC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class RC extends bC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const d=Zm();return new Promise(((g,y)=>{const p=new Z0;p.setWithCredentials(!0),p.listenOnce(W0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nh.NO_ERROR:const b=p.getResponseJson();re(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case nh.TIMEOUT:re(Zt,`RPC '${e}' ${d} timed out`),y(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const x=p.getStatus();if(re(Zt,`RPC '${e}' ${d} failed with status:`,x,"response text:",p.getResponseText()),x>0){let F=p.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const ee=(function(ce){const _e=ce.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(_e)>=0?_e:K.UNKNOWN})(Z.status);y(new ie(ee,Z.message))}else y(new ie(K.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ie(K.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{re(Zt,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);re(Zt,`RPC '${e}' ${d} sending request:`,l),p.send(n,"POST",A,s,15)}))}T_(e,n,s){const l=Zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=nT(),g=tT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const A=u.join("");re(Zt,`Creating RPC '${e}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let x=!1,F=!1;const Z=new wC({Yo:J=>{F?re(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(x||(re(Zt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),x=!0),re(Zt,`RPC '${e}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),ee=(J,ce,_e)=>{J.listen(ce,(de=>{try{_e(de)}catch(He){setTimeout((()=>{throw He}),0)}}))};return ee(b,Ll.EventType.OPEN,(()=>{F||(re(Zt,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),ee(b,Ll.EventType.CLOSE,(()=>{F||(F=!0,re(Zt,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(b))})),ee(b,Ll.EventType.ERROR,(J=>{F||(F=!0,mo(Zt,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new ie(K.UNAVAILABLE,"The operation could not be completed")))})),ee(b,Ll.EventType.MESSAGE,(J=>{if(!F){const ce=J.data[0];Fe(!!ce,16349);const _e=ce,de=_e?.error||_e[0]?.error;if(de){re(Zt,`RPC '${e}' stream ${l} received error:`,de);const He=de.status;let Ge=(function(T){const w=Ct[T];if(w!==void 0)return LT(w)})(He),Me=de.message;Ge===void 0&&(Ge=K.INTERNAL,Me="Unknown error status: "+He+" with message "+de.message),F=!0,Z.a_(new ie(Ge,Me)),b.close()}else re(Zt,`RPC '${e}' stream ${l} received:`,ce),Z.u_(ce)}})),ee(g,eT.STAT_EVENT,(J=>{J.stat===jm.PROXY?re(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===jm.NOPROXY&&re(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Tm(){return typeof document<"u"?document:null}function Gh(r){return new DI(r,!0)}class ZT{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qE="PersistentStream";class WT{constructor(e,n,s,l,u,d,g,y){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new ie(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(re(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IC extends WT{constructor(e,n,s,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ye.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?ye.min():d.readTime?Mi(d.readTime):ye.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=Fm(y)?{documents:UI(u,y)}:{query:PI(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qT(u,d.resumeToken);const p=Km(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(ye.min())>0){g.readTime=Eh(u,d.snapshotVersion.toTimestamp());const p=Km(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=jI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class CC extends WT{constructor(e,n,s,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kI(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>VI(this.serializer,s)))};this.q_(n)}}class NC{}class DC extends NC{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Ym(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(K.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Ym(n,s),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ie(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class xC{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ua(this)&&(re(na,"Restarting streams for network reachability change."),await(async function(y){const p=Ee(y);p.Ea.add(4),await fu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Qh(p)})(this))}))})),this.Ra=new OC(s,l)}}async function Qh(r){if(ua(r))for(const e of r.da)await e(!0)}async function fu(r){for(const e of r.da)await e(!1)}function eA(r,e){const n=Ee(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xg(n)?Og(n):Io(n).O_()&&Dg(n,e))}function Ng(r,e){const n=Ee(r),s=Io(n);n.Ia.delete(e),s.O_()&&tA(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function Dg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).Y_(e)}function tA(r,e){r.Va.Ue(e),Io(r).Z_(e)}function Og(r){r.Va=new RI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Ra.ua()}function xg(r){return ua(r)&&!Io(r).x_()&&r.Ia.size>0}function ua(r){return Ee(r).Ea.size===0}function nA(r){r.Va=void 0}async function MC(r){r.Ra.set("Online")}async function VC(r){r.Ia.forEach(((e,n)=>{Dg(r,e)}))}async function kC(r,e){nA(r),xg(r)?(r.Ra.ha(e),Og(r)):r.Ra.set("Unknown")}async function UC(r,e,n){if(r.Ra.set("Online"),e instanceof zT&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(s){re(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(r,s)}else if(e instanceof ah?r.Va.Ze(e):e instanceof jT?r.Va.st(e):r.Va.tt(e),!n.isEqual(ye.min()))try{const s=await JT(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const A=u.Ia.get(p);A&&u.Ia.set(p,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const A=u.Ia.get(y);if(!A)return;u.Ia.set(y,A.withResumeToken($t.EMPTY_BYTE_STRING,A.snapshotVersion)),tA(u,y);const b=new ts(A.target,y,p,A.sequenceNumber);Dg(u,b)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){re(na,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,e,n){if(!wo(e))throw e;r.Ea.add(1),await fu(r),r.Ra.set("Offline"),n||(n=()=>JT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{re(na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Qh(r)}))}function iA(r,e){return e().catch((n=>Ah(r,n,e)))}async function Kh(r){const e=Ee(r),n=us(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gg;for(;PC(e);)try{const l=await _C(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,LC(e,l)}catch(l){await Ah(e,l)}rA(e)&&sA(e)}function PC(r){return ua(r)&&r.Ta.length<10}function LC(r,e){r.Ta.push(e);const n=us(r);n.O_()&&n.X_&&n.ea(e.mutations)}function rA(r){return ua(r)&&!us(r).x_()&&r.Ta.length>0}function sA(r){us(r).start()}async function jC(r){us(r).ra()}async function zC(r){const e=us(r);for(const n of r.Ta)e.ea(n.mutations)}async function qC(r,e,n){const s=r.Ta.shift(),l=Ag.from(s,e,n);await iA(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Kh(r)}async function BC(r,e){e&&us(r).X_&&await(async function(s,l){if((function(d){return SI(d)&&d!==K.ABORTED})(l.code)){const u=s.Ta.shift();us(s).B_(),await iA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Kh(s)}})(r,e),rA(r)&&sA(r)}async function BE(r,e){const n=Ee(r);n.asyncQueue.verifyOperationInProgress(),re(na,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await fu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qh(n)}async function HC(r,e){const n=Ee(r);e?(n.Ea.delete(2),await Qh(n)):e||(n.Ea.add(2),await fu(n),n.Ra.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(n,s,l){const u=Ee(n);return u.sa(),new IC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:MC.bind(null,r),t_:VC.bind(null,r),r_:kC.bind(null,r),H_:UC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),xg(r)?Og(r):r.Ra.set("Unknown")):(await r.ma.stop(),nA(r))}))),r.ma}function us(r){return r.fa||(r.fa=(function(n,s,l){const u=Ee(n);return u.sa(),new CC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jC.bind(null,r),r_:BC.bind(null,r),ta:zC.bind(null,r),na:qC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Kh(r)):(await r.fa.stop(),r.Ta.length>0&&(re(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Mg{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const d=Date.now()+s,g=new Mg(e,n,d,l,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(r,e){if(mr("AsyncQueue",`${e}: ${r}`),wo(r))return new ie(K.UNAVAILABLE,`${e}: ${r}`);throw r}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ue.comparator(n.key,s.key):(n,s)=>ue.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class HE{constructor(){this.ga=new ct(ue.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vo{constructor(e,n,s,l,u,d,g,y,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new vo(e,n,uo.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class FC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class GC{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Ee(n),u=l.queries;l.queries=FE(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new ie(K.ABORTED,"Firestore shutting down"))}}function FE(){return new la((r=>bT(r)),zh)}async function kg(r,e){const n=Ee(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new FC,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Vg(d,`Initialization of query '${io(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Pg(n)}async function Ug(r,e){const n=Ee(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QC(r,e){const n=Ee(r);let s=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Pg(n)}function KC(r,e,n){const s=Ee(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function Pg(r){r.Ca.forEach((e=>{e.next()}))}var Wm,GE;(GE=Wm||(Wm={})).Ma="default",GE.Cache="cache";class Lg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}class aA{constructor(e){this.key=e}}class oA{constructor(e){this.key=e}}class YC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=wT(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new HE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,b)=>{const x=l.get(A),F=qh(this.query,b)?b:null,Z=!!x&&this.mutatedKeys.has(x.key),ee=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;x&&F?x.data.isEqual(F.data)?Z!==ee&&(s.track({type:3,doc:F}),J=!0):this.su(x,F)||(s.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||p&&this.eu(F,p)<0)&&(g=!0)):!x&&F?(s.track({type:0,doc:F}),J=!0):x&&!F&&(s.track({type:1,doc:x}),J=!0,(y||p)&&(g=!0)),J&&(F?(d=d.add(F),u=ee?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(F,Z){const ee=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:J})}};return ee(F)-ee(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new vo(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new oA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new aA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jg="SyncEngine";class XC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $C{constructor(e){this.key=e,this.hu=!1}}class JC{constructor(e,n,s,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new la((g=>bT(g)),zh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ue.comparator),this.Au=new Map,this.Ru=new wg,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZC(r,e,n=!0){const s=dA(r);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await lA(s,e,n,!0),l}async function WC(r,e){const n=dA(r);await lA(n,e,!0,!1)}async function lA(r,e,n,s){const l=await vC(r.localStore,xi(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await e2(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&eA(r.remoteStore,l),g}async function e2(r,e,n,s,l){r.pu=(b,x,F)=>(async function(ee,J,ce,_e){let de=J.view.ru(ce);de.Cs&&(de=await PE(ee.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,de))));const He=_e&&_e.targetChanges.get(J.targetId),Ge=_e&&_e.targetMismatches.get(J.targetId)!=null,Me=J.view.applyChanges(de,ee.isPrimaryClient,He,Ge);return KE(ee,J.targetId,Me.au),Me.snapshot})(r,b,x,F);const u=await PE(r.localStore,e,!0),d=new YC(e,u.Qs),g=d.ru(u.documents),y=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),p=d.applyChanges(g,r.isPrimaryClient,y);KE(r,n,p.au);const A=new XC(e,n,d);return r.Tu.set(e,A),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function t2(r,e,n){const s=Ee(r),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!zh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Jm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Ng(s.remoteStore,l.targetId),eg(s,l.targetId)})).catch(bo)):(eg(s,l.targetId),await Jm(s.localStore,l.targetId,!0))}async function n2(r,e){const n=Ee(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ng(n.remoteStore,s.targetId))}async function i2(r,e,n){const s=c2(r);try{const l=await(function(d,g){const y=Ee(d),p=st.now(),A=g.reduce(((F,Z)=>F.add(Z.key)),xe());let b,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=gr(),ee=xe();return y.Ns.getEntries(F,A).next((J=>{Z=J,Z.forEach(((ce,_e)=>{_e.isValidDocument()||(ee=ee.add(ce))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,Z))).next((J=>{b=J;const ce=[];for(const _e of g){const de=_I(_e,b.get(_e.key).overlayedDocument);de!=null&&ce.push(new ds(_e.key,de,pT(de.value.mapValue),ii.exists(!0)))}return y.mutationQueue.addMutationBatch(F,p,ce,g)})).next((J=>{x=J;const ce=J.applyToLocalDocumentSet(b,ee);return y.documentOverlayCache.saveOverlays(F,J.batchId,ce)}))})).then((()=>({batchId:x.batchId,changes:IT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new ct(Oe)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,l.batchId,n),await du(s,l.changes),await Kh(s.remoteStore)}catch(l){const u=Vg(l,"Failed to persist write");n.reject(u)}}async function uA(r,e){const n=Ee(r);try{const s=await pC(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Fe(d.hu,14607):l.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await du(n,s,e)}catch(s){await bo(s)}}function QE(r,e,n){const s=Ee(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ee(d);y.onlineState=g;let p=!1;y.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(g)&&(p=!0)})),p&&Pg(y)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function r2(r,e,n){const s=Ee(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let d=new ct(ue.comparator);d=d.insert(u,en.newNoDocument(u,ye.min()));const g=xe().add(u),y=new Fh(ye.min(),new Map,new ct(Oe),d,g);await uA(s,y),s.du=s.du.remove(u),s.Au.delete(e),zg(s)}else await Jm(s.localStore,e,!1).then((()=>eg(s,e,n))).catch(bo)}async function s2(r,e){const n=Ee(r),s=e.batch.batchId;try{const l=await gC(n.localStore,e);hA(n,s,null),cA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,l)}catch(l){await bo(l)}}async function a2(r,e,n){const s=Ee(r);try{const l=await(function(d,g){const y=Ee(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let A;return y.mutationQueue.lookupMutationBatch(p,g).next((b=>(Fe(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(p,b)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,A))).next((()=>y.localDocuments.getDocuments(p,A)))}))})(s.localStore,e);hA(s,e,n),cA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,l)}catch(l){await bo(l)}}function cA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function hA(r,e,n){const s=Ee(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function eg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||fA(r,s)}))}function fA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Ng(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),zg(r))}function KE(r,e,n){for(const s of n)s instanceof aA?(r.Ru.addReference(s.key,e),o2(r,s)):s instanceof oA?(re(jg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||fA(r,s.key)):ge(19791,{wu:s})}function o2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(re(jg,"New document in limbo: "+n),r.Eu.add(s),zg(r))}function zg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ue(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new $C(n)),r.du=r.du.insert(n,s),eA(r.remoteStore,new ts(xi(jh(n.path)),s,"TargetPurposeLimboResolution",Uh.ce))}}async function du(r,e,n){const s=Ee(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const A=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(p){l.push(p);const A=Ig.As(y.targetId,p);u.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,p){const A=Ee(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(p,(x=>$.forEach(x.Es,(F=>A.persistence.referenceDelegate.addReference(b,x.targetId,F))).next((()=>$.forEach(x.ds,(F=>A.persistence.referenceDelegate.removeReference(b,x.targetId,F)))))))))}catch(b){if(!wo(b))throw b;re(Cg,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const F=A.Ms.get(x),Z=F.snapshotVersion,ee=F.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(x,ee)}}})(s.localStore,u))}async function l2(r,e){const n=Ee(r);if(!n.currentUser.isEqual(e)){re(jg,"User change. New user:",e.toKey());const s=await $T(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new ie(K.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Ls)}}function u2(r,e){const n=Ee(r),s=n.Au.get(e);if(s&&s.hu)return xe().add(s.key);{let l=xe();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function dA(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r2.bind(null,e),e.Pu.H_=QC.bind(null,e.eventManager),e.Pu.yu=KC.bind(null,e.eventManager),e}function c2(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mC(this.persistence,new hC,e.initialUser,this.serializer)}Cu(e){return new XT(Rg.mi,this.serializer)}Du(e){return new TC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class h2 extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $I(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new XT((s=>Th.mi(s,n)),this.serializer)}}class tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>QE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GC})()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=(function(u){return new RC(u)})(e.databaseInfo);return(function(u,d,g,y){return new DC(u,d,g,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,d,g){return new xC(s,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>QE(this.syncEngine,n,0)),(function(){return zE.v()?new zE:new AC})())}createSyncEngine(e,n){return(function(l,u,d,g,y,p,A){const b=new JC(l,u,d,g,y,p);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ee(n);re(na,"RemoteStore shutting down."),s.Ea.add(5),await fu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tg.provider={build:()=>new tg};class qg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const cs="FirestoreClient";class f2{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{re(cs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(re(cs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Vg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Am(r,e){r.asyncQueue.verifyOperationInProgress(),re(cs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await $T(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function YE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await d2(r);re(cs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>BE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>BE(e.remoteStore,l))),r._onlineComponents=e}async function d2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){re(cs,"Using user provided OfflineComponentProvider");try{await Am(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Am(r,new Sh)}}else re(cs,"Using default OfflineComponentProvider"),await Am(r,new h2(void 0));return r._offlineComponents}async function mA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(re(cs,"Using user provided OnlineComponentProvider"),await YE(r,r._uninitializedComponentsProvider._online)):(re(cs,"Using default OnlineComponentProvider"),await YE(r,new tg))),r._onlineComponents}function m2(r){return mA(r).then((e=>e.syncEngine))}async function bh(r){const e=await mA(r),n=e.eventManager;return n.onListen=ZC.bind(null,e.syncEngine),n.onUnlisten=t2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),n}function g2(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const A=new qg({next:x=>{A.Nu(),d.enqueueAndForget((()=>Ug(u,b)));const F=x.docs.has(g);!F&&x.fromCache?p.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&y&&y.source==="server"?p.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Lg(jh(g.path),A,{includeMetadataChanges:!0,qa:!0});return kg(u,b)})(await bh(r),r.asyncQueue,e,n,s))),s.promise}function p2(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const A=new qg({next:x=>{A.Nu(),d.enqueueAndForget((()=>Ug(u,b))),x.fromCache&&y.source==="server"?p.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Lg(g,A,{includeMetadataChanges:!0,qa:!0});return kg(u,b)})(await bh(r),r.asyncQueue,e,n,s))),s.promise}function gA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const XE=new Map;const pA="firestore.googleapis.com",$E=!0;class JE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pA,this.ssl=$E}else this.host=e.host,this.ssl=e.ssl??$E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YI)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new SR;switch(s.type){case"firstParty":return new IR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=XE.get(n);s&&(re("ComponentProvider","Removing Datastore"),XE.delete(n),s.terminate())})(this),Promise.resolve()}}function y2(r,e,n,s={}){r=Hn(r,Yh);const l=Eo(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(B0(`https://${g}`),H0("Firestore",!0)),u.host!==pA&&u.host!==g&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:s};if(!ea(y,d)&&(r._setSettings(y),s.mockUserToken)){let p,A;if(typeof s.mockUserToken=="string")p=s.mockUserToken,A=Wt.MOCK_USER;else{p=Zw(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Wt(b)}r._authCredentials=new bR(new rT(p,A))}}class ms{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(uu(n,_t._jsonSchema))return new _t(e,s||null,new ue(nt.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Dt("string",_t._jsonSchemaVersion),referencePath:Dt("string")};class rs extends ms{constructor(e,n,s){super(e,n,jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new ue(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Di(r,e,...n){if(r=Ot(r),sT("collection","path",e),r instanceof Yh){const s=nt.fromString(e,...n);return cE(s),new rs(r,null,s)}{if(!(r instanceof _t||r instanceof rs))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return cE(s),new rs(r.firestore,null,s)}}function Ni(r,e,...n){if(r=Ot(r),arguments.length===1&&(e=mg.newId()),sT("doc","path",e),r instanceof Yh){const s=nt.fromString(e,...n);return uE(s),new _t(r,null,new ue(s))}{if(!(r instanceof _t||r instanceof rs))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return uE(s),new _t(r.firestore,r instanceof rs?r.converter:null,new ue(s))}}const ZE="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZT(this,"async_queue_retry"),this._c=()=>{const s=Tm();s&&re(ZE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;re(ZE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",e0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Mg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ge(47125,{Pc:e0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function e0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function t0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class hs extends Yh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new WE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function _2(r,e){const n=typeof r=="object"?r:fg(),s=typeof r=="string"?r:yh,l=To(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=$w("firestore");u&&y2(l,...u)}return l}function Xh(r){if(r._terminated)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||v2(r),r._firestoreClient}function v2(r){const e=r._freezeSettings(),n=(function(l,u,d,g){return new FR(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new f2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn($t.fromBase64String(e))}catch(n){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Dt("string",qn._jsonSchemaVersion),bytes:Dt("string")};class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mu{constructor(e){this._methodName=e}}class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(uu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Dt("string",Vi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new ie(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),vectorValues:Dt("object")};const E2=/^__.*__$/;class T2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class yA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _A(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:r})}}class Bg{constructor(e,n,s,l,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_A(this.Ac)&&E2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}Cc(e,n,s,l=!1){return new Bg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hg(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new A2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function S2(r,e,n,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);Qg("Data must be an object, but it was:",d,s);const g=vA(s,d);let y,p;if(u.merge)y=new wn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const b of u.mergeFields){const x=ng(e,b,n);if(!d.contains(x))throw new ie(K.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);TA(A,x)||A.push(x)}y=new wn(A),p=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,p=d.fieldTransforms;return new T2(new gn(g),y,p)}class Jh extends mu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}class Fg extends mu{_toFieldTransform(e){return new kT(e.path,new eu)}isEqual(e){return e instanceof Fg}}class Gg extends mu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new iu(e.serializer,DT(e.serializer,this.Fc));return new kT(e.path,n)}isEqual(e){return e instanceof Gg&&this.Fc===e.Fc}}function b2(r,e,n,s){const l=r.Cc(1,e,n);Qg("Data must be an object, but it was:",l,s);const u=[],d=gn.empty();fs(s,((y,p)=>{const A=Kg(e,y,n);p=Ot(p);const b=l.yc(A);if(p instanceof Jh)u.push(A);else{const x=gu(p,b);x!=null&&(u.push(A),d.set(A,x))}}));const g=new wn(u);return new yA(d,g,l.fieldTransforms)}function w2(r,e,n,s,l,u){const d=r.Cc(1,e,n),g=[ng(e,s,n)],y=[l];if(u.length%2!=0)throw new ie(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)g.push(ng(e,u[x])),y.push(u[x+1]);const p=[],A=gn.empty();for(let x=g.length-1;x>=0;--x)if(!TA(p,g[x])){const F=g[x];let Z=y[x];Z=Ot(Z);const ee=d.yc(F);if(Z instanceof Jh)p.push(F);else{const J=gu(Z,ee);J!=null&&(p.push(F),A.set(F,J))}}const b=new wn(p);return new yA(A,b,d.fieldTransforms)}function R2(r,e,n,s=!1){return gu(n,r.Cc(s?4:3,e))}function gu(r,e){if(EA(r=Ot(r)))return Qg("Unsupported field value:",e,r),vA(r,e);if(r instanceof mu)return(function(s,l){if(!_A(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const g of s){let y=gu(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DT(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Eh(l.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(l.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:qT(l.serializer,s._byteString)};if(s instanceof _t){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ki)return(function(d,g){return{mapValue:{fields:{[mT]:{stringValue:gT},[_h]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Eg(g.serializer,p)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${kh(s)}`)})(r,e)}function vA(r,e){const n={};return lT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(r,((s,l)=>{const u=gu(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function EA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Vi||r instanceof qn||r instanceof _t||r instanceof mu||r instanceof ki)}function Qg(r,e,n){if(!EA(n)||!aT(n)){const s=kh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ng(r,e,n){if((e=Ot(e))instanceof $h)return e._internalPath;if(typeof e=="string")return Kg(r,e);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const I2=new RegExp("[~\\*/\\[\\]]");function Kg(r,e,n){if(e.search(I2)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,e,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new ie(K.INVALID_ARGUMENT,g+r+y)}function TA(r,e){return r.some((n=>n.isEqual(e)))}class AA{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C2 extends AA{data(){return super.data()}}function Zh(r,e){return typeof e=="string"?Kg(r,e):e instanceof $h?e._internalPath:e._delegate._internalPath}function SA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class bA extends Yg{}function ao(r,e,...n){let s=[];e instanceof Yg&&s.push(e),s=s.concat(n),(function(u){const d=u.filter((y=>y instanceof Xg)).length,g=u.filter((y=>y instanceof Wh)).length;if(d>1||d>0&&g>0)throw new ie(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Wh extends bA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Wh(e,n,s)}_apply(e){const n=this._parse(e);return wA(e._query,n),new ms(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=Hg(e.firestore);return(function(u,d,g,y,p,A,b){let x;if(p.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ie(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){r0(b,A);const Z=[];for(const ee of b)Z.push(i0(y,u,ee));x={arrayValue:{values:Z}}}else x=i0(y,u,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||r0(b,A),x=R2(g,d,b,A==="in"||A==="not-in");return Nt.create(p,A,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oh(r,e,n){const s=e,l=Zh("where",r);return Wh._create(l,s,n)}class Xg extends Yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)wA(d,y),d=Gm(d,y)})(e._query,n),new ms(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $g extends bA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $g(e,n)}_apply(e){const n=(function(l,u,d){if(l.startAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(u,d)})(e._query,this._field,this._direction);return new ms(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new Ro(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function n0(r,e="asc"){const n=e,s=Zh("orderBy",r);return $g._create(s,n)}function i0(r,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(e)&&n.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ue.isDocumentKey(s))throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _E(r,new ue(s))}if(n instanceof _t)return _E(r,n._key);throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function r0(r,e){if(!Array.isArray(r)||r.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wA(r,e){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N2{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fs(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[_h].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Vi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=as(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Fe(KT(s),9688,{name:e});const l=new Jl(s.get(1),s.get(3)),u=new ue(s.popFirst(5));return l.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function D2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends AA{constructor(e,n,s,l,u,d){super(e,n,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Dt("string",Zs._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class lh extends Zs{data(e={}){return super.data(e)}}class Ws{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ql(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new lh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ql(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new lh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ql(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,A=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:O2(g.type),doc:y,oldIndex:p,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}function eh(r){r=Hn(r,_t);const e=Hn(r.firestore,hs);return g2(Xh(e),r._key).then((n=>RA(e,r,n)))}Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:Dt("string",Ws._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Jg extends N2{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function ig(r){r=Hn(r,ms);const e=Hn(r.firestore,hs),n=Xh(e),s=new Jg(e);return SA(r._query),p2(n,r._query).then((l=>new Ws(e,s,r,l)))}function Sm(r,e,n,...s){r=Hn(r,_t);const l=Hn(r.firestore,hs),u=Hg(l);let d;return d=typeof(e=Ot(e))=="string"||e instanceof $h?w2(u,"updateDoc",r._key,e,n,s):b2(u,"updateDoc",r._key,e),Zg(l,[d.toMutation(r._key,ii.exists(!0))])}function bm(r){return Zg(Hn(r.firestore,hs),[new Tg(r._key,ii.none())])}function uh(r,e){const n=Hn(r.firestore,hs),s=Ni(r),l=D2(r.converter,e);return Zg(n,[S2(Hg(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then((()=>s))}function wm(r,...e){r=Ot(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||t0(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(t0(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let u,d,g;if(r instanceof _t)d=Hn(r.firestore,hs),g=jh(r._key.path),u={next:y=>{e[s]&&e[s](RA(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Hn(r,ms);d=Hn(y.firestore,hs),g=y._query;const p=new Jg(d);u={next:A=>{e[s]&&e[s](new Ws(d,p,y,A))},error:e[s+1],complete:e[s+2]},SA(r._query)}return(function(p,A,b,x){const F=new qg(x),Z=new Lg(A,F,b);return p.asyncQueue.enqueueAndForget((async()=>kg(await bh(p),Z))),()=>{F.Nu(),p.asyncQueue.enqueueAndForget((async()=>Ug(await bh(p),Z)))}})(Xh(d),g,l,u)}function Zg(r,e){return(function(s,l){const u=new hr;return s.asyncQueue.enqueueAndForget((async()=>i2(await m2(s),l,u))),u.promise})(Xh(r),e)}function RA(r,e,n){const s=n.docs.get(e._key),l=new Jg(r);return new Zs(r,l,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}function Xs(){return new Fg("serverTimestamp")}function x2(r){return new Gg("increment",r)}(function(e,n=!0){(function(l){So=l})(Ao),Li(new ri("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),g=new hs(new wR(s.getProvider("auth-internal")),new CR(d,s.getProvider("app-check-internal")),(function(p,A){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(p.options.projectId,A)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Bn(sE,aE,e),Bn(sE,aE,"esm2020")})();function IA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M2=IA,CA=new oa("auth","Firebase",IA());const Rh=new cg("@firebase/auth");function V2(r,...e){Rh.logLevel<=De.WARN&&Rh.warn(`Auth (${Ao}): ${r}`,...e)}function ch(r,...e){Rh.logLevel<=De.ERROR&&Rh.error(`Auth (${Ao}): ${r}`,...e)}function ai(r,...e){throw Wg(r,...e)}function Ui(r,...e){return Wg(r,...e)}function NA(r,e,n){const s={...M2(),[e]:n};return new oa("auth","Firebase",s).create(e,{appName:r.name})}function fr(r){return NA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return CA.create(r,...e)}function me(r,e,...n){if(!r)throw Wg(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function pr(r,e){r||lr(e)}function rg(){return typeof self<"u"&&self.location?.href||""}function k2(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function U2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||r1()||"connection"in navigator)?navigator.onLine:!0}function P2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=t1()||s1()}get(){return U2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ep(r,e){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class DA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const L2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const j2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z2=new pu(3e4,6e4);function gs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ps(r,e,n,s,l={}){return OA(r,l,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const g=lu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:y,...u};return i1()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),DA.fetch()(await xA(r,r.config.apiHost,n,g),p)})}async function OA(r,e,n){r._canInitEmulator=!1;const s={...L2,...e};try{const l=new B2(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw th(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw th(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw th(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw NA(r,A,p);ai(r,A)}}catch(l){if(l instanceof zi)throw l;ai(r,"network-request-failed",{message:String(l)})}}async function yu(r,e,n,s,l={}){const u=await ps(r,e,n,s,l);return"mfaPendingCredential"in u&&ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function xA(r,e,n,s){const l=`${e}${n}?${s}`,u=r,d=u.config.emulator?ep(r.config,l):`${r.config.apiScheme}://${l}`;return j2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function q2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),z2.get())})}}function th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ui(r,e,s);return l.customData._tokenResponse=n,l}function a0(r){return r!==void 0&&r.enterprise!==void 0}class H2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F2(r,e){return ps(r,"GET","/v2/recaptchaConfig",gs(r,e))}async function G2(r,e){return ps(r,"POST","/v1/accounts:delete",e)}async function Ih(r,e){return ps(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q2(r,e=!1){const n=Ot(r),s=await n.getIdToken(e),l=tp(s);me(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Kl(Rm(l.auth_time)),issuedAtTime:Kl(Rm(l.iat)),expirationTime:Kl(Rm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Rm(r){return Number(r)*1e3}function tp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const l=L0(n);return l?JSON.parse(l):(ch("Failed to decode base64 JWT payload"),null)}catch(l){return ch("Caught error parsing JWT payload as JSON",l?.toString()),null}}function o0(r){const e=tp(r);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ru(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zi&&K2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function K2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Y2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const e=r.auth,n=await r.getIdToken(),s=await ru(r,Ih(e,{idToken:n}));me(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?MA(l.providerUserInfo):[],d=$2(r.providerData,u),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,p=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sg(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(r,A)}async function X2(r){const e=Ot(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $2(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function MA(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function J2(r,e){const n=await OA(r,{},async()=>{const s=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await xA(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(y.credentials="include"),DA.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z2(r,e){return ps(r,"POST","/v2/accounts:revokeToken",gs(r,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=o0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await J2(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new co;return s&&(me(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(me(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(me(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return lr("not implemented")}}function $r(r,e){me(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q2(this,e)}reload(){return X2(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await ru(this,G2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:F,providerData:Z,stsTokenManager:ee}=n;me(b&&ee,e,"internal-error");const J=co.fromJSON(this.name,ee);me(typeof b=="string",e,"internal-error"),$r(s,e.name),$r(l,e.name),me(typeof x=="boolean",e,"internal-error"),me(typeof F=="boolean",e,"internal-error"),$r(u,e.name),$r(d,e.name),$r(g,e.name),$r(y,e.name),$r(p,e.name),$r(A,e.name);const ce=new ni({uid:b,auth:e,email:l,emailVerified:x,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:J,createdAt:p,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ce.providerData=Z.map(_e=>({..._e}))),y&&(ce._redirectEventId=y),ce}static async _fromIdTokenResponse(e,n,s=!1){const l=new co;l.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];me(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?MA(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new co;g.updateFromIdToken(s);const y=new ni({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new sg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const l0=new Map;function ur(r){pr(r instanceof Function,"Expected a class definition");let e=l0.get(r);return e?(pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,l0.set(r,e),e)}class VA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VA.type="NONE";const u0=VA;function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=hh(this.userKey,l.apiKey,u),this.fullPersistenceKey=hh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(ur(u0),e,s);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||ur(u0);const d=hh(s,e.config.apiKey,e.name);let g=null;for(const p of n)try{const A=await p._get(d);if(A){let b;if(typeof A=="string"){const x=await Ih(e,{idToken:A}).catch(()=>{});if(!x)break;b=await ni._fromGetAccountInfoResponse(e,x,A)}else b=ni._fromJSON(e,A);p!==u&&(g=b),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new ho(u,e,s):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new ho(u,e,s))}}function c0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zA(e))return"Blackberry";if(qA(e))return"Webos";if(UA(e))return"Safari";if((e.includes("chrome/")||PA(e))&&!e.includes("edge/"))return"Chrome";if(jA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function kA(r=tn()){return/firefox\//i.test(r)}function UA(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PA(r=tn()){return/crios\//i.test(r)}function LA(r=tn()){return/iemobile/i.test(r)}function jA(r=tn()){return/android/i.test(r)}function zA(r=tn()){return/blackberry/i.test(r)}function qA(r=tn()){return/webos/i.test(r)}function np(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function W2(r=tn()){return np(r)&&!!window.navigator?.standalone}function eN(){return a1()&&document.documentMode===10}function BA(r=tn()){return np(r)||jA(r)||qA(r)||zA(r)||/windows phone/i.test(r)||LA(r)}function HA(r,e=[]){let n;switch(r){case"Browser":n=c0(tn());break;case"Worker":n=`${c0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}class tN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nN(r,e={}){return ps(r,"GET","/v2/passwordPolicy",gs(r,e))}const iN=6;class rN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class sN{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new tN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(fr(this));const n=e?Ot(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nN(this),n=new rN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Z2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&V2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ca(r){return Ot(r)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=d1(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aN(r){ef=r}function FA(r){return ef.loadJS(r)}function oN(){return ef.recaptchaEnterpriseScript}function lN(){return ef.gapiScript}function uN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class cN{constructor(){this.enterprise=new hN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fN="recaptcha-enterprise",GA="NO_RECAPTCHA";class dN{constructor(e){this.type=fN,this.auth=ca(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{F2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new H2(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;a0(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(GA)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cN().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(g=>{if(!n&&a0(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=oN();y.length!==0&&(y+=g),FA(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function f0(r,e,n,s=!1,l=!1){const u=new dN(r);let d;if(l)d=GA;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ag(r,e,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await f0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await f0(r,e,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function mN(r,e){const n=To(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return l;ai(l,"already-initialized")}return n.initialize({options:e})}function gN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function pN(r,e,n){const s=ca(r);me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=QA(e),{host:d,port:g}=yN(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){me(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),me(ea(p,s.config.emulator)&&ea(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Eo(d)?(B0(`${u}//${d}${y}`),H0("Auth",!0)):_N()}function QA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function yN(r){const e=QA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:d0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:d0(d)}}}function d0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function _N(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function vN(r,e){return ps(r,"POST","/v1/accounts:signUp",e)}async function EN(r,e){return yu(r,"POST","/v1/accounts:signInWithPassword",gs(r,e))}async function TN(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}async function AN(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}class su extends ip{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new su(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,n,"signInWithPassword",EN);case"emailLink":return TN(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,s,"signUpPassword",vN);case"emailLink":return AN(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fo(r,e){return yu(r,"POST","/v1/accounts:signInWithIdp",gs(r,e))}const SN="http://localhost";class ia extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new ia(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}function bN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wN(r){const e=Ul(Pl(r)).link,n=e?Ul(Pl(e)).deep_link_id:null,s=Ul(Pl(r)).deep_link_id;return(s?Ul(Pl(s)).link:null)||s||n||e||r}class rp{constructor(e){const n=Ul(Pl(e)),s=n.apiKey??null,l=n.oobCode??null,u=bN(n.mode??null);me(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wN(e);try{return new rp(n)}catch{return null}}}class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rp.parseLink(n);return me(s,"argument-error"),su._fromEmailAndCode(e,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class KA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends KA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jr extends _u{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";class Zr extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";class Wr extends _u{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";class es extends _u{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";async function RN(r,e){return yu(r,"POST","/v1/accounts:signUp",gs(r,e))}class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await ni._fromIdTokenResponse(e,s,l),d=m0(s);return new ra({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=m0(s);return new ra({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function m0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Nh extends zi{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Nh(e,n,s,l)}}function YA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function IN(r,e,n=!1){const s=await ru(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ra._forOperation(r,"link",s)}async function CN(r,e,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(fr(s));const l="reauthenticate";try{const u=await ru(r,YA(s,l,e,r),n);me(u.idToken,s,"internal-error");const d=tp(u.idToken);me(d,s,"internal-error");const{sub:g}=d;return me(r.uid===g,s,"user-mismatch"),ra._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}async function XA(r,e,n=!1){if(zn(r.app))return Promise.reject(fr(r));const s="signIn",l=await YA(r,s,e),u=await ra._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function NN(r,e){return XA(ca(r),e)}async function $A(r){const e=ca(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DN(r,e,n){if(zn(r.app))return Promise.reject(fr(r));const s=ca(r),d=await ag(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RN).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&$A(r),y}),g=await ra._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function ON(r,e,n){return zn(r.app)?Promise.reject(fr(r)):NN(Ot(r),Co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$A(r),s})}function xN(r,e,n,s){return Ot(r).onIdTokenChanged(e,n,s)}function MN(r,e,n){return Ot(r).beforeAuthStateChanged(e,n)}function VN(r,e,n,s){return Ot(r).onAuthStateChanged(e,n,s)}function g0(r){return Ot(r).signOut()}const Dh="__sak";class JA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kN=1e3,UN=10;class ZA extends JA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);eN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,UN):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZA.type="LOCAL";const PN=ZA;class WA extends JA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WA.type="SESSION";const eS=WA;function LN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new tf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await LN(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];function sp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class jN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=sp("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(x.data.response);break;default:clearTimeout(A),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function zN(r){Pi().location.href=r}function tS(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function qN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){return navigator?.serviceWorker?.controller||null}function HN(){return tS()?self:null}const nS="firebaseLocalStorageDb",FN=1,Oh="firebaseLocalStorage",iS="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function GN(){const r=indexedDB.deleteDatabase(nS);return new vu(r).toPromise()}function og(){const r=indexedDB.open(nS,FN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Oh,{keyPath:iS})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await GN(),e(await og()))})})}async function p0(r,e,n){const s=nf(r,!0).put({[iS]:e,value:n});return new vu(s).toPromise()}async function QN(r,e){const n=nf(r,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function y0(r,e){const n=nf(r,!0).delete(e);return new vu(n).toPromise()}const KN=800,YN=3;class rS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>YN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(HN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new jN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await p0(e,Dh,"1"),await y0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>p0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>QN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=nf(l,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rS.type="LOCAL";const XN=rS;new pu(3e4,6e4);function $N(r,e){return e?ur(e):(me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ap extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JN(r){return XA(r.auth,new ap(r),r.bypassAuthState)}function ZN(r){const{auth:e,user:n}=r;return me(n,e,"internal-error"),CN(n,new ap(r),r.bypassAuthState)}async function WN(r){const{auth:e,user:n}=r;return me(n,e,"internal-error"),IN(n,new ap(r),r.bypassAuthState)}class sS{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JN;case"linkViaPopup":case"linkViaRedirect":return WN;case"reauthViaPopup":case"reauthViaRedirect":return ZN;default:ai(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eD=new pu(2e3,1e4);class lo extends sS{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eD.get())};e()}}lo.currentPopupAction=null;const tD="pendingRedirect",fh=new Map;class nD extends sS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await iD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iD(r,e){const n=aD(e),s=sD(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function rD(r,e){fh.set(r._key(),e)}function sD(r){return ur(r._redirectPersistence)}function aD(r){return hh(tD,r.config.apiKey,r.name)}async function oD(r,e,n=!1){if(zn(r.app))return Promise.reject(fr(r));const s=ca(r),l=$N(s,e),d=await new nD(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const lD=600*1e3;class uD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!aS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lD&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function aS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function cD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(r);default:return!1}}async function hD(r,e={}){return ps(r,"GET","/v1/projects",e)}const fD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dD=/^https?/;async function mD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await hD(r);for(const n of e)try{if(gD(n))return}catch{}ai(r,"unauthorized-domain")}function gD(r){const e=rg(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!dD.test(n))return!1;if(fD.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const pD=new pu(3e4,6e4);function v0(){const r=Pi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function yD(r){return new Promise((e,n)=>{function s(){v0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v0(),n(Ui(r,"network-request-failed"))},timeout:pD.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const l=uN("iframefcb");return Pi()[l]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},FA(`${lN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}let dh=null;function _D(r){return dh=dh||yD(r),dh}const vD=new pu(5e3,15e3),ED="__/auth/iframe",TD="emulator/auth/iframe",AD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bD(r){const e=r.config;me(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ep(e,TD):`https://${r.config.authDomain}/${ED}`,s={apiKey:e.apiKey,appName:r.name,v:Ao},l=SD.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${lu(s).slice(1)}`}async function wD(r){const e=await _D(r),n=Pi().gapi;return me(n,r,"internal-error"),e.open({where:document.body,url:bD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AD,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Ui(r,"network-request-failed"),g=Pi().setTimeout(()=>{u(d)},vD.get());function y(){Pi().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{u(d)})}))}const RD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ID=500,CD=600,ND="_blank",DD="http://localhost";class E0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OD(r,e,n,s=ID,l=CD){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...RD,width:s.toString(),height:l.toString(),top:u,left:d},p=tn().toLowerCase();n&&(g=PA(p)?ND:n),kA(p)&&(e=e||DD,y.scrollbars="yes");const A=Object.entries(y).reduce((x,[F,Z])=>`${x}${F}=${Z},`,"");if(W2(p)&&g!=="_self")return xD(e||"",g),new E0(null);const b=window.open(e||"",g,A);me(b,r,"popup-blocked");try{b.focus()}catch{}return new E0(b)}function xD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const MD="__/auth/handler",VD="emulator/auth/handler",kD=encodeURIComponent("fac");async function T0(r,e,n,s,l,u){me(r.config.authDomain,r,"auth-domain-config-required"),me(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ao,eventId:l};if(e instanceof KA){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",f1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(e instanceof _u){const A=e.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await r._getAppCheckToken(),p=y?`#${kD}=${encodeURIComponent(y)}`:"";return`${UD(r)}?${lu(g).slice(1)}${p}`}function UD({config:r}){return r.emulator?ep(r,VD):`https://${r.authDomain}/${MD}`}const Im="webStorageSupport";class PD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eS,this._completeRedirectFn=oD,this._overrideRedirectResult=rD}async _openPopup(e,n,s,l){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await T0(e,n,s,rg(),l);return OD(e,u,sp())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await T0(e,n,s,rg(),l);return zN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wD(e),s=new uD(e);return n.register("authEvent",l=>(me(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},l=>{const u=l?.[0]?.[Im];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BA()||UA()||np()}}const LD=PD;var A0="@firebase/auth",S0="1.12.0";class jD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qD(r){Li(new ri("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;me(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HA(r)},p=new sN(s,l,u,y);return gN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Li(new ri("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(s=>new jD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(A0,S0,zD(r)),Bn(A0,S0,"esm2020")}const BD=300,HD=q0("authIdTokenMaxAge")||BD;let b0=null;const FD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>HD)return;const l=n?.token;b0!==l&&(b0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GD(r=fg()){const e=To(r,"auth");if(e.isInitialized())return e.getImmediate();const n=mN(r,{popupRedirectResolver:LD,persistence:[XN,PN,eS]}),s=q0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=FD(u.toString());MN(n,d,()=>d(n.currentUser)),xN(n,g=>d(g))}}const l=j0("auth");return l&&pN(n,`http://${l}`),n}function QD(){return document.getElementsByTagName("head")?.[0]??document}aN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=Ui("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",QD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qD("Browser");var KD="firebase",YD="12.7.0";Bn(KD,YD,"app");const oS="@firebase/installations",op="0.6.19";const lS=1e4,uS=`w:${op}`,cS="FIS_v2",XD="https://firebaseinstallations.googleapis.com/v1",$D=3600*1e3,JD="installations",ZD="Installations";const WD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sa=new oa(JD,ZD,WD);function hS(r){return r instanceof zi&&r.code.includes("request-failed")}function fS({projectId:r}){return`${XD}/projects/${r}/installations`}function dS(r){return{token:r.token,requestStatus:2,expiresIn:tO(r.expiresIn),creationTime:Date.now()}}async function mS(r,e){const s=(await e.json()).error;return sa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function gS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function eO(r,{refreshToken:e}){const n=gS(r);return n.append("Authorization",nO(e)),n}async function pS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function tO(r){return Number(r.replace("s","000"))}function nO(r){return`${cS} ${r}`}async function iO({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=fS(r),l=gS(r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={fid:n,authVersion:cS,appId:r.appId,sdkVersion:uS},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await pS(()=>fetch(s,g));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:dS(p.authToken)}}else throw await mS("Create Installation",y)}function yS(r){return new Promise(e=>{setTimeout(e,r)})}function rO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const sO=/^[cdef][\w-]{21}$/,lg="";function aO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=oO(r);return sO.test(n)?n:lg}catch{return lg}}function oO(r){return rO(r).substr(0,22)}function rf(r){return`${r.appName}!${r.appId}`}const _S=new Map;function vS(r,e){const n=rf(r);ES(n,e),lO(n,e)}function ES(r,e){const n=_S.get(r);if(n)for(const s of n)s(e)}function lO(r,e){const n=uO();n&&n.postMessage({key:r,fid:e}),cO()}let Js=null;function uO(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=r=>{ES(r.data.key,r.data.fid)}),Js}function cO(){_S.size===0&&Js&&(Js.close(),Js=null)}const hO="firebase-installations-database",fO=1,aa="firebase-installations-store";let Cm=null;function lp(){return Cm||(Cm=Vh(hO,fO,{upgrade:(r,e)=>{e===0&&r.createObjectStore(aa)}})),Cm}async function xh(r,e){const n=rf(r),l=(await lp()).transaction(aa,"readwrite"),u=l.objectStore(aa),d=await u.get(n);return await u.put(e,n),await l.done,(!d||d.fid!==e.fid)&&vS(r,e.fid),e}async function TS(r){const e=rf(r),s=(await lp()).transaction(aa,"readwrite");await s.objectStore(aa).delete(e),await s.done}async function sf(r,e){const n=rf(r),l=(await lp()).transaction(aa,"readwrite"),u=l.objectStore(aa),d=await u.get(n),g=e(d);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!d||d.fid!==g.fid)&&vS(r,g.fid),g}async function up(r){let e;const n=await sf(r.appConfig,s=>{const l=dO(s),u=mO(r,l);return e=u.registrationPromise,u.installationEntry});return n.fid===lg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function dO(r){const e=r||{fid:aO(),registrationStatus:0};return AS(e)}function mO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(sa.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=gO(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pO(r)}:{installationEntry:e}}async function gO(r,e){try{const n=await iO(r,e);return xh(r.appConfig,n)}catch(n){throw hS(n)&&n.customData.serverCode===409?await TS(r.appConfig):await xh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function pO(r){let e=await w0(r.appConfig);for(;e.registrationStatus===1;)await yS(100),e=await w0(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await up(r);return s||n}return e}function w0(r){return sf(r,e=>{if(!e)throw sa.create("installation-not-found");return AS(e)})}function AS(r){return yO(r)?{fid:r.fid,registrationStatus:0}:r}function yO(r){return r.registrationStatus===1&&r.registrationTime+lS<Date.now()}async function _O({appConfig:r,heartbeatServiceProvider:e},n){const s=vO(r,n),l=eO(r,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={installation:{sdkVersion:uS,appId:r.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await pS(()=>fetch(s,g));if(y.ok){const p=await y.json();return dS(p)}else throw await mS("Generate Auth Token",y)}function vO(r,{fid:e}){return`${fS(r)}/${e}/authTokens:generate`}async function cp(r,e=!1){let n;const s=await sf(r.appConfig,u=>{if(!SS(u))throw sa.create("not-registered");const d=u.authToken;if(!e&&AO(d))return u;if(d.requestStatus===1)return n=EO(r,e),u;{if(!navigator.onLine)throw sa.create("app-offline");const g=bO(u);return n=TO(r,g),g}});return n?await n:s.authToken}async function EO(r,e){let n=await R0(r.appConfig);for(;n.authToken.requestStatus===1;)await yS(100),n=await R0(r.appConfig);const s=n.authToken;return s.requestStatus===0?cp(r,e):s}function R0(r){return sf(r,e=>{if(!SS(e))throw sa.create("not-registered");const n=e.authToken;return wO(n)?{...e,authToken:{requestStatus:0}}:e})}async function TO(r,e){try{const n=await _O(r,e),s={...e,authToken:n};return await xh(r.appConfig,s),n}catch(n){if(hS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await TS(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await xh(r.appConfig,s)}throw n}}function SS(r){return r!==void 0&&r.registrationStatus===2}function AO(r){return r.requestStatus===2&&!SO(r)}function SO(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+$D}function bO(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function wO(r){return r.requestStatus===1&&r.requestTime+lS<Date.now()}async function RO(r){const e=r,{installationEntry:n,registrationPromise:s}=await up(e);return s?s.catch(console.error):cp(e).catch(console.error),n.fid}async function IO(r,e=!1){const n=r;return await CO(n),(await cp(n,e)).token}async function CO(r){const{registrationPromise:e}=await up(r);e&&await e}function NO(r){if(!r||!r.options)throw Nm("App Configuration");if(!r.name)throw Nm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Nm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Nm(r){return sa.create("missing-app-config-values",{valueName:r})}const bS="installations",DO="installations-internal",OO=r=>{const e=r.getProvider("app").getImmediate(),n=NO(e),s=To(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},xO=r=>{const e=r.getProvider("app").getImmediate(),n=To(e,bS).getImmediate();return{getId:()=>RO(n),getToken:l=>IO(n,l)}};function MO(){Li(new ri(bS,OO,"PUBLIC")),Li(new ri(DO,xO,"PRIVATE"))}MO();Bn(oS,op);Bn(oS,op,"esm2020");const VO="/firebase-messaging-sw.js",kO="/firebase-cloud-messaging-push-scope",wS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",UO="https://fcmregistrations.googleapis.com/v1",RS="google.c.a.c_id",PO="google.c.a.c_l",LO="google.c.a.ts",jO="google.c.a.e",I0=1e4;var C0;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(C0||(C0={}));var au;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(au||(au={}));function ar(r){const e=new Uint8Array(r);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zO(r){const e="=".repeat((4-r.length%4)%4),n=(r+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),l=new Uint8Array(s.length);for(let u=0;u<s.length;++u)l[u]=s.charCodeAt(u);return l}const Dm="fcm_token_details_db",qO=5,N0="fcm_token_object_Store";async function BO(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(Dm))return null;let e=null;return(await Vh(Dm,qO,{upgrade:async(s,l,u,d)=>{if(l<2||!s.objectStoreNames.contains(N0))return;const g=d.objectStore(N0),y=await g.index("fcmSenderId").get(r);if(await g.clear(),!!y){if(l===2){const p=y;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:ar(p.vapidKey)}}}else if(l===3){const p=y;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ar(p.auth),p256dh:ar(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ar(p.vapidKey)}}}else if(l===4){const p=y;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ar(p.auth),p256dh:ar(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ar(p.vapidKey)}}}}}})).close(),await gm(Dm),await gm("fcm_vapid_details_db"),await gm("undefined"),HO(e)?e:null}function HO(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:e}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const FO="firebase-messaging-database",GO=1,ou="firebase-messaging-store";let Om=null;function IS(){return Om||(Om=Vh(FO,GO,{upgrade:(r,e)=>{e===0&&r.createObjectStore(ou)}})),Om}async function QO(r){const e=CS(r),s=await(await IS()).transaction(ou).objectStore(ou).get(e);if(s)return s;{const l=await BO(r.appConfig.senderId);if(l)return await hp(r,l),l}}async function hp(r,e){const n=CS(r),l=(await IS()).transaction(ou,"readwrite");return await l.objectStore(ou).put(e,n),await l.done,e}function CS({appConfig:r}){return r.appId}const KO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new oa("messaging","Messaging",KO);async function YO(r,e){const n=await dp(r),s=NS(e),l={method:"POST",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(fp(r.appConfig),l)).json()}catch(d){throw an.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw an.create("token-subscribe-no-token");return u.token}async function XO(r,e){const n=await dp(r),s=NS(e.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(`${fp(r.appConfig)}/${e.token}`,l)).json()}catch(d){throw an.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-update-failed",{errorInfo:d})}if(!u.token)throw an.create("token-update-no-token");return u.token}async function $O(r,e){const s={method:"DELETE",headers:await dp(r)};try{const u=await(await fetch(`${fp(r.appConfig)}/${e}`,s)).json();if(u.error){const d=u.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw an.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function fp({projectId:r}){return`${UO}/projects/${r}/registrations`}async function dp({appConfig:r,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function NS({p256dh:r,auth:e,endpoint:n,vapidKey:s}){const l={web:{endpoint:n,auth:e,p256dh:r}};return s!==wS&&(l.web.applicationPubKey=s),l}const JO=10080*60*1e3;async function ZO(r){const e=await ex(r.swRegistration,r.vapidKey),n={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:e.endpoint,auth:ar(e.getKey("auth")),p256dh:ar(e.getKey("p256dh"))},s=await QO(r.firebaseDependencies);if(s){if(tx(s.subscriptionOptions,n))return Date.now()>=s.createTime+JO?WO(r,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await $O(r.firebaseDependencies,s.token)}catch(l){console.warn(l)}return D0(r.firebaseDependencies,n)}else return D0(r.firebaseDependencies,n)}async function WO(r,e){try{const n=await XO(r.firebaseDependencies,e),s={...e,token:n,createTime:Date.now()};return await hp(r.firebaseDependencies,s),n}catch(n){throw n}}async function D0(r,e){const s={token:await YO(r,e),createTime:Date.now(),subscriptionOptions:e};return await hp(r,s),s.token}async function ex(r,e){const n=await r.pushManager.getSubscription();return n||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zO(e)})}function tx(r,e){const n=e.vapidKey===r.vapidKey,s=e.endpoint===r.endpoint,l=e.auth===r.auth,u=e.p256dh===r.p256dh;return n&&s&&l&&u}function O0(r){const e={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return nx(e,r),ix(e,r),rx(e,r),e}function nx(r,e){if(!e.notification)return;r.notification={};const n=e.notification.title;n&&(r.notification.title=n);const s=e.notification.body;s&&(r.notification.body=s);const l=e.notification.image;l&&(r.notification.image=l);const u=e.notification.icon;u&&(r.notification.icon=u)}function ix(r,e){e.data&&(r.data=e.data)}function rx(r,e){if(!e.fcmOptions&&!e.notification?.click_action)return;r.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(r.fcmOptions.link=n);const s=e.fcmOptions?.analytics_label;s&&(r.fcmOptions.analyticsLabel=s)}function sx(r){return typeof r=="object"&&!!r&&RS in r}function ax(r){if(!r||!r.options)throw xm("App Configuration Object");if(!r.name)throw xm("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=r;for(const s of e)if(!n[s])throw xm(s);return{appName:r.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function xm(r){return an.create("missing-app-config-values",{valueName:r})}class ox{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=ax(e);this.firebaseDependencies={app:e,appConfig:l,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function lx(r){try{r.swRegistration=await navigator.serviceWorker.register(VO,{scope:kO}),r.swRegistration.update().catch(()=>{}),await ux(r.swRegistration)}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function ux(r){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${I0} ms`)),I0),l=r.installing||r.waiting;r.active?(clearTimeout(s),e()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}async function cx(r,e){if(!e&&!r.swRegistration&&await lx(r),!(!e&&r.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");r.swRegistration=e}}async function hx(r,e){e?r.vapidKey=e:r.vapidKey||(r.vapidKey=wS)}async function fx(r,e){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw an.create("permission-blocked");return await hx(r,e?.vapidKey),await cx(r,e?.serviceWorkerRegistration),ZO(r)}async function dx(r,e,n){const s=mx(e);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[RS],message_name:n[PO],message_time:n[LO],message_device_time:Math.floor(Date.now()/1e3)})}function mx(r){switch(r){case au.NOTIFICATION_CLICKED:return"notification_open";case au.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function gx(r,e){const n=e.data;if(!n.isFirebaseMessaging)return;r.onMessageHandler&&n.messageType===au.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(O0(n)):r.onMessageHandler.next(O0(n)));const s=n.data;sx(s)&&s[jO]==="1"&&await dx(r,n.messageType,s)}const x0="@firebase/messaging",M0="0.12.23";const px=r=>{const e=new ox(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>gx(e,n)),e},yx=r=>{const e=r.getProvider("messaging").getImmediate();return{getToken:s=>fx(e,s)}};function _x(){Li(new ri("messaging",px,"PUBLIC")),Li(new ri("messaging-internal",yx,"PRIVATE")),Bn(x0,M0),Bn(x0,M0,"esm2020")}async function vx(){try{await G0()}catch{return!1}return typeof window<"u"&&F0()&&l1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Ex(r=fg()){return vx().then(e=>{if(!e)throw an.create("unsupported-browser")},e=>{throw an.create("indexed-db-unsupported")}),To(Ot(r),"messaging").getImmediate()}_x();const Tx={apiKey:"AIzaSyB5i9OCUpp-VQ9MR4fk01zsP743UuHSVWw",authDomain:"omega-cf92a.firebaseapp.com",projectId:"omega-cf92a",storageBucket:"omega-cf92a.firebasestorage.app",messagingSenderId:"187395193452",appId:"1:187395193452:web:5c0f4aefb2407478687649",measurementId:"G-5114W3WLXR"},mp=Y0(Tx),kt=_2(mp),or=GD(mp);Ex(mp);const Ut={QUEUE:"queue",PENDING_REQUESTS:"pendingRequests",NOTIFICATIONS:"notifications",ACTIVITY_LOGS:"activityLogs",USERS:"users",SETTINGS:"settings"},$e={PENDING:"pending",QUEUED:"queued",SUMMONED:"summoned",STAGING:"staging",LOADING:"loading",COMPLETED:"completed",EXPIRED:"expired"},oo={async signIn(r,e){try{let n,s;try{n=await ON(or,r,e),s=n.user}catch(u){if(u.code==="auth/invalid-credential"&&this.isKnownAdminEmail(r))console.log("Creating new admin account..."),n=await DN(or,r,e),s=n.user;else throw u}let l=await this.getUserProfile(s.uid);if(!l&&this.isKnownAdminEmail(r)&&(console.log("Creating admin profile..."),l=await this.createAdminProfile(s)),!l||l.role!=="admin")throw await g0(or),new Error("Access denied. Admin account required.");return s}catch(n){throw console.error("Sign in error:",n),new Error(`Sign in failed: ${n.message}`)}},isKnownAdminEmail(r){return["admin@omega.com","admin@omegaproducts.com"].includes(r.toLowerCase())},async createAdminProfile(r){try{const e={uid:r.uid,email:r.email,role:"admin",driverName:"",createdAt:Xs(),isActive:!0};return{id:(await uh(Di(kt,Ut.USERS),e)).id,...e}}catch(e){throw console.error("Failed to create admin profile:",e),new Error("Failed to create admin profile")}},async signOut(){try{await g0(or)}catch(r){throw new Error(`Sign out failed: ${r.message}`)}},onAuthStateChange(r){return VN(or,r)},getCurrentUser(){return or.currentUser},async getUserProfile(r){try{const e=ao(Di(kt,Ut.USERS),oh("uid","==",r)),n=await ig(e);return n.empty?null:{id:n.docs[0].id,...n.docs[0].data()}}catch(e){if(e.code==="permission-denied")return console.warn("Permission denied accessing user profile, user may not exist yet"),null;throw new Error(`Failed to get user profile: ${e.message}`)}}},to={async approveRequest(r){try{const e=await eh(Ni(kt,Ut.PENDING_REQUESTS,r));if(!e.exists())throw new Error("Request not found");const n=e.data(),l=(await ig(ao(Di(kt,Ut.QUEUE),oh("status","==",$e.QUEUED)))).size+1,u=await uh(Di(kt,Ut.QUEUE),{...n,status:$e.QUEUED,position:l,joinedAt:Xs(),approvedBy:or.currentUser?.uid});return await bm(Ni(kt,Ut.PENDING_REQUESTS,r)),await this.sendNotification(n.userId||"anonymous","success",`Request approved - joined queue at position ${l}`,n.poNumber),await this.logActivity("request_approved",`Request approved for ${n.driverName}`,n.poNumber),u.id}catch(e){throw new Error(`Failed to approve request: ${e.message}`)}},async rejectRequest(r,e){try{const n=await eh(Ni(kt,Ut.PENDING_REQUESTS,r));if(!n.exists())throw new Error("Request not found");const s=n.data();await bm(Ni(kt,Ut.PENDING_REQUESTS,r)),await this.sendNotification(s.userId||"anonymous","error",`Request rejected: ${e}`,s.poNumber),await this.logActivity("request_rejected",`Request rejected for ${s.driverName}: ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to reject request: ${n.message}`)}},async updateQueuePositions(r){try{const e=[];for(let n=0;n<r.length;n++){const s=r[n];e.push(Sm(Ni(kt,Ut.QUEUE,s.id),{position:n+1,updatedAt:Xs()}))}await Promise.all(e),await this.logActivity("queue_reordered","Queue positions updated by admin")}catch(e){throw new Error(`Failed to update queue positions: ${e.message}`)}},async removeFromQueue(r,e="Removed by admin"){try{const n=await eh(Ni(kt,Ut.QUEUE,r));if(!n.exists())throw new Error("Queue item not found");const s=n.data();await bm(Ni(kt,Ut.QUEUE,r));const l=await ig(ao(Di(kt,Ut.QUEUE),oh("position",">",s.position))),u=[];l.forEach(d=>{u.push(Sm(d.ref,{position:x2(-1),updatedAt:Xs()}))}),await Promise.all(u),await this.sendNotification(s.userId||"anonymous","admin_action",`Removed from queue: ${e}`,s.poNumber),await this.logActivity("removed_from_queue",`${s.driverName} removed from queue: ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to remove from queue: ${n.message}`)}},async updateQueueStatus(r,e){try{await Sm(Ni(kt,Ut.QUEUE,r),{status:e,updatedAt:Xs()});const s=(await eh(Ni(kt,Ut.QUEUE,r))).data();let l="";switch(e){case $e.SUMMONED:l="You are summoned! Please proceed to the staging area.";break;case $e.STAGING:l="You are now in the staging area.";break;case $e.LOADING:l="You are now in the loading bay.";break;case $e.COMPLETED:l="Loading completed. Thank you!";break;default:l=`Status updated to ${e}`}await this.sendNotification(s.userId||"anonymous","status_update",l,s.poNumber),await this.logActivity("status_updated",`${s.driverName} status updated to ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to update status: ${n.message}`)}},async sendNotification(r,e,n,s=null){try{await uh(Di(kt,Ut.NOTIFICATIONS),{userId:r,type:e,message:n,poNumber:s,timestamp:Xs(),read:!1})}catch(l){console.error("Failed to send notification:",l)}},async logActivity(r,e,n=null){try{await uh(Di(kt,Ut.ACTIVITY_LOGS),{type:r,message:e,poNumber:n,timestamp:Xs(),userId:or.currentUser?.uid||null,userEmail:or.currentUser?.email||null})}catch(s){console.error("Failed to log activity:",s)}},onPendingRequestsChange(r,e){const n=ao(Di(kt,Ut.PENDING_REQUESTS),n0("requestedAt","desc"));return wm(n,r,e||(s=>{console.error("Pending requests subscription error:",s)}))},onQueueChange(r,e){const n=ao(Di(kt,Ut.QUEUE),oh("status","in",[$e.QUEUED,$e.SUMMONED,$e.STAGING,$e.LOADING]));return wm(n,s=>{const l={...s,docs:[...s.docs].sort((u,d)=>{const g=u.data().position||0,y=d.data().position||0;return g-y})};r(l)},e||(s=>{console.error("Queue subscription error:",s)}))},onActivityLogsChange(r,e){const n=ao(Di(kt,Ut.ACTIVITY_LOGS),n0("timestamp","desc"));return wm(n,r,e||(s=>{console.error("Activity logs subscription error:",s)}))}},DS=()=>N.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),N.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),Ax=({selectedTicket:r,newStatus:e,onClose:n,onConfirm:s})=>{const l={[$e.QUEUED]:"In Queue",[$e.SUMMONED]:"Active (Summoned)",[$e.COMPLETED]:"Resolved"},u={[$e.QUEUED]:"Move back to waiting in queue",[$e.SUMMONED]:"Summon driver - they will be notified to come to the facility",[$e.COMPLETED]:"Mark as resolved - driver has completed loading and left"},d=r?.status,g=e===$e.QUEUED&&d!==$e.QUEUED;return N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:N.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[N.jsx(Mm,{className:`w-6 h-6 ${g?"text-orange-500":"text-blue-500"}`}),N.jsx("h3",{className:"text-xl font-bold text-gray-800",children:g?"Move Back to Queue?":"Update Status?"})]}),N.jsxs("div",{className:"mb-4",children:[N.jsxs("p",{className:"text-gray-600 mb-3",children:["Change status for ",N.jsx("strong",{children:r?.driverName})," (",r?.poNumber,")?"]}),N.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[N.jsxs("div",{className:"flex items-center justify-between text-sm",children:[N.jsx("span",{className:"text-gray-600",children:"Current:"}),N.jsx("span",{className:"font-medium",children:l[d]})]}),N.jsxs("div",{className:"flex items-center justify-center my-2",children:[N.jsx("div",{className:`w-6 h-0.5 ${g?"bg-orange-400":"bg-blue-400"}`}),N.jsx("span",{className:`mx-2 ${g?"text-orange-500":"text-blue-500"}`,children:g?"":""}),N.jsx("div",{className:`w-6 h-0.5 ${g?"bg-orange-400":"bg-blue-400"}`})]}),N.jsxs("div",{className:"flex items-center justify-between text-sm",children:[N.jsx("span",{className:"text-gray-600",children:"New:"}),N.jsx("span",{className:`font-medium ${g?"text-orange-600":"text-blue-600"}`,children:l[e]})]})]}),N.jsx("p",{className:"text-sm text-gray-600",children:u[e]}),g&&N.jsx("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:N.jsxs("p",{className:"text-sm text-orange-800",children:[N.jsx("strong",{children:"Note:"})," Driver will be notified of the status change."]})})]}),N.jsxs("div",{className:"flex gap-3",children:[N.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),N.jsx("button",{onClick:()=>s(r.id,e),className:`flex-1 font-medium py-3 rounded-lg transition-colors text-white ${g?"bg-orange-500 hover:bg-orange-600":"bg-blue-500 hover:bg-blue-600"}`,children:g?"Move Back":"Confirm"})]})]})})},Sx=({selectedTicket:r,rejectReason:e,setRejectReason:n,onClose:s,onConfirm:l})=>N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:N.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[N.jsx(k0,{className:"w-6 h-6 text-red-500"}),N.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Reject Request"})]}),N.jsxs("div",{className:"mb-4",children:[N.jsxs("p",{className:"text-gray-600 mb-3",children:["Reject request from ",N.jsx("strong",{children:r?.driverName})," (",r?.poNumber,")?"]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for rejection:"}),N.jsx("textarea",{value:e,onChange:u=>n(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Enter reason for rejection...",required:!0})]})]}),N.jsxs("div",{className:"flex gap-3",children:[N.jsx("button",{onClick:s,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),N.jsx("button",{onClick:()=>l(r.id,e),disabled:!e.trim(),className:"flex-1 bg-red-500 hover:bg-red-600 disabled:bg-red-300 text-white font-medium py-3 rounded-lg transition-colors",children:"Reject Request"})]})]})}),bx=({onLogin:r,loading:e,error:n})=>{const[s,l]=ut.useState({email:"",password:""}),[u,d]=ut.useState(!1),g=p=>{p.preventDefault(),r(s.email,s.password)},y=()=>{l({email:"admin@omega.com",password:"admin123"})};return N.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center p-4",children:N.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:N.jsx(jw,{className:"w-8 h-8 text-blue-600"})}),N.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),N.jsx("p",{className:"text-gray-600",children:"Omega Products Truck Queue"})]}),N.jsxs("form",{onSubmit:g,className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),N.jsx("input",{type:"email",value:s.email,onChange:p=>l(A=>({...A,email:p.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@omega.com",required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),N.jsxs("div",{className:"relative",children:[N.jsx("input",{type:u?"text":"password",value:s.password,onChange:p=>l(A=>({...A,password:p.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password",required:!0}),N.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?N.jsx(Nw,{className:"w-5 h-5"}):N.jsx(Ow,{className:"w-5 h-5"})})]})]}),n&&N.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:N.jsx("p",{className:"text-red-800 text-sm",children:n})}),N.jsx("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 rounded-lg transition-colors flex items-center justify-center",children:e?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing In..."]}):"Sign In"}),N.jsx("button",{type:"button",onClick:y,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 rounded-lg transition-colors",children:"Use Demo Credentials"})]})]})})},wx=()=>{const[r,e]=ut.useState("dashboard"),[n,s]=ut.useState([]),[l,u]=ut.useState([]),[d,g]=ut.useState([]),[y,p]=ut.useState(!0),[A,b]=ut.useState(null),[x,F]=ut.useState(!1),[Z,ee]=ut.useState(""),[J,ce]=ut.useState({show:!1,ticket:null,newStatus:null});ut.useEffect(()=>{let T=[],w;w=setTimeout(()=>{console.log("Loading timeout reached, setting loading to false"),p(!1)},5e3);try{const V=to.onQueueChange(R=>{try{console.log("Queue data received:",R.size,"documents");const Ie=R.docs.map(Le=>({id:Le.id,...Le.data(),joinedAt:Le.data().joinedAt?.toDate?.()?.toISOString()||new Date().toISOString(),requestedAt:Le.data().requestedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));s(Ie),w&&(clearTimeout(w),w=null),p(!1)}catch(Ie){console.error("Error processing queue data:",Ie),p(!1)}},R=>{console.error("Queue subscription error:",R),p(!1)});T.push(V);const D=to.onPendingRequestsChange(R=>{try{console.log("Pending requests data received:",R.size,"documents");const Ie=R.docs.map(Le=>({id:Le.id,...Le.data(),requestedAt:Le.data().requestedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));u(Ie)}catch(Ie){console.error("Error processing pending requests:",Ie)}},R=>{console.error("Pending requests subscription error:",R)});T.push(D);const U=to.onActivityLogsChange(R=>{try{console.log("Activity logs data received:",R.size,"documents");const Ie=R.docs.map(Le=>({id:Le.id,...Le.data(),timestamp:Le.data().timestamp?.toDate?.()?.toISOString()||new Date().toISOString()}));g(Ie)}catch(Ie){console.error("Error processing activity logs:",Ie)}},R=>{console.error("Activity logs subscription error:",R)});T.push(U)}catch(V){console.error("Error setting up subscriptions:",V),p(!1)}return()=>{w&&clearTimeout(w),T.forEach(V=>{try{V()}catch(D){console.error("Error unsubscribing:",D)}})}},[]);const _e=async T=>{try{await to.approveRequest(T)}catch(w){alert(`Failed to approve request: ${w.message}`)}},de=async(T,w)=>{try{await to.rejectRequest(T,w),F(!1),b(null),ee("")}catch(V){alert(`Failed to reject request: ${V.message}`)}},He=async(T,w)=>{try{await to.updateQueueStatus(T,w),ce({show:!1,ticket:null,newStatus:null})}catch(V){console.error("Error updating status:",V),alert("Failed to update status")}},Ge=(T,w)=>{ce({show:!0,ticket:T,newStatus:w})},Me=()=>{ce({show:!1,ticket:null,newStatus:null})},C=async()=>{try{await oo.signOut()}catch(T){console.error("Error signing out:",T)}};return y?N.jsx(DS,{}):N.jsxs("div",{className:"min-h-screen bg-gray-100",children:[x&&N.jsx(Sx,{selectedTicket:A,rejectReason:Z,setRejectReason:ee,onClose:()=>{F(!1),b(null),ee("")},onConfirm:de}),J.show&&N.jsx(Ax,{selectedTicket:J.ticket,newStatus:J.newStatus,onClose:Me,onConfirm:He}),N.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:N.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),N.jsx("p",{className:"text-sm text-gray-600",children:"Omega Products Truck Queue Management"})]}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("nav",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>e("dashboard"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="dashboard"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:"Dashboard"}),N.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="history"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:"History"})]}),N.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[N.jsx(kw,{className:"w-4 h-4"}),"Sign Out"]})]})]})})}),N.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[r==="dashboard"&&N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[N.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:N.jsx(hm,{className:"w-6 h-6 text-blue-600"})}),N.jsxs("div",{className:"ml-4",children:[N.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Queue"}),N.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(T=>T.status===$e.QUEUED).length})]})]})}),N.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:N.jsx(cm,{className:"w-6 h-6 text-yellow-600"})}),N.jsxs("div",{className:"ml-4",children:[N.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active (Summoned)"}),N.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(T=>T.status===$e.SUMMONED).length})]})]})}),N.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:N.jsx(kl,{className:"w-6 h-6 text-green-600"})}),N.jsxs("div",{className:"ml-4",children:[N.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved Today"}),N.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(T=>T.action==="completed"&&new Date(T.timestamp).toDateString()===new Date().toDateString()).length})]})]})}),N.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:N.jsx(Mm,{className:"w-6 h-6 text-purple-600"})}),N.jsxs("div",{className:"ml-4",children:[N.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Requests"}),N.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.length})]})]})})]}),l.length>0&&N.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 shadow-lg",children:[N.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[N.jsx(Sw,{className:"w-5 h-5 text-yellow-600"}),"Pending Requests (",l.length,")"]}),N.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:l.map(T=>N.jsxs("div",{className:"bg-white border border-yellow-200 rounded-lg p-4",children:[N.jsxs("div",{className:"mb-3",children:[N.jsxs("div",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[N.jsx(Qv,{className:"w-4 h-4"}),T.driverName]}),N.jsx("p",{className:"text-sm text-gray-600",children:T.poNumber}),N.jsxs("p",{className:"text-xs text-gray-500",children:["Code: ",T.confirmCode,"  ",new Date(T.requestedAt).toLocaleTimeString()]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>_e(T.id),className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Approve"}),N.jsx("button",{onClick:()=>{b(T),F(!0)},className:"flex-1 bg-red-500 hover:bg-red-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Reject"})]})]},T.id))})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[N.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[N.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3",children:[N.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[N.jsx(hm,{className:"w-5 h-5"}),"Queue (",n.filter(T=>T.status===$e.QUEUED).length,")"]}),N.jsx("p",{className:"text-blue-100 text-sm",children:"Waiting drivers"})]}),N.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.filter(T=>T.status===$e.QUEUED).length===0?N.jsxs("div",{className:"p-6 text-center text-gray-500",children:[N.jsx(hm,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),N.jsx("p",{className:"text-sm",children:"No drivers in queue"})]}):N.jsx("div",{className:"divide-y divide-gray-200",children:n.filter(T=>T.status===$e.QUEUED).sort((T,w)=>T.position-w.position).map(T=>N.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[N.jsx("div",{className:"flex items-center justify-between mb-2",children:N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:["#",T.position]}),N.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:T.driverName})]})}),N.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:[N.jsxs("p",{children:["PO: ",T.poNumber]}),N.jsxs("p",{children:["Joined: ",new Date(T.joinedAt).toLocaleTimeString()]})]}),N.jsx("button",{onClick:()=>Ge(T,$e.SUMMONED),className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Summon "})]},T.id))})})]}),N.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[N.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 px-4 py-3",children:[N.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[N.jsx(cm,{className:"w-5 h-5"}),"Active (",n.filter(T=>T.status===$e.SUMMONED).length,")"]}),N.jsx("p",{className:"text-yellow-100 text-sm",children:"Currently being processed"})]}),N.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.filter(T=>T.status===$e.SUMMONED).length===0?N.jsxs("div",{className:"p-6 text-center text-gray-500",children:[N.jsx(cm,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),N.jsx("p",{className:"text-sm",children:"No active drivers"})]}):N.jsx("div",{className:"divide-y divide-gray-200",children:n.filter(T=>T.status===$e.SUMMONED).map(T=>N.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[N.jsxs("div",{className:"flex items-center justify-between mb-2",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(Qv,{className:"w-4 h-4 text-gray-600"}),N.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:T.driverName})]}),N.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full",children:"Summoned"})]}),N.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:[N.jsxs("p",{children:["PO: ",T.poNumber]}),N.jsxs("p",{children:["Summoned: ",new Date(T.joinedAt).toLocaleTimeString()]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>Ge(T,$e.COMPLETED),className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Mark Resolved "}),N.jsx("button",{onClick:()=>Ge(T,$e.QUEUED),className:"px-3 bg-gray-400 hover:bg-gray-500 text-white text-sm rounded-lg transition-colors",title:"Move back to queue",children:" Queue"})]})]},T.id))})})]}),N.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[N.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-4 py-3",children:[N.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[N.jsx(kl,{className:"w-5 h-5"}),"Resolved Today (",d.filter(T=>T.action==="completed"&&new Date(T.timestamp).toDateString()===new Date().toDateString()).length,")"]}),N.jsx("p",{className:"text-green-100 text-sm",children:"Completed loading"})]}),N.jsx("div",{className:"max-h-96 overflow-y-auto",children:d.filter(T=>T.action==="completed"&&new Date(T.timestamp).toDateString()===new Date().toDateString()).length===0?N.jsxs("div",{className:"p-6 text-center text-gray-500",children:[N.jsx(kl,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),N.jsx("p",{className:"text-sm",children:"No completed drivers today"})]}):N.jsx("div",{className:"divide-y divide-gray-200",children:d.filter(T=>T.action==="completed"&&new Date(T.timestamp).toDateString()===new Date().toDateString()).sort((T,w)=>new Date(w.timestamp)-new Date(T.timestamp)).map(T=>N.jsxs("div",{className:"p-4",children:[N.jsxs("div",{className:"flex items-center justify-between mb-2",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(kl,{className:"w-4 h-4 text-green-600"}),N.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:T.driverName})]}),N.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Resolved"})]}),N.jsxs("div",{className:"text-xs text-gray-600",children:[N.jsxs("p",{children:["PO: ",T.poNumber]}),N.jsxs("p",{children:["Completed: ",new Date(T.timestamp).toLocaleTimeString()]})]})]},T.id))})})]})]})]}),r==="history"&&N.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Activity History"}),N.jsxs("div",{className:"space-y-3",children:[d.map(T=>N.jsx("div",{className:"border-l-4 border-blue-500 bg-gray-50 rounded-r-lg p-4",children:N.jsxs("div",{className:"flex items-start gap-3",children:[N.jsxs("div",{className:"flex-shrink-0 mt-1",children:[(T.type==="success"||T.type==="queue_joined"||T.type==="request_approved")&&N.jsx(kl,{className:"w-5 h-5 text-green-500"}),(T.type==="error"||T.type==="request_rejected")&&N.jsx(k0,{className:"w-5 h-5 text-red-500"}),T.type==="pending"&&N.jsx(Mm,{className:"w-5 h-5 text-yellow-500"}),(T.type==="admin_action"||T.type==="removed_from_queue"||T.type==="queue_reordered"||T.type==="status_updated")&&N.jsx(Pw,{className:"w-5 h-5 text-blue-500"})]}),N.jsxs("div",{className:"flex-1",children:[N.jsx("p",{className:"text-sm font-medium text-gray-800",children:T.message}),N.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[T.poNumber&&N.jsx("p",{className:"text-xs text-gray-600",children:T.poNumber}),N.jsx("p",{className:"text-xs text-gray-500",children:new Date(T.timestamp).toLocaleString()}),T.userEmail&&N.jsxs("p",{className:"text-xs text-gray-500",children:["by ",T.userEmail]})]})]})]})},T.id)),d.length===0&&N.jsxs("div",{className:"text-center py-12 text-gray-500",children:[N.jsx(Mw,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),N.jsx("p",{children:"No activity logs yet"})]})]})]})]})]})},Rx=()=>{const[r,e]=ut.useState(null),[n,s]=ut.useState(!0),[l,u]=ut.useState(!1),[d,g]=ut.useState("");ut.useEffect(()=>{const p=oo.onAuthStateChange(async A=>{if(console.log("Auth state changed:",A?A.email:"signed out"),A)try{const b=await oo.getUserProfile(A.uid);console.log("User profile:",b),b&&b.role==="admin"?(e(A),g("")):(console.log("User is not an admin or profile not found"),g("Access denied. Admin account required."),await oo.signOut())}catch(b){console.error("Error getting user profile:",b),g("Failed to verify admin access. Please try again."),await oo.signOut()}else e(null);s(!1)});return()=>p()},[]);const y=async(p,A)=>{u(!0),g("");try{console.log("Attempting login with:",p),await oo.signIn(p,A)}catch(b){console.error("Login error:",b),g(`Sign in failed: ${b.message}`)}finally{u(!1)}};return n?N.jsx(DS,{}):r?N.jsx(wx,{}):N.jsx(bx,{onLogin:y,loading:l,error:d})};pw.createRoot(document.getElementById("root")).render(N.jsx(ut.StrictMode,{children:N.jsx(Rx,{})}));
