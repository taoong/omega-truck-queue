(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var im={exports:{}},Ml={};var Vv;function sw(){if(Vv)return Ml;Vv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Ml.Fragment=t,Ml.jsx=n,Ml.jsxs=n,Ml}var kv;function aw(){return kv||(kv=1,im.exports=sw()),im.exports}var V=aw(),rm={exports:{}},vt={};var Uv;function ow(){if(Uv)return vt;Uv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function ht(M,$,nt){this.props=M,this.context=$,this.refs=Z,this.updater=nt||P}ht.prototype.isReactComponent={},ht.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},ht.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function dt(){}dt.prototype=ht.prototype;function lt(M,$,nt){this.props=M,this.context=$,this.refs=Z,this.updater=nt||P}var wt=lt.prototype=new dt;wt.constructor=lt,W(wt,ht.prototype),wt.isPureReactComponent=!0;var te=Array.isArray;function Ut(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(M,$,nt){var st=nt.ref;return{$$typeof:r,type:M,key:$,ref:st!==void 0?st:null,props:nt}}function x(M,$){return I(M.type,$,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return $[nt]})}var w=/\/+/g;function re(M,$){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):$.toString(36)}function De(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ut,Ut):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,$,nt,st,yt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(St){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case r:case t:Vt=!0;break;case T:return Vt=M._init,G(Vt(M._payload),$,nt,st,yt)}}if(Vt)return yt=yt(M),Vt=st===""?"."+re(M,0):st,te(yt)?(nt="",Vt!=null&&(nt=Vt.replace(w,"$&/")+"/"),G(yt,$,nt,"",function(ys){return ys})):yt!=null&&(O(yt)&&(yt=x(yt,nt+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Vt)),$.push(yt)),1;Vt=0;var Oe=st===""?".":st+":";if(te(M))for(var se=0;se<M.length;se++)st=M[se],St=Oe+re(st,se),Vt+=G(st,$,nt,St,yt);else if(se=Q(M),typeof se=="function")for(M=se.call(M),se=0;!(st=M.next()).done;)st=st.value,St=Oe+re(st,se++),Vt+=G(st,$,nt,St,yt);else if(St==="object"){if(typeof M.then=="function")return G(De(M),$,nt,st,yt);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(M,$,nt){if(M==null)return M;var st=[],yt=0;return G(M,st,"","",function(St){return $.call(nt,St,yt++)}),st}function ft(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var Pt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:et,forEach:function(M,$,nt){et(M,function(){$.apply(this,arguments)},nt)},count:function(M){var $=0;return et(M,function(){$++}),$},toArray:function(M){return et(M,function($){return $})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=S,vt.Children=Ht,vt.Component=ht,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=lt,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,$,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=W({},M.props),yt=M.key;if($!=null)for(St in $.key!==void 0&&(yt=""+$.key),$)!b.call($,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&$.ref===void 0||(st[St]=$[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var Vt=Array(St),Oe=0;Oe<St;Oe++)Vt[Oe]=arguments[Oe+2];st.children=Vt}return I(M.type,yt,st)},vt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},vt.createElement=function(M,$,nt){var st,yt={},St=null;if($!=null)for(st in $.key!==void 0&&(St=""+$.key),$)b.call($,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=$[st]);var Vt=arguments.length-2;if(Vt===1)yt.children=nt;else if(1<Vt){for(var Oe=Array(Vt),se=0;se<Vt;se++)Oe[se]=arguments[se+2];yt.children=Oe}if(M&&M.defaultProps)for(st in Vt=M.defaultProps,Vt)yt[st]===void 0&&(yt[st]=Vt[st]);return I(M,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:g,render:M}},vt.isValidElement=O,vt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ft}},vt.memo=function(M,$){return{$$typeof:p,type:M,compare:$===void 0?null:$}},vt.startTransition=function(M){var $=C.T,nt={};C.T=nt;try{var st=M(),yt=C.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ut,Pt)}catch(St){Pt(St)}finally{$!==null&&nt.types!==null&&($.types=nt.types),C.T=$}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(M){return C.H.use(M)},vt.useActionState=function(M,$,nt){return C.H.useActionState(M,$,nt)},vt.useCallback=function(M,$){return C.H.useCallback(M,$)},vt.useContext=function(M){return C.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,$){return C.H.useDeferredValue(M,$)},vt.useEffect=function(M,$){return C.H.useEffect(M,$)},vt.useEffectEvent=function(M){return C.H.useEffectEvent(M)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(M,$,nt){return C.H.useImperativeHandle(M,$,nt)},vt.useInsertionEffect=function(M,$){return C.H.useInsertionEffect(M,$)},vt.useLayoutEffect=function(M,$){return C.H.useLayoutEffect(M,$)},vt.useMemo=function(M,$){return C.H.useMemo(M,$)},vt.useOptimistic=function(M,$){return C.H.useOptimistic(M,$)},vt.useReducer=function(M,$,nt){return C.H.useReducer(M,$,nt)},vt.useRef=function(M){return C.H.useRef(M)},vt.useState=function(M){return C.H.useState(M)},vt.useSyncExternalStore=function(M,$,nt){return C.H.useSyncExternalStore(M,$,nt)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.3",vt}var Pv;function lg(){return Pv||(Pv=1,rm.exports=ow()),rm.exports}var Ue=lg(),sm={exports:{}},xl={},am={exports:{}},om={};var Lv;function lw(){return Lv||(Lv=1,(function(r){function t(G,et){var ft=G.length;G.push(et);t:for(;0<ft;){var Pt=ft-1>>>1,Ht=G[Pt];if(0<l(Ht,et))G[Pt]=et,G[ft]=Ht,ft=Pt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var et=G[0],ft=G.pop();if(ft!==et){G[0]=ft;t:for(var Pt=0,Ht=G.length,M=Ht>>>1;Pt<M;){var $=2*(Pt+1)-1,nt=G[$],st=$+1,yt=G[st];if(0>l(nt,ft))st<Ht&&0>l(yt,nt)?(G[Pt]=yt,G[st]=ft,Pt=st):(G[Pt]=nt,G[$]=ft,Pt=$);else if(st<Ht&&0>l(yt,ft))G[Pt]=yt,G[st]=ft,Pt=st;else break t}}return et}function l(G,et){var ft=G.sortIndex-et.sortIndex;return ft!==0?ft:G.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],T=1,S=null,D=3,Q=!1,P=!1,W=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function wt(G){for(var et=n(p);et!==null;){if(et.callback===null)s(p);else if(et.startTime<=G)s(p),et.sortIndex=et.expirationTime,t(y,et);else break;et=n(p)}}function te(G){if(W=!1,wt(G),!P)if(n(y)!==null)P=!0,Ut||(Ut=!0,U());else{var et=n(p);et!==null&&De(te,et.startTime-G)}}var Ut=!1,C=-1,b=5,I=-1;function x(){return Z?!0:!(r.unstable_now()-I<b)}function O(){if(Z=!1,Ut){var G=r.unstable_now();I=G;var et=!0;try{t:{P=!1,W&&(W=!1,dt(C),C=-1),Q=!0;var ft=D;try{e:{for(wt(G),S=n(y);S!==null&&!(S.expirationTime>G&&x());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,D=S.priorityLevel;var Ht=Pt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,wt(G),et=!0;break e}S===n(y)&&s(y),wt(G)}else s(y);S=n(y)}if(S!==null)et=!0;else{var M=n(p);M!==null&&De(te,M.startTime-G),et=!1}}break t}finally{S=null,D=ft,Q=!1}et=void 0}}finally{et?U():Ut=!1}}}var U;if(typeof lt=="function")U=function(){lt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,re=w.port2;w.port1.onmessage=O,U=function(){re.postMessage(null)}}else U=function(){ht(O,0)};function De(G,et){C=ht(function(){G(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(G){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ft=D;D=et;try{return G()}finally{D=ft}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=D;D=G;try{return et()}finally{D=ft}},r.unstable_scheduleCallback=function(G,et,ft){var Pt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,G={id:T++,callback:et,priorityLevel:G,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Pt?(G.sortIndex=ft,t(p,G),n(y)===null&&G===n(p)&&(W?(dt(C),C=-1):W=!0,De(te,ft-Pt))):(G.sortIndex=Ht,t(y,G),P||Q||(P=!0,Ut||(Ut=!0,U()))),G},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(G){var et=D;return function(){var ft=D;D=et;try{return G.apply(this,arguments)}finally{D=ft}}}})(om)),om}var zv;function uw(){return zv||(zv=1,am.exports=lw()),am.exports}var lm={exports:{}},Je={};var jv;function cw(){if(jv)return Je;jv=1;var r=lg();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:p,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(y,p,null,T)},Je.flushSync=function(y){var p=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=T,s.d.f()}},Je.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Je.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Je.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin),D=typeof p.integrity=="string"?p.integrity:void 0,Q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:Q}):T==="script"&&s.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:Q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Je.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Je.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin);s.d.L(y,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Je.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Je.requestFormReset=function(y){s.d.r(y)},Je.unstable_batchedUpdates=function(y,p){return y(p)},Je.useFormState=function(y,p,T){return d.H.useFormState(y,p,T)},Je.useFormStatus=function(){return d.H.useHostTransitionStatus()},Je.version="19.2.3",Je}var qv;function hw(){if(qv)return lm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),lm.exports=cw(),lm.exports}var Bv;function fw(){if(Bv)return xl;Bv=1;var r=uw(),t=lg(),n=hw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case te:return"Suspense";case Ut:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case lt:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case wt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:re(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return re(e(i))}catch{}}return null}var De=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],Ht=-1;function M(e){return{current:e}}function $(e){0>Ht||(e.current=Pt[Ht],Pt[Ht]=null,Ht--)}function nt(e,i){Ht++,Pt[Ht]=e.current,e.current=i}var st=M(null),yt=M(null),St=M(null),Vt=M(null);function Oe(e,i){switch(nt(St,i),nt(yt,e),nt(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?iv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=iv(i),e=rv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(st),nt(st,e)}function se(){$(st),$(yt),$(St)}function ys(e){e.memoizedState!==null&&nt(Vt,e);var i=st.current,a=rv(i,e.type);i!==a&&(nt(yt,e),nt(st,a))}function ha(e){yt.current===e&&($(st),$(yt)),Vt.current===e&&($(Vt),Cl._currentValue=ft)}var fa,da;function oi(e){if(fa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fa=i&&i[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+e+da}var Co=!1;function _s(e,i){if(!e||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var q=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){q=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){q=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var R=_.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?oi(a):""}function No(e,i){switch(e.tag){case 26:case 27:case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return e.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return _s(e.type,!1);case 11:return _s(e.type.render,!1);case 1:return _s(e.type,!0);case 31:return oi("Activity");default:return""}}function Do(e){try{var i="",a=null;do i+=No(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,sf=r.unstable_shouldYield,vu=r.unstable_requestPaint,nn=r.unstable_now,vs=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,af=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,Tu=r.log,Au=r.unstable_setDisableYieldValue,Fn=null,Be=null;function Rn(e){if(typeof Tu=="function"&&Au(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Fn,e)}catch{}}var he=Math.clz32?Math.clz32:bu,Su=Math.log,ma=Math.LN2;function bu(e){return e>>>=0,e===0?32:31-(Su(e)/ma|0)|0}var li=256,Es=262144,_e=4194304;function ui(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ui(o):(_&=E,_!==0?h=ui(_):a||(a=E&~e,a!==0&&(h=ui(a))))):(E=o&~f,E!==0?h=ui(E):_!==0?h=ui(_):a||(a=o&~e,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Gn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function of(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function hi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ts(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lf(e,i,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var F=31-he(a),X=1<<F;E[F]=0,R[F]=-1;var q=j[F];if(q!==null)for(j[F]=null,F=0;F<q.length;F++){var H=q[F];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&As(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function As(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-he(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function xo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-he(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Vo(e,i){var a=i&-i;return a=(a&42)!==0?1:Ss(a),(a&(e.suspendedLanes|i))!==0?0:a}function Ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ru(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Iv(e.type))}function Qn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Kn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Kn,Le="__reactProps$"+Kn,fi="__reactContainer$"+Kn,ga="__reactEvents$"+Kn,uf="__reactListeners$"+Kn,Iu="__reactHandles$"+Kn,Cu="__reactResources$"+Kn,di="__reactMarker$"+Kn;function pa(e){delete e[ve],delete e[Le],delete e[ga],delete e[uf],delete e[Iu]}function mi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[fi]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=hv(e);e!==null;){if(a=e[ve])return a;e=hv(e)}return i}e=a,a=e.parentNode}return null}function In(e){if(e=e[ve]||e[fi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function gi(e){var i=e[Cu];return i||(i=e[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[di]=!0}var ko=new Set,Uo={};function pi(e,i){yi(e,i),yi(e+"Capture",i)}function yi(e,i){for(Uo[e]=i,e=0;e<i.length;e++)ko.add(i[e])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},zo={};function Nu(e){return ye.call(zo,e)?!0:ye.call(Lo,e)?!1:Po.test(e)?zo[e]=!0:(Lo[e]=!0,!1)}function ya(e,i,a){if(Nu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ft(e){if(!e._valueTracker){var i=vr(e)?"checked":"value";e._valueTracker=jo(e,i,""+e[i])}}function bs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=vr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ws=/[\n"\\]/g;function on(e){return e.replace(ws,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(e,i,a,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ze(i)):e.value!==""+ze(i)&&(e.value=""+ze(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?qo(e,_,ze(i)):a!=null?qo(e,_,ze(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function Du(e,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Ft(e);return}a=a!=null?""+ze(a):"",i=i!=null?""+ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Ft(e)}function qo(e,i,a){i==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Er(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ou(e,i,a){if(i!=null&&(i=""+ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ze(a):""}function Tr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(De(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=ze(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ft(e)}function ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Mu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ho(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Bo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Bo(e,f,i[f])}function va(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(e){return Ar.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Fo=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sr=null,vi=null;function Rs(e){var i=In(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(_a(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Le]||null;if(!h)throw Error(s(90));_a(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&bs(o)}break t;case"textarea":Ou(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Er(e,!!a.multiple,i,!1)}}}var Ta=!1;function br(e,i,a){if(Ta)return e(i,a);Ta=!0;try{var o=e(i);return o}finally{if(Ta=!1,(Sr!==null||vi!==null)&&(Rc(),Sr&&(i=Sr,e=vi,vi=Sr=null,Rs(i),e)))for(i=0;i<e.length;i++)Rs(e[i])}}function Xn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Le]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Nn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Is=!1}var Ei=null,Go=null,Cs=null;function Qo(){if(Cs)return Cs;var e,i=Go,a=i.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Cs=h.slice(e,1<o?1-o:void 0)}function Ns(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function $n(){return!1}function He(e){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:$n,this.isPropagationStopped=$n,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=He(Hi),wr=S({},Hi,{view:0,detail:0}),Ko=He(wr),Rr,Aa,Ai,Sa=S({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Rr=e.screenX-Ai.screenX,Aa=e.screenY-Ai.screenY):Aa=Rr=0,Ai=e),Rr)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),Yo=He(Sa),Ds=S({},Sa,{dataTransfer:0}),Vu=He(Ds),ku=S({},wr,{relatedTarget:0}),Os=He(ku),Xo=S({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=He(Xo),ba=S({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pu=He(ba),Lu=S({},Hi,{data:0}),Si=He(Lu),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=qu[e])?!!i[e]:!1}function Ir(){return Bu}var rn=S({},wr,{key:function(e){if(e.key){var i=zu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ju[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hu=He(rn),Fu=S({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=He(Fu),c=S({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),m=He(c),v=S({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=He(v),L=S({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=He(L),tt=S({},Hi,{newState:0,oldState:0}),Tt=He(tt),fe=[9,13,27,32],jt=Nn&&"CompositionEvent"in window,ae=null;Nn&&"documentMode"in document&&(ae=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ae,bi=Nn&&(!jt||ae&&8<ae&&11>=ae),Jn=" ",Zn=!1;function Ms(e,i){switch(e){case"keyup":return fe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function NS(e,i){switch(e){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return e=i.data,e===Jn&&Zn?null:e;default:return null}}function DS(e,i){if(Ra)return e==="compositionend"||!jt&&Ms(e,i)?(e=Qo(),Cs=Go=Ei=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var OS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!OS[e.type]:i==="textarea"}function gp(e,i,a,o){Sr?vi?vi.push(o):vi=[o]:Sr=o,i=xc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var $o=null,Jo=null;function MS(e){J_(e,0)}function Gu(e){var i=pn(e);if(bs(i))return e}function pp(e,i){if(e==="change")return i}var yp=!1;if(Nn){var cf;if(Nn){var hf="oninput"in document;if(!hf){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),hf=typeof _p.oninput=="function"}cf=hf}else cf=!1;yp=cf&&(!document.documentMode||9<document.documentMode)}function vp(){$o&&($o.detachEvent("onpropertychange",Ep),Jo=$o=null)}function Ep(e){if(e.propertyName==="value"&&Gu(Jo)){var i=[];gp(i,Jo,e,Cn(e)),br(MS,i)}}function xS(e,i,a){e==="focusin"?(vp(),$o=i,Jo=a,$o.attachEvent("onpropertychange",Ep)):e==="focusout"&&vp()}function VS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gu(Jo)}function kS(e,i){if(e==="click")return Gu(i)}function US(e,i){if(e==="input"||e==="change")return Gu(i)}function PS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:PS;function Zo(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function Tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,i){var a=Tp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Tp(a)}}function Sp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Sp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=_i(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=_i(e.document)}return i}function ff(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var LS=Nn&&"documentMode"in document&&11>=document.documentMode,Ia=null,df=null,Wo=null,mf=!1;function wp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||Ia==null||Ia!==_i(o)||(o=Ia,"selectionStart"in o&&ff(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wo&&Zo(Wo,o)||(Wo=o,o=xc(df,"onSelect"),0<o.length&&(i=new Ti("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Ia)))}function xs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ca={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},gf={},Rp={};Nn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Vs(e){if(gf[e])return gf[e];if(!Ca[e])return e;var i=Ca[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rp)return gf[e]=i[a];return e}var Ip=Vs("animationend"),Cp=Vs("animationiteration"),Np=Vs("animationstart"),zS=Vs("transitionrun"),jS=Vs("transitionstart"),qS=Vs("transitioncancel"),Dp=Vs("transitionend"),Op=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function Wn(e,i){Op.set(e,i),pi(i,[e])}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],Na=0,yf=0;function Ku(){for(var e=Na,i=yf=Na=0;i<e;){var a=On[i];On[i++]=null;var o=On[i];On[i++]=null;var h=On[i];On[i++]=null;var f=On[i];if(On[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Mp(a,h,f)}}function Yu(e,i,a,o){On[Na++]=e,On[Na++]=i,On[Na++]=a,On[Na++]=o,yf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function _f(e,i,a,o){return Yu(e,i,a,o),Xu(e)}function ks(e,i){return Yu(e,null,null,i),Xu(e)}function Mp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-he(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Xu(e){if(50<Tl)throw Tl=0,Id=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Da={};function BS(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,o){return new BS(e,i,a,o)}function vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function $u(e,i,a,o,h,f){var _=0;if(o=e,typeof e=="function")vf(e)&&(_=1);else if(typeof e=="string")_=Kb(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=vn(31,a,i,h),e.elementType=I,e.lanes=f,e;case W:return Us(a.children,h,f,i);case Z:_=8,h|=24;break;case ht:return e=vn(12,a,i,h|2),e.elementType=ht,e.lanes=f,e;case te:return e=vn(13,a,i,h),e.elementType=te,e.lanes=f,e;case Ut:return e=vn(19,a,i,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:_=10;break t;case dt:_=9;break t;case wt:_=11;break t;case C:_=14;break t;case b:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=vn(_,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Us(e,i,a,o){return e=vn(7,e,o,i),e.lanes=a,e}function Ef(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function Vp(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function Tf(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var kp=new WeakMap;function Mn(e,i){if(typeof e=="object"&&e!==null){var a=kp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Do(i)},kp.set(e,i),i)}return{value:e,source:i,stack:Do(i)}}var Oa=[],Ma=0,Ju=null,tl=0,xn=[],Vn=0,Cr=null,wi=1,Ri="";function Qi(e,i){Oa[Ma++]=tl,Oa[Ma++]=Ju,Ju=e,tl=i}function Up(e,i,a){xn[Vn++]=wi,xn[Vn++]=Ri,xn[Vn++]=Cr,Cr=e;var o=wi;e=Ri;var h=32-he(o)-1;o&=~(1<<h),a+=1;var f=32-he(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,wi=1<<32-he(i)+h|a<<h|o,Ri=f+e}else wi=1<<f|a<<h|o,Ri=e}function Af(e){e.return!==null&&(Qi(e,1),Up(e,1,0))}function Sf(e){for(;e===Ju;)Ju=Oa[--Ma],Oa[Ma]=null,tl=Oa[--Ma],Oa[Ma]=null;for(;e===Cr;)Cr=xn[--Vn],xn[Vn]=null,Ri=xn[--Vn],xn[Vn]=null,wi=xn[--Vn],xn[Vn]=null}function Pp(e,i){xn[Vn++]=wi,xn[Vn++]=Ri,xn[Vn++]=Cr,wi=i.id,Ri=i.overflow,Cr=e}var Fe=null,ee=null,xt=!1,Nr=null,kn=!1,bf=Error(s(519));function Dr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Mn(i,e)),bf}function Lp(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ve]=e,i[Le]=o,a){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)It(Sl[a],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),Du(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),Tr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||ev(i.textContent,a)?(o.popover!=null&&(It("beforetoggle",i),It("toggle",i)),o.onScroll!=null&&It("scroll",i),o.onScrollEnd!=null&&It("scrollend",i),o.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Dr(e,!0)}function zp(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Fe=Fe.return}}function xa(e){if(e!==Fe)return!1;if(!xt)return zp(e),xt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Bd(e.type,e.memoizedProps)),a=!a),a&&ee&&Dr(e),zp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=cv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=cv(e)}else i===27?(i=ee,Fr(e.type)?(e=Kd,Kd=null,ee=e):ee=i):ee=Fe?Pn(e.stateNode.nextSibling):null;return!0}function Ps(){ee=Fe=null,xt=!1}function wf(){var e=Nr;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Nr=null),e}function el(e){Nr===null?Nr=[e]:Nr.push(e)}var Rf=M(null),Ls=null,Ki=null;function Or(e,i,a){nt(Rf,i._currentValue),i._currentValue=a}function Yi(e){e._currentValue=Rf.current,$(Rf)}function If(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Cf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),If(f.return,a,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),If(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Va(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;_n(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}h=h.return}e!==null&&Cf(i,e,a,o),i.flags|=262144}function Zu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zs(e){Ls=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return jp(Ls,e)}function Wu(e,i){return Ls===null&&zs(e),jp(e,i)}function jp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(e===null)throw Error(s(308));Ki=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ki=Ki.next=i;return a}var HS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},FS=r.unstable_scheduleCallback,GS=r.unstable_NormalPriority,Ae={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new HS,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&FS(GS,function(){e.controller.abort()})}var il=null,Df=0,ka=0,Ua=null;function QS(e,i){if(il===null){var a=il=[];Df=0,ka=xd(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Df++,i.then(qp,qp),i}function qp(){if(--Df===0&&il!==null){Ua!==null&&(Ua.status="fulfilled");var e=il;il=null,ka=0,Ua=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function KS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Bp=G.S;G.S=function(e,i){w_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&QS(e,i),Bp!==null&&Bp(e,i)};var js=M(null);function Of(){var e=js.current;return e!==null?e:Zt.pooledCache}function tc(e,i){i===null?nt(js,js.current):nt(js,i.pool)}function Hp(){var e=Of();return e===null?null:{parent:Ae._currentValue,pool:e}}var Pa=Error(s(460)),Mf=Error(s(474)),ec=Error(s(542)),nc={then:function(){}};function Fp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Kp(e),e;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Kp(e),e}throw Bs=i,Pa}}function qs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Pa):a}}var Bs=null;function Qp(){if(Bs===null)throw Error(s(459));var e=Bs;return Bs=null,e}function Kp(e){if(e===Pa||e===ec)throw Error(s(483))}var La=null,rl=0;function ic(e){var i=rl;return rl+=1,La===null&&(La=[]),Gp(La,e,i)}function sl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function rc(e,i){throw i.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Yp(e){function i(k,N){if(e){var z=k.deletions;z===null?(k.deletions=[N],k.flags|=16):z.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Gi(k,N),k.index=0,k.sibling=null,k}function f(k,N,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<N?(k.flags|=67108866,N):z):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,z,K){return N===null||N.tag!==6?(N=Ef(z,k.mode,K),N.return=k,N):(N=h(N,z),N.return=k,N)}function R(k,N,z,K){var ut=z.type;return ut===W?F(k,N,z.props.children,K,z.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&qs(ut)===N.type)?(N=h(N,z.props),sl(N,z),N.return=k,N):(N=$u(z.type,z.key,z.props,null,k.mode,K),sl(N,z),N.return=k,N)}function j(k,N,z,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Tf(z,k.mode,K),N.return=k,N):(N=h(N,z.children||[]),N.return=k,N)}function F(k,N,z,K,ut){return N===null||N.tag!==7?(N=Us(z,k.mode,K,ut),N.return=k,N):(N=h(N,z),N.return=k,N)}function X(k,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ef(""+N,k.mode,z),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:return z=$u(N.type,N.key,N.props,null,k.mode,z),sl(z,N),z.return=k,z;case P:return N=Tf(N,k.mode,z),N.return=k,N;case b:return N=qs(N),X(k,N,z)}if(De(N)||U(N))return N=Us(N,k.mode,z,null),N.return=k,N;if(typeof N.then=="function")return X(k,ic(N),z);if(N.$$typeof===lt)return X(k,Wu(k,N),z);rc(k,N)}return null}function q(k,N,z,K){var ut=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ut!==null?null:E(k,N,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===ut?R(k,N,z,K):null;case P:return z.key===ut?j(k,N,z,K):null;case b:return z=qs(z),q(k,N,z,K)}if(De(z)||U(z))return ut!==null?null:F(k,N,z,K,null);if(typeof z.then=="function")return q(k,N,ic(z),K);if(z.$$typeof===lt)return q(k,N,Wu(k,z),K);rc(k,z)}return null}function H(k,N,z,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(z)||null,E(N,k,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?z:K.key)||null,R(N,k,K,ut);case P:return k=k.get(K.key===null?z:K.key)||null,j(N,k,K,ut);case b:return K=qs(K),H(k,N,z,K,ut)}if(De(K)||U(K))return k=k.get(z)||null,F(N,k,K,ut,null);if(typeof K.then=="function")return H(k,N,z,ic(K),ut);if(K.$$typeof===lt)return H(k,N,z,Wu(N,K),ut);rc(N,K)}return null}function at(k,N,z,K){for(var ut=null,Lt=null,ot=N,bt=N=0,Nt=null;ot!==null&&bt<z.length;bt++){ot.index>bt?(Nt=ot,ot=null):Nt=ot.sibling;var zt=q(k,ot,z[bt],K);if(zt===null){ot===null&&(ot=Nt);break}e&&ot&&zt.alternate===null&&i(k,ot),N=f(zt,N,bt),Lt===null?ut=zt:Lt.sibling=zt,Lt=zt,ot=Nt}if(bt===z.length)return a(k,ot),xt&&Qi(k,bt),ut;if(ot===null){for(;bt<z.length;bt++)ot=X(k,z[bt],K),ot!==null&&(N=f(ot,N,bt),Lt===null?ut=ot:Lt.sibling=ot,Lt=ot);return xt&&Qi(k,bt),ut}for(ot=o(ot);bt<z.length;bt++)Nt=H(ot,k,bt,z[bt],K),Nt!==null&&(e&&Nt.alternate!==null&&ot.delete(Nt.key===null?bt:Nt.key),N=f(Nt,N,bt),Lt===null?ut=Nt:Lt.sibling=Nt,Lt=Nt);return e&&ot.forEach(function(Xr){return i(k,Xr)}),xt&&Qi(k,bt),ut}function mt(k,N,z,K){if(z==null)throw Error(s(151));for(var ut=null,Lt=null,ot=N,bt=N=0,Nt=null,zt=z.next();ot!==null&&!zt.done;bt++,zt=z.next()){ot.index>bt?(Nt=ot,ot=null):Nt=ot.sibling;var Xr=q(k,ot,zt.value,K);if(Xr===null){ot===null&&(ot=Nt);break}e&&ot&&Xr.alternate===null&&i(k,ot),N=f(Xr,N,bt),Lt===null?ut=Xr:Lt.sibling=Xr,Lt=Xr,ot=Nt}if(zt.done)return a(k,ot),xt&&Qi(k,bt),ut;if(ot===null){for(;!zt.done;bt++,zt=z.next())zt=X(k,zt.value,K),zt!==null&&(N=f(zt,N,bt),Lt===null?ut=zt:Lt.sibling=zt,Lt=zt);return xt&&Qi(k,bt),ut}for(ot=o(ot);!zt.done;bt++,zt=z.next())zt=H(ot,k,bt,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?bt:zt.key),N=f(zt,N,bt),Lt===null?ut=zt:Lt.sibling=zt,Lt=zt);return e&&ot.forEach(function(rw){return i(k,rw)}),xt&&Qi(k,bt),ut}function Jt(k,N,z,K){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:t:{for(var ut=z.key;N!==null;){if(N.key===ut){if(ut=z.type,ut===W){if(N.tag===7){a(k,N.sibling),K=h(N,z.props.children),K.return=k,k=K;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&qs(ut)===N.type){a(k,N.sibling),K=h(N,z.props),sl(K,z),K.return=k,k=K;break t}a(k,N);break}else i(k,N);N=N.sibling}z.type===W?(K=Us(z.props.children,k.mode,K,z.key),K.return=k,k=K):(K=$u(z.type,z.key,z.props,null,k.mode,K),sl(K,z),K.return=k,k=K)}return _(k);case P:t:{for(ut=z.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(k,N.sibling),K=h(N,z.children||[]),K.return=k,k=K;break t}else{a(k,N);break}else i(k,N);N=N.sibling}K=Tf(z,k.mode,K),K.return=k,k=K}return _(k);case b:return z=qs(z),Jt(k,N,z,K)}if(De(z))return at(k,N,z,K);if(U(z)){if(ut=U(z),typeof ut!="function")throw Error(s(150));return z=ut.call(z),mt(k,N,z,K)}if(typeof z.then=="function")return Jt(k,N,ic(z),K);if(z.$$typeof===lt)return Jt(k,N,Wu(k,z),K);rc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(k,N.sibling),K=h(N,z),K.return=k,k=K):(a(k,N),K=Ef(z,k.mode,K),K.return=k,k=K),_(k)):a(k,N)}return function(k,N,z,K){try{rl=0;var ut=Jt(k,N,z,K);return La=null,ut}catch(ot){if(ot===Pa||ot===ec)throw ot;var Lt=vn(29,ot,null,k.mode);return Lt.lanes=K,Lt.return=k,Lt}}}var Hs=Yp(!0),Xp=Yp(!1),Mr=!1;function xf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Xu(e),Mp(e,null,a),i}return Yu(e,o,i,a),Xu(e)}function al(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,xo(e,a)}}function kf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Uf=!1;function ol(){if(Uf){var e=Ua;if(e!==null)throw e}}function ll(e,i,a,o){Uf=!1;var h=e.updateQueue;Mr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,_===null?f=j:_.next=j,_=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==_&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;_=0,F=j=R=null,E=f;do{var q=E.lane&-536870913,H=q!==E.lane;if(H?(Ct&q)===q:(o&q)===q){q!==0&&q===ka&&(Uf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;q=i;var Jt=a;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){X=at.call(Jt,X,q);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,q=typeof at=="function"?at.call(Jt,X,q):at,q==null)break t;X=S({},X,q);break t;case 2:Mr=!0}}q=E.callback,q!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=H,R=X):F=F.next=H,_|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(R=X),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),zr|=_,e.lanes=_,e.memoizedState=X}}function $p(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Jp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$p(a[e],i)}var za=M(null),sc=M(0);function Zp(e,i){e=ir,nt(sc,e),nt(za,i),ir=e|i.baseLanes}function Pf(){nt(sc,ir),nt(za,za.current)}function Lf(){ir=sc.current,$(za),$(sc)}var En=M(null),Un=null;function kr(e){var i=e.alternate;nt(de,de.current&1),nt(En,e),Un===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(Un=e)}function zf(e){nt(de,de.current),nt(En,e),Un===null&&(Un=e)}function Wp(e){e.tag===22?(nt(de,de.current),nt(En,e),Un===null&&(Un=e)):Ur()}function Ur(){nt(de,de.current),nt(En,En.current)}function Tn(e){$(En),Un===e&&(Un=null),$(de)}var de=M(0);function ac(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gd(a)||Qd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,At=null,Xt=null,Se=null,oc=!1,ja=!1,Fs=!1,lc=0,ul=0,qa=null,YS=0;function ue(){throw Error(s(321))}function jf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function qf(e,i,a,o,h,f){return Xi=f,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?Uy:nd,Fs=!1,f=a(o,h),Fs=!1,ja&&(f=ey(i,a,o,h)),ty(e),f}function ty(e){G.H=fl;var i=Xt!==null&&Xt.next!==null;if(Xi=0,Se=Xt=At=null,oc=!1,ul=0,qa=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Zu(e)&&(be=!0))}function ey(e,i,a,o){At=e;var h=0;do{if(ja&&(qa=null),ul=0,ja=!1,25<=h)throw Error(s(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Py,f=i(a,o)}while(ja);return f}function XS(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?cl(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),i}function Bf(){var e=lc!==0;return lc=0,e}function Hf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ff(e){if(oc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}oc=!1}Xi=0,Se=Xt=At=null,ja=!1,ul=lc=0,qa=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=Se===null?At.memoizedState:Se.next;if(i!==null)Se=i,Xt=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var i=ul;return ul+=1,qa===null&&(qa=[]),e=Gp(qa,e,i),i=At,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Uy:nd),e}function cc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===lt)return Ge(e)}throw Error(s(438,String(e)))}function Gf(e){var i=null,a=At.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),At.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=x;return i.index++,a}function $i(e,i){return typeof i=="function"?i(e):i}function hc(e){var i=me();return Qf(i,Xt,e)}function Qf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=_=null,R=null,j=i,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Ct&X)===X:(Xi&X)===X){var q=j.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===ka&&(F=!0);else if((Xi&q)===q){j=j.next,q===ka&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=X,_=f):R=R.next=X,At.lanes|=q,zr|=q;X=j.action,Fs&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else q={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=q,_=f):R=R.next=q,At.lanes|=X,zr|=X;j=j.next}while(j!==null&&j!==i);if(R===null?_=f:R.next=E,!_n(f,e.memoizedState)&&(be=!0,F&&(a=Ua,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Kf(e){var i=me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);_n(f,i.memoizedState)||(be=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function ny(e,i,a){var o=At,h=me(),f=xt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Xt||h).memoizedState,a);if(_&&(h.memoizedState=a,be=!0),h=h.queue,$f(sy.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},ry.bind(null,o,h,a,i),null),Zt===null)throw Error(s(349));f||(Xi&127)!==0||iy(o,i,a)}return a}function iy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=At.updateQueue,i===null?(i=uc(),At.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ry(e,i,a,o){i.value=a,i.getSnapshot=o,ay(i)&&oy(e)}function sy(e,i,a){return a(function(){ay(i)&&oy(e)})}function ay(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function oy(e){var i=ks(e,2);i!==null&&dn(i,e,2)}function Yf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Fs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},i}function ly(e,i,a,o){return e.baseState=a,Qf(e,Xt,typeof o=="function"?o:$i)}function $S(e,i,a,o,h){if(mc(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,uy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function uy(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=G.T,_={};G.T=_;try{var E=a(h,o),R=G.S;R!==null&&R(_,E),cy(e,i,E)}catch(j){Xf(e,i,j)}finally{f!==null&&_.types!==null&&(f.types=_.types),G.T=f}}else try{f=a(h,o),cy(e,i,f)}catch(j){Xf(e,i,j)}}function cy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){hy(e,i,o)},function(o){return Xf(e,i,o)}):hy(e,i,a)}function hy(e,i,a){i.status="fulfilled",i.value=a,fy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,uy(e,a)))}function Xf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==o)}e.action=null}function fy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function dy(e,i){return i}function my(e,i){if(xt){var a=Zt.formState;if(a!==null){t:{var o=At;if(xt){if(ee){e:{for(var h=ee,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Pn(h.nextSibling),o=h.data==="F!";break t}}Dr(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=o,a=xy.bind(null,At,o),o.dispatch=a,o=Yf(!1),f=ed.bind(null,At,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=$S.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function gy(e){var i=me();return py(i,Xt,e)}function py(e,i,a){if(i=Qf(e,i,dy)[0],e=hc($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=cl(i)}catch(_){throw _===Pa?ec:_}else o=i;i=me();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(At.flags|=2048,Ba(9,{destroy:void 0},JS.bind(null,h,a),null)),[o,f,e]}function JS(e,i){e.action=i}function yy(e){var i=me(),a=Xt;if(a!==null)return py(i,a,e);me(),i=i.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ba(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=At.updateQueue,i===null&&(i=uc(),At.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function _y(){return me().memoizedState}function fc(e,i,a,o){var h=sn();At.flags|=e,h.memoizedState=Ba(1|i,{destroy:void 0},a,o===void 0?null:o)}function dc(e,i,a,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&jf(o,Xt.memoizedState.deps)?h.memoizedState=Ba(i,f,a,o):(At.flags|=e,h.memoizedState=Ba(1|i,f,a,o))}function vy(e,i){fc(8390656,8,e,i)}function $f(e,i){dc(2048,8,e,i)}function ZS(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=uc(),At.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ey(e){var i=me().memoizedState;return ZS({ref:i,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(e,i){return dc(4,2,e,i)}function Ay(e,i){return dc(4,4,e,i)}function Sy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function by(e,i,a){a=a!=null?a.concat([e]):null,dc(4,4,Sy.bind(null,i,e),a)}function Jf(){}function wy(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&jf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Ry(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&jf(i,o[1]))return o[0];if(o=e(),Fs){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,i],o}function Zf(e,i,a){return a===void 0||(Xi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=I_(),At.lanes|=e,zr|=e,a)}function Iy(e,i,a,o){return _n(a,i)?a:za.current!==null?(e=Zf(e,a,o),_n(e,i)||(be=!0),e):(Xi&42)===0||(Xi&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=a):(e=I_(),At.lanes|=e,zr|=e,i)}function Cy(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var _=G.T,E={};G.T=E,ed(e,!1,i,a);try{var R=h(),j=G.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=KS(R,o);hl(e,i,F,bn(e))}else hl(e,i,o,bn(e))}catch(X){hl(e,i,{then:function(){},status:"rejected",reason:X},bn())}finally{et.p=f,_!==null&&E.types!==null&&(_.types=E.types),G.T=_}}function WS(){}function Wf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Ny(e).queue;Cy(e,h,i,ft,a===null?WS:function(){return Dy(e),a(o)})}function Ny(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dy(e){var i=Ny(e);i.next===null&&(i=e.alternate.memoizedState),hl(e,i.next.queue,{},bn())}function td(){return Ge(Cl)}function Oy(){return me().memoizedState}function My(){return me().memoizedState}function tb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=xr(a);var o=Vr(i,e,a);o!==null&&(dn(o,i,a),al(o,i,a)),i={cache:Nf()},e.payload=i;return}i=i.return}}function eb(e,i,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(e)?Vy(i,a):(a=_f(e,i,a,o),a!==null&&(dn(a,e,o),ky(a,i,o)))}function xy(e,i,a){var o=bn();hl(e,i,a,o)}function hl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(e))Vy(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,_))return Yu(e,i,h,0),Zt===null&&Ku(),!1}catch{}if(a=_f(e,i,h,o),a!==null)return dn(a,e,o),ky(a,i,o),!0}return!1}function ed(e,i,a,o){if(o={lane:2,revertLane:xd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mc(e)){if(i)throw Error(s(479))}else i=_f(e,a,o,2),i!==null&&dn(i,e,2)}function mc(e){var i=e.alternate;return e===At||i!==null&&i===At}function Vy(e,i){ja=oc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ky(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,xo(e,a)}}var fl={readContext:Ge,use:cc,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};fl.useEffectEvent=ue;var Uy={readContext:Ge,use:cc,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:vy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,fc(4194308,4,Sy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return fc(4194308,4,e,i)},useInsertionEffect:function(e,i){fc(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(Fs){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Fs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=eb.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Yf(e);var i=e.queue,a=xy.bind(null,At,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(e,i){var a=sn();return Zf(a,e,i)},useTransition:function(){var e=Yf(!1);return e=Cy.bind(null,At,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=At,h=sn();if(xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Zt===null)throw Error(s(349));(Ct&127)!==0||iy(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,vy(sy.bind(null,o,f,e),[e]),o.flags|=2048,Ba(9,{destroy:void 0},ry.bind(null,o,f,a,i),null),a},useId:function(){var e=sn(),i=Zt.identifierPrefix;if(xt){var a=Ri,o=wi;a=(o&~(1<<32-he(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=YS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:td,useFormState:my,useActionState:my,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ed.bind(null,At,!0,a),a.dispatch=i,[e,i]},useMemoCache:Gf,useCacheRefresh:function(){return sn().memoizedState=tb.bind(null,At)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},nd={readContext:Ge,use:cc,useCallback:wy,useContext:Ge,useEffect:$f,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Ay,useMemo:Ry,useReducer:hc,useRef:_y,useState:function(){return hc($i)},useDebugValue:Jf,useDeferredValue:function(e,i){var a=me();return Iy(a,Xt.memoizedState,e,i)},useTransition:function(){var e=hc($i)[0],i=me().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:ny,useId:Oy,useHostTransitionStatus:td,useFormState:gy,useActionState:gy,useOptimistic:function(e,i){var a=me();return ly(a,Xt,e,i)},useMemoCache:Gf,useCacheRefresh:My};nd.useEffectEvent=Ey;var Py={readContext:Ge,use:cc,useCallback:wy,useContext:Ge,useEffect:$f,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Ay,useMemo:Ry,useReducer:Kf,useRef:_y,useState:function(){return Kf($i)},useDebugValue:Jf,useDeferredValue:function(e,i){var a=me();return Xt===null?Zf(a,e,i):Iy(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Kf($i)[0],i=me().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:ny,useId:Oy,useHostTransitionStatus:td,useFormState:yy,useActionState:yy,useOptimistic:function(e,i){var a=me();return Xt!==null?ly(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:My};Py.useEffectEvent=Ey;function id(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var rd={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=bn(),h=xr(o);h.payload=i,a!=null&&(h.callback=a),i=Vr(e,h,o),i!==null&&(dn(i,e,o),al(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=bn(),h=xr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(e,h,o),i!==null&&(dn(i,e,o),al(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),o=xr(a);o.tag=2,i!=null&&(o.callback=i),i=Vr(e,o,a),i!==null&&(dn(i,e,a),al(i,e,a))}};function Ly(e,i,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function zy(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&rd.enqueueReplaceState(i,i.state,null)}function Gs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function jy(e){Qu(e)}function qy(e){console.error(e)}function By(e){Qu(e)}function gc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Hy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(e,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(e,i)},a}function Fy(e){return e=xr(e),e.tag=3,e}function Gy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Hy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Hy(i,a,o),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function nb(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Ic():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Dd(e,o,h)),!1;case 22:return a.flags|=65536,o===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Dd(e,o,h)),!1}throw Error(s(435,a.tag))}return Dd(e,o,h),Ic(),!1}if(xt)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==bf&&(e=Error(s(422),{cause:o}),el(Mn(e,a)))):(o!==bf&&(i=Error(s(423),{cause:o}),el(Mn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Mn(o,a),h=sd(e.stateNode,o,h),kf(e,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:o});if(f=Mn(f,a),El===null?El=[f]:El.push(f),ce!==4&&(ce=2),i===null)return!0;o=Mn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=sd(a.stateNode,o,e),kf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(jr===null||!jr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,e,a,o),kf(a,h),!1}a=a.return}while(a!==null);return!1}var ad=Error(s(461)),be=!1;function Qe(e,i,a,o){i.child=e===null?Xp(i,null,a,o):Hs(i,e.child,a,o)}function Qy(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return zs(i),o=qf(e,i,a,_,f,h),E=Bf(),e!==null&&!be?(Hf(e,i,h),Ji(e,i,h)):(xt&&E&&Af(i),i.flags|=1,Qe(e,i,o,h),i.child)}function Ky(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!vf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Yy(e,i,f,o,h)):(e=$u(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!md(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,o)&&e.ref===i.ref)return Ji(e,i,h)}return i.flags|=1,e=Gi(f,o),e.ref=i.ref,e.return=i,i.child=e}function Yy(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Zo(f,o)&&e.ref===i.ref)if(be=!1,i.pendingProps=o=f,md(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,Ji(e,i,h)}return od(e,i,a,o,h)}function Xy(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return $y(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&tc(i,f!==null?f.cachePool:null),f!==null?Zp(i,f):Pf(),Wp(i);else return o=i.lanes=536870912,$y(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(tc(i,f.cachePool),Zp(i,f),Ur(),i.memoizedState=null):(e!==null&&tc(i,null),Pf(),Ur());return Qe(e,i,h,a),i.child}function dl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $y(e,i,a,o,h){var f=Of();return f=f===null?null:{parent:Ae._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&tc(i,null),Pf(),Wp(i),e!==null&&Va(e,i,o,!0),i.childLanes=h,null}function pc(e,i){return i=_c({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Jy(e,i,a){return Hs(i,e.child,null,a),e=pc(i,i.pendingProps),e.flags|=2,Tn(i),i.memoizedState=null,e}function ib(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=pc(i,o),i.lanes=536870912,dl(null,e);if(zf(i),(e=ee)?(e=uv(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Cr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Vp(e),a.return=i,i.child=a,Fe=i,ee=null)):e=null,e===null)throw Dr(i);return i.lanes=536870912,null}return pc(i,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=Jy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||Va(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Zt,o!==null&&(_=Vo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,ks(e,_),dn(o,e,_),ad;Ic(),i=Jy(e,i,a)}else e=f.treeContext,ee=Pn(_.nextSibling),Fe=i,xt=!0,Nr=null,kn=!1,e!==null&&Pp(i,e),i=pc(i,o),i.flags|=4096;return i}return e=Gi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function yc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function od(e,i,a,o,h){return zs(i),a=qf(e,i,a,o,void 0,h),o=Bf(),e!==null&&!be?(Hf(e,i,h),Ji(e,i,h)):(xt&&o&&Af(i),i.flags|=1,Qe(e,i,a,h),i.child)}function Zy(e,i,a,o,h,f){return zs(i),i.updateQueue=null,a=ey(i,o,a,h),ty(e),o=Bf(),e!==null&&!be?(Hf(e,i,f),Ji(e,i,f)):(xt&&o&&Af(i),i.flags|=1,Qe(e,i,a,f),i.child)}function Wy(e,i,a,o,h){if(zs(i),i.stateNode===null){var f=Da,_=a.contextType;typeof _=="object"&&_!==null&&(f=Ge(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},xf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Ge(_):Da,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(id(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&rd.enqueueReplaceState(f,f.state,null),ll(i,o,f,h),ol(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,R=Gs(a,E);f.props=R;var j=f.context,F=a.contextType;_=Da,typeof F=="object"&&F!==null&&(_=Ge(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==_)&&zy(i,f,o,_),Mr=!1;var q=i.memoizedState;f.state=q,ll(i,o,f,h),ol(),j=i.memoizedState,E||q!==j||Mr?(typeof X=="function"&&(id(i,a,X,o),j=i.memoizedState),(R=Mr||Ly(i,a,R,o,q,j,_))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=_,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Vf(e,i),_=i.memoizedProps,F=Gs(a,_),f.props=F,X=i.pendingProps,q=f.context,j=a.contextType,R=Da,typeof j=="object"&&j!==null&&(R=Ge(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||q!==R)&&zy(i,f,o,R),Mr=!1,q=i.memoizedState,f.state=q,ll(i,o,f,h),ol();var H=i.memoizedState;_!==X||q!==H||Mr||e!==null&&e.dependencies!==null&&Zu(e.dependencies)?(typeof E=="function"&&(id(i,a,E,o),H=i.memoizedState),(F=Mr||Ly(i,a,F,o,q,H,R)||e!==null&&e.dependencies!==null&&Zu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,yc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Hs(i,e.child,null,h),i.child=Hs(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Ji(e,i,h),e}function t_(e,i,a,o){return Ps(),i.flags|=256,Qe(e,i,a,o),i.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(e){return{baseLanes:e,cachePool:Hp()}}function cd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Sn),e}function e_(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(xt){if(h?kr(i):Ur(),(e=ee)?(e=uv(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Cr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Vp(e),a.return=i,i.child=a,Fe=i,ee=null)):e=null,e===null)throw Dr(i);return Qd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ur(),h=i.mode,E=_c({mode:"hidden",children:E},h),o=Us(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=ud(a),o.childLanes=cd(e,_,a),i.memoizedState=ld,dl(null,o)):(kr(i),hd(i,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(kr(i),i.flags&=-257,i=fd(e,i,a)):i.memoizedState!==null?(Ur(),i.child=e.child,i.flags|=128,i=null):(Ur(),E=o.fallback,h=i.mode,o=_c({mode:"visible",children:o.children},h),E=Us(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Hs(i,e.child,null,a),o=i.child,o.memoizedState=ud(a),o.childLanes=cd(e,_,a),i.memoizedState=ld,i=dl(null,o));else if(kr(i),Qd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(s(419)),o.stack="",o.digest=_,el({value:o,source:null,stack:null}),i=fd(e,i,a)}else if(be||Va(e,i,a,!1),_=(a&e.childLanes)!==0,be||_){if(_=Zt,_!==null&&(o=Vo(_,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,ks(e,o),dn(_,e,o),ad;Gd(E)||Ic(),i=fd(e,i,a)}else Gd(E)?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ee=Pn(E.nextSibling),Fe=i,xt=!0,Nr=null,kn=!1,e!==null&&Pp(i,e),i=hd(i,o.children),i.flags|=4096);return i}return h?(Ur(),E=o.fallback,h=i.mode,R=e.child,j=R.sibling,o=Gi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=Gi(j,E):(E=Us(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,dl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=ud(a):(h=E.cachePool,h!==null?(R=Ae._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Hp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=cd(e,_,a),i.memoizedState=ld,dl(e.child,o)):(kr(i),a=e.child,e=a.sibling,a=Gi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function hd(e,i){return i=_c({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _c(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function fd(e,i,a){return Hs(i,e.child,null,a),e=hd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function n_(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),If(e.return,i,a)}function dd(e,i,a,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function i_(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=de.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,nt(de,_),Qe(e,i,o,a),o=xt?tl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n_(e,a,i);else if(e.tag===19)n_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ac(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),dd(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ac(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}dd(i,!0,a,null,f,o);break;case"together":dd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Va(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Gi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Gi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function md(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Zu(e)))}function rb(e,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Or(i,Ae,e.memoizedState.cache),Ps();break;case 27:case 5:ys(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?e_(e,i,a):(kr(i),e=Ji(e,i,a),e!==null?e.sibling:null);kr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Va(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return i_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return i.lanes=0,Xy(e,i,a,i.pendingProps);case 24:Or(i,Ae,e.memoizedState.cache)}return Ji(e,i,a)}function r_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!md(e,a)&&(i.flags&128)===0)return be=!1,rb(e,i,a);be=(e.flags&131072)!==0}else be=!1,xt&&(i.flags&1048576)!==0&&Up(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=qs(i.elementType),i.type=e,typeof e=="function")vf(e)?(o=Gs(e,o),i.tag=1,i=Wy(null,i,e,o,a)):(i.tag=0,i=od(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===wt){i.tag=11,i=Qy(null,i,e,o,a);break t}else if(h===C){i.tag=14,i=Ky(null,i,e,o,a);break t}}throw i=re(e)||e,Error(s(306,i,""))}}return i;case 0:return od(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Gs(o,i.pendingProps),Wy(e,i,o,h,a);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Vf(e,i),ll(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Or(i,Ae,o),o!==f.cache&&Cf(i,[Ae],a,!0),ol(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=t_(e,i,o,a);break t}else if(o!==h){h=Mn(Error(s(424)),i),el(h),i=t_(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=Pn(e.firstChild),Fe=i,xt=!0,Nr=null,kn=!0,a=Xp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ps(),o===h){i=Ji(e,i,a);break t}Qe(e,i,o,a)}i=i.child}return i;case 26:return yc(e,i),e===null?(a=gv(i.type,null,i.pendingProps,null))?i.memoizedState=a:xt||(a=i.type,e=i.pendingProps,o=Vc(St.current).createElement(a),o[ve]=i,o[Le]=e,Ke(o,a,e),Ee(o),i.stateNode=o):i.memoizedState=gv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ys(i),e===null&&xt&&(o=i.stateNode=fv(i.type,i.pendingProps,St.current),Fe=i,kn=!0,h=ee,Fr(i.type)?(Kd=h,ee=Pn(o.firstChild)):ee=h),Qe(e,i,i.pendingProps.children,a),yc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&xt&&((h=o=ee)&&(o=Vb(o,i.type,i.pendingProps,kn),o!==null?(i.stateNode=o,Fe=i,ee=Pn(o.firstChild),kn=!1,h=!0):h=!1),h||Dr(i)),ys(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Bd(h,f)?o=null:_!==null&&Bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(e,i,XS,null,null,a),Cl._currentValue=h),yc(e,i),Qe(e,i,o,a),i.child;case 6:return e===null&&xt&&((e=a=ee)&&(a=kb(a,i.pendingProps,kn),a!==null?(i.stateNode=a,Fe=i,ee=null,e=!0):e=!1),e||Dr(i)),null;case 13:return e_(e,i,a);case 4:return Oe(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Hs(i,null,o,a):Qe(e,i,o,a),i.child;case 11:return Qy(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Or(i,i.type,o.value),Qe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,zs(i),h=Ge(h),o=o(h),i.flags|=1,Qe(e,i,o,a),i.child;case 14:return Ky(e,i,i.type,i.pendingProps,a);case 15:return Yy(e,i,i.type,i.pendingProps,a);case 19:return i_(e,i,a);case 31:return ib(e,i,a);case 22:return Xy(e,i,a,i.pendingProps);case 24:return zs(i),o=Ge(Ae),e===null?(h=Of(),h===null&&(h=Zt,f=Nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},xf(i),Or(i,Ae,h)):((e.lanes&a)!==0&&(Vf(e,i),ll(i,null,null,a),ol()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,Ae,o)):(o=f.cache,Or(i,Ae,o),o!==h.cache&&Cf(i,[Ae],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(e){e.flags|=4}function gd(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(O_())e.flags|=8192;else throw Bs=nc,Mf}else e.flags&=-16777217}function s_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ev(i))if(O_())e.flags|=8192;else throw Bs=nc,Mf}function vc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?wu():536870912,e.lanes|=i,Qa|=i)}function ml(e,i){if(!xt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function sb(e,i,a){var o=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Yi(Ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xa(i)?Zi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wf())),ne(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Zi(i),f!==null?(ne(i),s_(i,f)):(ne(i),gd(i,h,null,o,a))):f?f!==e.memoizedState?(Zi(i),ne(i),s_(i,f)):(ne(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Zi(i),ne(i),gd(i,h,e,o,a)),null;case 27:if(ha(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Zi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=st.current,xa(i)?Lp(i):(e=fv(h,o,a),i.stateNode=e,Zi(i))}return ne(i),null;case 5:if(ha(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Zi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(f=st.current,xa(i))Lp(i);else{var _=Vc(St.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[ve]=i,f[Le]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Ke(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Zi(i)}}return ne(i),gd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Zi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=St.current,xa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||ev(e.nodeValue,a)),e||Dr(i,!0)}else e=Vc(e).createTextNode(o),e[ve]=i,i.stateNode=e}return ne(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=xa(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),e=!1}else a=wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=xa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),ne(i),null);case 4:return se(),e===null&&Pd(i.stateNode.containerInfo),ne(i),null;case 10:return Yi(i.type),ne(i),null;case 19:if($(de),o=i.memoizedState,o===null)return ne(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)ml(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=ac(e),f!==null){for(i.flags|=128,ml(o,!1),e=f.updateQueue,i.updateQueue=e,vc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)xp(a,e),a=a.sibling;return nt(de,de.current&1|2),xt&&Qi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&nn()>bc&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304)}else{if(!h)if(e=ac(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,vc(i,e),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ne(i),null}else 2*nn()-o.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,a=de.current,nt(de,h?a&1|2:a&1),xt&&Qi(i,o.treeForkCount),e):(ne(i),null);case 22:case 23:return Tn(i),Lf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&$(js),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(Ae),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ab(e,i){switch(Sf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Yi(Ae),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ha(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Ps()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ps()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(de),null;case 4:return se(),null;case 10:return Yi(i.type),null;case 22:case 23:return Tn(i),Lf(),e!==null&&$(js),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Yi(Ae),null;case 25:return null;default:return null}}function a_(e,i){switch(Sf(i),i.tag){case 3:Yi(Ae),se();break;case 26:case 27:case 5:ha(i);break;case 4:se();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:$(de);break;case 10:Yi(i.type);break;case 22:case 23:Tn(i),Lf(),e!==null&&$(js);break;case 24:Yi(Ae)}}function gl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Qt(i,i.return,E)}}function Pr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var R=a,j=E;try{j()}catch(F){Qt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Qt(i,i.return,F)}}function o_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Jp(i,a)}catch(o){Qt(e,e.return,o)}}}function l_(e,i,a){a.props=Gs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Qt(e,i,o)}}function pl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Qt(e,i,h)}}function Ii(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qt(e,i,h)}else a.current=null}function u_(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Qt(e,e.return,h)}}function pd(e,i,a){try{var o=e.stateNode;Cb(o,e.type,a,i),o[Le]=i}catch(h){Qt(e,e.return,h)}}function c_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fr(e.type)||e.tag===4}function yd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||c_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _d(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(o!==4&&(o===27&&Fr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(_d(e,i,a),e=e.sibling;e!==null;)_d(e,i,a),e=e.sibling}function Ec(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Fr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ec(e,i,a),e=e.sibling;e!==null;)Ec(e,i,a),e=e.sibling}function h_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,o,a),i[ve]=e,i[Le]=a}catch(f){Qt(e,e.return,f)}}var Wi=!1,we=!1,vd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,je=null;function ob(e,i){if(e=e.containerInfo,jd=qc,e=bp(e),ff(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,R=-1,j=0,F=0,X=e,q=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=_+h),X!==f||o!==0&&X.nodeType!==3||(R=_+o),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)q=X,X=H;for(;;){if(X===e)break e;if(q===a&&++j===h&&(E=_),q===f&&++F===o&&(R=_),(H=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=H}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:e,selectionRange:a},qc=!1,je=i;je!==null;)if(i=je,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,je=e;else for(;je!==null;){switch(i=je,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Gs(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Qt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Fd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,je=e;break}je=i.return}}function d_(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:er(e,a),o&4&&gl(5,a);break;case 1:if(er(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Qt(a,a.return,_)}else{var h=Gs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Qt(a,a.return,_)}}o&64&&o_(a),o&512&&pl(a,a.return);break;case 3:if(er(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jp(e,i)}catch(_){Qt(a,a.return,_)}}break;case 27:i===null&&o&4&&h_(a);case 26:case 5:er(e,a),i===null&&o&4&&u_(a),o&512&&pl(a,a.return);break;case 12:er(e,a);break;case 31:er(e,a),o&4&&p_(e,a);break;case 13:er(e,a),o&4&&y_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=pb.bind(null,a),Ub(e,a))));break;case 22:if(o=a.memoizedState!==null||Wi,!o){i=i!==null&&i.memoizedState!==null||we,h=Wi;var f=we;Wi=o,(we=i)&&!f?nr(e,a,(a.subtreeFlags&8772)!==0):er(e,a),Wi=h,we=f}break;case 30:break;default:er(e,a)}}function m_(e){var i=e.alternate;i!==null&&(e.alternate=null,m_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&pa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,un=!1;function tr(e,i,a){for(a=a.child;a!==null;)g_(e,i,a),a=a.sibling}function g_(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:we||Ii(a,i),tr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ii(a,i);var o=oe,h=un;Fr(a.type)&&(oe=a.stateNode,un=!1),tr(e,i,a),wl(a.stateNode),oe=o,un=h;break;case 5:we||Ii(a,i);case 6:if(o=oe,h=un,oe=null,tr(e,i,a),oe=o,un=h,oe!==null)if(un)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Qt(a,i,f)}else try{oe.removeChild(a.stateNode)}catch(f){Qt(a,i,f)}break;case 18:oe!==null&&(un?(e=oe,ov(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),to(e)):ov(oe,a.stateNode));break;case 4:o=oe,h=un,oe=a.stateNode.containerInfo,un=!0,tr(e,i,a),oe=o,un=h;break;case 0:case 11:case 14:case 15:Pr(2,a,i),we||Pr(4,a,i),tr(e,i,a);break;case 1:we||(Ii(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&l_(a,i,o)),tr(e,i,a);break;case 21:tr(e,i,a);break;case 22:we=(o=we)||a.memoizedState!==null,tr(e,i,a),we=o;break;default:tr(e,i,a)}}function p_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{to(e)}catch(a){Qt(i,i.return,a)}}}function y_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{to(e)}catch(a){Qt(i,i.return,a)}}function lb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new f_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new f_),i;default:throw Error(s(435,e.tag))}}function Tc(e,i){var a=lb(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=yb.bind(null,e,o);o.then(h,h)}})}function cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Fr(E.type)){oe=E.stateNode,un=!1;break t}break;case 5:oe=E.stateNode,un=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(oe===null)throw Error(s(160));g_(f,_,h),oe=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,e),i=i.sibling}var ti=null;function __(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),o&4&&(Pr(3,e,e.return),gl(3,e),Pr(5,e,e.return));break;case 1:cn(i,e),hn(e),o&512&&(we||a===null||Ii(a,a.return)),o&64&&Wi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ti;if(cn(i,e),hn(e),o&512&&(we||a===null||Ii(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var _=_v("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;case"meta":if(_=_v("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else vv(h,e.type,e.stateNode);else e.stateNode=yv(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?vv(h,e.type,e.stateNode):yv(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&pd(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),o&512&&(we||a===null||Ii(a,a.return)),a!==null&&o&4&&pd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),o&512&&(we||a===null||Ii(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(at){Qt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,pd(e,h,a!==null?a.memoizedProps:h)),o&1024&&(vd=!0);break;case 6:if(cn(i,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Qt(e,e.return,at)}}break;case 3:if(Pc=null,h=ti,ti=kc(i.containerInfo),cn(i,e),ti=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(at){Qt(e,e.return,at)}vd&&(vd=!1,v_(e));break;case 4:o=ti,ti=kc(e.stateNode.containerInfo),cn(i,e),hn(e),ti=o;break;case 12:cn(i,e),hn(e);break;case 31:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=Wi,F=we;if(Wi=j||h,we=F||R,cn(i,e),we=F,Wi=j,hn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Wi||we||Qs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(at){Qt(R,R.return,at)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Qt(R,R.return,at)}}}else if(i.tag===18){if(a===null){R=i;try{var H=R.stateNode;h?lv(H,!0):lv(R.stateNode,!1)}catch(at){Qt(R,R.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tc(e,a))));break;case 19:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(c_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=yd(e);Ec(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var E=yd(e);Ec(e,E,_);break;case 3:case 4:var R=a.stateNode.containerInfo,j=yd(e);_d(e,j,R);break;default:throw Error(s(161))}}catch(F){Qt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function v_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function er(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(e,i.alternate,i),i=i.sibling}function Qs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Qs(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),Qs(i);break;case 27:wl(i.stateNode);case 26:case 5:Ii(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}e=e.sibling}}function nr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:nr(h,f,a),gl(4,f);break;case 1:if(nr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Qt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)$p(R[h],E)}catch(j){Qt(o,o.return,j)}}a&&_&64&&o_(f),pl(f,f.return);break;case 27:h_(f);case 26:case 5:nr(h,f,a),a&&o===null&&_&4&&u_(f),pl(f,f.return);break;case 12:nr(h,f,a);break;case 31:nr(h,f,a),a&&_&4&&p_(h,f);break;case 13:nr(h,f,a),a&&_&4&&y_(h,f);break;case 22:f.memoizedState===null&&nr(h,f,a),pl(f,f.return);break;case 30:break;default:nr(h,f,a)}i=i.sibling}}function Ed(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function Td(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e))}function ei(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(e,i,a,o),i=i.sibling}function E_(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,o),h&2048&&gl(9,i);break;case 1:ei(e,i,a,o);break;case 3:ei(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e)));break;case 12:if(h&2048){ei(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(i,i.return,R)}}else ei(e,i,a,o);break;case 31:ei(e,i,a,o);break;case 13:ei(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?ei(e,i,a,o):yl(e,i):f._visibility&2?ei(e,i,a,o):(f._visibility|=2,Ha(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ed(_,i);break;case 24:ei(e,i,a,o),h&2048&&Td(i.alternate,i);break;default:ei(e,i,a,o)}}function Ha(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,E=a,R=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(f,_,E,R,h),gl(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Ha(f,_,E,R,h):yl(f,_):(F._visibility|=2,Ha(f,_,E,R,h)),h&&j&2048&&Ed(_.alternate,_);break;case 24:Ha(f,_,E,R,h),h&&j&2048&&Td(_.alternate,_);break;default:Ha(f,_,E,R,h)}i=i.sibling}}function yl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:yl(a,o),h&2048&&Ed(o.alternate,o);break;case 24:yl(a,o),h&2048&&Td(o.alternate,o);break;default:yl(a,o)}i=i.sibling}}var _l=8192;function Fa(e,i,a){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)T_(e,i,a),e=e.sibling}function T_(e,i,a){switch(e.tag){case 26:Fa(e,i,a),e.flags&_l&&e.memoizedState!==null&&Yb(a,ti,e.memoizedState,e.memoizedProps);break;case 5:Fa(e,i,a);break;case 3:case 4:var o=ti;ti=kc(e.stateNode.containerInfo),Fa(e,i,a),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=_l,_l=16777216,Fa(e,i,a),_l=o):Fa(e,i,a));break;default:Fa(e,i,a)}}function A_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function vl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];je=o,b_(o,e)}A_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)S_(e),e=e.sibling}function S_(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&Pr(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ac(e)):vl(e);break;default:vl(e)}}function Ac(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];je=o,b_(o,e)}A_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),Ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(i));break;default:Ac(i)}e=e.sibling}}function b_(e,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,je=o;else t:for(a=e;je!==null;){o=je;var h=o.sibling,f=o.return;if(m_(o),o===a){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var ub={getCacheForType:function(e){var i=Ge(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ge(Ae).controller.signal}},cb=typeof WeakMap=="function"?WeakMap:Map,qt=0,Zt=null,Rt=null,Ct=0,Gt=0,An=null,Lr=!1,Ga=!1,Ad=!1,ir=0,ce=0,zr=0,Ks=0,Sd=0,Sn=0,Qa=0,El=null,fn=null,bd=!1,Sc=0,w_=0,bc=1/0,wc=null,jr=null,xe=0,qr=null,Ka=null,rr=0,wd=0,Rd=null,R_=null,Tl=0,Id=null;function bn(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:G.T!==null?xd():Ru()}function I_(){if(Sn===0)if((Ct&536870912)===0||xt){var e=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),Sn=e}else Sn=536870912;return e=En.current,e!==null&&(e.flags|=32),Sn}function dn(e,i,a){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),Br(e,Ct,Sn,!1)),Ts(e,a),((qt&2)===0||e!==Zt)&&(e===Zt&&((qt&2)===0&&(Ks|=a),ce===4&&Br(e,Ct,Sn,!1)),Ci(e))}function C_(e,i,a){if((qt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Gn(e,i),h=o?db(e,i):Nd(e,i,!0),f=o;do{if(h===0){Ga&&!o&&Br(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!hb(a)){h=Nd(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=El;var R=E.current.memoizedState.isDehydrated;if(R&&(Ya(E,_).flags|=256),_=Nd(E,_,!1),_!==2){if(Ad&&!R){E.errorRecoveryDisabledLanes|=f,Ks|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ya(e,0),Br(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(o,i,Sn,!Lr);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sc+300-nn(),10<h)){if(Br(o,i,Sn,!Lr),ci(o,0,!0)!==0)break t;rr=i,o.timeoutHandle=sv(N_.bind(null,o,a,fn,wc,bd,i,Sn,Ks,Qa,Lr,f,"Throttled",-0,0),h);break t}N_(o,a,fn,wc,bd,i,Sn,Ks,Qa,Lr,f,null,-0,0)}}break}while(!0);Ci(e)}function N_(e,i,a,o,h,f,_,E,R,j,F,X,q,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},T_(i,f,X);var at=(f&62914560)===f?Sc-nn():(f&4194048)===f?w_-nn():0;if(at=Xb(X,at),at!==null){rr=f,e.cancelPendingCommit=at(P_.bind(null,e,i,f,a,o,h,_,E,R,F,X,null,q,H)),Br(e,f,_,!j);return}}P_(e,i,f,a,o,h,_,E,R)}function hb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(e,i,a,o){i&=~Sd,i&=~Ks,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-he(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&As(e,a,i)}function Rc(){return(qt&6)===0?(Al(0),!1):!0}function Cd(){if(Rt!==null){if(Gt===0)var e=Rt.return;else e=Rt,Ki=Ls=null,Ff(e),La=null,rl=0,e=Rt;for(;e!==null;)a_(e.alternate,e),e=e.return;Rt=null}}function Ya(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ob(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),rr=0,Cd(),Zt=e,Rt=a=Gi(e.current,null),Ct=i,Gt=0,An=null,Lr=!1,Ga=Gn(e,i),Ad=!1,Qa=Sn=Sd=Ks=zr=ce=0,fn=El=null,bd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-he(o),f=1<<h;i|=e[h],o&=~f}return ir=i,Ku(),a}function D_(e,i){At=null,G.H=fl,i===Pa||i===ec?(i=Qp(),Gt=3):i===Mf?(i=Qp(),Gt=4):Gt=i===ad?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Rt===null&&(ce=1,gc(e,Mn(i,e.current)))}function O_(){var e=En.current;return e===null?!0:(Ct&4194048)===Ct?Un===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Un:!1}function M_(){var e=G.H;return G.H=fl,e===null?fl:e}function x_(){var e=G.A;return G.A=ub,e}function Ic(){ce=4,Lr||(Ct&4194048)!==Ct&&En.current!==null||(Ga=!0),(zr&134217727)===0&&(Ks&134217727)===0||Zt===null||Br(Zt,Ct,Sn,!1)}function Nd(e,i,a){var o=qt;qt|=2;var h=M_(),f=x_();(Zt!==e||Ct!==i)&&(wc=null,Ya(e,i)),i=!1;var _=ce;t:do try{if(Gt!==0&&Rt!==null){var E=Rt,R=An;switch(Gt){case 8:Cd(),_=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var j=Gt;if(Gt=0,An=null,Xa(e,E,R,j),a&&Ga){_=0;break t}break;default:j=Gt,Gt=0,An=null,Xa(e,E,R,j)}}fb(),_=ce;break}catch(F){D_(e,F)}while(!0);return i&&e.shellSuspendCounter++,Ki=Ls=null,qt=o,G.H=h,G.A=f,Rt===null&&(Zt=null,Ct=0,Ku()),_}function fb(){for(;Rt!==null;)V_(Rt)}function db(e,i){var a=qt;qt|=2;var o=M_(),h=x_();Zt!==e||Ct!==i?(wc=null,bc=nn()+500,Ya(e,i)):Ga=Gn(e,i);t:do try{if(Gt!==0&&Rt!==null){i=Rt;var f=An;e:switch(Gt){case 1:Gt=0,An=null,Xa(e,i,f,1);break;case 2:case 9:if(Fp(f)){Gt=0,An=null,k_(i);break}i=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),Ci(e)},f.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Fp(f)?(Gt=0,An=null,k_(i)):(Gt=0,An=null,Xa(e,i,f,7));break;case 5:var _=null;switch(Rt.tag){case 26:_=Rt.memoizedState;case 5:case 27:var E=Rt;if(_?Ev(_):E.stateNode.complete){Gt=0,An=null;var R=E.sibling;if(R!==null)Rt=R;else{var j=E.return;j!==null?(Rt=j,Cc(j)):Rt=null}break e}}Gt=0,An=null,Xa(e,i,f,5);break;case 6:Gt=0,An=null,Xa(e,i,f,6);break;case 8:Cd(),ce=6;break t;default:throw Error(s(462))}}mb();break}catch(F){D_(e,F)}while(!0);return Ki=Ls=null,G.H=o,G.A=h,qt=a,Rt!==null?0:(Zt=null,Ct=0,Ku(),ce)}function mb(){for(;Rt!==null&&!sf();)V_(Rt)}function V_(e){var i=r_(e.alternate,e,ir);e.memoizedProps=e.pendingProps,i===null?Cc(e):Rt=i}function k_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,Ct);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,Ct);break;case 5:Ff(i);default:a_(a,i),i=Rt=xp(i,ir),i=r_(a,i,ir)}e.memoizedProps=e.pendingProps,i===null?Cc(e):Rt=i}function Xa(e,i,a,o){Ki=Ls=null,Ff(i),La=null,rl=0;var h=i.return;try{if(nb(e,h,i,a,Ct)){ce=1,gc(e,Mn(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,gc(e,Mn(a,e.current)),Rt=null;return}i.flags&32768?(xt||o===1?e=!0:Ga||(Ct&536870912)!==0?e=!1:(Lr=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),U_(i,e)):Cc(i)}function Cc(e){var i=e;do{if((i.flags&32768)!==0){U_(i,Lr);return}e=i.return;var a=sb(i.alternate,i,ir);if(a!==null){Rt=a;return}if(i=i.sibling,i!==null){Rt=i;return}Rt=i=e}while(i!==null);ce===0&&(ce=5)}function U_(e,i){do{var a=ab(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);ce=6,Rt=null}function P_(e,i,a,o,h,f,_,E,R){e.cancelPendingCommit=null;do Nc();while(xe!==0);if((qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=yf,lf(e,a,f,_,E,R),e===Zt&&(Rt=Zt=null,Ct=0),Ka=i,qr=e,rr=a,wd=f,Rd=h,R_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_b(_r,function(){return B_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=et.p,et.p=2,_=qt,qt|=4;try{ob(e,i,a)}finally{qt=_,et.p=h,G.T=o}}xe=1,L_(),z_(),j_()}}function L_(){if(xe===1){xe=0;var e=qr,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{__(i,e);var f=qd,_=bp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Sp(E.ownerDocument.documentElement,E)){if(R!==null&&ff(E)){var j=R.start,F=R.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var H=q.getSelection(),at=E.textContent.length,mt=Math.min(R.start,at),Jt=R.end===void 0?mt:Math.min(R.end,at);!H.extend&&mt>Jt&&(_=Jt,Jt=mt,mt=_);var k=Ap(E,mt),N=Ap(E,Jt);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var z=X.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),mt>Jt?(H.addRange(z),H.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),H.addRange(z))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}qc=!!jd,qd=jd=null}finally{qt=h,et.p=o,G.T=a}}e.current=i,xe=2}}function z_(){if(xe===2){xe=0;var e=qr,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{d_(e,i.alternate,i)}finally{qt=h,et.p=o,G.T=a}}xe=3}}function j_(){if(xe===4||xe===3){xe=0,vu();var e=qr,i=Ka,a=rr,o=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Ka=qr=null,q_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(jr=null),qi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{G.T=i,et.p=h}}(rr&3)!==0&&Nc(),Ci(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Id?Tl++:(Tl=0,Id=e):Tl=0,Al(0)}}function q_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,nl(i)))}function Nc(){return L_(),z_(),j_(),B_()}function B_(){if(xe!==5)return!1;var e=qr,i=wd;wd=0;var a=qi(rr),o=G.T,h=et.p;try{et.p=32>a?32:a,G.T=null,a=Rd,Rd=null;var f=qr,_=rr;if(xe=0,Ka=qr=null,rr=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,S_(f.current),E_(f,f.current,_,a),qt=E,Al(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{et.p=h,G.T=o,q_(e,i)}}function H_(e,i,a){i=Mn(a,i),i=sd(e.stateNode,i,2),e=Vr(e,i,2),e!==null&&(Ts(e,2),Ci(e))}function Qt(e,i,a){if(e.tag===3)H_(e,e,a);else for(;i!==null;){if(i.tag===3){H_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(jr===null||!jr.has(o))){e=Mn(a,e),a=Fy(2),o=Vr(i,a,2),o!==null&&(Gy(a,o,i,e),Ts(o,2),Ci(o));break}}i=i.return}}function Dd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new cb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Ad=!0,h.add(a),e=gb.bind(null,e,i,a),i.then(e,e))}function gb(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(Ct&a)===a&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>nn()-Sc?(qt&2)===0&&Ya(e,0):Sd|=a,Qa===Ct&&(Qa=0)),Ci(e)}function F_(e,i){i===0&&(i=wu()),e=ks(e,i),e!==null&&(Ts(e,i),Ci(e))}function pb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(e,a)}function yb(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),F_(e,a)}function _b(e,i){return Me(e,i)}var Dc=null,$a=null,Od=!1,Oc=!1,Md=!1,Hr=0;function Ci(e){e!==$a&&e.next===null&&($a===null?Dc=$a=e:$a=$a.next=e),Oc=!0,Od||(Od=!0,Eb())}function Al(e,i){if(!Md&&Oc){Md=!0;do for(var a=!1,o=Dc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Y_(o,f))}else f=Ct,f=ci(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gn(o,f)||(a=!0,Y_(o,f));o=o.next}while(a);Md=!1}}function vb(){G_()}function G_(){Oc=Od=!1;var e=0;Hr!==0&&Db()&&(e=Hr);for(var i=nn(),a=null,o=Dc;o!==null;){var h=o.next,f=Q_(o,i);f===0?(o.next=null,a===null?Dc=h:a.next=h,h===null&&($a=a)):(a=o,(e!==0||(f&3)!==0)&&(Oc=!0)),o=h}xe!==0&&xe!==5||Al(e),Hr!==0&&(Hr=0)}function Q_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-he(f),E=1<<_,R=h[_];R===-1?((E&a)===0||(E&o)!==0)&&(h[_]=of(E,i)):R<=i&&(e.expiredLanes|=E),f&=~E}if(i=Zt,a=Ct,a=ci(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&yr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&yr(o),qi(a)){case 2:case 8:a=Mo;break;case 32:a=_r;break;case 268435456:a=Eu;break;default:a=_r}return o=K_.bind(null,e),a=Me(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&yr(o),e.callbackPriority=2,e.callbackNode=null,2}function K_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Nc()&&e.callbackNode!==a)return null;var o=Ct;return o=ci(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(C_(e,o,i),Q_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?K_.bind(null,e):null)}function Y_(e,i){if(Nc())return null;C_(e,i,!0)}function Eb(){Mb(function(){(qt&6)!==0?Me(Oo,vb):G_()})}function xd(){if(Hr===0){var e=ka;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Hr=e}return Hr}function X_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ea(""+e)}function $_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Tb(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=X_((h[Le]||null).action),_=o.submitter;_&&(i=(i=_[Le]||null)?X_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new Ti("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hr!==0){var R=_?$_(h,_):new FormData(h);Wf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=_?$_(h,_):new FormData(h),Wf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Vd=0;Vd<pf.length;Vd++){var kd=pf[Vd],Ab=kd.toLowerCase(),Sb=kd[0].toUpperCase()+kd.slice(1);Wn(Ab,"on"+Sb)}Wn(Ip,"onAnimationEnd"),Wn(Cp,"onAnimationIteration"),Wn(Np,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(zS,"onTransitionRun"),Wn(jS,"onTransitionStart"),Wn(qS,"onTransitionCancel"),Wn(Dp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function J_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){Qu(F)}h.currentTarget=null,f=R}else for(_=0;_<o.length;_++){if(E=o[_],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){Qu(F)}h.currentTarget=null,f=R}}}}function It(e,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var o=e+"__bubble";a.has(o)||(Z_(i,e,2,!1),a.add(o))}function Ud(e,i,a){var o=0;i&&(o|=4),Z_(a,e,o,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[Mc]){e[Mc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||Ud(a,!1,e),Ud(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,Ud("selectionchange",!1,i))}}function Z_(e,i,a,o){switch(Iv(i)){case 2:var h=Zb;break;case 8:h=Wb;break;default:h=Zd}a=h.bind(null,i,a,e),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ld(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=mi(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){o=f=_;continue t}E=E.parentNode}}o=o.return}br(function(){var j=f,F=Cn(a),X=[];t:{var q=Op.get(e);if(q!==void 0){var H=Ti,at=e;switch(e){case"keypress":if(Ns(a)===0)break t;case"keydown":case"keyup":H=Hu;break;case"focusin":at="focus",H=Os;break;case"focusout":at="blur",H=Os;break;case"beforeblur":case"afterblur":H=Os;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ip:case Cp:case Np:H=Uu;break;case Dp:H=A;break;case"scroll":case"scrollend":H=Ko;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fi;break;case"toggle":case"beforetoggle":H=Tt}var mt=(i&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?q!==null?q+"Capture":null:q;mt=[];for(var N=j,z;N!==null;){var K=N;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||k===null||(K=Xn(N,k),K!=null&&mt.push(bl(N,K,z))),Jt)break;N=N.return}0<mt.length&&(q=new H(q,at,null,a,F),X.push({event:q,listeners:mt}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",q&&a!==Fo&&(at=a.relatedTarget||a.fromElement)&&(mi(at)||at[fi]))break t;if((H||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,H?(at=a.relatedTarget||a.toElement,H=j,at=at?mi(at):null,at!==null&&(Jt=u(at),mt=at.tag,at!==Jt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(H=null,at=j),H!==at)){if(mt=Yo,K="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Fi,K="onPointerLeave",k="onPointerEnter",N="pointer"),Jt=H==null?q:pn(H),z=at==null?q:pn(at),q=new mt(K,N+"leave",H,a,F),q.target=Jt,q.relatedTarget=z,K=null,mi(F)===j&&(mt=new mt(k,N+"enter",at,a,F),mt.target=z,mt.relatedTarget=Jt,K=mt),Jt=K,H&&at)e:{for(mt=wb,k=H,N=at,z=0,K=k;K;K=mt(K))z++;K=0;for(var ut=N;ut;ut=mt(ut))K++;for(;0<z-K;)k=mt(k),z--;for(;0<K-z;)N=mt(N),K--;for(;z--;){if(k===N||N!==null&&k===N.alternate){mt=k;break e}k=mt(k),N=mt(N)}mt=null}else mt=null;H!==null&&W_(X,q,H,mt,!1),at!==null&&Jt!==null&&W_(X,Jt,at,mt,!0)}}t:{if(q=j?pn(j):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var Lt=pp;else if(mp(q))if(yp)Lt=US;else{Lt=VS;var ot=xS}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&va(j.elementType)&&(Lt=pp):Lt=kS;if(Lt&&(Lt=Lt(e,j))){gp(X,Lt,a,F);break t}ot&&ot(e,q,j),e==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&qo(q,"number",q.value)}switch(ot=j?pn(j):window,e){case"focusin":(mp(ot)||ot.contentEditable==="true")&&(Ia=ot,df=j,Wo=null);break;case"focusout":Wo=df=Ia=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,wp(X,a,F);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":wp(X,a,F)}var bt;if(jt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Ra?Ms(e,a)&&(Nt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(bi&&a.locale!=="ko"&&(Ra||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Ra&&(bt=Qo()):(Ei=F,Go="value"in Ei?Ei.value:Ei.textContent,Ra=!0)),ot=xc(j,Nt),0<ot.length&&(Nt=new Si(Nt,e,null,a,F),X.push({event:Nt,listeners:ot}),bt?Nt.data=bt:(bt=wa(a),bt!==null&&(Nt.data=bt)))),(bt=Dn?NS(e,a):DS(e,a))&&(Nt=xc(j,"onBeforeInput"),0<Nt.length&&(ot=new Si("onBeforeInput","beforeinput",null,a,F),X.push({event:ot,listeners:Nt}),ot.data=bt)),Tb(X,e,j,a,F)}J_(X,i)})}function bl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function xc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,a),h!=null&&o.unshift(bl(e,h,f)),h=Xn(e,i),h!=null&&o.push(bl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function wb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function W_(e,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=Xn(a,f),j!=null&&_.unshift(bl(a,j,R))):h||(j=Xn(a,f),j!=null&&_.push(bl(a,j,R)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var Rb=/\r\n?/g,Ib=/\u0000|\uFFFD/g;function tv(e){return(typeof e=="string"?e:""+e).replace(Rb,`
`).replace(Ib,"")}function ev(e,i){return i=tv(i),tv(e)===i}function $t(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,o);break;case"style":Ho(e,o,f);break;case"data":if(i!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ea(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&$t(e,i,"name",h.name,h,null),$t(e,i,"formEncType",h.formEncType,h,null),$t(e,i,"formMethod",h.formMethod,h,null),$t(e,i,"formTarget",h.formTarget,h,null)):($t(e,i,"encType",h.encType,h,null),$t(e,i,"method",h.method,h,null),$t(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ea(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),ya(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,ya(e,a,o))}}function zd(e,i,a,o,h,f){switch(a){case"style":Ho(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Le]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ya(e,a,o)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,f,_,a,null)}}h&&$t(e,i,"srcSet",a.srcSet,a,null),o&&$t(e,i,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=_=h=null,R=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":_=F;break;case"checked":R=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:$t(e,i,o,F,a,null)}}Du(e,f,E,R,j,_,h,!1);return;case"select":It("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:$t(e,i,h,E,a,null)}i=f,a=_,e.multiple=!!o,i!=null?Er(e,!!o,i,!1):a!=null&&Er(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(e,i,_,E,a,null)}Tr(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,i,R,o,a,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<Sl.length;o++)It(Sl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,j,o,a,null)}return;default:if(va(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&zd(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&$t(e,i,E,o,a,null))}function Cb(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,R=null,j=null,F=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(H)||$t(e,i,H,null,o,X)}}for(var q in o){var H=o[q];if(X=a[q],o.hasOwnProperty(q)&&(H!=null||X!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&$t(e,i,q,H,o,X)}}_a(e,_,E,R,j,F,f,h);return;case"select":H=_=E=q=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||$t(e,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==R&&$t(e,i,h,f,o,R)}i=E,a=_,o=H,q!=null?Er(e,!!a,q,!1):!!o!=!!a&&(i!=null?Er(e,!!a,i,!0):Er(e,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(e,i,_,h,o,f)}Ou(e,q,H);return;case"option":for(var at in a)q=a[at],a.hasOwnProperty(at)&&q!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:$t(e,i,at,null,o,q));for(R in o)q=o[R],H=a[R],o.hasOwnProperty(R)&&q!==H&&(q!=null||H!=null)&&(R==="selected"?e.selected=q&&typeof q!="function"&&typeof q!="symbol":$t(e,i,R,q,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)q=a[mt],a.hasOwnProperty(mt)&&q!=null&&!o.hasOwnProperty(mt)&&$t(e,i,mt,null,o,q);for(j in o)if(q=o[j],H=a[j],o.hasOwnProperty(j)&&q!==H&&(q!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:$t(e,i,j,q,o,H)}return;default:if(va(i)){for(var Jt in a)q=a[Jt],a.hasOwnProperty(Jt)&&q!==void 0&&!o.hasOwnProperty(Jt)&&zd(e,i,Jt,void 0,o,q);for(F in o)q=o[F],H=a[F],!o.hasOwnProperty(F)||q===H||q===void 0&&H===void 0||zd(e,i,F,q,o,H);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!o.hasOwnProperty(k)&&$t(e,i,k,null,o,q);for(X in o)q=o[X],H=a[X],!o.hasOwnProperty(X)||q===H||q==null&&H==null||$t(e,i,X,q,o,H)}function nv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&nv(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],j=R.startTime;if(j>E)break;var F=R.transferSize,X=R.initiatorType;F&&nv(X)&&(R=R.responseEnd,_+=F*(R<E?1:(E-j)/(R-j)))}if(--o,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jd=null,qd=null;function Vc(e){return e.nodeType===9?e:e.ownerDocument}function iv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hd=null;function Db(){var e=window.event;return e&&e.type==="popstate"?e===Hd?!1:(Hd=e,!0):(Hd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(e){return av.resolve(null).then(e).catch(xb)}:sv;function xb(e){setTimeout(function(){throw e})}function Fr(e){return e==="head"}function ov(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),to(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")wl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&wl(e.ownerDocument.body);a=h}while(a);to(i)}function lv(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Fd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Vb(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function kb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function uv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pn(e.nextSibling),e===null))return null;return e}function Gd(e){return e.data==="$?"||e.data==="$~"}function Qd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ub(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Kd=null;function cv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function hv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function fv(e,i,a){switch(i=Vc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function wl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);pa(e)}var Ln=new Map,dv=new Set;function kc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sr=et.d;et.d={f:Pb,r:Lb,D:zb,C:jb,L:qb,m:Bb,X:Fb,S:Hb,M:Gb};function Pb(){var e=sr.f(),i=Rc();return e||i}function Lb(e){var i=In(e);i!==null&&i.tag===5&&i.type==="form"?Dy(i):sr.r(e)}var Ja=typeof document>"u"?null:document;function mv(e,i,a){var o=Ja;if(o&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ke(i,"link",e),Ee(i),o.head.appendChild(i)))}}function zb(e){sr.D(e),mv("dns-prefetch",e,null)}function jb(e,i){sr.C(e,i),mv("preconnect",e,i)}function qb(e,i,a){sr.L(e,i,a);var o=Ja;if(o&&e&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(i){case"style":f=Za(e);break;case"script":f=Wa(e)}Ln.has(f)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Rl(f))||i==="script"&&o.querySelector(Il(f))||(i=o.createElement("link"),Ke(i,"link",e),Ee(i),o.head.appendChild(i)))}}function Bb(e,i){sr.m(e,i);var a=Ja;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(e)}if(!Ln.has(f)&&(e=S({rel:"modulepreload",href:e},i),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}o=a.createElement("link"),Ke(o,"link",e),Ee(o),a.head.appendChild(o)}}}function Hb(e,i,a){sr.S(e,i,a);var o=Ja;if(o&&e){var h=gi(o).hoistableStyles,f=Za(e);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Rl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(f))&&Yd(e,a);var R=_=o.createElement("link");Ee(R),Ke(R,"link",e),R._p=new Promise(function(j,F){R.onload=j,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Uc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function Fb(e,i){sr.X(e,i);var a=Ja;if(a&&e){var o=gi(a).hoistableScripts,h=Wa(e),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(e=S({src:e,async:!0},i),(i=Ln.get(h))&&Xd(e,i),f=a.createElement("script"),Ee(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Gb(e,i){sr.M(e,i);var a=Ja;if(a&&e){var o=gi(a).hoistableScripts,h=Wa(e),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(e=S({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Xd(e,i),f=a.createElement("script"),Ee(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function gv(e,i,a,o){var h=(h=St.current)?kc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=gi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var f=gi(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Rl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||Qb(h,e,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=gi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Za(e){return'href="'+on(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function pv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ke(i,"link",a),Ee(i),e.head.appendChild(i))}function Wa(e){return'[src="'+on(e)+'"]'}function Il(e){return"script[async]"+e}function yv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return i.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ke(o,"style",h),Uc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Za(a.href);var f=e.querySelector(Rl(h));if(f)return i.state.loading|=4,i.instance=f,Ee(f),f;o=pv(a),(h=Ln.get(h))&&Yd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var _=f;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Ke(f,"link",o),i.state.loading|=4,Uc(f,a.precedence,e),i.instance=f;case"script":return f=Wa(a.src),(h=e.querySelector(Il(f)))?(i.instance=h,Ee(h),h):(o=a,(h=Ln.get(f))&&(o=S({},a),Xd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ke(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Uc(o,a.precedence,e));return i.instance}function Uc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Yd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Xd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Pc=null;function _v(e,i,a){if(Pc===null){var o=new Map,h=Pc=new Map;h.set(a,o)}else h=Pc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[di]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function vv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Kb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yb(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(o.href),f=i.querySelector(Rl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Lc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=i.ownerDocument||i,o=pv(o),(h=Ln.get(h))&&Yd(o,h),f=f.createElement("link"),Ee(f);var _=f;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Ke(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Lc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var $d=0;function Xb(e,i){return e.stylesheets&&e.count===0&&jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&$d===0&&($d=62500*Nb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>$d?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zc=null;function jc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zc=new Map,i.forEach($b,e),zc=null,Lc.call(e))}function $b(e,i){if(!(i.state.loading&4)){var a=zc.get(e);if(a)var o=a.get(null);else{a=new Map,zc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Cl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Jb(e,i,a,o,h,f,_,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Tv(e,i,a,o,h,f,_,E,R,j,F,X){return e=new Jb(e,i,a,_,R,j,F,X,E),i=1,f===!0&&(i|=24),f=vn(3,null,null,i),e.current=f,f.stateNode=e,i=Nf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},xf(f),e}function Av(e){return e?(e=Da,e):Da}function Sv(e,i,a,o,h,f){h=Av(h),o.context===null?o.context=h:o.pendingContext=h,o=xr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Vr(e,o,i),a!==null&&(dn(a,e,i),al(a,e,i))}function bv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Jd(e,i){bv(e,i),(e=e.alternate)&&bv(e,i)}function wv(e){if(e.tag===13||e.tag===31){var i=ks(e,67108864);i!==null&&dn(i,e,67108864),Jd(e,67108864)}}function Rv(e){if(e.tag===13||e.tag===31){var i=bn();i=Ss(i);var a=ks(e,i);a!==null&&dn(a,e,i),Jd(e,i)}}var qc=!0;function Zb(e,i,a,o){var h=G.T;G.T=null;var f=et.p;try{et.p=2,Zd(e,i,a,o)}finally{et.p=f,G.T=h}}function Wb(e,i,a,o){var h=G.T;G.T=null;var f=et.p;try{et.p=8,Zd(e,i,a,o)}finally{et.p=f,G.T=h}}function Zd(e,i,a,o){if(qc){var h=Wd(o);if(h===null)Ld(e,i,o,Bc,a),Cv(e,o);else if(ew(h,e,i,a,o))o.stopPropagation();else if(Cv(e,o),i&4&&-1<tw.indexOf(e)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ui(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-he(_);E.entanglements[1]|=R,_&=~R}Ci(f),(qt&6)===0&&(bc=nn()+500,Al(0))}}break;case 31:case 13:E=ks(f,2),E!==null&&dn(E,f,2),Rc(),Jd(f,2)}if(f=Wd(o),f===null&&Ld(e,i,o,Bc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ld(e,i,o,null,a)}}function Wd(e){return e=Cn(e),tm(e)}var Bc=null;function tm(e){if(Bc=null,e=mi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Bc=e,null}function Iv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case Oo:return 2;case Mo:return 8;case _r:case af:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var em=!1,Gr=null,Qr=null,Kr=null,Nl=new Map,Dl=new Map,Yr=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(e,i){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ol(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&wv(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function ew(e,i,a,o,h){switch(i){case"focusin":return Gr=Ol(Gr,e,i,a,o,h),!0;case"dragenter":return Qr=Ol(Qr,e,i,a,o,h),!0;case"mouseover":return Kr=Ol(Kr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Nl.set(f,Ol(Nl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Dl.set(f,Ol(Dl.get(f)||null,e,i,a,o,h)),!0}return!1}function Nv(e){var i=mi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){Rv(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){Rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Wd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Fo=o,a.target.dispatchEvent(o),Fo=null}else return i=In(a),i!==null&&wv(i),e.blockedOn=a,!1;i.shift()}return!0}function Dv(e,i,a){Hc(e)&&a.delete(i)}function nw(){em=!1,Gr!==null&&Hc(Gr)&&(Gr=null),Qr!==null&&Hc(Qr)&&(Qr=null),Kr!==null&&Hc(Kr)&&(Kr=null),Nl.forEach(Dv),Dl.forEach(Dv)}function Fc(e,i){e.blockedOn===i&&(e.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nw)))}var Gc=null;function Ov(e){Gc!==e&&(Gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===e&&(Gc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(tm(o||a)===null)continue;break}var f=In(a);f!==null&&(e.splice(i,3),i-=3,Wf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function to(e){function i(R){return Fc(R,e)}Gr!==null&&Fc(Gr,e),Qr!==null&&Fc(Qr,e),Kr!==null&&Fc(Kr,e),Nl.forEach(i),Dl.forEach(i);for(var a=0;a<Yr.length;a++){var o=Yr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&Yr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Le]||null;if(typeof f=="function")_||Ov(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Le]||null)E=_.formAction;else if(tm(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Ov(a)}}}function Mv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function nm(e){this._internalRoot=e}Qc.prototype.render=nm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=bn();Sv(a,o,e,i,null,null)},Qc.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Sv(e.current,2,null,e,null,null),Rc(),i[fi]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ru();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,e),a===0&&Nv(e)}};var xv=t.version;if(xv!=="19.2.3")throw Error(s(527,xv,"19.2.3"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var iw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Fn=Kc.inject(iw),Be=Kc}catch{}}return xl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=jy,f=qy,_=By;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Tv(e,1,!1,null,null,a,o,null,h,f,_,Mv),e[fi]=i.current,Pd(e),new nm(i)},xl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=jy,_=qy,E=By,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=Tv(e,1,!0,i,a??null,o,h,R,f,_,E,Mv),i.context=Av(null),a=i.current,o=bn(),o=Ss(o),h=xr(o),h.callback=null,Vr(a,h,o),a=o,i.current.lanes=a,Ts(i,a),Ci(i),e[fi]=i.current,Pd(e),new Qc(i)},xl.version="19.2.3",xl}var Hv;function dw(){if(Hv)return sm.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sm.exports=fw(),sm.exports}var mw=dw();const gw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pw=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Fv=r=>{const t=pw(r);return t.charAt(0).toUpperCase()+t.slice(1)},MT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),yw=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var _w={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vw=Ue.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...g},y)=>Ue.createElement("svg",{ref:y,..._w,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:MT("lucide",l),...!u&&!yw(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,T])=>Ue.createElement(p,T)),...Array.isArray(u)?u:[u]]));const Hn=(r,t)=>{const n=Ue.forwardRef(({className:s,...l},u)=>Ue.createElement(vw,{ref:u,iconNode:t,className:MT(`lucide-${gw(Fv(r))}`,`lucide-${r}`,s),...l}));return n.displayName=Fv(r),n};const Ew=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xT=Hn("circle-alert",Ew);const Tw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vl=Hn("circle-check-big",Tw);const Aw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Sw=Hn("circle-x",Aw);const bw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],um=Hn("clock",bw);const ww=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Rw=Hn("eye-off",ww);const Iw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cw=Hn("eye",Iw);const Nw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Dw=Hn("history",Nw);const Ow=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Mw=Hn("log-out",Ow);const xw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vw=Hn("settings",xw);const kw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Uw=Hn("shield",kw);const Pw=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Lw=Hn("truck",Pw);const zw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cm=Hn("users",zw),jw=()=>{};var Gv={};const VT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},qw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},kT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,p=y?r[l+2]:0,T=u>>2,S=(u&3)<<4|g>>4;let D=(g&15)<<2|p>>6,Q=p&63;y||(Q=64,d||(D=64)),s.push(n[T],n[S],n[D],n[Q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(VT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):qw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const p=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||p==null||S==null)throw new Bw;const D=u<<2|g>>4;if(s.push(D),p!==64){const Q=g<<4&240|p>>2;if(s.push(Q),S!==64){const P=p<<6&192|S;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hw=function(r){const t=VT(r);return kT.encodeByteArray(t,!0)},dh=function(r){return Hw(r).replace(/\./g,"")},UT=function(r){try{return kT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Fw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gw=()=>Fw().__FIREBASE_DEFAULTS__,Qw=()=>{if(typeof process>"u"||typeof Gv>"u")return;const r=Gv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Kw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&UT(r[1]);return t&&JSON.parse(t)},Mh=()=>{try{return jw()||Gw()||Qw()||Kw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},PT=r=>Mh()?.emulatorHosts?.[r],Yw=r=>{const t=PT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},LT=()=>Mh()?.config,zT=r=>Mh()?.[`_${r}`];class Xw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jT(r){return(await fetch(r,{credentials:"include"})).ok}function $w(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[dh(JSON.stringify(n)),dh(JSON.stringify(d)),""].join(".")}const ql={};function Jw(){const r={prod:[],emulator:[]};for(const t of Object.keys(ql))ql[t]?r.emulator.push(t):r.prod.push(t);return r}function Zw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Qv=!1;function qT(r,t){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||ql[r]===t||ql[r]||Qv)return;ql[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=Jw().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,Q){D.setAttribute("width","24"),D.setAttribute("id",Q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function p(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Qv=!0,d()},D}function T(D,Q){D.setAttribute("id",Q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=Zw(s),Q=n("text"),P=document.getElementById(Q)||document.createElement("span"),W=n("learnmore"),Z=document.getElementById(W)||document.createElement("a"),ht=n("preprendIcon"),dt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const lt=D.element;g(lt),T(Z,W);const wt=p();y(dt,ht),lt.append(dt,P,Z,wt),document.body.appendChild(lt)}u?(P.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ww(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function t1(){const r=Mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function i1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r1(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function s1(){return!t1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function HT(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}function a1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const o1="FirebaseError";class ji extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=o1,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?l1(u,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ji(l,g,s)}}function l1(r,t){return r.replace(u1,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const u1=/\{\$([^}]+)}/g;function c1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ta(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=t[l];if(Kv(u)&&Kv(d)){if(!ta(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Kv(r){return r!==null&&typeof r=="object"}function ou(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function kl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Ul(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function h1(r,t){const n=new f1(r,t);return n.subscribe.bind(n)}class f1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");d1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=hm),l.error===void 0&&(l.error=hm),l.complete===void 0&&(l.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}function Ne(r){return r&&r._delegate?r._delegate:r}class ri{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ys="[DEFAULT]";class m1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Xw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(p1(t))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Ys){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ys){return this.instances.has(t)}getOptions(t=Ys){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:g1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ys){return this.component?this.component.multipleInstances?t:Ys:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(r){return r===Ys?void 0:r}function p1(r){return r.instantiationMode==="EAGER"}class y1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new m1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const _1={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},v1=Dt.INFO,E1={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},T1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=E1[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ug{constructor(t){this.name=t,this._logLevel=v1,this._logHandler=T1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const A1=(r,t)=>t.some(n=>r instanceof n);let Yv,Xv;function S1(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b1(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,xm=new WeakMap,GT=new WeakMap,fm=new WeakMap,cg=new WeakMap;function w1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(cr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&FT.set(n,r)}).catch(()=>{}),cg.set(t,r),t}function R1(r){if(xm.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});xm.set(r,t)}let Vm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return xm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||GT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function I1(r){Vm=r(Vm)}function C1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(dm(this),t,...n);return GT.set(s,t.sort?t.sort():[t]),cr(s)}:b1().includes(r)?function(...t){return r.apply(dm(this),t),cr(FT.get(this))}:function(...t){return cr(r.apply(dm(this),t))}}function N1(r){return typeof r=="function"?C1(r):(r instanceof IDBTransaction&&R1(r),A1(r,S1())?new Proxy(r,Vm):r)}function cr(r){if(r instanceof IDBRequest)return w1(r);if(fm.has(r))return fm.get(r);const t=N1(r);return t!==r&&(fm.set(r,t),cg.set(t,r)),t}const dm=r=>cg.get(r);function xh(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),g=cr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(cr(d.result),y.oldVersion,y.newVersion,cr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}function mm(r,{blocked:t}={}){const n=indexedDB.deleteDatabase(r);return t&&n.addEventListener("blocked",s=>t(s.oldVersion,s)),cr(n).then(()=>{})}const D1=["get","getKey","getAll","getAllKeys","count"],O1=["put","add","delete","clear"],gm=new Map;function $v(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(gm.get(t))return gm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=O1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||D1.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return gm.set(t,u),u}I1(r=>({...r,get:(t,n,s)=>$v(t,n)||r.get(t,n,s),has:(t,n)=>!!$v(t,n)||r.has(t,n)}));class M1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function x1(r){return r.getComponent()?.type==="VERSION"}const km="@firebase/app",Jv="0.14.6";const dr=new ug("@firebase/app"),V1="@firebase/app-compat",k1="@firebase/analytics-compat",U1="@firebase/analytics",P1="@firebase/app-check-compat",L1="@firebase/app-check",z1="@firebase/auth",j1="@firebase/auth-compat",q1="@firebase/database",B1="@firebase/data-connect",H1="@firebase/database-compat",F1="@firebase/functions",G1="@firebase/functions-compat",Q1="@firebase/installations",K1="@firebase/installations-compat",Y1="@firebase/messaging",X1="@firebase/messaging-compat",$1="@firebase/performance",J1="@firebase/performance-compat",Z1="@firebase/remote-config",W1="@firebase/remote-config-compat",tR="@firebase/storage",eR="@firebase/storage-compat",nR="@firebase/firestore",iR="@firebase/ai",rR="@firebase/firestore-compat",sR="firebase",aR="12.6.0";const Um="[DEFAULT]",oR={[km]:"fire-core",[V1]:"fire-core-compat",[U1]:"fire-analytics",[k1]:"fire-analytics-compat",[L1]:"fire-app-check",[P1]:"fire-app-check-compat",[z1]:"fire-auth",[j1]:"fire-auth-compat",[q1]:"fire-rtdb",[B1]:"fire-data-connect",[H1]:"fire-rtdb-compat",[F1]:"fire-fn",[G1]:"fire-fn-compat",[Q1]:"fire-iid",[K1]:"fire-iid-compat",[Y1]:"fire-fcm",[X1]:"fire-fcm-compat",[$1]:"fire-perf",[J1]:"fire-perf-compat",[Z1]:"fire-rc",[W1]:"fire-rc-compat",[tR]:"fire-gcs",[eR]:"fire-gcs-compat",[nR]:"fire-fst",[rR]:"fire-fst-compat",[iR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};const mh=new Map,lR=new Map,Pm=new Map;function Zv(r,t){try{r.container.addComponent(t)}catch(n){dr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Li(r){const t=r.name;if(Pm.has(t))return dr.debug(`There were multiple attempts to register component ${t}.`),!1;Pm.set(t,r);for(const n of mh.values())Zv(n,r);for(const n of lR.values())Zv(n,r);return!0}function Eo(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}const uR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new oa("app","Firebase",uR);class cR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const To=aR;function QT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Um,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw ns.create("bad-app-name",{appName:String(l)});if(n||(n=LT()),!n)throw ns.create("no-options");const u=mh.get(l);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw ns.create("duplicate-app",{appName:l})}const d=new y1(l);for(const y of Pm.values())d.addComponent(y);const g=new cR(n,s,d);return mh.set(l,g),g}function hg(r=Um){const t=mh.get(r);if(!t&&r===Um&&LT())return QT();if(!t)throw ns.create("no-app",{appName:r});return t}function qn(r,t,n){let s=oR[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dr.warn(d.join(" "));return}Li(new ri(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const hR="firebase-heartbeat-database",fR=1,Kl="firebase-heartbeat-store";let pm=null;function KT(){return pm||(pm=xh(hR,fR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),pm}async function dR(r){try{const n=(await KT()).transaction(Kl),s=await n.objectStore(Kl).get(YT(r));return await n.done,s}catch(t){if(t instanceof ji)dr.warn(t.message);else{const n=ns.create("idb-get",{originalErrorMessage:t?.message});dr.warn(n.message)}}}async function Wv(r,t){try{const s=(await KT()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(t,YT(r)),await s.done}catch(n){if(n instanceof ji)dr.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function YT(r){return`${r.name}!${r.options.appId}`}const mR=1024,gR=30;class pR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _R(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gR){const l=vR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){dr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tE(),{heartbeatsToSend:n,unsentEntries:s}=yR(this._heartbeatsCache.heartbeats),l=dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return dr.warn(t),""}}}function tE(){return new Date().toISOString().substring(0,10)}function yR(r,t=mR){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),eE(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),eE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _R{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?HT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function eE(r){return dh(JSON.stringify({version:2,heartbeats:r})).length}function vR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function ER(r){Li(new ri("platform-logger",t=>new M1(t),"PRIVATE")),Li(new ri("heartbeat",t=>new pR(t),"PRIVATE")),qn(km,Jv,r),qn(km,Jv,"esm2020"),qn("fire-js","")}ER("");var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var is,XT;(function(){var r;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(x,O,U){for(var w=Array(arguments.length-2),re=2;re<arguments.length;re++)w[re-2]=arguments[re];return b.prototype[O].apply(x,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const x=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)x[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)x[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],O=C.g[2];let U=C.g[3],w;w=b+(U^I&(O^U))+x[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+x[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+x[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+x[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(U^I&(O^U))+x[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+x[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+x[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+x[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(U^I&(O^U))+x[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+x[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+x[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+x[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(U^I&(O^U))+x[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+x[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+x[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+x[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(O^U&(I^O))+x[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+x[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+x[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+x[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(I^O))+x[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+x[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+x[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+x[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(I^O))+x[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+x[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+x[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+x[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(I^O))+x[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+x[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+x[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+x[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(I^O^U)+x[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+x[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+x[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+x[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^U)+x[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+x[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+x[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+x[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^U)+x[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+x[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+x[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+x[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^U)+x[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+x[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+x[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+x[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(O^(I|~U))+x[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+x[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+x[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+x[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~U))+x[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+x[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+x[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+x[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~U))+x[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+x[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+x[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+x[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~U))+x[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+x[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+x[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,x=this.C;let O=this.h,U=0;for(;U<b;){if(O==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(x[O++]=C.charCodeAt(U++),O==this.blockSize){l(this,x),O=0;break}}else for(;U<b;)if(x[O++]=C[U++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)C[b++]=this.g[I]>>>x&255;return C};function u(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let x=!0;for(let O=C.length-1;O>=0;O--){const U=C[O]|0;x&&U==b||(I[O]=U,x=!1)}this.g=I}var g={};function y(C){return-128<=C&&C<128?u(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return Z(p(-C));const b=[];let I=1;for(let x=0;C>=I;x++)b[x]=C/I|0,I*=4294967296;return new d(b,0)}function T(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return Z(T(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(b,8));let x=S;for(let U=0;U<C.length;U+=8){var O=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+O),b);O<8?(O=p(Math.pow(b,O)),x=x.j(O).add(p(w))):(x=x.j(I),x=x.add(p(w)))}return x}var S=y(0),D=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(W(this))return-Z(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);C+=(x>=0?x:4294967296+x)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(W(this))return"-"+Z(this).toString(C);const b=p(Math.pow(C,6));var I=this;let x="";for(;;){const O=wt(I,b).g;I=ht(I,O.j(b));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,P(I))return U+x;for(;U.length<6;)U="0"+U;x=U+x}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function W(C){return C.h==-1}r.l=function(C){return C=ht(this,C),W(C)?-1:P(C)?0:1};function Z(C){const b=C.g.length,I=[];for(let x=0;x<b;x++)I[x]=~C.g[x];return new d(I,~C.h).add(D)}r.abs=function(){return W(this)?Z(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let x=0;for(let O=0;O<=b;O++){let U=x+(this.i(O)&65535)+(C.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);x=w>>>16,U&=65535,w&=65535,I[O]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(C,b){return C.add(Z(b))}r.j=function(C){if(P(this)||P(C))return S;if(W(this))return W(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(W(C))return Z(this.j(Z(C)));if(this.l(Q)<0&&C.l(Q)<0)return p(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var x=0;x<2*b;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<C.g.length;O++){const U=this.i(x)>>>16,w=this.i(x)&65535,re=C.i(O)>>>16,De=C.i(O)&65535;I[2*x+2*O]+=w*De,dt(I,2*x+2*O),I[2*x+2*O+1]+=U*De,dt(I,2*x+2*O+1),I[2*x+2*O+1]+=w*re,dt(I,2*x+2*O+1),I[2*x+2*O+2]+=U*re,dt(I,2*x+2*O+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function dt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function lt(C,b){this.g=C,this.h=b}function wt(C,b){if(P(b))throw Error("division by zero");if(P(C))return new lt(S,S);if(W(C))return b=wt(Z(C),b),new lt(Z(b.g),Z(b.h));if(W(b))return b=wt(C,Z(b)),new lt(Z(b.g),b.h);if(C.g.length>30){if(W(C)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var I=D,x=b;x.l(C)<=0;)I=te(I),x=te(x);var O=Ut(I,1),U=Ut(x,1);for(x=Ut(x,2),I=Ut(I,2);!P(x);){var w=U.add(x);w.l(C)<=0&&(O=O.add(I),U=w),x=Ut(x,1),I=Ut(I,1)}return b=ht(C,O.j(b)),new lt(O,b)}for(O=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),U=p(I),w=U.j(b);W(w)||w.l(C)>0;)I-=x,U=p(I),w=U.j(b);P(U)&&(U=D),O=O.add(U),C=ht(C,w)}return new lt(O,C)}r.B=function(C){return wt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)&C.i(x);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)|C.i(x);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)^C.i(x);return new d(I,this.h^C.h)};function te(C){const b=C.g.length+1,I=[];for(let x=0;x<b;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new d(I,C.h)}function Ut(C,b){const I=b>>5;b%=32;const x=C.g.length-I,O=[];for(let U=0;U<x;U++)O[U]=b>0?C.i(U+I)>>>b|C.i(U+I+1)<<32-b:C.i(U+I);return new d(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,XT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,is=d}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $T,Pl,JT,eh,Lm,ZT,WT,t0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break t;v=v[L]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,B){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[L].apply(A,tt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function Q(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function P(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let tt=0;tt<B;tt++)c[v+tt]=L[tt]}else c.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){d.setTimeout(()=>{throw c},0)}function ht(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const A=lt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new W(()=>new wt,c=>c.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Ut=!1,C=new dt,b=()=>{const c=Promise.resolve(void 0);te=()=>{c.then(I)}};function I(){for(var c;c=ht();){try{c.h.call(c.g)}catch(v){Z(v)}var m=lt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ut=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function re(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(re,O),re.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(c,m,v,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Ht(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let B=0;B<$.length;B++)v=$[B],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,A,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const tt=St(c,m,A,L);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!A,L),m.fa=v,c.push(m)),m};function yt(c,m){const v=m.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(A,L,1),B&&(ft(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,m,v,A){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Oe={};function se(c,m,v,A,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(c,m[B],v,A,L);return null}return v=Do(v),c&&c[De]?c.J(m,v,g(A)?!!A.capture:!1,L):ys(c,m,v,!1,A,L)}function ys(c,m,v,A,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let Tt=_s(c);if(Tt||(c[Vt]=Tt=new st(c)),v=Tt.add(m,v,A,tt,B),v.proxy)return v;if(A=ha(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(L=tt),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(oi(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ha(){function c(v){return m.call(c.src,c.listener,v)}const m=Co;return c}function fa(c,m,v,A,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)fa(c,m[B],v,A,L);else A=g(A)?!!A.capture:!!A,v=Do(v),c&&c[De]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=St(m,v,A,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=_s(c))&&(m=c.g[m.toString()],c=-1,m&&(c=St(m,v,A,L)),(v=c>-1?m[c]:null)&&da(v))}function da(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[De])yt(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(oi(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=_s(m))?(yt(v,c),v.h==0&&(v.src=null,m[Vt]=null)):ft(c)}}}function oi(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function Co(c,m){if(c.da)c=!0;else{m=new re(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&da(c),c=v.call(A,m)}return c}function _s(c){return c=c[Vt],c instanceof st?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(c){return typeof c=="function"?c:(c[No]||(c[No]=function(m){return c.handleEvent(m)}),c[No])}function ye(){x.call(this),this.i=new st(this),this.M=this,this.G=null}S(ye,x),ye.prototype[De]=!0,ye.prototype.removeEventListener=function(c,m,v,A){fa(this,c,m,v,A)};function Me(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var L=m;m=new O(A,c),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=yr(B,A,!0,m)&&L;if(B=m.g=c,L=yr(B,A,!0,m)&&L,L=yr(B,A,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=yr(B,A,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ft(v[A]);delete c.g[m],c.h--}}this.G=null},ye.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},ye.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function yr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Tt=tt.listener,fe=tt.ha||tt.src;tt.fa&&yt(c.i,tt),L=Tt.call(fe,A)!==!1&&L}}return L&&!A.defaultPrevented}function sf(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function vu(c){c.g=sf(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){x.call(this),this.h=c,this.g={}}S(vs,x);var Oo=[];function Mo(c){Pt(c.g,function(m,v){this.g.hasOwnProperty(v)&&da(m)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Mo(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=d.JSON.stringify,af=d.JSON.parse,Eu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Tu(){}function Au(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){O.call(this,"d")}S(Be,O);function Rn(){O.call(this,"c")}S(Rn,O);var he={},Su=null;function ma(){return Su=Su||new ye}he.Ia="serverreachability";function bu(c){O.call(this,he.Ia,c)}S(bu,O);function li(c){const m=ma();Me(m,new bu(m))}he.STAT_EVENT="statevent";function Es(c,m){O.call(this,he.STAT_EVENT,c),this.stat=m}S(Es,O);function _e(c){const m=ma();Me(m,new Es(m,c))}he.Ja="timingevent";function ui(c,m){O.call(this,he.Ja,c),this.size=m}S(ui,O);function ci(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function of(c,m,v,A,L,B){c.info(function(){if(c.g)if(B){var tt="",Tt=B.split("&");for(let jt=0;jt<Tt.length;jt++){var fe=Tt[jt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Dn=ae.split("_");tt=Dn.length>=2&&Dn[1]=="type"?tt+(ae+"="+fe+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function wu(c,m,v,A,L,B,tt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function hi(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+lf(c,v)+(A?" "+A:"")})}function Ts(c,m){c.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function lf(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return _r(B)}catch{return m}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function Ss(){}S(Ss,Tu),Ss.prototype.g=function(){return new XMLHttpRequest},Vo=new Ss;function qi(c){return encodeURIComponent(String(c))}function Ru(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Qn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var ve={},Le={};function fi(c,m,v){c.M=1,c.A=bs(Te(m)),c.u=v,c.R=!0,ga(c,null)}function ga(c,m){c.F=Date.now(),di(c),c.B=Te(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),va(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Kn,c.g=qu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Oo[0]=L.toString()),L=Oo);for(let B=0;B<L.length;B++){const tt=se(v,L[B],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),li(),of(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&$n(c)==3?m.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)t:{const Tt=$n(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Tt!=4||fe==7||(fe==8||jt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=uf(this);if(this.o=m==200,wu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var B=A;break e}}B=null}if(c=B)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,_e(12),pn(this),In(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=Cu(this,v),ae==Le){Tt==4&&(this.m=4,_e(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ae,null),gi(this,ae);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(tt),tt.P=!0,_e(11))}}else hi(this.i,this.l,v,null),gi(this,v);Tt==4&&pn(this),this.o&&!this.K&&(Tt==4?Pu(this.j,this):(this.o=!1,di(this)))}else Hi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),pn(this),In(this)}}}catch{}};function uf(c){if(!Iu(c))return c.g.la();const m=He(c.g);if(m==="")return"";let v="";const A=m.length,L=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),In(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Le:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?Le:(m=m.slice(A,A+v),c.C=A+v,m)))}Qn.prototype.cancel=function(){this.K=!0,pn(this)};function di(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(p(c.aa,c),m)}function mi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(li(),_e(17)),pn(this),this.m=2,In(this)):pa(this,this.T-c)};function In(c){c.j.I==0||c.K||Pu(c.j,c)}function pn(c){mi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Mo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function gi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ba(v),Rr(v);else break t;Os(v),_e(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(p(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&ba(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const ae=jt[0];if(!(ae<=v.K))if(v.K=ae,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Dn=jt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const bi=jt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Jn=jt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(A=1.5*Jn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Zn=c.g;if(Zn){const Ms=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var B=A.h;B.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Po(B,B.h),B.h=null))}if(A.G){const wa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(A.wa=wa,Ft(A.J,A.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=c;if(A.na=ju(A,A.L?A.ba:null,A.W),tt.L){Lo(A.h,tt);var Tt=tt,fe=A.O;fe&&(Tt.H=fe),Tt.D&&(mi(Tt),di(Tt)),A.g=tt}else ku(A);v.i.length>0&&Ai(v)}else jt[0]!="stop"&&jt[0]!="close"||Si(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Si(v,7):Ko(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}li(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function ko(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function yi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Po(c,m){c.g?c.g.add(m):c.h=m}function Lo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ko.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return Q(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,B=null;A>=0?(L=c[v].substring(0,A),B=c[v].substring(A+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,ze(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,jo(this,xu(c.i)),this.m=c.m):c&&(m=String(c).match(Nu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),vr(this,m[4]),this.h=_i(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ws(m,_a,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ws(m,_a,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?qo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,Ou)),c.join("")},yn.prototype.resolve=function(c){const m=Te(this);let v=!!c.j;v?ze(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)vr(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Tt=L[tt++];Tt=="."?A&&tt==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&tt==L.length&&B.push("")):(B.push(Tt),A=!0)}A=B.join("/")}else A=L}return v?m.h=A:v=c.i.toString()!=="",v?jo(m,xu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Te(c){return new yn(c)}function ze(c,m,v){c.j=v?_i(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function jo(c,m,v){m instanceof Tr?(c.i=m,Ea(c.i,c.l)):(v||(m=ws(m,Er)),c.i=new Tr(m,c.l))}function Ft(c,m,v){c.i.set(m,v)}function bs(c){return Ft(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,Du=/[#\?:]/g,qo=/[#\?]/g,Er=/[#\?@]/g,Ou=/#/g;function Tr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(c,m){ln(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Mu(c,m){ln(c),m=Ar(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Bo(c,m){return ln(c),m=Ar(c,m),c.g.has(m)}r.forEach=function(c,m){ln(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(m,L,A,this)},this)},this)};function Ho(c,m){ln(c);let v=[];if(typeof m=="string")Bo(c,m)&&(v=v.concat(c.g.get(Ar(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return ln(this),this.i=null,c=Ar(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Ho(this,c),c.length>0?String(c[0]):m):m};function va(c,m,v){Mu(c,m),v.length>0&&(c.i=null,c.g.set(Ar(c,m),Q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=qi(v);v=Ho(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+qi(v[B])),c.push(tt)}}return this.i=c.join("&")};function xu(c){const m=new Tr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ar(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Ea(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(Mu(this,A),va(this,L,v))},c)),c.j=m}function Yn(c,m){const v=new Gn;if(d.Image){const A=new Image;A.onload=T(Cn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Cn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Cn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Cn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Fo(c,m){const v=new Gn,A=new AbortController,L=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(L),B.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,m)})}function Cn(c,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Sr(){this.g=new Eu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(vi,Tu),vi.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,m){ye.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rs,ye),r=Rs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?br(this):Xn(this),this.readyState==3&&Ta(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let m="";return Pt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Is(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Nn(v),typeof c=="string"?v!=null&&qi(v):Ft(c,m,v))}function Yt(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ye);var Ei=/^https?$/i,Go=["POST","PUT"];r=Yt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=D(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Cs(this,B);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Go,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Cs(this,B)}};function Cs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Qo(c),Bi(c)}function Qo(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),$n(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let tt=String(c.D).match(Nu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!Ei.test(tt?tt.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var L=$n(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Qo(c)}}finally{Bi(c)}}}}function Bi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),af(m)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const m={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var v=Ru(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ht(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function wr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,A){_e(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ju(this,null,this.W),Ai(this)};function Ko(c){if(Aa(c),c.I==3){var m=c.V++,v=Te(c.J);if(Ft(v,"SID",c.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),Ds(c,v),m=new Qn(c,c.j,m),m.M=2,m.A=bs(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=qu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}zu(c)}function Rr(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function Aa(c){Rr(c),c.v&&(d.clearTimeout(c.v),c.v=null),ba(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ai(c){if(!Uo(c.h)&&!c.m){c.m=!0;var m=c.Ea;te||b(),Ut||(te(),Ut=!0),C.add(m,c),c.D=0}}function Sa(c,m){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(p(c.Ea,c,m),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Qn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Vu(this,L,m),v=Te(this.J),Ft(v,"RID",c),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),Ds(this,v),B&&(this.R?m="headers="+qi(Nn(B))+"&"+m:this.u&&Is(v,this.u,B)),Po(this.h,L),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),L.U=!0,fi(L,v,null)):fi(L,v,m),this.I=2}}else this.I==3&&(c?Yo(this,c):this.i.length==0||Uo(this.h)||Yo(this))};function Yo(c,m){var v;m?v=m.l:v=c.V++;const A=Te(c.J);Ft(A,"SID",c.M),Ft(A,"RID",v),Ft(A,"AID",c.K),Ds(c,A),c.u&&c.o&&Is(A,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),fi(v,A,m)}function Ds(c,m){c.H&&Pt(c.H,function(v,A){Ft(m,A,v)}),c.l&&Pt({},function(v,A){Ft(m,A,v)})}function Vu(c,m,v){v=Math.min(c.i.length,v);const A=c.l?p(c.l.Ka,c.l,c):null;t:{var L=c.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=L[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let jt=!0;for(let ae=0;ae<v;ae++){var B=L[ae].g;const Dn=L[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,L[ae].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var tt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[bi,Jn]of tt){let Zn=Jn;g(Jn)&&(Zn=_r(Jn)),fe.push(B+bi+"="+encodeURIComponent(Zn))}}catch(bi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(Dn)}}if(jt){tt=fe.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function ku(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;te||b(),Ut||(te(),Ut=!0),C.add(m,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(p(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),Rr(this),Uu(this))};function Xo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Te(c.na);Ft(m,"RID","rpc"),Ft(m,"SID",c.M),Ft(m,"AID",c.K),Ft(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ft(m,"TO",c.ia),Ft(m,"TYPE","xmlhttp"),Ds(c,m),c.u&&c.o&&Is(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=bs(Te(m)),v.u=null,v.R=!0,ga(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Os(this),_e(19))};function ba(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Pu(c,m){var v=null;if(c.g==m){ba(c),Xo(c),c.g=null;var A=2}else if(yi(c.h,m))v=m.G,Lo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=ma(),Me(A,new ui(A,v)),Ai(c)}else ku(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&Sa(c,m)||A==2&&Os(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Lu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Si(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),A=c.Ua;const L=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(A,"https"),bs(A),L?Yn(A.toString(),v):Fo(A.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(m),zu(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const m=zo(c.h);(m.length!=0||c.i.length!=0)&&(P(c.ja,m),P(c.ja,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.oa()}}function ju(c,m,v){var A=v instanceof yn?Te(v):new yn(v);if(A.g!="")m&&(A.g=m+"."+A.g),vr(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new yn(null);A&&ze(B,A),m&&(B.g=m),L&&vr(B,L),v&&(B.h=v),A=B}return v=c.G,m=c.wa,v&&m&&Ft(A,v,m),Ft(A,"VER",c.ka),Ds(c,A),A}function qu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Yt(new vi({ab:v})):new Yt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){ye.call(this),this.g=new wr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Fi(this)}S(rn,ye),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ko(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&Ai(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,rn.Z.N.call(this)};function Hu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Hu,Be);function Fu(){Rn.call(this),this.status=1}S(Fu,Rn);function Fi(c){this.g=c}S(Fi,Bu),Fi.prototype.ra=function(){Me(this.g,"a")},Fi.prototype.qa=function(c){Me(this.g,new Hu(c))},Fi.prototype.pa=function(c){Me(this.g,new Fu)},Fi.prototype.oa=function(){Me(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,t0=function(){return new Ir},WT=function(){return ma()},ZT=he,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,eh=As,xo.COMPLETE="complete",JT=xo,Au.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Pl=Au,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,$T=Yt}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",rE="4.9.3";class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let Ao="12.7.0";const ea=new ug("@firebase/firestore");function eo(){return ea.logLevel}function rt(r,...t){if(ea.logLevel<=Dt.DEBUG){const n=t.map(fg);ea.debug(`Firestore (${Ao}): ${r}`,...n)}}function mr(r,...t){if(ea.logLevel<=Dt.ERROR){const n=t.map(fg);ea.error(`Firestore (${Ao}): ${r}`,...n)}}function fo(r,...t){if(ea.logLevel<=Dt.WARN){const n=t.map(fg);ea.warn(`Firestore (${Ao}): ${r}`,...n)}}function fg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function pt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,e0(r,s,n)}function e0(r,t,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function Bt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||e0(t,l,s)}function Et(r,t){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class n0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class AR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class SR{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Bt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new n0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class bR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new bR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Bt(this.o===void 0,3512);const s=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class dg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=IR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Ot(r,t){return r<t?-1:r>t?1:0}function zm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return ym(l)===ym(u)?Ot(l,u):ym(l)?1:-1}return Ot(r.length,t.length)}const CR=55296,NR=57343;function ym(r){const t=r.charCodeAt(0);return t>=CR&&t<=NR}function mo(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const aE="__name__";class Oi{constructor(t,n,s){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&pt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Oi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Oi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Oi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Ot(t.length,n.length)}static compareSegments(t,n){const s=Oi.isNumericId(t),l=Oi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Oi.extractNumericId(t).compare(Oi.extractNumericId(n)):zm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return is.fromString(t.substring(4,t.length-2))}}class Wt extends Oi{construct(t,n,s){return new Wt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new Wt(n)}static emptyPath(){return new Wt([])}}const DR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Oi{construct(t,n,s){return new Xe(t,n,s)}static isValidIdentifier(t){return DR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aE}static keyField(){return new Xe([aE])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(u(),l++)}if(u(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(Wt.fromString(t))}static fromName(t){return new ct(Wt.fromString(t).popFirst(5))}static empty(){return new ct(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new Wt(t.slice()))}}function i0(r,t,n){if(!n)throw new it(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function OR(r,t,n,s){if(t===!0&&s===!0)throw new it(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function oE(r){if(!ct.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lE(r){if(ct.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function r0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Bn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(r);throw new it(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function lu(r,t){if(!r0(r))throw new it(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new it(Y.INVALID_ARGUMENT,n);return!0}const uE=-62135596800,cE=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*cE);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uE)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lu(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function MR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new ss(l,ct.empty(),t)}function xR(r){return new ss(r.readTime,r.key,Yl)}class ss{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(_t.min(),ct.empty(),Yl)}static max(){return new ss(_t.max(),ct.empty(),Yl)}}function VR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(r.documentKey,t.documentKey),n!==0?n:Ot(r.largestBatchId,t.largestBatchId))}const kR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function So(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==kR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,s)=>{n(t)}))}static reject(t){return new J(((n,s)=>{s(t)}))}static waitFor(t){return new J(((n,s)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>s(y)))})),d=!0,u===l&&n()}))}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next((l=>l?J.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new J(((s,l)=>{const u=t.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(t[p]).next((T=>{d[p]=T,++g,g===u&&s(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new J(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function PR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}kh.ce=-1;const mg=-1;function Uh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function LR(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const s0="";function zR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=hE(t)),t=jR(r.get(n),t);return hE(t)}function jR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case s0:n+="";break;default:n+=u}}return n}function hE(r){return r+s0+""}function fE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function fs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function a0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xc(this.root,t,this.comparator,!0)}}class Xc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Ye.RED,this.left=l??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Ye(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(t){return new dE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class dE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new wn([])}unionWith(t){let n=new Pe(Xe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class o0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new o0("Invalid base64 string: "+u):u}})(t);return new $e(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(Bt(!!r,39018),typeof r=="string"){let t=0;const n=qR.exec(r);if(Bt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}const l0="server_timestamp",u0="__type__",c0="__previous_value__",h0="__local_write_time__";function gg(r){return(r?.mapValue?.fields||{})[u0]?.stringValue===l0}function Ph(r){const t=r.mapValue.fields[c0];return gg(t)?Ph(t):t}function Xl(r){const t=as(r.mapValue.fields[h0].timestampValue);return new ie(t.seconds,t.nanos)}class BR{constructor(t,n,s,l,u,d,g,y,p,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T}}const ph="(default)";class $l{constructor(t,n){this.projectId=t,this.database=n||ph}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===ph}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}const f0="__type__",HR="__max__",$c={mapValue:{}},d0="__vector__",yh="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gg(r)?4:GR(r)?9007199254740991:FR(r)?10:11:pt(28295,{value:r})}function zi(r,t){if(r===t)return!0;const n=ls(r);if(n!==ls(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Xl(r).isEqual(Xl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=as(l.timestampValue),g=as(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return os(l.bytesValue).isEqual(os(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return ge(l.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ge(l.integerValue)===ge(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ge(l.doubleValue),g=ge(u.doubleValue);return d===g?gh(d)===gh(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return mo(r.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(fE(d)!==fE(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!zi(d[y],g[y])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Jl(r,t){return(r.values||[]).find((n=>zi(n,t)))!==void 0}function go(r,t){if(r===t)return 0;const n=ls(r),s=ls(t);if(n!==s)return Ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=ge(u.integerValue||u.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return mE(r.timestampValue,t.timestampValue);case 4:return mE(Xl(r),Xl(t));case 5:return zm(r.stringValue,t.stringValue);case 6:return(function(u,d){const g=os(u),y=os(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const T=Ot(g[p],y[p]);if(T!==0)return T}return Ot(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Ot(ge(u.latitude),ge(d.latitude));return g!==0?g:Ot(ge(u.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return gE(r.arrayValue,t.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[yh]?.arrayValue,T=y[yh]?.arrayValue,S=Ot(p?.values?.length||0,T?.values?.length||0);return S!==0?S:gE(p,T)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===$c.mapValue&&d===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(d===$c.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const D=zm(y[S],T[S]);if(D!==0)return D;const Q=go(g[y[S]],p[T[S]]);if(Q!==0)return Q}return Ot(y.length,T.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:n})}}function mE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const n=as(r),s=as(t),l=Ot(n.seconds,s.seconds);return l!==0?l:Ot(n.nanos,s.nanos)}function gE(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=go(n[l],s[l]);if(u)return u}return Ot(n.length,s.length)}function po(r){return jm(r)}function jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=as(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return os(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ct.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=jm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${jm(n.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function nh(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ph(r);return t?16+nh(t):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+nh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return fs(s.fields,((u,d)=>{l+=u.length+nh(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function pE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function qm(r){return!!r&&"integerValue"in r}function pg(r){return!!r&&"arrayValue"in r}function yE(r){return!!r&&"nullValue"in r}function _E(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function FR(r){return(r?.mapValue?.fields||{})[f0]?.stringValue===d0}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return fs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Bl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return t}return{...r}}function GR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===HR}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(n)}setAll(t){let n=Xe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=Bl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];ih(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){fs(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new gn(Bl(this.value))}}function m0(r){const t=[];return fs(r.fields,((n,s)=>{const l=new Xe([n]);if(ih(s)){const u=m0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new wn(t)}class tn{constructor(t,n,s,l,u,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new tn(t,0,_t.min(),_t.min(),_t.min(),gn.empty(),0)}static newFoundDocument(t,n,s,l){return new tn(t,1,n,_t.min(),s,l,0)}static newNoDocument(t,n){return new tn(t,2,n,_t.min(),_t.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,_t.min(),_t.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(t,n){this.position=t,this.inclusive=n}}function vE(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),n.key):s=go(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function EE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],t.position[n]))return!1;return!0}class Zl{constructor(t,n="asc"){this.field=t,this.dir=n}}function QR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class g0{}class Ie extends g0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new YR(t,n,s):n==="array-contains"?new JR(t,s):n==="in"?new ZR(t,s):n==="not-in"?new WR(t,s):n==="array-contains-any"?new tI(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new XR(t,s):new $R(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends g0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new si(t,n)}matches(t){return p0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p0(r){return r.op==="and"}function y0(r){return KR(r)&&p0(r)}function KR(r){for(const t of r.filters)if(t instanceof si)return!1;return!0}function Bm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+po(r.value);if(y0(r))return r.filters.map((t=>Bm(t))).join(",");{const t=r.filters.map((n=>Bm(n))).join(",");return`${r.op}(${t})`}}function _0(r,t){return r instanceof Ie?(function(s,l){return l instanceof Ie&&s.op===l.op&&s.field.isEqual(l.field)&&zi(s.value,l.value)})(r,t):r instanceof si?(function(s,l){return l instanceof si&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,g)=>u&&_0(d,l.filters[g])),!0):!1})(r,t):void pt(19439)}function v0(r){return r instanceof Ie?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(v0).join(" ,")+"}"})(r):"Filter"}class YR extends Ie{constructor(t,n,s){super(t,n,s),this.key=ct.fromName(s.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class XR extends Ie{constructor(t,n){super(t,"in",n),this.keys=E0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class $R extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=E0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function E0(r,t){return(t.arrayValue?.values||[]).map((n=>ct.fromName(n.referenceValue)))}class JR extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return pg(n)&&Jl(n.arrayValue,this.value)}}class ZR extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class WR extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class tI extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class eI{constructor(t,n=null,s=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function TE(r,t=null,n=[],s=[],l=null,u=null,d=null){return new eI(r,t,n,s,l,u,d)}function yg(r){const t=Et(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Bm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>po(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>po(s))).join(",")),t.Te=n}return t.Te}function _g(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!QR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!_0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!EE(r.startAt,t.startAt)&&EE(r.endAt,t.endAt)}function Hm(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wo{constructor(t,n=null,s=[],l=[],u=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nI(r,t,n,s,l,u,d,g){return new wo(r,t,n,s,l,u,d,g)}function Lh(r){return new wo(r)}function AE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function T0(r){return r.collectionGroup!==null}function Hl(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Pe(Xe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Zl(u,s))})),n.has(Xe.keyField().canonicalString())||t.Ie.push(new Zl(Xe.keyField(),s))}return t.Ie}function Mi(r){const t=Et(r);return t.Ee||(t.Ee=iI(t,Hl(r))),t.Ee}function iI(r,t){if(r.limitType==="F")return TE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Zl(l.field,u)}));const n=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return TE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Fm(r,t){const n=r.filters.concat([t]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Gm(r,t,n){return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function zh(r,t){return _g(Mi(r),Mi(t))&&r.limitType===t.limitType}function A0(r){return`${yg(Mi(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>v0(l))).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>po(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>po(l))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function jh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ct.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Hl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const p=vE(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,Hl(s),l)||s.endAt&&!(function(d,g,y){const p=vE(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,Hl(s),l))})(r,t)}function rI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function S0(r){return(t,n)=>{let s=!1;for(const l of Hl(r)){const u=sI(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function sI(r,t,n){const s=r.field.isKeyField()?ct.comparator(t.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?go(y,p):pt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}class la{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){fs(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return a0(this.inner)}size(){return this.innerSize}}const aI=new le(ct.comparator);function gr(){return aI}const b0=new le(ct.comparator);function Ll(...r){let t=b0;for(const n of r)t=t.insert(n.key,n);return t}function w0(r){let t=b0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function $s(){return Fl()}function R0(){return Fl()}function Fl(){return new la((r=>r.toString()),((r,t)=>r.isEqual(t)))}const oI=new le(ct.comparator),lI=new Pe(ct.comparator);function Mt(...r){let t=lI;for(const n of r)t=t.add(n);return t}const uI=new Pe(Ot);function cI(){return uI}function vg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(t)?"-0":t}}function I0(r){return{integerValue:""+r}}function C0(r,t){return LR(t)?I0(t):vg(r,t)}class qh{constructor(){this._=void 0}}function hI(r,t,n){return r instanceof Wl?(function(l,u){const d={fields:{[u0]:{stringValue:l0},[h0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&gg(u)&&(u=Ph(u)),u&&(d.fields[c0]=u),{mapValue:d}})(n,t):r instanceof tu?D0(r,t):r instanceof eu?O0(r,t):(function(l,u){const d=N0(l,u),g=SE(d)+SE(l.Ae);return qm(d)&&qm(l.Ae)?I0(g):vg(l.serializer,g)})(r,t)}function fI(r,t,n){return r instanceof tu?D0(r,t):r instanceof eu?O0(r,t):n}function N0(r,t){return r instanceof nu?(function(s){return qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Wl extends qh{}class tu extends qh{constructor(t){super(),this.elements=t}}function D0(r,t){const n=M0(t);for(const s of r.elements)n.some((l=>zi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends qh{constructor(t){super(),this.elements=t}}function O0(r,t){let n=M0(t);for(const s of r.elements)n=n.filter((l=>!zi(l,s)));return{arrayValue:{values:n}}}class nu extends qh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function SE(r){return ge(r.integerValue||r.doubleValue)}function M0(r){return pg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class x0{constructor(t,n){this.field=t,this.transform=n}}function dI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof tu&&l instanceof tu||s instanceof eu&&l instanceof eu?mo(s.elements,l.elements,zi):s instanceof nu&&l instanceof nu?zi(s.Ae,l.Ae):s instanceof Wl&&l instanceof Wl})(r.transform,t.transform)}class mI{constructor(t,n){this.version=t,this.transformResults=n}}class ii{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Bh{}function V0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Eg(r.key,ii.none()):new uu(r.key,r.data,ii.none());{const n=r.data,s=gn.empty();let l=new Pe(Xe.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ds(r.key,s,new wn(l.toArray()),ii.none())}}function gI(r,t,n){r instanceof uu?(function(l,u,d){const g=l.value.clone(),y=wE(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,n):r instanceof ds?(function(l,u,d){if(!rh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=wE(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(k0(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Gl(r,t,n,s){return r instanceof uu?(function(u,d,g,y){if(!rh(u.precondition,d))return g;const p=u.value.clone(),T=RE(u.fieldTransforms,y,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,t,n,s):r instanceof ds?(function(u,d,g,y){if(!rh(u.precondition,d))return g;const p=RE(u.fieldTransforms,y,d),T=d.data;return T.setAll(k0(u)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,d,g){return rh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,n)}function pI(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=N0(s.transform,l||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function bE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&mo(s,l,((u,d)=>dI(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class uu extends Bh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ds extends Bh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function k0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function wE(r,t,n){const s=new Map;Bt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,g=t.data.field(u.field);s.set(u.field,fI(d,g,n[l]))}return s}function RE(r,t,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,hI(u,d,t))}return s}class Eg extends Bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yI extends Bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _I{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&gI(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=R0();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=V0(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,((n,s)=>bE(n,s)))&&mo(this.baseMutations,t.baseMutations,((n,s)=>bE(n,s)))}}class Tg{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Bt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return oI})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new Tg(t,n,s,l)}}class vI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Re,kt;function TI(r){switch(r){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function U0(r){if(r===void 0)return mr("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Re.OK:return Y.OK;case Re.CANCELLED:return Y.CANCELLED;case Re.UNKNOWN:return Y.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Y.INTERNAL;case Re.UNAVAILABLE:return Y.UNAVAILABLE;case Re.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Re.NOT_FOUND:return Y.NOT_FOUND;case Re.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Re.ABORTED:return Y.ABORTED;case Re.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Re.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:r})}}(kt=Re||(Re={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function AI(){return new TextEncoder}const SI=new is([4294967295,4294967295],0);function IE(r){const t=AI().encode(r),n=new XT;return n.update(t),new Uint8Array(n.digest())}function CE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new is([n,s],0),new is([l,u],0)]}class Ag{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=is.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(is.fromNumber(s)));return l.compare(SI)===1&&(l=new is([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=IE(t),[s,l]=CE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Ag(u,l,n);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const n=IE(t),[s,l]=CE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,cu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Hh(_t.min(),l,new le(Ot),gr(),Mt())}}class cu{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new cu(s,n,Mt(),Mt(),Mt())}}class sh{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class P0{constructor(t,n){this.targetId=t,this.Ce=n}}class L0{constructor(t,n,s=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class NE{constructor(){this.ve=0,this.Fe=DE(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),n=Mt(),s=Mt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:pt(38017,{changeType:u})}})),new cu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=DE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bI{constructor(t){this.Ge=t,this.ze=new Map,this.je=gr(),this.Je=Jc(),this.He=Jc(),this.Ye=new le(Ot)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Hm(u))if(s===0){const d=new ct(u.path);this.et(n,d,tn.newNoDocument(d,_t.min()))}else Bt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=os(s).toUint8Array()}catch(y){if(y instanceof o0)return fo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Ag(d,l,u)}catch(y){return fo(y instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Hm(g.target)){const y=new ct(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,tn.newNoDocument(y,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=Mt();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Hh(t,n,this.Ye,this.je,s);return this.je=gr(),this.Je=Jc(),this.He=Jc(),this.Ye=new le(Ot),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new NE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Pe(Ot),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Pe(Ot),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new NE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Jc(){return new le(ct.comparator)}function DE(){return new le(ct.comparator)}const wI={asc:"ASCENDING",desc:"DESCENDING"},RI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},II={and:"AND",or:"OR"};class CI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Qm(r,t){return r.useProto3Json||Uh(t)?t:{value:t}}function vh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function z0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function NI(r,t){return vh(r,t.toTimestamp())}function xi(r){return Bt(!!r,49232),_t.fromTimestamp((function(n){const s=as(n);return new ie(s.seconds,s.nanos)})(r))}function Sg(r,t){return Km(r,t).canonicalString()}function Km(r,t){const n=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function j0(r){const t=Wt.fromString(r);return Bt(G0(t),10190,{key:t.toString()}),t}function Ym(r,t){return Sg(r.databaseId,t.path)}function _m(r,t){const n=j0(t);if(n.get(1)!==r.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ct(B0(n))}function q0(r,t){return Sg(r.databaseId,t)}function DI(r){const t=j0(r);return t.length===4?Wt.emptyPath():B0(t)}function Xm(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B0(r){return Bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function OE(r,t,n){return{name:Ym(r,t),fields:n.value.mapValue.fields}}function OI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Bt(T===void 0||typeof T=="string",58123),$e.fromBase64String(T||"")):(Bt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$e.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?Y.UNKNOWN:U0(p.code);return new it(T,p.message||"")})(d);n=new L0(s,l,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=_m(r,s.document.name),u=xi(s.document.updateTime),d=s.document.createTime?xi(s.document.createTime):_t.min(),g=new gn({mapValue:{fields:s.document.fields}}),y=tn.newFoundDocument(l,u,d,g),p=s.targetIds||[],T=s.removedTargetIds||[];n=new sh(p,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=_m(r,s.document),u=s.readTime?xi(s.readTime):_t.min(),d=tn.newNoDocument(l,u),g=s.removedTargetIds||[];n=new sh([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=_m(r,s.document),u=s.removedTargetIds||[];n=new sh([],u,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new EI(l,u),g=s.targetId;n=new P0(g,d)}}return n}function MI(r,t){let n;if(t instanceof uu)n={update:OE(r,t.key,t.value)};else if(t instanceof Eg)n={delete:Ym(r,t.key)};else if(t instanceof ds)n={update:OE(r,t.key,t.data),updateMask:qI(t.fieldMask)};else{if(!(t instanceof yI))return pt(16599,{Vt:t.type});n={verify:Ym(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const g=d.transform;if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:NI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:pt(27497)})(r,t.precondition)),n}function xI(r,t){return r&&r.length>0?(Bt(t!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?xi(l.updateTime):xi(u);return d.isEqual(_t.min())&&(d=xi(u)),new mI(d,l.transformResults||[])})(n,t)))):[]}function VI(r,t){return{documents:[q0(r,t.path)]}}function kI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=q0(r,l);const u=(function(p){if(p.length!==0)return F0(si.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((T=>(function(D){return{field:io(D.field),direction:LI(D.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Qm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:l}}function UI(r){let t=DI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Bt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const D=H0(S);return D instanceof si&&y0(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((D=>(function(P){return new Zl(ro(P.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(D)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,Uh(D)?null:D})(n.limit));let y=null;n.startAt&&(y=(function(S){const D=!!S.before,Q=S.values||[];return new _h(Q,D)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const D=!S.before,Q=S.values||[];return new _h(Q,D)})(n.endAt)),nI(t,l,d,u,g,"F",y,p)}function PI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function H0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ro(n.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ro(n.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ie.create(ro(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>H0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(n.compositeFilter.op))})(r):pt(30097,{filter:r})}function LI(r){return wI[r]}function zI(r){return RI[r]}function jI(r){return II[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return Xe.fromServerFormat(r.fieldPath)}function F0(r){return r instanceof Ie?(function(n){if(n.op==="=="){if(_E(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(yE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_E(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(yE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:zI(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((l=>F0(l)));return s.length===1?s[0]:{compositeFilter:{op:jI(n.op),filters:s}}})(r):pt(54877,{filter:r})}function qI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function G0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class es{constructor(t,n,s,l,u=_t.min(),d=_t.min(),g=$e.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class BI{constructor(t){this.yt=t}}function HI(r){const t=UI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gm(t,t.limit,"L"):t}class FI{constructor(){this.Cn=new GI}addToCollectionParentIndex(t,n){return this.Cn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(ss.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(ss.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class GI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Pe(Wt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Pe(Wt.comparator)).toArray()}}const ME={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Q0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class yo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const xE="LruGarbageCollector",QI=1048576;function VE([r,t],[n,s]){const l=Ot(r,n);return l===0?Ot(t,s):l}class KI{constructor(t){this.Ir=t,this.buffer=new Pe(VE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(xE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?rt(xE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class XI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(kh.ce);const s=new KI(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ME)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ME):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,u,d,g,y,p;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(p=Date.now(),eo()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function $I(r,t){return new XI(r,t)}class JI{constructor(){this.changes=new la((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class WI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Gl(s.mutation,l,wn.empty(),ie.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Mt()){const l=$s();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let d=Ll();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=$s();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Mt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(t,n,s,l){let u=gr();const d=Fl(),g=(function(){return Fl()})();return n.forEach(((y,p)=>{const T=s.get(p.key);l.has(p.key)&&(T===void 0||T.mutation instanceof ds)?u=u.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),Gl(T.mutation,p,T.mutation.getFieldMask(),ie.now())):d.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((p,T)=>d.set(p,T))),n.forEach(((p,T)=>g.set(p,new ZI(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(t,n){const s=Fl();let l=new le(((d,g)=>d-g)),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let T=s.get(y)||wn.empty();T=g.applyToLocalView(p,T),s.set(y,T);const S=(l.get(g.batchId)||Mt()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,T=y.value,S=R0();T.forEach((D=>{if(!u.has(D)){const Q=V0(n.get(D),s.get(D));Q!==null&&S.set(D,Q),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,p,S))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):T0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):J.resolve($s());let g=Yl,y=u;return d.next((p=>J.forEach(p,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{y=y.insert(T,D)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,y,p,Mt()))).next((T=>({batchId:g,changes:w0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next((s=>{let l=Ll();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(t,u).next((g=>J.forEach(g,(y=>{const p=(function(S,D){return new wo(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,s,l).next((T=>{T.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((d=>{u.forEach(((y,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,tn.newInvalidDocument(T)))}));let g=Ll();return d.forEach(((y,p)=>{const T=u.get(y);T!==void 0&&Gl(T.mutation,p,wn.empty(),ie.now()),jh(n,p)&&(g=g.insert(y,p))})),g}))}}class tC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:HI(l.bundledQuery),readTime:xi(l.readTime)}})(n)),J.resolve()}}class eC{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=$s();return J.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.St(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const l=$s(),u=n.length+1,d=new ct(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>s&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new le(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let T=u.get(p.largestBatchId);T===null&&(T=$s(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=$s(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=l)););return J.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new vI(n,s));let u=this.qr.get(n);u===void 0&&(u=Mt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class nC{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}class bg{constructor(){this.Qr=new Pe(qe.$r),this.Ur=new Pe(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new qe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new qe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new ct(new Wt([])),s=new qe(n,t),l=new qe(n,t+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ct(new Wt([])),s=new qe(n,t),l=new qe(n,t+1);let u=Mt();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new qe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ct.comparator(t.key,n.key)||Ot(t.Yr,n.Yr)}static Kr(t,n){return Ot(t.Yr,n.Yr)||ct.comparator(t.key,n.key)}}class iC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(qe.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _I(u,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new qe(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?mg:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new qe(n,0),l=new qe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Pe(Ot);return n.forEach((l=>{const u=new qe(l,0),d=new qe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{s=s.add(g.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;ct.isDocumentKey(u)||(u=u.child(""));const d=new qe(new ct(u),0);let g=new Pe(Ot);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(l=>{const u=new qe(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new qe(n,0),l=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rC{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=gr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():tn.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=gr();const d=n.path,g=new ct(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||VR(xR(T),s)<=0||(l.has(T.key)||jh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,l){pt(9500)}ii(t,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new sC(this)}getSize(t){return J.resolve(this.size)}}class sC extends JI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class aC{constructor(t){this.persistence=t,this.si=new la((n=>yg(n)),_g),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new bg,this.targetCount=0,this.ai=yo.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.Pr(n),J.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this._i.containsKey(n))}}class K0{constructor(t,n){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new nC,this.referenceDelegate=t(this),this.Pi=new aC(this),this.indexManager=new FI,this.remoteDocumentCache=(function(l){return new rC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new BI(n),this.Ii=new tC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new eC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new iC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const l=new oC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class oC extends UR{constructor(t){super(),this.currentSequenceNumber=t}}class wg{constructor(t){this.persistence=t,this.Ri=new bg,this.Vi=null}static mi(t){return new wg(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const l=ct.fromPath(s);return this.gi(t,l).next((u=>{u||n.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Eh{constructor(t,n){this.persistence=t,this.pi=new la((s=>zR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=$I(this,n)}static mi(t,n){return new Eh(t,n)}Ei(){}di(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return J.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?J.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((g=>{g||(s++,u.removeEntry(d,_t.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=nh(t.data.value)),n}br(t,n,s){return J.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Rg{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=Mt(),l=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Rg(t,n.fromCache,s,l)}}class lC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s1()?8:PR(en())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new lC;return this.Ss(t,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(t,n,d,g.size)}))})).next((()=>u.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(eo()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(eo()<=Dt.DEBUG&&rt("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(eo()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(n))):J.resolve())}ys(t,n){if(AE(n))return J.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Gm(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=Mt(...u);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const p=this.Ds(n,g);return this.Cs(n,p,d,y.readTime)?this.ys(t,Gm(n,null,"F")):this.vs(t,p,n,y)}))))})))))}ws(t,n,s,l){return AE(n)||l.isEqual(_t.min())?J.resolve(null):this.ps.getDocuments(t,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,l)?J.resolve(null):(eo()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),no(n)),this.vs(t,d,n,MR(l,Yl)).next((g=>g)))}))}Ds(t,n){let s=new Pe(S0(t));return n.forEach(((l,u)=>{jh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,s){return eo()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(t,n,ss.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Ig="LocalStore",cC=3e8;class hC{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new le(Ot),this.xs=new la((u=>yg(u)),_g),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new WI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function fC(r,t,n,s){return new hC(r,t,n,s)}async function Y0(r,t){const n=Et(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],g=[];let y=Mt();for(const p of l){d.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of u){g.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function dC(r,t){const n=Et(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,T){const S=p.batch,D=S.keys();let Q=J.resolve();return D.forEach((P=>{Q=Q.next((()=>T.getEntry(y,P))).next((W=>{const Z=p.docVersions.get(P);Bt(Z!==null,48541),W.version.compareTo(Z)<0&&(S.applyToRemoteDocument(W,p),W.isValidDocument()&&(W.setReadTime(p.commitVersion),T.addEntry(W)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Mt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function X0(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function mC(r,t){const n=Et(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach(((T,S)=>{const D=l.get(S);if(!D)return;g.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let Q=D.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken($e.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(T.resumeToken,s)),l=l.insert(S,Q),(function(W,Z,ht){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=cC?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(D,Q,T)&&g.push(n.Pi.updateTargetData(u,Q))}));let y=gr(),p=Mt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(gC(u,d,t.documentUpdates).next((T=>{y=T.ks,p=T.qs}))),!s.isEqual(_t.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(T)}return J.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function gC(r,t,n){let s=Mt(),l=Mt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=gr();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):rt(Ig,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function pC(r,t){const n=Et(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=mg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function yC(r,t){const n=Et(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((u=>u?(l=u,J.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new es(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function $m(r,t,n){const s=Et(r),l=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!bo(d))throw d;rt(Ig,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function kE(r,t,n){const s=Et(r);let l=_t.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,T){const S=Et(y),D=S.xs.get(T);return D!==void 0?J.resolve(S.Ms.get(D)):S.Pi.getTargetData(p,T)})(s,d,Mi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:_t.min(),n?u:Mt()))).next((g=>(_C(s,rI(t),g),{documents:g,Qs:u})))))}function _C(r,t,n){let s=r.Os.get(t)||_t.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class UE{constructor(){this.activeTargetIds=cI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vC{constructor(){this.Mo=new UE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new UE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EC{Oo(t){}shutdown(){}}const PE="ConnectivityMonitor";class LE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(PE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(PE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Jm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const vm="RestConnection",TC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,u){const d=Jm(),g=this.zo(t,n.toUriEncodedString());rt(vm,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:p}=new URL(g),T=vo(p);return this.Jo(t,g,y,s,T).then((S=>(rt(vm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw fo(vm,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(t,n,s,l,u,d){return this.Go(t,n,s,l,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const s=TC[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class SC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class bC extends AC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,u){const d=Jm();return new Promise(((g,y)=>{const p=new $T;p.setWithCredentials(!0),p.listenOnce(JT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case eh.NO_ERROR:const S=p.getResponseJson();rt(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case eh.TIMEOUT:rt(Ze,`RPC '${t}' ${d} timed out`),y(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const D=p.getStatus();if(rt(Ze,`RPC '${t}' ${d} failed with status:`,D,"response text:",p.getResponseText()),D>0){let Q=p.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const P=Q?.error;if(P&&P.status&&P.message){const W=(function(ht){const dt=ht.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(dt)>=0?dt:Y.UNKNOWN})(P.status);y(new it(W,P.message))}else y(new it(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new it(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{rt(Ze,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);rt(Ze,`RPC '${t}' ${d} sending request:`,l),p.send(n,"POST",T,s,15)}))}T_(t,n,s){const l=Jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=t0(),g=WT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const T=u.join("");rt(Ze,`Creating RPC '${t}' stream ${l}: ${T}`,y);const S=d.createWebChannel(T,y);this.I_(S);let D=!1,Q=!1;const P=new SC({Yo:Z=>{Q?rt(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(D||(rt(Ze,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),rt(Ze,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),W=(Z,ht,dt)=>{Z.listen(ht,(lt=>{try{dt(lt)}catch(wt){setTimeout((()=>{throw wt}),0)}}))};return W(S,Pl.EventType.OPEN,(()=>{Q||(rt(Ze,`RPC '${t}' stream ${l} transport opened.`),P.o_())})),W(S,Pl.EventType.CLOSE,(()=>{Q||(Q=!0,rt(Ze,`RPC '${t}' stream ${l} transport closed`),P.a_(),this.E_(S))})),W(S,Pl.EventType.ERROR,(Z=>{Q||(Q=!0,fo(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),P.a_(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),W(S,Pl.EventType.MESSAGE,(Z=>{if(!Q){const ht=Z.data[0];Bt(!!ht,16349);const dt=ht,lt=dt?.error||dt[0]?.error;if(lt){rt(Ze,`RPC '${t}' stream ${l} received error:`,lt);const wt=lt.status;let te=(function(b){const I=Re[b];if(I!==void 0)return U0(I)})(wt),Ut=lt.message;te===void 0&&(te=Y.INTERNAL,Ut="Unknown error status: "+wt+" with message "+lt.message),Q=!0,P.a_(new it(te,Ut)),S.close()}else rt(Ze,`RPC '${t}' stream ${l} received:`,ht),P.u_(ht)}})),W(g,ZT.STAT_EVENT,(Z=>{Z.stat===Lm.PROXY?rt(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Lm.NOPROXY&&rt(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Em(){return typeof document<"u"?document:null}function Fh(r){return new CI(r,!0)}class $0{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zE="PersistentStream";class J0{constructor(t,n,s,l,u,d,g,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(zE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(rt(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wC extends J0{constructor(t,n,s,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=OI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return _t.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?xi(d.readTime):_t.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Xm(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=Hm(y)?{documents:VI(u,y)}:{query:kI(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=z0(u,d.resumeToken);const p=Qm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=vh(u,d.snapshotVersion.toTimestamp());const p=Qm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,t);const s=PI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Xm(this.serializer),n.removeTarget=t,this.q_(n)}}class RC extends J0{constructor(t,n,s,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=xI(t.writeResults,t.commitTime),s=xi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Xm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>MI(this.serializer,s)))};this.q_(n)}}class IC{}class CC extends IC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,Km(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(Y.UNKNOWN,u.toString())}))}Ho(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Km(n,s),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class DC{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ua(this)&&(rt(na,"Restarting streams for network reachability change."),await(async function(y){const p=Et(y);p.Ea.add(4),await hu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Gh(p)})(this))}))})),this.Ra=new NC(s,l)}}async function Gh(r){if(ua(r))for(const t of r.da)await t(!0)}async function hu(r){for(const t of r.da)await t(!1)}function Z0(r,t){const n=Et(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Og(n)?Dg(n):Ro(n).O_()&&Ng(n,t))}function Cg(r,t){const n=Et(r),s=Ro(n);n.Ia.delete(t),s.O_()&&W0(n,t),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function Ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ro(r).Y_(t)}function W0(r,t){r.Va.Ue(t),Ro(r).Z_(t)}function Dg(r){r.Va=new bI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Ra.ua()}function Og(r){return ua(r)&&!Ro(r).x_()&&r.Ia.size>0}function ua(r){return Et(r).Ea.size===0}function tA(r){r.Va=void 0}async function OC(r){r.Ra.set("Online")}async function MC(r){r.Ia.forEach(((t,n)=>{Ng(r,t)}))}async function xC(r,t){tA(r),Og(r)?(r.Ra.ha(t),Dg(r)):r.Ra.set("Unknown")}async function VC(r,t,n){if(r.Ra.set("Online"),t instanceof L0&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){rt(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Th(r,s)}else if(t instanceof sh?r.Va.Ze(t):t instanceof P0?r.Va.st(t):r.Va.tt(t),!n.isEqual(_t.min()))try{const s=await X0(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken($e.EMPTY_BYTE_STRING,T.snapshotVersion)),W0(u,y);const S=new es(T.target,y,p,T.sequenceNumber);Ng(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){rt(na,"Failed to raise snapshot:",s),await Th(r,s)}}async function Th(r,t,n){if(!bo(t))throw t;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),n||(n=()=>X0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Gh(r)}))}function eA(r,t){return t().catch((n=>Th(r,n,t)))}async function Qh(r){const t=Et(r),n=us(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mg;for(;kC(t);)try{const l=await pC(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,UC(t,l)}catch(l){await Th(t,l)}nA(t)&&iA(t)}function kC(r){return ua(r)&&r.Ta.length<10}function UC(r,t){r.Ta.push(t);const n=us(r);n.O_()&&n.X_&&n.ea(t.mutations)}function nA(r){return ua(r)&&!us(r).x_()&&r.Ta.length>0}function iA(r){us(r).start()}async function PC(r){us(r).ra()}async function LC(r){const t=us(r);for(const n of r.Ta)t.ea(n.mutations)}async function zC(r,t,n){const s=r.Ta.shift(),l=Tg.from(s,t,n);await eA(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Qh(r)}async function jC(r,t){t&&us(r).X_&&await(async function(s,l){if((function(d){return TI(d)&&d!==Y.ABORTED})(l.code)){const u=s.Ta.shift();us(s).B_(),await eA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Qh(s)}})(r,t),nA(r)&&iA(r)}async function jE(r,t){const n=Et(r);n.asyncQueue.verifyOperationInProgress(),rt(na,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gh(n)}async function qC(r,t){const n=Et(r);t?(n.Ea.delete(2),await Gh(n)):t||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(n,s,l){const u=Et(n);return u.sa(),new wC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:OC.bind(null,r),t_:MC.bind(null,r),r_:xC.bind(null,r),H_:VC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Og(r)?Dg(r):r.Ra.set("Unknown")):(await r.ma.stop(),tA(r))}))),r.ma}function us(r){return r.fa||(r.fa=(function(n,s,l){const u=Et(n);return u.sa(),new RC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:PC.bind(null,r),r_:jC.bind(null,r),ta:LC.bind(null,r),na:zC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Qh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Mg{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const d=Date.now()+s,g=new Mg(t,n,d,l,u);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(r,t){if(mr("AsyncQueue",`${t}: ${r}`),bo(r))return new it(Y.UNAVAILABLE,`${t}: ${r}`);throw r}class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ct.comparator(n.key,s.key):(n,s)=>ct.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class qE{constructor(){this.ga=new le(ct.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class _o{constructor(t,n,s,l,u,d,g,y,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new _o(t,n,lo.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class BC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HC{constructor(){this.queries=BE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Et(n),u=l.queries;l.queries=BE(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function BE(){return new la((r=>A0(r)),zh)}async function Vg(r,t){const n=Et(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new BC,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=xg(d,`Initialization of query '${no(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Ug(n)}async function kg(r,t){const n=Et(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function FC(r,t){const n=Et(r);let s=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Ug(n)}function GC(r,t,n){const s=Et(r),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(t)}function Ug(r){r.Ca.forEach((t=>{t.next()}))}var Zm,HE;(HE=Zm||(Zm={})).Ma="default",HE.Cache="cache";class Pg{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new _o(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zm.Cache}}class rA{constructor(t){this.key=t}}class sA{constructor(t){this.key=t}}class QC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=S0(t),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new qE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const D=l.get(T),Q=jh(this.query,S)?S:null,P=!!D&&this.mutatedKeys.has(D.key),W=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Z=!1;D&&Q?D.data.isEqual(Q.data)?P!==W&&(s.track({type:3,doc:Q}),Z=!0):this.su(D,Q)||(s.track({type:2,doc:Q}),Z=!0,(y&&this.eu(Q,y)>0||p&&this.eu(Q,p)<0)&&(g=!0)):!D&&Q?(s.track({type:0,doc:Q}),Z=!0):D&&!Q&&(s.track({type:1,doc:D}),Z=!0,(y||p)&&(g=!0)),Z&&(Q?(d=d.add(Q),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(Q,P){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:Z})}};return W(Q)-W(P)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new _o(this.query,t.tu,u,d,t.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new sA(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new rA(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Mt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lg="SyncEngine";class KC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class YC{constructor(t){this.key=t,this.hu=!1}}class XC{constructor(t,n,s,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new la((g=>A0(g)),zh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new bg,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $C(r,t,n=!0){const s=hA(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await aA(s,t,n,!0),l}async function JC(r,t){const n=hA(r);await aA(n,t,!0,!1)}async function aA(r,t,n,s){const l=await yC(r.localStore,Mi(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await ZC(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&Z0(r.remoteStore,l),g}async function ZC(r,t,n,s,l){r.pu=(S,D,Q)=>(async function(W,Z,ht,dt){let lt=Z.view.ru(ht);lt.Cs&&(lt=await kE(W.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,lt))));const wt=dt&&dt.targetChanges.get(Z.targetId),te=dt&&dt.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(lt,W.isPrimaryClient,wt,te);return GE(W,Z.targetId,Ut.au),Ut.snapshot})(r,S,D,Q);const u=await kE(r.localStore,t,!0),d=new QC(t,u.Qs),g=d.ru(u.documents),y=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),p=d.applyChanges(g,r.isPrimaryClient,y);GE(r,n,p.au);const T=new KC(t,n,d);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),p.snapshot}async function WC(r,t,n){const s=Et(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!zh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await $m(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Cg(s.remoteStore,l.targetId),Wm(s,l.targetId)})).catch(So)):(Wm(s,l.targetId),await $m(s.localStore,l.targetId,!0))}async function t2(r,t){const n=Et(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Cg(n.remoteStore,s.targetId))}async function e2(r,t,n){const s=l2(r);try{const l=await(function(d,g){const y=Et(d),p=ie.now(),T=g.reduce(((Q,P)=>Q.add(P.key)),Mt());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let P=gr(),W=Mt();return y.Ns.getEntries(Q,T).next((Z=>{P=Z,P.forEach(((ht,dt)=>{dt.isValidDocument()||(W=W.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,P))).next((Z=>{S=Z;const ht=[];for(const dt of g){const lt=pI(dt,S.get(dt.key).overlayedDocument);lt!=null&&ht.push(new ds(dt.key,lt,m0(lt.value.mapValue),ii.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,p,ht,g)})).next((Z=>{D=Z;const ht=Z.applyToLocalDocumentSet(S,W);return y.documentOverlayCache.saveOverlays(Q,Z.batchId,ht)}))})).then((()=>({batchId:D.batchId,changes:w0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new le(Ot)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,l.batchId,n),await fu(s,l.changes),await Qh(s.remoteStore)}catch(l){const u=xg(l,"Failed to persist write");n.reject(u)}}async function oA(r,t){const n=Et(r);try{const s=await mC(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Bt(d.hu,14607):l.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await fu(n,s,t)}catch(s){await So(s)}}function FE(r,t,n){const s=Et(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Et(d);y.onlineState=g;let p=!1;y.queries.forEach(((T,S)=>{for(const D of S.Sa)D.va(g)&&(p=!0)})),p&&Ug(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function n2(r,t,n){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let d=new le(ct.comparator);d=d.insert(u,tn.newNoDocument(u,_t.min()));const g=Mt().add(u),y=new Hh(_t.min(),new Map,new le(Ot),d,g);await oA(s,y),s.du=s.du.remove(u),s.Au.delete(t),zg(s)}else await $m(s.localStore,t,!1).then((()=>Wm(s,t,n))).catch(So)}async function i2(r,t){const n=Et(r),s=t.batch.batchId;try{const l=await dC(n.localStore,t);uA(n,s,null),lA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,l)}catch(l){await So(l)}}async function r2(r,t,n){const s=Et(r);try{const l=await(function(d,g){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(Bt(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>y.localDocuments.getDocuments(p,T)))}))})(s.localStore,t);uA(s,t,n),lA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await fu(s,l)}catch(l){await So(l)}}function lA(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function uA(r,t,n){const s=Et(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Wm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||cA(r,s)}))}function cA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Cg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),zg(r))}function GE(r,t,n){for(const s of n)s instanceof rA?(r.Ru.addReference(s.key,t),s2(r,s)):s instanceof sA?(rt(Lg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||cA(r,s.key)):pt(19791,{wu:s})}function s2(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(rt(Lg,"New document in limbo: "+n),r.Eu.add(s),zg(r))}function zg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ct(Wt.fromString(t)),s=r.fu.next();r.Au.set(s,new YC(n)),r.du=r.du.insert(n,s),Z0(r.remoteStore,new es(Mi(Lh(n.path)),s,"TargetPurposeLimboResolution",kh.ce))}}async function fu(r,t,n){const s=Et(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){l.push(p);const T=Rg.As(y.targetId,p);u.push(T)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,p){const T=Et(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(p,(D=>J.forEach(D.Es,(Q=>T.persistence.referenceDelegate.addReference(S,D.targetId,Q))).next((()=>J.forEach(D.ds,(Q=>T.persistence.referenceDelegate.removeReference(S,D.targetId,Q)))))))))}catch(S){if(!bo(S))throw S;rt(Ig,"Failed to update sequence numbers: "+S)}for(const S of p){const D=S.targetId;if(!S.fromCache){const Q=T.Ms.get(D),P=Q.snapshotVersion,W=Q.withLastLimboFreeSnapshotVersion(P);T.Ms=T.Ms.insert(D,W)}}})(s.localStore,u))}async function a2(r,t){const n=Et(r);if(!n.currentUser.isEqual(t)){rt(Lg,"User change. New user:",t.toKey());const s=await Y0(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new it(Y.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function o2(r,t){const n=Et(r),s=n.Au.get(t);if(s&&s.hu)return Mt().add(s.key);{let l=Mt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function hA(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=o2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=n2.bind(null,t),t.Pu.H_=FC.bind(null,t.eventManager),t.Pu.yu=GC.bind(null,t.eventManager),t}function l2(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=i2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=r2.bind(null,t),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return fC(this.persistence,new uC,t.initialUser,this.serializer)}Cu(t){return new K0(wg.mi,this.serializer)}Du(t){return new vC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class u2 extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Bt(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new YI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new K0((s=>Eh.mi(s,n)),this.serializer)}}class tg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=a2.bind(null,this.syncEngine),await qC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HC})()}createDatastore(t){const n=Fh(t.databaseInfo.databaseId),s=(function(u){return new bC(u)})(t.databaseInfo);return(function(u,d,g,y){return new CC(u,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,d,g){return new DC(s,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>FE(this.syncEngine,n,0)),(function(){return LE.v()?new LE:new EC})())}createSyncEngine(t,n){return(function(l,u,d,g,y,p,T){const S=new XC(l,u,d,g,y,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Et(n);rt(na,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tg.provider={build:()=>new tg};class jg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const cs="FirestoreClient";class c2{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{rt(cs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(cs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=xg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Tm(r,t){r.asyncQueue.verifyOperationInProgress(),rt(cs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Y0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function QE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await h2(r);rt(cs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>jE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>jE(t.remoteStore,l))),r._onlineComponents=t}async function h2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(cs,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Ah)}}else rt(cs,"Using default OfflineComponentProvider"),await Tm(r,new u2(void 0));return r._offlineComponents}async function fA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(cs,"Using user provided OnlineComponentProvider"),await QE(r,r._uninitializedComponentsProvider._online)):(rt(cs,"Using default OnlineComponentProvider"),await QE(r,new tg))),r._onlineComponents}function f2(r){return fA(r).then((t=>t.syncEngine))}async function Sh(r){const t=await fA(r),n=t.eventManager;return n.onListen=$C.bind(null,t.syncEngine),n.onUnlisten=WC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=JC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=t2.bind(null,t.syncEngine),n}function d2(r,t,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const T=new jg({next:D=>{T.Nu(),d.enqueueAndForget((()=>kg(u,S)));const Q=D.docs.has(g);!Q&&D.fromCache?p.reject(new it(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&D.fromCache&&y&&y.source==="server"?p.reject(new it(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),S=new Pg(Lh(g.path),T,{includeMetadataChanges:!0,qa:!0});return Vg(u,S)})(await Sh(r),r.asyncQueue,t,n,s))),s.promise}function m2(r,t,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const T=new jg({next:D=>{T.Nu(),d.enqueueAndForget((()=>kg(u,S))),D.fromCache&&y.source==="server"?p.reject(new it(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),S=new Pg(g,T,{includeMetadataChanges:!0,qa:!0});return Vg(u,S)})(await Sh(r),r.asyncQueue,t,n,s))),s.promise}function dA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const KE=new Map;const mA="firestore.googleapis.com",YE=!0;class XE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=YE}else this.host=t.host,this.ssl=t.ssl??YE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QI)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new TR;switch(s.type){case"firstParty":return new wR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=KE.get(n);s&&(rt("ComponentProvider","Removing Datastore"),KE.delete(n),s.terminate())})(this),Promise.resolve()}}function g2(r,t,n,s={}){r=Bn(r,Kh);const l=vo(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${n}`;l&&(jT(`https://${g}`),qT("Firestore",!0)),u.host!==mA&&u.host!==g&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:s};if(!ta(y,d)&&(r._setSettings(y),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=We.MOCK_USER;else{p=$w(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new We(S)}r._authCredentials=new AR(new n0(p,T))}}class ms{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ms(this.firestore,t,this._query)}}class pe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(lu(n,pe._jsonSchema))return new pe(t,s||null,new ct(Wt.fromString(n.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Ce("string",pe._jsonSchemaVersion),referencePath:Ce("string")};class rs extends ms{constructor(t,n,s){super(t,n,Lh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new ct(t))}withConverter(t){return new rs(this.firestore,t,this._path)}}function Di(r,t,...n){if(r=Ne(r),i0("collection","path",t),r instanceof Kh){const s=Wt.fromString(t,...n);return lE(s),new rs(r,null,s)}{if(!(r instanceof pe||r instanceof rs))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return lE(s),new rs(r.firestore,null,s)}}function Ni(r,t,...n){if(r=Ne(r),arguments.length===1&&(t=dg.newId()),i0("doc","path",t),r instanceof Kh){const s=Wt.fromString(t,...n);return oE(s),new pe(r,null,new ct(s))}{if(!(r instanceof pe||r instanceof rs))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return oE(s),new pe(r.firestore,r instanceof rs?r.converter:null,new ct(s))}}const $E="AsyncQueue";class JE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $0(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&rt($E,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!bo(t))throw t;rt($E,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",ZE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Mg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:ZE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ZE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function WE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class hs extends Kh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new JE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new JE(t),this._firestoreClient=void 0,await t}}}function p2(r,t){const n=typeof r=="object"?r:hg(),s=typeof r=="string"?r:ph,l=Eo(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=Yw("firestore");u&&g2(l,...u)}return l}function Yh(r){if(r._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||y2(r),r._firestoreClient}function y2(r){const t=r._freezeSettings(),n=(function(l,u,d,g){return new BR(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,dA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new c2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn($e.fromBase64String(t))}catch(n){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new jn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lu(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ce("string",jn._jsonSchemaVersion),bytes:Ce("string")};class Xh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class du{constructor(t){this._methodName=t}}class Vi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(lu(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ce("string",Vi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class ki{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lu(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ki(t.vectorValues);throw new it(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ce("string",ki._jsonSchemaVersion),vectorValues:Ce("object")};const _2=/^__.*__$/;class v2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ds(t,this.data,this.fieldMask,n,this.fieldTransforms):new uu(t,this.data,n,this.fieldTransforms)}}class gA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ds(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function pA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class qg{constructor(t,n,s,l,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new qg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(pA(this.Ac)&&_2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class E2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(t)}Cc(t,n,s,l=!1){return new qg({Ac:t,methodName:n,Dc:s,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bg(r){const t=r._freezeSettings(),n=Fh(r._databaseId);return new E2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function T2(r,t,n,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,t,n,l);Gg("Data must be an object, but it was:",d,s);const g=yA(s,d);let y,p;if(u.merge)y=new wn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const D=eg(t,S,n);if(!d.contains(D))throw new it(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);vA(T,D)||T.push(D)}y=new wn(T),p=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=d.fieldTransforms;return new v2(new gn(g),y,p)}class $h extends du{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $h}}class Hg extends du{_toFieldTransform(t){return new x0(t.path,new Wl)}isEqual(t){return t instanceof Hg}}class Fg extends du{constructor(t,n){super(t),this.Fc=n}_toFieldTransform(t){const n=new nu(t.serializer,C0(t.serializer,this.Fc));return new x0(t.path,n)}isEqual(t){return t instanceof Fg&&this.Fc===t.Fc}}function A2(r,t,n,s){const l=r.Cc(1,t,n);Gg("Data must be an object, but it was:",l,s);const u=[],d=gn.empty();fs(s,((y,p)=>{const T=Qg(t,y,n);p=Ne(p);const S=l.yc(T);if(p instanceof $h)u.push(T);else{const D=mu(p,S);D!=null&&(u.push(T),d.set(T,D))}}));const g=new wn(u);return new gA(d,g,l.fieldTransforms)}function S2(r,t,n,s,l,u){const d=r.Cc(1,t,n),g=[eg(t,s,n)],y=[l];if(u.length%2!=0)throw new it(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)g.push(eg(t,u[D])),y.push(u[D+1]);const p=[],T=gn.empty();for(let D=g.length-1;D>=0;--D)if(!vA(p,g[D])){const Q=g[D];let P=y[D];P=Ne(P);const W=d.yc(Q);if(P instanceof $h)p.push(Q);else{const Z=mu(P,W);Z!=null&&(p.push(Q),T.set(Q,Z))}}const S=new wn(p);return new gA(T,S,d.fieldTransforms)}function b2(r,t,n,s=!1){return mu(n,r.Cc(s?4:3,t))}function mu(r,t){if(_A(r=Ne(r)))return Gg("Unsupported field value:",t,r),yA(r,t);if(r instanceof du)return(function(s,l){if(!pA(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const g of s){let y=mu(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=Ne(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return C0(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ie.fromDate(s);return{timestampValue:vh(l.serializer,u)}}if(s instanceof ie){const u=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(l.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:z0(l.serializer,s._byteString)};if(s instanceof pe){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ki)return(function(d,g){return{mapValue:{fields:{[f0]:{stringValue:d0},[yh]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return vg(g.serializer,p)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Vh(s)}`)})(r,t)}function yA(r,t){const n={};return a0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fs(r,((s,l)=>{const u=mu(l,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function _A(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Vi||r instanceof jn||r instanceof pe||r instanceof du||r instanceof ki)}function Gg(r,t,n){if(!_A(n)||!r0(n)){const s=Vh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function eg(r,t,n){if((t=Ne(t))instanceof Xh)return t._internalPath;if(typeof t=="string")return Qg(r,t);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const w2=new RegExp("[~\\*/\\[\\]]");function Qg(r,t,n){if(t.search(w2)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xh(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,t,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new it(Y.INVALID_ARGUMENT,g+r+y)}function vA(r,t){return r.some((n=>n.isEqual(t)))}class EA{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new R2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R2 extends EA{data(){return super.data()}}function Jh(r,t){return typeof t=="string"?Qg(r,t):t instanceof Xh?t._internalPath:t._delegate._internalPath}function TA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class AA extends Kg{}function so(r,t,...n){let s=[];t instanceof Kg&&s.push(t),s=s.concat(n),(function(u){const d=u.filter((y=>y instanceof Yg)).length,g=u.filter((y=>y instanceof Zh)).length;if(d>1||d>0&&g>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Zh extends AA{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Zh(t,n,s)}_apply(t){const n=this._parse(t);return SA(t._query,n),new ms(t.firestore,t.converter,Fm(t._query,n))}_parse(t){const n=Bg(t.firestore);return(function(u,d,g,y,p,T,S){let D;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){nT(S,T);const P=[];for(const W of S)P.push(eT(y,u,W));D={arrayValue:{values:P}}}else D=eT(y,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||nT(S,T),D=b2(g,d,S,T==="in"||T==="not-in");return Ie.create(p,T,D)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ah(r,t,n){const s=t,l=Jh("where",r);return Zh._create(l,s,n)}class Yg extends Kg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Yg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)SA(d,y),d=Fm(d,y)})(t._query,n),new ms(t.firestore,t.converter,Fm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xg extends AA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Xg(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,d)})(t._query,this._field,this._direction);return new ms(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new wo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function tT(r,t="asc"){const n=t,s=Jh("orderBy",r);return Xg._create(s,n)}function eT(r,t,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T0(t)&&n.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Wt.fromString(n));if(!ct.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pE(r,new ct(s))}if(n instanceof pe)return pE(r,n._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function nT(r,t){if(!Array.isArray(r)||r.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function SA(r,t){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class I2{convertValue(t,n="none"){switch(ls(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return fs(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[yh].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new ki(n)}convertGeoPoint(t){return new Vi(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ph(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const n=as(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Wt.fromString(t);Bt(G0(s),9688,{name:t});const l=new $l(s.get(1),s.get(3)),u=new ct(s.popFirst(5));return l.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function C2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class jl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zs extends EA{constructor(t,n,s,l,u,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Jh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Ce("string",Zs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class oh extends Zs{data(t={}){return super.data(t)}}class Ws{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new jl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new oh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new oh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:N2(g.type),doc:y,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ws._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function N2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}function Wc(r){r=Bn(r,pe);const t=Bn(r.firestore,hs);return d2(Yh(t),r._key).then((n=>bA(t,r,n)))}Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:Ce("string",Ws._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class $g extends I2{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,n)}}function ng(r){r=Bn(r,ms);const t=Bn(r.firestore,hs),n=Yh(t),s=new $g(t);return TA(r._query),m2(n,r._query).then((l=>new Ws(t,s,r,l)))}function Am(r,t,n,...s){r=Bn(r,pe);const l=Bn(r.firestore,hs),u=Bg(l);let d;return d=typeof(t=Ne(t))=="string"||t instanceof Xh?S2(u,"updateDoc",r._key,t,n,s):A2(u,"updateDoc",r._key,t),Jg(l,[d.toMutation(r._key,ii.exists(!0))])}function Sm(r){return Jg(Bn(r.firestore,hs),[new Eg(r._key,ii.none())])}function lh(r,t){const n=Bn(r.firestore,hs),s=Ni(r),l=C2(r.converter,t);return Jg(n,[T2(Bg(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then((()=>s))}function bm(r,...t){r=Ne(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||WE(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WE(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,d,g;if(r instanceof pe)d=Bn(r.firestore,hs),g=Lh(r._key.path),u={next:y=>{t[s]&&t[s](bA(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Bn(r,ms);d=Bn(y.firestore,hs),g=y._query;const p=new $g(d);u={next:T=>{t[s]&&t[s](new Ws(d,p,y,T))},error:t[s+1],complete:t[s+2]},TA(r._query)}return(function(p,T,S,D){const Q=new jg(D),P=new Pg(T,Q,S);return p.asyncQueue.enqueueAndForget((async()=>Vg(await Sh(p),P))),()=>{Q.Nu(),p.asyncQueue.enqueueAndForget((async()=>kg(await Sh(p),P)))}})(Yh(d),g,l,u)}function Jg(r,t){return(function(s,l){const u=new hr;return s.asyncQueue.enqueueAndForget((async()=>e2(await f2(s),l,u))),u.promise})(Yh(r),t)}function bA(r,t,n){const s=n.docs.get(t._key),l=new $g(r);return new Zs(r,l,t._key,s,new jl(n.hasPendingWrites,n.fromCache),t.converter)}function Xs(){return new Hg("serverTimestamp")}function D2(r){return new Fg("increment",r)}(function(t,n=!0){(function(l){Ao=l})(To),Li(new ri("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),g=new hs(new SR(s.getProvider("auth-internal")),new RR(d,s.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(p.options.projectId,T)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),qn(iE,rE,t),qn(iE,rE,"esm2020")})();function wA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O2=wA,RA=new oa("auth","Firebase",wA());const wh=new ug("@firebase/auth");function M2(r,...t){wh.logLevel<=Dt.WARN&&wh.warn(`Auth (${To}): ${r}`,...t)}function uh(r,...t){wh.logLevel<=Dt.ERROR&&wh.error(`Auth (${To}): ${r}`,...t)}function ai(r,...t){throw Zg(r,...t)}function Ui(r,...t){return Zg(r,...t)}function IA(r,t,n){const s={...O2(),[t]:n};return new oa("auth","Firebase",s).create(t,{appName:r.name})}function fr(r){return IA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return RA.create(r,...t)}function gt(r,t,...n){if(!r)throw Zg(t,...n)}function lr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw uh(t),new Error(t)}function pr(r,t){r||lr(t)}function ig(){return typeof self<"u"&&self.location?.href||""}function x2(){return iT()==="http:"||iT()==="https:"}function iT(){return typeof self<"u"&&self.location?.protocol||null}function V2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x2()||n1()||"connection"in navigator)?navigator.onLine:!0}function k2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class gu{constructor(t,n){this.shortDelay=t,this.longDelay=n,pr(n>t,"Short delay should be less than long delay!"),this.isMobile=Ww()||i1()}get(){return V2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wg(r,t){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class CA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const U2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const P2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L2=new gu(3e4,6e4);function gs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ps(r,t,n,s,l={}){return NA(r,l,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const g=ou({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p={method:t,headers:y,...u};return e1()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&vo(r.emulatorConfig.host)&&(p.credentials="include"),CA.fetch()(await DA(r,r.config.apiHost,n,g),p)})}async function NA(r,t,n){r._canInitEmulator=!1;const s={...U2,...t};try{const l=new j2(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw th(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw th(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw th(r,"user-disabled",d);const T=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw IA(r,T,p);ai(r,T)}}catch(l){if(l instanceof ji)throw l;ai(r,"network-request-failed",{message:String(l)})}}async function pu(r,t,n,s,l={}){const u=await ps(r,t,n,s,l);return"mfaPendingCredential"in u&&ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function DA(r,t,n,s){const l=`${t}${n}?${s}`,u=r,d=u.config.emulator?Wg(r.config,l):`${r.config.apiScheme}://${l}`;return P2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function z2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),L2.get())})}}function th(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ui(r,t,s);return l.customData._tokenResponse=n,l}function rT(r){return r!==void 0&&r.enterprise!==void 0}class q2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return z2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B2(r,t){return ps(r,"GET","/v2/recaptchaConfig",gs(r,t))}async function H2(r,t){return ps(r,"POST","/v1/accounts:delete",t)}async function Rh(r,t){return ps(r,"POST","/v1/accounts:lookup",t)}function Ql(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function F2(r,t=!1){const n=Ne(r),s=await n.getIdToken(t),l=tp(s);gt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Ql(wm(l.auth_time)),issuedAtTime:Ql(wm(l.iat)),expirationTime:Ql(wm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(r){return Number(r)*1e3}function tp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const l=UT(n);return l?JSON.parse(l):(uh("Failed to decode base64 JWT payload"),null)}catch(l){return uh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function sT(r){const t=tp(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function iu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ji&&G2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function G2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Q2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(r){const t=r.auth,n=await r.getIdToken(),s=await iu(r,Rh(t,{idToken:n}));gt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?OA(l.providerUserInfo):[],d=Y2(r.providerData,u),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,p=g?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rg(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(r,T)}async function K2(r){const t=Ne(r);await Ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Y2(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function OA(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function X2(r,t){const n=await NA(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await DA(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&vo(r.emulatorConfig.host)&&(y.credentials="include"),CA.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $2(r,t){return ps(r,"POST","/v2/accounts:revokeToken",gs(r,t))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=sT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await X2(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new uo;return s&&(gt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(gt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return lr("not implemented")}}function $r(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await iu(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return F2(this,t)}reload(){return K2(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(fr(this.auth));const t=await this.getIdToken();return await iu(this,H2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:Q,providerData:P,stsTokenManager:W}=n;gt(S&&W,t,"internal-error");const Z=uo.fromJSON(this.name,W);gt(typeof S=="string",t,"internal-error"),$r(s,t.name),$r(l,t.name),gt(typeof D=="boolean",t,"internal-error"),gt(typeof Q=="boolean",t,"internal-error"),$r(u,t.name),$r(d,t.name),$r(g,t.name),$r(y,t.name),$r(p,t.name),$r(T,t.name);const ht=new ni({uid:S,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:Q,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:Z,createdAt:p,lastLoginAt:T});return P&&Array.isArray(P)&&(ht.providerData=P.map(dt=>({...dt}))),y&&(ht._redirectEventId=y),ht}static async _fromIdTokenResponse(t,n,s=!1){const l=new uo;l.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];gt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?OA(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new uo;g.updateFromIdToken(s);const y=new ni({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new rg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const aT=new Map;function ur(r){pr(r instanceof Function,"Expected a class definition");let t=aT.get(r);return t?(pr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,aT.set(r,t),t)}class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}MA.type="NONE";const oT=MA;function ch(r,t,n){return`firebase:${r}:${t}:${n}`}class co{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=ch(this.userKey,l.apiKey,u),this.fullPersistenceKey=ch("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Rh(this.auth,{idToken:t}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new co(ur(oT),t,s);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||ur(oT);const d=ch(s,t.config.apiKey,t.name);let g=null;for(const p of n)try{const T=await p._get(d);if(T){let S;if(typeof T=="string"){const D=await Rh(t,{idToken:T}).catch(()=>{});if(!D)break;S=await ni._fromGetAccountInfoResponse(t,D,T)}else S=ni._fromJSON(t,T);p!==u&&(g=S),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new co(u,t,s):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new co(u,t,s))}}function lT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LA(t))return"Blackberry";if(zA(t))return"Webos";if(VA(t))return"Safari";if((t.includes("chrome/")||kA(t))&&!t.includes("edge/"))return"Chrome";if(PA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function xA(r=en()){return/firefox\//i.test(r)}function VA(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kA(r=en()){return/crios\//i.test(r)}function UA(r=en()){return/iemobile/i.test(r)}function PA(r=en()){return/android/i.test(r)}function LA(r=en()){return/blackberry/i.test(r)}function zA(r=en()){return/webos/i.test(r)}function ep(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function J2(r=en()){return ep(r)&&!!window.navigator?.standalone}function Z2(){return r1()&&document.documentMode===10}function jA(r=en()){return ep(r)||PA(r)||zA(r)||LA(r)||/windows phone/i.test(r)||UA(r)}function qA(r,t=[]){let n;switch(r){case"Browser":n=lT(en());break;case"Worker":n=`${lT(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}class W2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,g)=>{try{const y=t(u);d(y)}catch(y){g(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function tN(r,t={}){return ps(r,"GET","/v2/passwordPolicy",gs(r,t))}const eN=6;class nN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class iN{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new W2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Rh(this,{idToken:t}),s=await ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ih(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=k2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(fr(this));const n=t?Ne(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tN(this),n=new nN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new oa("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await $2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ur(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&M2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ca(r){return Ne(r)}class uT{constructor(t){this.auth=t,this.observer=null,this.addObserver=h1(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rN(r){Wh=r}function BA(r){return Wh.loadJS(r)}function sN(){return Wh.recaptchaEnterpriseScript}function aN(){return Wh.gapiScript}function oN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class lN{constructor(){this.enterprise=new uN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class uN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const cN="recaptcha-enterprise",HA="NO_RECAPTCHA";class hN{constructor(t){this.type=cN,this.auth=ca(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{B2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new q2(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;rT(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(p=>{d(p)}).catch(()=>{d(HA)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lN().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(g=>{if(!n&&rT(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=sN();y.length!==0&&(y+=g),BA(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function cT(r,t,n,s=!1,l=!1){const u=new hN(r);let d;if(l)d=HA;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function sg(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await cT(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await cT(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function fN(r,t){const n=Eo(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ta(u,t??{}))return l;ai(l,"already-initialized")}return n.initialize({options:t})}function dN(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function mN(r,t,n){const s=ca(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=FA(t),{host:d,port:g}=gN(t),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(ta(p,s.config.emulator)&&ta(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,vo(d)?(jT(`${u}//${d}${y}`),qT("Auth",!0)):pN()}function FA(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function gN(r){const t=FA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:hT(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:hT(d)}}}function hT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function pN(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class np{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(t){return lr("not implemented")}_linkToIdToken(t,n){return lr("not implemented")}_getReauthenticationResolver(t){return lr("not implemented")}}async function yN(r,t){return ps(r,"POST","/v1/accounts:signUp",t)}async function _N(r,t){return pu(r,"POST","/v1/accounts:signInWithPassword",gs(r,t))}async function vN(r,t){return pu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,t))}async function EN(r,t){return pu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,t))}class ru extends np{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new ru(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ru(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(t,n,"signInWithPassword",_N);case"emailLink":return vN(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(t,s,"signUpPassword",yN);case"emailLink":return EN(t,{idToken:n,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ho(r,t){return pu(r,"POST","/v1/accounts:signInWithIdp",gs(r,t))}const TN="http://localhost";class ia extends np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new ia(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return ho(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ho(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ho(t,n)}buildRequest(){const t={requestUri:TN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ou(n)}return t}}function AN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SN(r){const t=kl(Ul(r)).link,n=t?kl(Ul(t)).deep_link_id:null,s=kl(Ul(r)).deep_link_id;return(s?kl(Ul(s)).link:null)||s||n||t||r}class ip{constructor(t){const n=kl(Ul(t)),s=n.apiKey??null,l=n.oobCode??null,u=AN(n.mode??null);gt(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=SN(t);try{return new ip(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(t,n){return ru._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=ip.parseLink(n);return gt(s,"argument-error"),ru._fromEmailAndCode(t,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class GA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class yu extends GA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Jr extends yu{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jr.credential(t.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";class Zr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ia._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";class Wr extends yu{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";class ts extends yu{constructor(){super("twitter.com")}static credential(t,n){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";async function bN(r,t){return pu(r,"POST","/v1/accounts:signUp",gs(r,t))}class ra{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await ni._fromIdTokenResponse(t,s,l),d=fT(s);return new ra({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=fT(s);return new ra({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function fT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ch extends ji{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Ch(t,n,s,l)}}function QA(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,t,s):u})}async function wN(r,t,n=!1){const s=await iu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ra._forOperation(r,"link",s)}async function RN(r,t,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(fr(s));const l="reauthenticate";try{const u=await iu(r,QA(s,l,t,r),n);gt(u.idToken,s,"internal-error");const d=tp(u.idToken);gt(d,s,"internal-error");const{sub:g}=d;return gt(r.uid===g,s,"user-mismatch"),ra._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}async function KA(r,t,n=!1){if(zn(r.app))return Promise.reject(fr(r));const s="signIn",l=await QA(r,s,t),u=await ra._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function IN(r,t){return KA(ca(r),t)}async function YA(r){const t=ca(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function CN(r,t,n){if(zn(r.app))return Promise.reject(fr(r));const s=ca(r),d=await sg(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bN).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&YA(r),y}),g=await ra._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function NN(r,t,n){return zn(r.app)?Promise.reject(fr(r)):IN(Ne(r),Io.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&YA(r),s})}function DN(r,t,n,s){return Ne(r).onIdTokenChanged(t,n,s)}function ON(r,t,n){return Ne(r).beforeAuthStateChanged(t,n)}function MN(r,t,n,s){return Ne(r).onAuthStateChanged(t,n,s)}function dT(r){return Ne(r).signOut()}const Nh="__sak";class XA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xN=1e3,VN=10;class $A extends XA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);Z2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,VN):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}$A.type="LOCAL";const kN=$A;class JA extends XA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}JA.type="SESSION";const ZA=JA;function UN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class tf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new tf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await UN(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];function rp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class PN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=rp("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===p)switch(D.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(D.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function LN(r){Pi().location.href=r}function WA(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function zN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jN(){return navigator?.serviceWorker?.controller||null}function qN(){return WA()?self:null}const tS="firebaseLocalStorageDb",BN=1,Dh="firebaseLocalStorage",eS="fbase_key";class _u{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(r,t){return r.transaction([Dh],t?"readwrite":"readonly").objectStore(Dh)}function HN(){const r=indexedDB.deleteDatabase(tS);return new _u(r).toPromise()}function ag(){const r=indexedDB.open(tS,BN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dh,{keyPath:eS})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dh)?t(s):(s.close(),await HN(),t(await ag()))})})}async function mT(r,t,n){const s=ef(r,!0).put({[eS]:t,value:n});return new _u(s).toPromise()}async function FN(r,t){const n=ef(r,!1).get(t),s=await new _u(n).toPromise();return s===void 0?null:s.value}function gT(r,t){const n=ef(r,!0).delete(t);return new _u(n).toPromise()}const GN=800,QN=3;class nS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>QN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(qN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zN(),!this.activeServiceWorker)return;this.sender=new PN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ag();return await mT(t,Nh,"1"),await gT(t,Nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>mT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>FN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=ef(l,!1).getAll();return new _u(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nS.type="LOCAL";const KN=nS;new gu(3e4,6e4);function YN(r,t){return t?ur(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class sp extends np{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ho(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ho(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ho(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function XN(r){return KA(r.auth,new sp(r),r.bypassAuthState)}function $N(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),RN(n,new sp(r),r.bypassAuthState)}async function JN(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),wN(n,new sp(r),r.bypassAuthState)}class iS{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XN;case"linkViaPopup":case"linkViaRedirect":return JN;case"reauthViaPopup":case"reauthViaRedirect":return $N;default:ai(this.auth,"internal-error")}}resolve(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZN=new gu(2e3,1e4);class oo extends iS{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const t=rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZN.get())};t()}}oo.currentPopupAction=null;const WN="pendingRedirect",hh=new Map;class tD extends iS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=hh.get(this.auth._key());if(!t){try{const s=await eD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}hh.set(this.auth._key(),t)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eD(r,t){const n=rD(t),s=iD(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function nD(r,t){hh.set(r._key(),t)}function iD(r){return ur(r._redirectPersistence)}function rD(r){return ch(WN,r.config.apiKey,r.name)}async function sD(r,t,n=!1){if(zn(r.app))return Promise.reject(fr(r));const s=ca(r),l=YN(s,t),d=await new tD(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const aD=600*1e3;class oD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!rS(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aD&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(t))}saveEventToCache(t){this.cachedEventUids.add(pT(t)),this.lastProcessedEventTime=Date.now()}}function pT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function rS({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function lD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rS(r);default:return!1}}async function uD(r,t={}){return ps(r,"GET","/v1/projects",t)}const cD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hD=/^https?/;async function fD(r){if(r.config.emulator)return;const{authorizedDomains:t}=await uD(r);for(const n of t)try{if(dD(n))return}catch{}ai(r,"unauthorized-domain")}function dD(r){const t=ig(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!hD.test(n))return!1;if(cD.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const mD=new gu(3e4,6e4);function yT(){const r=Pi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function gD(r){return new Promise((t,n)=>{function s(){yT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yT(),n(Ui(r,"network-request-failed"))},timeout:mD.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const l=oN("iframefcb");return Pi()[l]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},BA(`${aN()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw fh=null,t})}let fh=null;function pD(r){return fh=fh||gD(r),fh}const yD=new gu(5e3,15e3),_D="__/auth/iframe",vD="emulator/auth/iframe",ED={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AD(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Wg(t,vD):`https://${r.config.authDomain}/${_D}`,s={apiKey:t.apiKey,appName:r.name,v:To},l=TD.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function SD(r){const t=await pD(r),n=Pi().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:AD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ED,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Ui(r,"network-request-failed"),g=Pi().setTimeout(()=>{u(d)},yD.get());function y(){Pi().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{u(d)})}))}const bD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wD=500,RD=600,ID="_blank",CD="http://localhost";class _T{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ND(r,t,n,s=wD,l=RD){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...bD,width:s.toString(),height:l.toString(),top:u,left:d},p=en().toLowerCase();n&&(g=kA(p)?ID:n),xA(p)&&(t=t||CD,y.scrollbars="yes");const T=Object.entries(y).reduce((D,[Q,P])=>`${D}${Q}=${P},`,"");if(J2(p)&&g!=="_self")return DD(t||"",g),new _T(null);const S=window.open(t||"",g,T);gt(S,r,"popup-blocked");try{S.focus()}catch{}return new _T(S)}function DD(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const OD="__/auth/handler",MD="emulator/auth/handler",xD=encodeURIComponent("fac");async function vT(r,t,n,s,l,u){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:l};if(t instanceof GA){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",c1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof yu){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await r._getAppCheckToken(),p=y?`#${xD}=${encodeURIComponent(y)}`:"";return`${VD(r)}?${ou(g).slice(1)}${p}`}function VD({config:r}){return r.emulator?Wg(r,MD):`https://${r.authDomain}/${OD}`}const Rm="webStorageSupport";class kD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZA,this._completeRedirectFn=sD,this._overrideRedirectResult=nD}async _openPopup(t,n,s,l){pr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await vT(t,n,s,ig(),l);return ND(t,u,rp())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await vT(t,n,s,ig(),l);return LN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await SD(t),s=new oD(t);return n.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Rm,{type:Rm},l=>{const u=l?.[0]?.[Rm];u!==void 0&&n(!!u),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jA()||VA()||ep()}}const UD=kD;var ET="@firebase/auth",TT="1.12.0";class PD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zD(r){Li(new ri("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qA(r)},p=new iN(s,l,u,y);return dN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Li(new ri("auth-internal",t=>{const n=ca(t.getProvider("auth").getImmediate());return(s=>new PD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(ET,TT,LD(r)),qn(ET,TT,"esm2020")}const jD=300,qD=zT("authIdTokenMaxAge")||jD;let AT=null;const BD=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>qD)return;const l=n?.token;AT!==l&&(AT=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function HD(r=hg()){const t=Eo(r,"auth");if(t.isInitialized())return t.getImmediate();const n=fN(r,{popupRedirectResolver:UD,persistence:[KN,kN,ZA]}),s=zT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=BD(u.toString());ON(n,d,()=>d(n.currentUser)),DN(n,g=>d(g))}}const l=PT("auth");return l&&mN(n,`http://${l}`),n}function FD(){return document.getElementsByTagName("head")?.[0]??document}rN({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=Ui("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",FD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zD("Browser");var GD="firebase",QD="12.7.0";qn(GD,QD,"app");const sS="@firebase/installations",ap="0.6.19";const aS=1e4,oS=`w:${ap}`,lS="FIS_v2",KD="https://firebaseinstallations.googleapis.com/v1",YD=3600*1e3,XD="installations",$D="Installations";const JD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sa=new oa(XD,$D,JD);function uS(r){return r instanceof ji&&r.code.includes("request-failed")}function cS({projectId:r}){return`${KD}/projects/${r}/installations`}function hS(r){return{token:r.token,requestStatus:2,expiresIn:WD(r.expiresIn),creationTime:Date.now()}}async function fS(r,t){const s=(await t.json()).error;return sa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function dS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function ZD(r,{refreshToken:t}){const n=dS(r);return n.append("Authorization",tO(t)),n}async function mS(r){const t=await r();return t.status>=500&&t.status<600?r():t}function WD(r){return Number(r.replace("s","000"))}function tO(r){return`${lS} ${r}`}async function eO({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=cS(r),l=dS(r),u=t.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={fid:n,authVersion:lS,appId:r.appId,sdkVersion:oS},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await mS(()=>fetch(s,g));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:hS(p.authToken)}}else throw await fS("Create Installation",y)}function gS(r){return new Promise(t=>{setTimeout(t,r)})}function nO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const iO=/^[cdef][\w-]{21}$/,og="";function rO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=sO(r);return iO.test(n)?n:og}catch{return og}}function sO(r){return nO(r).substr(0,22)}function nf(r){return`${r.appName}!${r.appId}`}const pS=new Map;function yS(r,t){const n=nf(r);_S(n,t),aO(n,t)}function _S(r,t){const n=pS.get(r);if(n)for(const s of n)s(t)}function aO(r,t){const n=oO();n&&n.postMessage({key:r,fid:t}),lO()}let Js=null;function oO(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=r=>{_S(r.data.key,r.data.fid)}),Js}function lO(){pS.size===0&&Js&&(Js.close(),Js=null)}const uO="firebase-installations-database",cO=1,aa="firebase-installations-store";let Im=null;function op(){return Im||(Im=xh(uO,cO,{upgrade:(r,t)=>{t===0&&r.createObjectStore(aa)}})),Im}async function Oh(r,t){const n=nf(r),l=(await op()).transaction(aa,"readwrite"),u=l.objectStore(aa),d=await u.get(n);return await u.put(t,n),await l.done,(!d||d.fid!==t.fid)&&yS(r,t.fid),t}async function vS(r){const t=nf(r),s=(await op()).transaction(aa,"readwrite");await s.objectStore(aa).delete(t),await s.done}async function rf(r,t){const n=nf(r),l=(await op()).transaction(aa,"readwrite"),u=l.objectStore(aa),d=await u.get(n),g=t(d);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!d||d.fid!==g.fid)&&yS(r,g.fid),g}async function lp(r){let t;const n=await rf(r.appConfig,s=>{const l=hO(s),u=fO(r,l);return t=u.registrationPromise,u.installationEntry});return n.fid===og?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function hO(r){const t=r||{fid:rO(),registrationStatus:0};return ES(t)}function fO(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(sa.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=dO(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:mO(r)}:{installationEntry:t}}async function dO(r,t){try{const n=await eO(r,t);return Oh(r.appConfig,n)}catch(n){throw uS(n)&&n.customData.serverCode===409?await vS(r.appConfig):await Oh(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function mO(r){let t=await ST(r.appConfig);for(;t.registrationStatus===1;)await gS(100),t=await ST(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await lp(r);return s||n}return t}function ST(r){return rf(r,t=>{if(!t)throw sa.create("installation-not-found");return ES(t)})}function ES(r){return gO(r)?{fid:r.fid,registrationStatus:0}:r}function gO(r){return r.registrationStatus===1&&r.registrationTime+aS<Date.now()}async function pO({appConfig:r,heartbeatServiceProvider:t},n){const s=yO(r,n),l=ZD(r,n),u=t.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={installation:{sdkVersion:oS,appId:r.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await mS(()=>fetch(s,g));if(y.ok){const p=await y.json();return hS(p)}else throw await fS("Generate Auth Token",y)}function yO(r,{fid:t}){return`${cS(r)}/${t}/authTokens:generate`}async function up(r,t=!1){let n;const s=await rf(r.appConfig,u=>{if(!TS(u))throw sa.create("not-registered");const d=u.authToken;if(!t&&EO(d))return u;if(d.requestStatus===1)return n=_O(r,t),u;{if(!navigator.onLine)throw sa.create("app-offline");const g=AO(u);return n=vO(r,g),g}});return n?await n:s.authToken}async function _O(r,t){let n=await bT(r.appConfig);for(;n.authToken.requestStatus===1;)await gS(100),n=await bT(r.appConfig);const s=n.authToken;return s.requestStatus===0?up(r,t):s}function bT(r){return rf(r,t=>{if(!TS(t))throw sa.create("not-registered");const n=t.authToken;return SO(n)?{...t,authToken:{requestStatus:0}}:t})}async function vO(r,t){try{const n=await pO(r,t),s={...t,authToken:n};return await Oh(r.appConfig,s),n}catch(n){if(uS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await vS(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Oh(r.appConfig,s)}throw n}}function TS(r){return r!==void 0&&r.registrationStatus===2}function EO(r){return r.requestStatus===2&&!TO(r)}function TO(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+YD}function AO(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function SO(r){return r.requestStatus===1&&r.requestTime+aS<Date.now()}async function bO(r){const t=r,{installationEntry:n,registrationPromise:s}=await lp(t);return s?s.catch(console.error):up(t).catch(console.error),n.fid}async function wO(r,t=!1){const n=r;return await RO(n),(await up(n,t)).token}async function RO(r){const{registrationPromise:t}=await lp(r);t&&await t}function IO(r){if(!r||!r.options)throw Cm("App Configuration");if(!r.name)throw Cm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw Cm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Cm(r){return sa.create("missing-app-config-values",{valueName:r})}const AS="installations",CO="installations-internal",NO=r=>{const t=r.getProvider("app").getImmediate(),n=IO(t),s=Eo(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},DO=r=>{const t=r.getProvider("app").getImmediate(),n=Eo(t,AS).getImmediate();return{getId:()=>bO(n),getToken:l=>wO(n,l)}};function OO(){Li(new ri(AS,NO,"PUBLIC")),Li(new ri(CO,DO,"PRIVATE"))}OO();qn(sS,ap);qn(sS,ap,"esm2020");const MO="/firebase-messaging-sw.js",xO="/firebase-cloud-messaging-push-scope",SS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",VO="https://fcmregistrations.googleapis.com/v1",bS="google.c.a.c_id",kO="google.c.a.c_l",UO="google.c.a.ts",PO="google.c.a.e",wT=1e4;var RT;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(RT||(RT={}));var su;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(su||(su={}));function ar(r){const t=new Uint8Array(r);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function LO(r){const t="=".repeat((4-r.length%4)%4),n=(r+t).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),l=new Uint8Array(s.length);for(let u=0;u<s.length;++u)l[u]=s.charCodeAt(u);return l}const Nm="fcm_token_details_db",zO=5,IT="fcm_token_object_Store";async function jO(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(Nm))return null;let t=null;return(await xh(Nm,zO,{upgrade:async(s,l,u,d)=>{if(l<2||!s.objectStoreNames.contains(IT))return;const g=d.objectStore(IT),y=await g.index("fcmSenderId").get(r);if(await g.clear(),!!y){if(l===2){const p=y;if(!p.auth||!p.p256dh||!p.endpoint)return;t={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:ar(p.vapidKey)}}}else if(l===3){const p=y;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ar(p.auth),p256dh:ar(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ar(p.vapidKey)}}}else if(l===4){const p=y;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ar(p.auth),p256dh:ar(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ar(p.vapidKey)}}}}}})).close(),await mm(Nm),await mm("fcm_vapid_details_db"),await mm("undefined"),qO(t)?t:null}function qO(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:t}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const BO="firebase-messaging-database",HO=1,au="firebase-messaging-store";let Dm=null;function wS(){return Dm||(Dm=xh(BO,HO,{upgrade:(r,t)=>{t===0&&r.createObjectStore(au)}})),Dm}async function FO(r){const t=RS(r),s=await(await wS()).transaction(au).objectStore(au).get(t);if(s)return s;{const l=await jO(r.appConfig.senderId);if(l)return await cp(r,l),l}}async function cp(r,t){const n=RS(r),l=(await wS()).transaction(au,"readwrite");return await l.objectStore(au).put(t,n),await l.done,t}function RS({appConfig:r}){return r.appId}const GO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new oa("messaging","Messaging",GO);async function QO(r,t){const n=await fp(r),s=IS(t),l={method:"POST",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(hp(r.appConfig),l)).json()}catch(d){throw an.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw an.create("token-subscribe-no-token");return u.token}async function KO(r,t){const n=await fp(r),s=IS(t.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(`${hp(r.appConfig)}/${t.token}`,l)).json()}catch(d){throw an.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-update-failed",{errorInfo:d})}if(!u.token)throw an.create("token-update-no-token");return u.token}async function YO(r,t){const s={method:"DELETE",headers:await fp(r)};try{const u=await(await fetch(`${hp(r.appConfig)}/${t}`,s)).json();if(u.error){const d=u.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw an.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function hp({projectId:r}){return`${VO}/projects/${r}/registrations`}async function fp({appConfig:r,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function IS({p256dh:r,auth:t,endpoint:n,vapidKey:s}){const l={web:{endpoint:n,auth:t,p256dh:r}};return s!==SS&&(l.web.applicationPubKey=s),l}const XO=10080*60*1e3;async function $O(r){const t=await ZO(r.swRegistration,r.vapidKey),n={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:t.endpoint,auth:ar(t.getKey("auth")),p256dh:ar(t.getKey("p256dh"))},s=await FO(r.firebaseDependencies);if(s){if(WO(s.subscriptionOptions,n))return Date.now()>=s.createTime+XO?JO(r,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await YO(r.firebaseDependencies,s.token)}catch(l){console.warn(l)}return CT(r.firebaseDependencies,n)}else return CT(r.firebaseDependencies,n)}async function JO(r,t){try{const n=await KO(r.firebaseDependencies,t),s={...t,token:n,createTime:Date.now()};return await cp(r.firebaseDependencies,s),n}catch(n){throw n}}async function CT(r,t){const s={token:await QO(r,t),createTime:Date.now(),subscriptionOptions:t};return await cp(r,s),s.token}async function ZO(r,t){const n=await r.pushManager.getSubscription();return n||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:LO(t)})}function WO(r,t){const n=t.vapidKey===r.vapidKey,s=t.endpoint===r.endpoint,l=t.auth===r.auth,u=t.p256dh===r.p256dh;return n&&s&&l&&u}function NT(r){const t={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return t4(t,r),e4(t,r),n4(t,r),t}function t4(r,t){if(!t.notification)return;r.notification={};const n=t.notification.title;n&&(r.notification.title=n);const s=t.notification.body;s&&(r.notification.body=s);const l=t.notification.image;l&&(r.notification.image=l);const u=t.notification.icon;u&&(r.notification.icon=u)}function e4(r,t){t.data&&(r.data=t.data)}function n4(r,t){if(!t.fcmOptions&&!t.notification?.click_action)return;r.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;n&&(r.fcmOptions.link=n);const s=t.fcmOptions?.analytics_label;s&&(r.fcmOptions.analyticsLabel=s)}function i4(r){return typeof r=="object"&&!!r&&bS in r}function r4(r){if(!r||!r.options)throw Om("App Configuration Object");if(!r.name)throw Om("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=r;for(const s of t)if(!n[s])throw Om(s);return{appName:r.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Om(r){return an.create("missing-app-config-values",{valueName:r})}class s4{constructor(t,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=r4(t);this.firebaseDependencies={app:t,appConfig:l,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function a4(r){try{r.swRegistration=await navigator.serviceWorker.register(MO,{scope:xO}),r.swRegistration.update().catch(()=>{}),await o4(r.swRegistration)}catch(t){throw an.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function o4(r){return new Promise((t,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${wT} ms`)),wT),l=r.installing||r.waiting;r.active?(clearTimeout(s),t()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(s),t())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}async function l4(r,t){if(!t&&!r.swRegistration&&await a4(r),!(!t&&r.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");r.swRegistration=t}}async function u4(r,t){t?r.vapidKey=t:r.vapidKey||(r.vapidKey=SS)}async function c4(r,t){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw an.create("permission-blocked");return await u4(r,t?.vapidKey),await l4(r,t?.serviceWorkerRegistration),$O(r)}async function h4(r,t,n){const s=f4(t);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[bS],message_name:n[kO],message_time:n[UO],message_device_time:Math.floor(Date.now()/1e3)})}function f4(r){switch(r){case su.NOTIFICATION_CLICKED:return"notification_open";case su.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function d4(r,t){const n=t.data;if(!n.isFirebaseMessaging)return;r.onMessageHandler&&n.messageType===su.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(NT(n)):r.onMessageHandler.next(NT(n)));const s=n.data;i4(s)&&s[PO]==="1"&&await h4(r,n.messageType,s)}const DT="@firebase/messaging",OT="0.12.23";const m4=r=>{const t=new s4(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>d4(t,n)),t},g4=r=>{const t=r.getProvider("messaging").getImmediate();return{getToken:s=>c4(t,s)}};function p4(){Li(new ri("messaging",m4,"PUBLIC")),Li(new ri("messaging-internal",g4,"PRIVATE")),qn(DT,OT),qn(DT,OT,"esm2020")}async function y4(){try{await HT()}catch{return!1}return typeof window<"u"&&BT()&&a1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function _4(r=hg()){return y4().then(t=>{if(!t)throw an.create("unsupported-browser")},t=>{throw an.create("indexed-db-unsupported")}),Eo(Ne(r),"messaging").getImmediate()}p4();const v4={apiKey:"AIzaSyB5i9OCUpp-VQ9MR4fk01zsP743UuHSVWw",authDomain:"omega-cf92a.firebaseapp.com",projectId:"omega-cf92a",storageBucket:"omega-cf92a.firebasestorage.app",messagingSenderId:"187395193452",appId:"1:187395193452:web:5c0f4aefb2407478687649",measurementId:"G-5114W3WLXR"},dp=QT(v4),Ve=p2(dp),or=HD(dp);_4(dp);const ke={QUEUE:"queue",PENDING_REQUESTS:"pendingRequests",NOTIFICATIONS:"notifications",ACTIVITY_LOGS:"activityLogs",USERS:"users",SETTINGS:"settings"},Kt={PENDING:"pending",QUEUED:"queued",SUMMONED:"summoned",STAGING:"staging",LOADING:"loading",COMPLETED:"completed",EXPIRED:"expired"},ao={async signIn(r,t){try{let n,s;try{n=await NN(or,r,t),s=n.user}catch(u){if(u.code==="auth/invalid-credential"&&this.isKnownAdminEmail(r))console.log("Creating new admin account..."),n=await CN(or,r,t),s=n.user;else throw u}let l=await this.getUserProfile(s.uid);if(!l&&this.isKnownAdminEmail(r)&&(console.log("Creating admin profile..."),l=await this.createAdminProfile(s)),!l||l.role!=="admin")throw await dT(or),new Error("Access denied. Admin account required.");return s}catch(n){throw console.error("Sign in error:",n),new Error(`Sign in failed: ${n.message}`)}},isKnownAdminEmail(r){return["admin@omega.com","admin@omegaproducts.com"].includes(r.toLowerCase())},async createAdminProfile(r){try{const t={uid:r.uid,email:r.email,role:"admin",driverName:"",createdAt:Xs(),isActive:!0};return{id:(await lh(Di(Ve,ke.USERS),t)).id,...t}}catch(t){throw console.error("Failed to create admin profile:",t),new Error("Failed to create admin profile")}},async signOut(){try{await dT(or)}catch(r){throw new Error(`Sign out failed: ${r.message}`)}},onAuthStateChange(r){return MN(or,r)},getCurrentUser(){return or.currentUser},async getUserProfile(r){try{const t=so(Di(Ve,ke.USERS),ah("uid","==",r)),n=await ng(t);return n.empty?null:{id:n.docs[0].id,...n.docs[0].data()}}catch(t){if(t.code==="permission-denied")return console.warn("Permission denied accessing user profile, user may not exist yet"),null;throw new Error(`Failed to get user profile: ${t.message}`)}}},Mm={async approveRequest(r){try{const t=await Wc(Ni(Ve,ke.PENDING_REQUESTS,r));if(!t.exists())throw new Error("Request not found");const n=t.data(),l=(await ng(so(Di(Ve,ke.QUEUE),ah("status","==",Kt.QUEUED)))).size+1,u=await lh(Di(Ve,ke.QUEUE),{...n,status:Kt.QUEUED,position:l,joinedAt:Xs(),approvedBy:or.currentUser?.uid});return await Sm(Ni(Ve,ke.PENDING_REQUESTS,r)),await this.sendNotification(n.userId||"anonymous","success",`Request approved - joined queue at position ${l}`,n.poNumber),await this.logActivity("request_approved",`Request approved for ${n.driverName}`,n.poNumber),u.id}catch(t){throw new Error(`Failed to approve request: ${t.message}`)}},async rejectRequest(r,t){try{const n=await Wc(Ni(Ve,ke.PENDING_REQUESTS,r));if(!n.exists())throw new Error("Request not found");const s=n.data();await Sm(Ni(Ve,ke.PENDING_REQUESTS,r)),await this.sendNotification(s.userId||"anonymous","error",`Request rejected: ${t}`,s.poNumber),await this.logActivity("request_rejected",`Request rejected for ${s.driverName}: ${t}`,s.poNumber)}catch(n){throw new Error(`Failed to reject request: ${n.message}`)}},async updateQueuePositions(r){try{const t=[];for(let n=0;n<r.length;n++){const s=r[n];t.push(Am(Ni(Ve,ke.QUEUE,s.id),{position:n+1,updatedAt:Xs()}))}await Promise.all(t),await this.logActivity("queue_reordered","Queue positions updated by admin")}catch(t){throw new Error(`Failed to update queue positions: ${t.message}`)}},async removeFromQueue(r,t="Removed by admin"){try{const n=await Wc(Ni(Ve,ke.QUEUE,r));if(!n.exists())throw new Error("Queue item not found");const s=n.data();await Sm(Ni(Ve,ke.QUEUE,r));const l=await ng(so(Di(Ve,ke.QUEUE),ah("position",">",s.position))),u=[];l.forEach(d=>{u.push(Am(d.ref,{position:D2(-1),updatedAt:Xs()}))}),await Promise.all(u),await this.sendNotification(s.userId||"anonymous","admin_action",`Removed from queue: ${t}`,s.poNumber),await this.logActivity("removed_from_queue",`${s.driverName} removed from queue: ${t}`,s.poNumber)}catch(n){throw new Error(`Failed to remove from queue: ${n.message}`)}},async updateQueueStatus(r,t){try{await Am(Ni(Ve,ke.QUEUE,r),{status:t,updatedAt:Xs()});const s=(await Wc(Ni(Ve,ke.QUEUE,r))).data();let l="";switch(t){case Kt.SUMMONED:l="You are summoned! Please proceed to the staging area.";break;case Kt.STAGING:l="You are now in the staging area.";break;case Kt.LOADING:l="You are now in the loading bay.";break;case Kt.COMPLETED:l="Loading completed. Thank you!";break;default:l=`Status updated to ${t}`}await this.sendNotification(s.userId||"anonymous","status_update",l,s.poNumber),await this.logActivity("status_updated",`${s.driverName} status updated to ${t}`,s.poNumber)}catch(n){throw new Error(`Failed to update status: ${n.message}`)}},async sendNotification(r,t,n,s=null){try{await lh(Di(Ve,ke.NOTIFICATIONS),{userId:r,type:t,message:n,poNumber:s,timestamp:Xs(),read:!1})}catch(l){console.error("Failed to send notification:",l)}},async logActivity(r,t,n=null){try{await lh(Di(Ve,ke.ACTIVITY_LOGS),{type:r,message:t,poNumber:n,timestamp:Xs(),userId:or.currentUser?.uid||null,userEmail:or.currentUser?.email||null})}catch(s){console.error("Failed to log activity:",s)}},onPendingRequestsChange(r,t){const n=so(Di(Ve,ke.PENDING_REQUESTS),tT("requestedAt","desc"));return bm(n,r,t||(s=>{console.error("Pending requests subscription error:",s)}))},onQueueChange(r,t){const n=so(Di(Ve,ke.QUEUE),ah("status","in",[Kt.QUEUED,Kt.SUMMONED,Kt.STAGING,Kt.LOADING]));return bm(n,s=>{const l={...s,docs:[...s.docs].sort((u,d)=>{const g=u.data().position||0,y=d.data().position||0;return g-y})};r(l)},t||(s=>{console.error("Queue subscription error:",s)}))},onActivityLogsChange(r,t){const n=so(Di(Ve,ke.ACTIVITY_LOGS),tT("timestamp","desc"));return bm(n,r,t||(s=>{console.error("Activity logs subscription error:",s)}))}},CS=()=>V.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:V.jsxs("div",{className:"text-center",children:[V.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),V.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),E4=({selectedTicket:r,newStatus:t,onClose:n,onConfirm:s})=>{const l={[Kt.QUEUED]:"In Queue",[Kt.SUMMONED]:"Active (Summoned)",[Kt.COMPLETED]:"Resolved"},u={[Kt.QUEUED]:"Move back to waiting in queue",[Kt.SUMMONED]:"Summon driver - they will be notified to come to the facility",[Kt.COMPLETED]:"Mark as resolved - driver has completed loading and left"},d=r?.status,g=t===Kt.QUEUED&&d!==Kt.QUEUED;return V.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:V.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[V.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[V.jsx(xT,{className:`w-6 h-6 ${g?"text-orange-500":"text-blue-500"}`}),V.jsx("h3",{className:"text-xl font-bold text-gray-800",children:g?"Move Back to Queue?":"Update Status?"})]}),V.jsxs("div",{className:"mb-4",children:[V.jsxs("p",{className:"text-gray-600 mb-3",children:["Change status for ",V.jsx("strong",{children:r?.driverName})," (",r?.poNumber,")?"]}),V.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[V.jsxs("div",{className:"flex items-center justify-between text-sm",children:[V.jsx("span",{className:"text-gray-600",children:"Current:"}),V.jsx("span",{className:"font-medium",children:l[d]})]}),V.jsxs("div",{className:"flex items-center justify-center my-2",children:[V.jsx("div",{className:`w-6 h-0.5 ${g?"bg-orange-400":"bg-blue-400"}`}),V.jsx("span",{className:`mx-2 ${g?"text-orange-500":"text-blue-500"}`,children:g?"":""}),V.jsx("div",{className:`w-6 h-0.5 ${g?"bg-orange-400":"bg-blue-400"}`})]}),V.jsxs("div",{className:"flex items-center justify-between text-sm",children:[V.jsx("span",{className:"text-gray-600",children:"New:"}),V.jsx("span",{className:`font-medium ${g?"text-orange-600":"text-blue-600"}`,children:l[t]})]})]}),V.jsx("p",{className:"text-sm text-gray-600",children:u[t]}),g&&V.jsx("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:V.jsxs("p",{className:"text-sm text-orange-800",children:[V.jsx("strong",{children:"Note:"})," Driver will be notified of the status change."]})})]}),V.jsxs("div",{className:"flex gap-3",children:[V.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),V.jsx("button",{onClick:()=>s(r.id,t),className:`flex-1 font-medium py-3 rounded-lg transition-colors text-white ${g?"bg-orange-500 hover:bg-orange-600":"bg-blue-500 hover:bg-blue-600"}`,children:g?"Move Back":"Confirm"})]})]})})},T4=({onLogin:r,loading:t,error:n})=>{const[s,l]=Ue.useState({email:"",password:""}),[u,d]=Ue.useState(!1),g=p=>{p.preventDefault(),r(s.email,s.password)},y=()=>{l({email:"admin@omega.com",password:"admin123"})};return V.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center p-4",children:V.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[V.jsxs("div",{className:"text-center mb-8",children:[V.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:V.jsx(Uw,{className:"w-8 h-8 text-blue-600"})}),V.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),V.jsx("p",{className:"text-gray-600",children:"Omega Products Truck Queue"})]}),V.jsxs("form",{onSubmit:g,className:"space-y-6",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),V.jsx("input",{type:"email",value:s.email,onChange:p=>l(T=>({...T,email:p.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@omega.com",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),V.jsxs("div",{className:"relative",children:[V.jsx("input",{type:u?"text":"password",value:s.password,onChange:p=>l(T=>({...T,password:p.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password",required:!0}),V.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?V.jsx(Rw,{className:"w-5 h-5"}):V.jsx(Cw,{className:"w-5 h-5"})})]})]}),n&&V.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:V.jsx("p",{className:"text-red-800 text-sm",children:n})}),V.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 rounded-lg transition-colors flex items-center justify-center",children:t?V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing In..."]}):"Sign In"}),V.jsx("button",{type:"button",onClick:y,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 rounded-lg transition-colors",children:"Use Demo Credentials"})]})]})})},A4=()=>{const[r,t]=Ue.useState("dashboard"),[n,s]=Ue.useState([]),[l,u]=Ue.useState([]),[d,g]=Ue.useState(!0),[y,p]=Ue.useState({show:!1,ticket:null,newStatus:null});Ue.useEffect(()=>{let P=[],W;W=setTimeout(()=>{console.log("Loading timeout reached, setting loading to false"),g(!1)},5e3);try{const Z=Mm.onQueueChange(dt=>{try{console.log("Queue data received:",dt.size,"documents");const lt=dt.docs.map(wt=>({id:wt.id,...wt.data(),joinedAt:wt.data().joinedAt?.toDate?.()?.toISOString()||new Date().toISOString(),requestedAt:wt.data().requestedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));s(lt),W&&(clearTimeout(W),W=null),g(!1)}catch(lt){console.error("Error processing queue data:",lt),g(!1)}},dt=>{console.error("Queue subscription error:",dt),g(!1)});P.push(Z);const ht=Mm.onActivityLogsChange(dt=>{try{console.log("Activity logs data received:",dt.size,"documents");const lt=dt.docs.map(wt=>({id:wt.id,...wt.data(),timestamp:wt.data().timestamp?.toDate?.()?.toISOString()||new Date().toISOString()}));u(lt)}catch(lt){console.error("Error processing activity logs:",lt)}},dt=>{console.error("Activity logs subscription error:",dt)});P.push(ht)}catch(Z){console.error("Error setting up subscriptions:",Z),g(!1)}return()=>{W&&clearTimeout(W),P.forEach(Z=>{try{Z()}catch(ht){console.error("Error unsubscribing:",ht)}})}},[]);const T=async(P,W)=>{try{await Mm.updateQueueStatus(P,W),p({show:!1,ticket:null,newStatus:null})}catch(Z){console.error("Error updating status:",Z),alert("Failed to update status")}},S=(P,W)=>{p({show:!0,ticket:P,newStatus:W})},D=()=>{p({show:!1,ticket:null,newStatus:null})},Q=async()=>{try{await ao.signOut()}catch(P){console.error("Error signing out:",P)}};return d?V.jsx(CS,{}):V.jsxs("div",{className:"min-h-screen bg-gray-100",children:[y.show&&V.jsx(E4,{selectedTicket:y.ticket,newStatus:y.newStatus,onClose:D,onConfirm:T}),V.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:V.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{children:[V.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),V.jsx("p",{className:"text-sm text-gray-600",children:"Omega Products Truck Queue Management"})]}),V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsxs("nav",{className:"flex gap-2",children:[V.jsx("button",{onClick:()=>t("dashboard"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="dashboard"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:"Dashboard"}),V.jsx("button",{onClick:()=>t("history"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="history"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:"History"})]}),V.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[V.jsx(Mw,{className:"w-4 h-4"}),"Sign Out"]})]})]})})}),V.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[r==="dashboard"&&V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[V.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:V.jsxs("div",{className:"flex items-center",children:[V.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:V.jsx(cm,{className:"w-6 h-6 text-blue-600"})}),V.jsxs("div",{className:"ml-4",children:[V.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Queue"}),V.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(P=>P.status===Kt.QUEUED).length})]})]})}),V.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:V.jsxs("div",{className:"flex items-center",children:[V.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:V.jsx(um,{className:"w-6 h-6 text-yellow-600"})}),V.jsxs("div",{className:"ml-4",children:[V.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active (Summoned)"}),V.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(P=>P.status===Kt.SUMMONED).length})]})]})}),V.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:V.jsxs("div",{className:"flex items-center",children:[V.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:V.jsx(Vl,{className:"w-6 h-6 text-green-600"})}),V.jsxs("div",{className:"ml-4",children:[V.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved Today"}),V.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.filter(P=>P.action==="completed"&&new Date(P.timestamp).toDateString()===new Date().toDateString()).length})]})]})})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[V.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[V.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3",children:[V.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[V.jsx(cm,{className:"w-5 h-5"}),"Queue (",n.filter(P=>P.status===Kt.QUEUED).length,")"]}),V.jsx("p",{className:"text-blue-100 text-sm",children:"Waiting drivers"})]}),V.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.filter(P=>P.status===Kt.QUEUED).length===0?V.jsxs("div",{className:"p-6 text-center text-gray-500",children:[V.jsx(cm,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),V.jsx("p",{className:"text-sm",children:"No drivers in queue"})]}):V.jsx("div",{className:"divide-y divide-gray-200",children:n.filter(P=>P.status===Kt.QUEUED).sort((P,W)=>P.position-W.position).map(P=>V.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[V.jsx("div",{className:"flex items-center justify-between mb-2",children:V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:["#",P.position]}),V.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:P.driverName})]})}),V.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:[V.jsxs("p",{children:["PO: ",P.poNumber]}),V.jsxs("p",{children:["Joined: ",new Date(P.joinedAt).toLocaleTimeString()]})]}),V.jsx("button",{onClick:()=>S(P,Kt.SUMMONED),className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Summon "})]},P.id))})})]}),V.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[V.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 px-4 py-3",children:[V.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[V.jsx(um,{className:"w-5 h-5"}),"Active (",n.filter(P=>P.status===Kt.SUMMONED).length,")"]}),V.jsx("p",{className:"text-yellow-100 text-sm",children:"Currently being processed"})]}),V.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.filter(P=>P.status===Kt.SUMMONED).length===0?V.jsxs("div",{className:"p-6 text-center text-gray-500",children:[V.jsx(um,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),V.jsx("p",{className:"text-sm",children:"No active drivers"})]}):V.jsx("div",{className:"divide-y divide-gray-200",children:n.filter(P=>P.status===Kt.SUMMONED).map(P=>V.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[V.jsxs("div",{className:"flex items-center justify-between mb-2",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(Lw,{className:"w-4 h-4 text-gray-600"}),V.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:P.driverName})]}),V.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full",children:"Summoned"})]}),V.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:[V.jsxs("p",{children:["PO: ",P.poNumber]}),V.jsxs("p",{children:["Summoned: ",new Date(P.joinedAt).toLocaleTimeString()]})]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{onClick:()=>S(P,Kt.COMPLETED),className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Mark Resolved "}),V.jsx("button",{onClick:()=>S(P,Kt.QUEUED),className:"px-3 bg-gray-400 hover:bg-gray-500 text-white text-sm rounded-lg transition-colors",title:"Move back to queue",children:" Queue"})]})]},P.id))})})]}),V.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[V.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-4 py-3",children:[V.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[V.jsx(Vl,{className:"w-5 h-5"}),"Resolved Today (",l.filter(P=>P.action==="completed"&&new Date(P.timestamp).toDateString()===new Date().toDateString()).length,")"]}),V.jsx("p",{className:"text-green-100 text-sm",children:"Completed loading"})]}),V.jsx("div",{className:"max-h-96 overflow-y-auto",children:l.filter(P=>P.action==="completed"&&new Date(P.timestamp).toDateString()===new Date().toDateString()).length===0?V.jsxs("div",{className:"p-6 text-center text-gray-500",children:[V.jsx(Vl,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),V.jsx("p",{className:"text-sm",children:"No completed drivers today"})]}):V.jsx("div",{className:"divide-y divide-gray-200",children:l.filter(P=>P.action==="completed"&&new Date(P.timestamp).toDateString()===new Date().toDateString()).sort((P,W)=>new Date(W.timestamp)-new Date(P.timestamp)).map(P=>V.jsxs("div",{className:"p-4",children:[V.jsxs("div",{className:"flex items-center justify-between mb-2",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(Vl,{className:"w-4 h-4 text-green-600"}),V.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:P.driverName})]}),V.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Resolved"})]}),V.jsxs("div",{className:"text-xs text-gray-600",children:[V.jsxs("p",{children:["PO: ",P.poNumber]}),V.jsxs("p",{children:["Completed: ",new Date(P.timestamp).toLocaleTimeString()]})]})]},P.id))})})]})]})]}),r==="history"&&V.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[V.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Activity History"}),V.jsxs("div",{className:"space-y-3",children:[l.map(P=>V.jsx("div",{className:"border-l-4 border-blue-500 bg-gray-50 rounded-r-lg p-4",children:V.jsxs("div",{className:"flex items-start gap-3",children:[V.jsxs("div",{className:"flex-shrink-0 mt-1",children:[(P.type==="success"||P.type==="queue_joined"||P.type==="request_approved")&&V.jsx(Vl,{className:"w-5 h-5 text-green-500"}),(P.type==="error"||P.type==="request_rejected")&&V.jsx(Sw,{className:"w-5 h-5 text-red-500"}),P.type==="pending"&&V.jsx(xT,{className:"w-5 h-5 text-yellow-500"}),(P.type==="admin_action"||P.type==="removed_from_queue"||P.type==="queue_reordered"||P.type==="status_updated")&&V.jsx(Vw,{className:"w-5 h-5 text-blue-500"})]}),V.jsxs("div",{className:"flex-1",children:[V.jsx("p",{className:"text-sm font-medium text-gray-800",children:P.message}),V.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[P.poNumber&&V.jsx("p",{className:"text-xs text-gray-600",children:P.poNumber}),V.jsx("p",{className:"text-xs text-gray-500",children:new Date(P.timestamp).toLocaleString()}),P.userEmail&&V.jsxs("p",{className:"text-xs text-gray-500",children:["by ",P.userEmail]})]})]})]})},P.id)),l.length===0&&V.jsxs("div",{className:"text-center py-12 text-gray-500",children:[V.jsx(Dw,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),V.jsx("p",{children:"No activity logs yet"})]})]})]})]})]})},S4=()=>{const[r,t]=Ue.useState(null),[n,s]=Ue.useState(!0),[l,u]=Ue.useState(!1),[d,g]=Ue.useState("");Ue.useEffect(()=>{const p=ao.onAuthStateChange(async T=>{if(console.log("Auth state changed:",T?T.email:"signed out"),T)try{const S=await ao.getUserProfile(T.uid);console.log("User profile:",S),S&&S.role==="admin"?(t(T),g("")):(console.log("User is not an admin or profile not found"),g("Access denied. Admin account required."),await ao.signOut())}catch(S){console.error("Error getting user profile:",S),g("Failed to verify admin access. Please try again."),await ao.signOut()}else t(null);s(!1)});return()=>p()},[]);const y=async(p,T)=>{u(!0),g("");try{console.log("Attempting login with:",p),await ao.signIn(p,T)}catch(S){console.error("Login error:",S),g(`Sign in failed: ${S.message}`)}finally{u(!1)}};return n?V.jsx(CS,{}):r?V.jsx(A4,{}):V.jsx(T4,{onLogin:y,loading:l,error:d})};mw.createRoot(document.getElementById("root")).render(V.jsx(Ue.StrictMode,{children:V.jsx(S4,{})}));
