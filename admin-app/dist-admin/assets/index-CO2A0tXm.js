(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var im={exports:{}},xl={};var xv;function a1(){if(xv)return xl;xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Mv;function o1(){return Mv||(Mv=1,im.exports=a1()),im.exports}var M=o1(),rm={exports:{}},Te={};var Vv;function l1(){if(Vv)return Te;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function Q(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,ee={};function he(D,K,Z){this.props=D,this.context=K,this.refs=ee,this.updater=Z||W}he.prototype.isReactComponent={},he.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},he.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ee(){}Ee.prototype=he.prototype;function me(D,K,Z){this.props=D,this.context=K,this.refs=ee,this.updater=Z||W}var je=me.prototype=new Ee;je.constructor=me,ie(je,he.prototype),je.isPureReactComponent=!0;var Ge=Array.isArray;function Ie(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(D,K,Z){var ne=Z.ref;return{$$typeof:r,type:D,key:K,ref:ne!==void 0?ne:null,props:Z}}function V(D,K){return I(D.type,K,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Z){return K[Z]})}var w=/\/+/g;function et(D,K){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):K.toString(36)}function ft(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ie,Ie):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,K,Z,ne,ue){var we=typeof D;(we==="undefined"||we==="boolean")&&(D=null);var Pe=!1;if(D===null)Pe=!0;else switch(we){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(D.$$typeof){case r:case e:Pe=!0;break;case A:return Pe=D._init,F(Pe(D._payload),K,Z,ne,ue)}}if(Pe)return ue=ue(D),Pe=ne===""?"."+et(D,0):ne,Ge(ue)?(Z="",Pe!=null&&(Z=Pe.replace(w,"$&/")+"/"),F(ue,K,Z,"",function(_s){return _s})):ue!=null&&(x(ue)&&(ue=V(ue,Z+(ue.key==null||D&&D.key===ue.key?"":(""+ue.key).replace(w,"$&/")+"/")+Pe)),K.push(ue)),1;Pe=0;var xt=ne===""?".":ne+":";if(Ge(D))for(var at=0;at<D.length;at++)ne=D[at],we=xt+et(ne,at),Pe+=F(ne,K,Z,we,ue);else if(at=Q(D),typeof at=="function")for(D=at.call(D),at=0;!(ne=D.next()).done;)ne=ne.value,we=xt+et(ne,at++),Pe+=F(ne,K,Z,we,ue);else if(we==="object"){if(typeof D.then=="function")return F(ft(D),K,Z,ne,ue);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function re(D,K,Z){if(D==null)return D;var ne=[],ue=0;return F(D,ne,"","",function(we){return K.call(Z,we,ue++)}),ne}function H(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(Z){(D._status===0||D._status===-1)&&(D._status=1,D._result=Z)},function(Z){(D._status===0||D._status===-1)&&(D._status=2,D._result=Z)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var le=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},_e={map:re,forEach:function(D,K,Z){re(D,function(){K.apply(this,arguments)},Z)},count:function(D){var K=0;return re(D,function(){K++}),K},toArray:function(D){return re(D,function(K){return K})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Te.Activity=S,Te.Children=_e,Te.Component=he,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=me,Te.StrictMode=s,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Te.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Te.cache=function(D){return function(){return D.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(D,K,Z){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=ie({},D.props),ue=D.key;if(K!=null)for(we in K.key!==void 0&&(ue=""+K.key),K)!b.call(K,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&K.ref===void 0||(ne[we]=K[we]);var we=arguments.length-2;if(we===1)ne.children=Z;else if(1<we){for(var Pe=Array(we),xt=0;xt<we;xt++)Pe[xt]=arguments[xt+2];ne.children=Pe}return I(D.type,ue,ne)},Te.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Te.createElement=function(D,K,Z){var ne,ue={},we=null;if(K!=null)for(ne in K.key!==void 0&&(we=""+K.key),K)b.call(K,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ue[ne]=K[ne]);var Pe=arguments.length-2;if(Pe===1)ue.children=Z;else if(1<Pe){for(var xt=Array(Pe),at=0;at<Pe;at++)xt[at]=arguments[at+2];ue.children=xt}if(D&&D.defaultProps)for(ne in Pe=D.defaultProps,Pe)ue[ne]===void 0&&(ue[ne]=Pe[ne]);return I(D,we,ue)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:g,render:D}},Te.isValidElement=x,Te.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:H}},Te.memo=function(D,K){return{$$typeof:p,type:D,compare:K===void 0?null:K}},Te.startTransition=function(D){var K=C.T,Z={};C.T=Z;try{var ne=D(),ue=C.S;ue!==null&&ue(Z,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Ie,le)}catch(we){le(we)}finally{K!==null&&Z.types!==null&&(K.types=Z.types),C.T=K}},Te.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Te.use=function(D){return C.H.use(D)},Te.useActionState=function(D,K,Z){return C.H.useActionState(D,K,Z)},Te.useCallback=function(D,K){return C.H.useCallback(D,K)},Te.useContext=function(D){return C.H.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D,K){return C.H.useDeferredValue(D,K)},Te.useEffect=function(D,K){return C.H.useEffect(D,K)},Te.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Te.useId=function(){return C.H.useId()},Te.useImperativeHandle=function(D,K,Z){return C.H.useImperativeHandle(D,K,Z)},Te.useInsertionEffect=function(D,K){return C.H.useInsertionEffect(D,K)},Te.useLayoutEffect=function(D,K){return C.H.useLayoutEffect(D,K)},Te.useMemo=function(D,K){return C.H.useMemo(D,K)},Te.useOptimistic=function(D,K){return C.H.useOptimistic(D,K)},Te.useReducer=function(D,K,Z){return C.H.useReducer(D,K,Z)},Te.useRef=function(D){return C.H.useRef(D)},Te.useState=function(D){return C.H.useState(D)},Te.useSyncExternalStore=function(D,K,Z){return C.H.useSyncExternalStore(D,K,Z)},Te.useTransition=function(){return C.H.useTransition()},Te.version="19.2.3",Te}var kv;function sg(){return kv||(kv=1,rm.exports=l1()),rm.exports}var rt=sg(),sm={exports:{}},Ml={},am={exports:{}},om={};var Uv;function u1(){return Uv||(Uv=1,(function(r){function e(F,re){var H=F.length;F.push(re);e:for(;0<H;){var le=H-1>>>1,_e=F[le];if(0<l(_e,re))F[le]=re,F[H]=_e,H=le;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var re=F[0],H=F.pop();if(H!==re){F[0]=H;e:for(var le=0,_e=F.length,D=_e>>>1;le<D;){var K=2*(le+1)-1,Z=F[K],ne=K+1,ue=F[ne];if(0>l(Z,H))ne<_e&&0>l(ue,Z)?(F[le]=ue,F[ne]=H,le=ne):(F[le]=Z,F[K]=H,le=K);else if(ne<_e&&0>l(ue,H))F[le]=ue,F[ne]=H,le=ne;else break e}}return re}function l(F,re){var H=F.sortIndex-re.sortIndex;return H!==0?H:F.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],A=1,S=null,N=3,Q=!1,W=!1,ie=!1,ee=!1,he=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function je(F){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=F)s(p),re.sortIndex=re.expirationTime,e(y,re);else break;re=n(p)}}function Ge(F){if(ie=!1,je(F),!W)if(n(y)!==null)W=!0,Ie||(Ie=!0,k());else{var re=n(p);re!==null&&ft(Ge,re.startTime-F)}}var Ie=!1,C=-1,b=5,I=-1;function V(){return ee?!0:!(r.unstable_now()-I<b)}function x(){if(ee=!1,Ie){var F=r.unstable_now();I=F;var re=!0;try{e:{W=!1,ie&&(ie=!1,Ee(C),C=-1),Q=!0;var H=N;try{t:{for(je(F),S=n(y);S!==null&&!(S.expirationTime>F&&V());){var le=S.callback;if(typeof le=="function"){S.callback=null,N=S.priorityLevel;var _e=le(S.expirationTime<=F);if(F=r.unstable_now(),typeof _e=="function"){S.callback=_e,je(F),re=!0;break t}S===n(y)&&s(y),je(F)}else s(y);S=n(y)}if(S!==null)re=!0;else{var D=n(p);D!==null&&ft(Ge,D.startTime-F),re=!1}}break e}finally{S=null,N=H,Q=!1}re=void 0}}finally{re?k():Ie=!1}}}var k;if(typeof me=="function")k=function(){me(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,et=w.port2;w.port1.onmessage=x,k=function(){et.postMessage(null)}}else k=function(){he(x,0)};function ft(F,re){C=he(function(){F(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(F){switch(N){case 1:case 2:case 3:var re=3;break;default:re=N}var H=N;N=re;try{return F()}finally{N=H}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=N;N=F;try{return re()}finally{N=H}},r.unstable_scheduleCallback=function(F,re,H){var le=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?le+H:le):H=le,F){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=H+_e,F={id:A++,callback:re,priorityLevel:F,startTime:H,expirationTime:_e,sortIndex:-1},H>le?(F.sortIndex=H,e(p,F),n(y)===null&&F===n(p)&&(ie?(Ee(C),C=-1):ie=!0,ft(Ge,H-le))):(F.sortIndex=_e,e(y,F),W||Q||(W=!0,Ie||(Ie=!0,k()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var re=N;return function(){var H=N;N=re;try{return F.apply(this,arguments)}finally{N=H}}}})(om)),om}var Pv;function c1(){return Pv||(Pv=1,am.exports=u1()),am.exports}var lm={exports:{}},Jt={};var Lv;function h1(){if(Lv)return Jt;Lv=1;var r=sg();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:p,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(y,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,A)},Jt.flushSync=function(y){var p=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=A,s.d.f()}},Jt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Jt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Jt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var A=p.as,S=g(A,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,Q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:Q}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:N,fetchPriority:Q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Jt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,S=g(A,p.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(y,p){if(typeof y=="string")if(p){var A=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Jt.requestFormReset=function(y){s.d.r(y)},Jt.unstable_batchedUpdates=function(y,p){return y(p)},Jt.useFormState=function(y,p,A){return d.H.useFormState(y,p,A)},Jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var jv;function f1(){if(jv)return lm.exports;jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=h1(),lm.exports}var zv;function d1(){if(zv)return Ml;zv=1;var r=c1(),e=sg(),n=f1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function A(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=A(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),me=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case he:return"Profiler";case ee:return"StrictMode";case Ge:return"Suspense";case Ie:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case me:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case je:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:et(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return et(t(i))}catch{}}return null}var ft=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},le=[],_e=-1;function D(t){return{current:t}}function K(t){0>_e||(t.current=le[_e],le[_e]=null,_e--)}function Z(t,i){_e++,le[_e]=t.current,t.current=i}var ne=D(null),ue=D(null),we=D(null),Pe=D(null);function xt(t,i){switch(Z(we,i),Z(ue,t),Z(ne,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?tv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=tv(i),t=nv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ne),Z(ne,t)}function at(){K(ne),K(ue),K(we)}function _s(t){t.memoizedState!==null&&Z(Pe,t);var i=ne.current,a=nv(i,t.type);i!==a&&(Z(ue,t),Z(ne,a))}function fa(t){ue.current===t&&(K(ne),K(ue)),Pe.current===t&&(K(Pe),Cl._currentValue=H)}var da,ma;function oi(t){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+ma}var Co=!1;function vs(t,i){if(!t||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var z=B}Reflect.construct(t,[],$)}else{try{$.call()}catch(B){z=B}t.call($.prototype)}}else{try{throw Error()}catch(B){z=B}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var R=_.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var G=`
`+R[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function No(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return oi("Activity");default:return""}}function Do(t){try{var i="",a=null;do i+=No(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,sf=r.unstable_shouldYield,vu=r.unstable_requestPaint,nn=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,xo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,af=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,Tu=r.log,Au=r.unstable_setDisableYieldValue,Fn=null,Bt=null;function In(t){if(typeof Tu=="function"&&Au(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Fn,t)}catch{}}var dt=Math.clz32?Math.clz32:bu,Su=Math.log,ga=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(Su(t)/ga|0)|0}var li=256,Ts=262144,Et=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ui(o):(_&=E,_!==0?h=ui(_):a||(a=E&~t,a!==0&&(h=ui(a))))):(E=o&~f,E!==0?h=ui(E):_!==0?h=ui(_):a||(a=o&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function of(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lf(t,i,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-dt(a),$=1<<G;E[G]=0,R[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~$}o!==0&&Ss(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function Ss(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-dt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Vo(t,i){var a=i&-i;return a=(a&42)!==0?1:bs(a),(a&(t.suspendedLanes|i))!==0?0:a}function bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ru(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:wv(t.type))}function Qn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Kn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Kn,Lt="__reactProps$"+Kn,fi="__reactContainer$"+Kn,pa="__reactEvents$"+Kn,uf="__reactListeners$"+Kn,Iu="__reactHandles$"+Kn,Cu="__reactResources$"+Kn,di="__reactMarker$"+Kn;function ya(t){delete t[Tt],delete t[Lt],delete t[pa],delete t[uf],delete t[Iu]}function mi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=uv(t);t!==null;){if(a=t[Tt])return a;t=uv(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gi(t){var i=t[Cu];return i||(i=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[di]=!0}var ko=new Set,Uo={};function pi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Uo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},jo={};function Nu(t){return vt.call(jo,t)?!0:vt.call(Lo,t)?!1:Po.test(t)?jo[t]=!0:(Lo[t]=!0,!1)}function _a(t,i,a){if(Nu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=zo(t,i,""+t[i])}}function ws(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=vr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function on(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(t,i,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?qo(t,_,jt(i)):a!=null?qo(t,_,jt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+jt(E):t.removeAttribute("name")}function Du(t,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function qo(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ou(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Tr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(ft(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||xu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Bo(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Bo(t,f,i[f])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Fo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,vi=null;function Is(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(s(90));va(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&ws(o)}break e;case"textarea":Ou(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var Aa=!1;function br(t,i,a){if(Aa)return t(i,a);Aa=!0;try{var o=t(i);return o}finally{if(Aa=!1,(Sr!==null||vi!==null)&&(Rc(),Sr&&(i=Sr,t=vi,vi=Sr=null,Is(i),t)))for(i=0;i<t.length;i++)Is(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Lt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(Dn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Cs=!1}var Ei=null,Go=null,Ns=null;function Qo(){if(Ns)return Ns;var t,i=Go,a=i.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Ns=h.slice(t,1<o?1-o:void 0)}function Ds(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function $n(){return!1}function Ht(t){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:$n,this.isPropagationStopped=$n,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ht(Hi),wr=S({},Hi,{view:0,detail:0}),Ko=Ht(wr),Rr,Sa,Ai,ba=S({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Rr=t.screenX-Ai.screenX,Sa=t.screenY-Ai.screenY):Sa=Rr=0,Ai=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Yo=Ht(ba),Os=S({},ba,{dataTransfer:0}),Vu=Ht(Os),ku=S({},wr,{relatedTarget:0}),xs=Ht(ku),Xo=S({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Ht(Xo),wa=S({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pu=Ht(wa),Lu=S({},Hi,{data:0}),Si=Ht(Lu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function Ir(){return Bu}var rn=S({},wr,{key:function(t){if(t.key){var i=ju[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hu=Ht(rn),Fu=S({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Ht(Fu),c=S({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),m=Ht(c),v=S({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ht(v),P=S({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ht(P),te=S({},Hi,{newState:0,oldState:0}),Se=Ht(te),mt=[9,13,27,32],Be=Dn&&"CompositionEvent"in window,ot=null;Dn&&"documentMode"in document&&(ot=document.documentMode);var On=Dn&&"TextEvent"in window&&!ot,bi=Dn&&(!Be||ot&&8<ot&&11>=ot),Jn=" ",Zn=!1;function Ms(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function DS(t,i){switch(t){case"compositionend":return Ra(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Zn?null:t;default:return null}}function OS(t,i){if(Ia)return t==="compositionend"||!Be&&Ms(t,i)?(t=Qo(),Ns=Go=Ei=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var xS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xS[t.type]:i==="textarea"}function dp(t,i,a,o){Sr?vi?vi.push(o):vi=[o]:Sr=o,i=Mc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var $o=null,Jo=null;function MS(t){X_(t,0)}function Gu(t){var i=pn(t);if(ws(i))return t}function mp(t,i){if(t==="change")return i}var gp=!1;if(Dn){var cf;if(Dn){var hf="oninput"in document;if(!hf){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),hf=typeof pp.oninput=="function"}cf=hf}else cf=!1;gp=cf&&(!document.documentMode||9<document.documentMode)}function yp(){$o&&($o.detachEvent("onpropertychange",_p),Jo=$o=null)}function _p(t){if(t.propertyName==="value"&&Gu(Jo)){var i=[];dp(i,Jo,t,Nn(t)),br(MS,i)}}function VS(t,i,a){t==="focusin"?(yp(),$o=i,Jo=a,$o.attachEvent("onpropertychange",_p)):t==="focusout"&&yp()}function kS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(Jo)}function US(t,i){if(t==="click")return Gu(i)}function PS(t,i){if(t==="input"||t==="change")return Gu(i)}function LS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:LS;function Zo(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ep(t,i){var a=vp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vp(a)}}function Tp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Tp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var jS=Dn&&"documentMode"in document&&11>=document.documentMode,Ca=null,df=null,Wo=null,mf=!1;function Sp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||Ca==null||Ca!==_i(o)||(o=Ca,"selectionStart"in o&&ff(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wo&&Zo(Wo,o)||(Wo=o,o=Mc(df,"onSelect"),0<o.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ca)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Na={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},gf={},bp={};Dn&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function ks(t){if(gf[t])return gf[t];if(!Na[t])return t;var i=Na[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in bp)return gf[t]=i[a];return t}var wp=ks("animationend"),Rp=ks("animationiteration"),Ip=ks("animationstart"),zS=ks("transitionrun"),qS=ks("transitionstart"),BS=ks("transitioncancel"),Cp=ks("transitionend"),Np=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function Wn(t,i){Np.set(t,i),pi(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Da=0,yf=0;function Ku(){for(var t=Da,i=yf=Da=0;i<t;){var a=xn[i];xn[i++]=null;var o=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var f=xn[i];if(xn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Dp(a,h,f)}}function Yu(t,i,a,o){xn[Da++]=t,xn[Da++]=i,xn[Da++]=a,xn[Da++]=o,yf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function _f(t,i,a,o){return Yu(t,i,a,o),Xu(t)}function Us(t,i){return Yu(t,null,null,i),Xu(t)}function Dp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-dt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Xu(t){if(50<Tl)throw Tl=0,Id=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function HS(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,o){return new HS(t,i,a,o)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Op(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,o,h,f){var _=0;if(o=t,typeof t=="function")vf(t)&&(_=1);else if(typeof t=="string")_=Yb(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=vn(31,a,i,h),t.elementType=I,t.lanes=f,t;case ie:return Ps(a.children,h,f,i);case ee:_=8,h|=24;break;case he:return t=vn(12,a,i,h|2),t.elementType=he,t.lanes=f,t;case Ge:return t=vn(13,a,i,h),t.elementType=Ge,t.lanes=f,t;case Ie:return t=vn(19,a,i,h),t.elementType=Ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:_=10;break e;case Ee:_=9;break e;case je:_=11;break e;case C:_=14;break e;case b:_=16,o=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=vn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Ps(t,i,a,o){return t=vn(7,t,o,i),t.lanes=a,t}function Ef(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function xp(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Tf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Mp=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Mp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Do(i)},Mp.set(t,i),i)}return{value:t,source:i,stack:Do(i)}}var xa=[],Ma=0,Ju=null,el=0,Vn=[],kn=0,Cr=null,wi=1,Ri="";function Qi(t,i){xa[Ma++]=el,xa[Ma++]=Ju,Ju=t,el=i}function Vp(t,i,a){Vn[kn++]=wi,Vn[kn++]=Ri,Vn[kn++]=Cr,Cr=t;var o=wi;t=Ri;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var f=32-dt(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,wi=1<<32-dt(i)+h|a<<h|o,Ri=f+t}else wi=1<<f|a<<h|o,Ri=t}function Af(t){t.return!==null&&(Qi(t,1),Vp(t,1,0))}function Sf(t){for(;t===Ju;)Ju=xa[--Ma],xa[Ma]=null,el=xa[--Ma],xa[Ma]=null;for(;t===Cr;)Cr=Vn[--kn],Vn[kn]=null,Ri=Vn[--kn],Vn[kn]=null,wi=Vn[--kn],Vn[kn]=null}function kp(t,i){Vn[kn++]=wi,Vn[kn++]=Ri,Vn[kn++]=Cr,wi=i.id,Ri=i.overflow,Cr=t}var Ft=null,nt=null,Ue=!1,Nr=null,Un=!1,bf=Error(s(519));function Dr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Mn(i,t)),bf}function Up(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[Lt]=o,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)De(Sl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Du(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Tr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||W_(i.textContent,a)?(o.popover!=null&&(De("beforetoggle",i),De("toggle",i)),o.onScroll!=null&&De("scroll",i),o.onScrollEnd!=null&&De("scrollend",i),o.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Dr(t,!0)}function Pp(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ft=Ft.return}}function Va(t){if(t!==Ft)return!1;if(!Ue)return Pp(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&nt&&Dr(t),Pp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=lv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=lv(t)}else i===27?(i=nt,Fr(t.type)?(t=Kd,Kd=null,nt=t):nt=i):nt=Ft?Ln(t.stateNode.nextSibling):null;return!0}function Ls(){nt=Ft=null,Ue=!1}function wf(){var t=Nr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Nr=null),t}function tl(t){Nr===null?Nr=[t]:Nr.push(t)}var Rf=D(null),js=null,Ki=null;function Or(t,i,a){Z(Rf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Rf.current,K(Rf)}function If(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),If(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),If(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ka(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&Cf(i,t,a,o),i.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){js=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Lp(js,t)}function Wu(t,i){return js===null&&zs(t),Lp(t,i)}function Lp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var FS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},GS=r.unstable_scheduleCallback,QS=r.unstable_NormalPriority,bt={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new FS,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&GS(QS,function(){t.controller.abort()})}var il=null,Df=0,Ua=0,Pa=null;function KS(t,i){if(il===null){var a=il=[];Df=0,Ua=Md(),Pa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Df++,i.then(jp,jp),i}function jp(){if(--Df===0&&il!==null){Pa!==null&&(Pa.status="fulfilled");var t=il;il=null,Ua=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function YS(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var zp=F.S;F.S=function(t,i){S_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&KS(t,i),zp!==null&&zp(t,i)};var qs=D(null);function Of(){var t=qs.current;return t!==null?t:We.pooledCache}function ec(t,i){i===null?Z(qs,qs.current):Z(qs,i.pool)}function qp(){var t=Of();return t===null?null:{parent:bt._currentValue,pool:t}}var La=Error(s(460)),xf=Error(s(474)),tc=Error(s(542)),nc={then:function(){}};function Bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Gp(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Gp(t),t}throw Hs=i,La}}function Bs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,La):a}}var Hs=null;function Fp(){if(Hs===null)throw Error(s(459));var t=Hs;return Hs=null,t}function Gp(t){if(t===La||t===tc)throw Error(s(483))}var ja=null,rl=0;function ic(t){var i=rl;return rl+=1,ja===null&&(ja=[]),Hp(ja,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qp(t){function i(U,O){if(t){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Gi(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=67108866,O):L):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,L,Y){return O===null||O.tag!==6?(O=Ef(L,U.mode,Y),O.return=U,O):(O=h(O,L),O.return=U,O)}function R(U,O,L,Y){var fe=L.type;return fe===ie?G(U,O,L.props.children,Y,L.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Bs(fe)===O.type)?(O=h(O,L.props),sl(O,L),O.return=U,O):(O=$u(L.type,L.key,L.props,null,U.mode,Y),sl(O,L),O.return=U,O)}function j(U,O,L,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Tf(L,U.mode,Y),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function G(U,O,L,Y,fe){return O===null||O.tag!==7?(O=Ps(L,U.mode,Y,fe),O.return=U,O):(O=h(O,L),O.return=U,O)}function $(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ef(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return L=$u(O.type,O.key,O.props,null,U.mode,L),sl(L,O),L.return=U,L;case W:return O=Tf(O,U.mode,L),O.return=U,O;case b:return O=Bs(O),$(U,O,L)}if(ft(O)||k(O))return O=Ps(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return $(U,ic(O),L);if(O.$$typeof===me)return $(U,Wu(U,O),L);rc(U,O)}return null}function z(U,O,L,Y){var fe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return fe!==null?null:E(U,O,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===fe?R(U,O,L,Y):null;case W:return L.key===fe?j(U,O,L,Y):null;case b:return L=Bs(L),z(U,O,L,Y)}if(ft(L)||k(L))return fe!==null?null:G(U,O,L,Y,null);if(typeof L.then=="function")return z(U,O,ic(L),Y);if(L.$$typeof===me)return z(U,O,Wu(U,L),Y);rc(U,L)}return null}function B(U,O,L,Y,fe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(L)||null,E(O,U,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return U=U.get(Y.key===null?L:Y.key)||null,R(O,U,Y,fe);case W:return U=U.get(Y.key===null?L:Y.key)||null,j(O,U,Y,fe);case b:return Y=Bs(Y),B(U,O,L,Y,fe)}if(ft(Y)||k(Y))return U=U.get(L)||null,G(O,U,Y,fe,null);if(typeof Y.then=="function")return B(U,O,L,ic(Y),fe);if(Y.$$typeof===me)return B(U,O,L,Wu(O,Y),fe);rc(O,Y)}return null}function oe(U,O,L,Y){for(var fe=null,ze=null,ce=O,Re=O=0,xe=null;ce!==null&&Re<L.length;Re++){ce.index>Re?(xe=ce,ce=null):xe=ce.sibling;var qe=z(U,ce,L[Re],Y);if(qe===null){ce===null&&(ce=xe);break}t&&ce&&qe.alternate===null&&i(U,ce),O=f(qe,O,Re),ze===null?fe=qe:ze.sibling=qe,ze=qe,ce=xe}if(Re===L.length)return a(U,ce),Ue&&Qi(U,Re),fe;if(ce===null){for(;Re<L.length;Re++)ce=$(U,L[Re],Y),ce!==null&&(O=f(ce,O,Re),ze===null?fe=ce:ze.sibling=ce,ze=ce);return Ue&&Qi(U,Re),fe}for(ce=o(ce);Re<L.length;Re++)xe=B(ce,U,Re,L[Re],Y),xe!==null&&(t&&xe.alternate!==null&&ce.delete(xe.key===null?Re:xe.key),O=f(xe,O,Re),ze===null?fe=xe:ze.sibling=xe,ze=xe);return t&&ce.forEach(function(Xr){return i(U,Xr)}),Ue&&Qi(U,Re),fe}function ge(U,O,L,Y){if(L==null)throw Error(s(151));for(var fe=null,ze=null,ce=O,Re=O=0,xe=null,qe=L.next();ce!==null&&!qe.done;Re++,qe=L.next()){ce.index>Re?(xe=ce,ce=null):xe=ce.sibling;var Xr=z(U,ce,qe.value,Y);if(Xr===null){ce===null&&(ce=xe);break}t&&ce&&Xr.alternate===null&&i(U,ce),O=f(Xr,O,Re),ze===null?fe=Xr:ze.sibling=Xr,ze=Xr,ce=xe}if(qe.done)return a(U,ce),Ue&&Qi(U,Re),fe;if(ce===null){for(;!qe.done;Re++,qe=L.next())qe=$(U,qe.value,Y),qe!==null&&(O=f(qe,O,Re),ze===null?fe=qe:ze.sibling=qe,ze=qe);return Ue&&Qi(U,Re),fe}for(ce=o(ce);!qe.done;Re++,qe=L.next())qe=B(ce,U,Re,qe.value,Y),qe!==null&&(t&&qe.alternate!==null&&ce.delete(qe.key===null?Re:qe.key),O=f(qe,O,Re),ze===null?fe=qe:ze.sibling=qe,ze=qe);return t&&ce.forEach(function(s1){return i(U,s1)}),Ue&&Qi(U,Re),fe}function Ze(U,O,L,Y){if(typeof L=="object"&&L!==null&&L.type===ie&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:e:{for(var fe=L.key;O!==null;){if(O.key===fe){if(fe=L.type,fe===ie){if(O.tag===7){a(U,O.sibling),Y=h(O,L.props.children),Y.return=U,U=Y;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Bs(fe)===O.type){a(U,O.sibling),Y=h(O,L.props),sl(Y,L),Y.return=U,U=Y;break e}a(U,O);break}else i(U,O);O=O.sibling}L.type===ie?(Y=Ps(L.props.children,U.mode,Y,L.key),Y.return=U,U=Y):(Y=$u(L.type,L.key,L.props,null,U.mode,Y),sl(Y,L),Y.return=U,U=Y)}return _(U);case W:e:{for(fe=L.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(U,O.sibling),Y=h(O,L.children||[]),Y.return=U,U=Y;break e}else{a(U,O);break}else i(U,O);O=O.sibling}Y=Tf(L,U.mode,Y),Y.return=U,U=Y}return _(U);case b:return L=Bs(L),Ze(U,O,L,Y)}if(ft(L))return oe(U,O,L,Y);if(k(L)){if(fe=k(L),typeof fe!="function")throw Error(s(150));return L=fe.call(L),ge(U,O,L,Y)}if(typeof L.then=="function")return Ze(U,O,ic(L),Y);if(L.$$typeof===me)return Ze(U,O,Wu(U,L),Y);rc(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(U,O.sibling),Y=h(O,L),Y.return=U,U=Y):(a(U,O),Y=Ef(L,U.mode,Y),Y.return=U,U=Y),_(U)):a(U,O)}return function(U,O,L,Y){try{rl=0;var fe=Ze(U,O,L,Y);return ja=null,fe}catch(ce){if(ce===La||ce===tc)throw ce;var ze=vn(29,ce,null,U.mode);return ze.lanes=Y,ze.return=U,ze}}}var Fs=Qp(!0),Kp=Qp(!1),xr=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Xu(t),Dp(t,null,a),i}return Yu(t,o,i,a),Xu(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Mo(t,a)}}function kf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function ol(){if(Uf){var t=Pa;if(t!==null)throw t}}function ll(t,i,a,o){Uf=!1;var h=t.updateQueue;xr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,_===null?f=j:_.next=j,_=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;_=0,G=j=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Oe&z)===z:(o&z)===z){z!==0&&z===Ua&&(Uf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,ge=E;z=i;var Ze=a;switch(ge.tag){case 1:if(oe=ge.payload,typeof oe=="function"){$=oe.call(Ze,$,z);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ge.payload,z=typeof oe=="function"?oe.call(Ze,$,z):oe,z==null)break e;$=S({},$,z);break e;case 2:xr=!0}}z=E.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=B,R=$):G=G.next=B,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=$),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),jr|=_,t.lanes=_,t.memoizedState=$}}function Yp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Xp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yp(a[t],i)}var za=D(null),sc=D(0);function $p(t,i){t=ir,Z(sc,t),Z(za,i),ir=t|i.baseLanes}function Pf(){Z(sc,ir),Z(za,za.current)}function Lf(){ir=sc.current,K(za),K(sc)}var En=D(null),Pn=null;function kr(t){var i=t.alternate;Z(gt,gt.current&1),Z(En,t),Pn===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(Pn=t)}function jf(t){Z(gt,gt.current),Z(En,t),Pn===null&&(Pn=t)}function Jp(t){t.tag===22?(Z(gt,gt.current),Z(En,t),Pn===null&&(Pn=t)):Ur()}function Ur(){Z(gt,gt.current),Z(En,En.current)}function Tn(t){K(En),Pn===t&&(Pn=null),K(gt)}var gt=D(0);function ac(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gd(a)||Qd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,be=null,$e=null,wt=null,oc=!1,qa=!1,Gs=!1,lc=0,ul=0,Ba=null,XS=0;function ct(){throw Error(s(321))}function zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function qf(t,i,a,o,h,f){return Xi=f,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?Vy:nd,Gs=!1,f=a(o,h),Gs=!1,qa&&(f=Wp(i,a,o,h)),Zp(t),f}function Zp(t){F.H=fl;var i=$e!==null&&$e.next!==null;if(Xi=0,wt=$e=be=null,oc=!1,ul=0,Ba=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Zu(t)&&(Rt=!0))}function Wp(t,i,a,o){be=t;var h=0;do{if(qa&&(Ba=null),ul=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,wt=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ky,f=i(a,o)}while(qa);return f}function $S(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(be.flags|=1024),i}function Bf(){var t=lc!==0;return lc=0,t}function Hf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Ff(t){if(oc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}oc=!1}Xi=0,wt=$e=be=null,qa=!1,ul=lc=0,Ba=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?be.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if($e===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=wt===null?be.memoizedState:wt.next;if(i!==null)wt=i,$e=t;else{if(t===null)throw be.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},wt===null?be.memoizedState=wt=t:wt=wt.next=t}return wt}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Ba===null&&(Ba=[]),t=Hp(Ba,t,i),i=be,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Vy:nd),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===me)return Gt(t)}throw Error(s(438,String(t)))}function Gf(t){var i=null,a=be.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=be.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),be.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function hc(t){var i=pt();return Qf(i,$e,t)}function Qf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var E=_=null,R=null,j=i,G=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Oe&$)===$:(Xi&$)===$){var z=j.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ua&&(G=!0);else if((Xi&z)===z){j=j.next,z===Ua&&(G=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=$,_=f):R=R.next=$,be.lanes|=z,jr|=z;$=j.action,Gs&&a(f,$),f=j.hasEagerState?j.eagerState:a(f,$)}else z={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=z,_=f):R=R.next=z,be.lanes|=$,jr|=$;j=j.next}while(j!==null&&j!==i);if(R===null?_=f:R.next=E,!_n(f,t.memoizedState)&&(Rt=!0,G&&(a=Pa,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Kf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);_n(f,i.memoizedState)||(Rt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function ey(t,i,a){var o=be,h=pt(),f=Ue;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,$f(iy.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Ha(9,{destroy:void 0},ny.bind(null,o,h,a,i),null),We===null)throw Error(s(349));f||(Xi&127)!==0||ty(o,i,a)}return a}function ty(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=be.updateQueue,i===null?(i=uc(),be.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ny(t,i,a,o){i.value=a,i.getSnapshot=o,ry(i)&&sy(t)}function iy(t,i,a){return a(function(){ry(i)&&sy(t)})}function ry(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function sy(t){var i=Us(t,2);i!==null&&dn(i,t,2)}function Yf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Gs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function ay(t,i,a,o){return t.baseState=a,Qf(t,$e,typeof o=="function"?o:$i)}function JS(t,i,a,o,h){if(mc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,oy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function oy(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=F.T,_={};F.T=_;try{var E=a(h,o),R=F.S;R!==null&&R(_,E),ly(t,i,E)}catch(j){Xf(t,i,j)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,o),ly(t,i,f)}catch(j){Xf(t,i,j)}}function ly(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){uy(t,i,o)},function(o){return Xf(t,i,o)}):uy(t,i,a)}function uy(t,i,a){i.status="fulfilled",i.value=a,cy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,oy(t,a)))}function Xf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,cy(i),i=i.next;while(i!==o)}t.action=null}function cy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function hy(t,i){return i}function fy(t,i){if(Ue){var a=We.formState;if(a!==null){e:{var o=be;if(Ue){if(nt){t:{for(var h=nt,f=Un;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Ln(h.nextSibling),o=h.data==="F!";break e}}Dr(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:i},a.queue=o,a=Oy.bind(null,be,o),o.dispatch=a,o=Yf(!1),f=td.bind(null,be,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=JS.bind(null,be,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function dy(t){var i=pt();return my(i,$e,t)}function my(t,i,a){if(i=Qf(t,i,hy)[0],t=hc($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=cl(i)}catch(_){throw _===La?tc:_}else o=i;i=pt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(be.flags|=2048,Ha(9,{destroy:void 0},ZS.bind(null,h,a),null)),[o,f,t]}function ZS(t,i){t.action=i}function gy(t){var i=pt(),a=$e;if(a!==null)return my(i,a,t);pt(),i=i.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ha(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=be.updateQueue,i===null&&(i=uc(),be.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function py(){return pt().memoizedState}function fc(t,i,a,o){var h=sn();be.flags|=t,h.memoizedState=Ha(1|i,{destroy:void 0},a,o===void 0?null:o)}function dc(t,i,a,o){var h=pt();o=o===void 0?null:o;var f=h.memoizedState.inst;$e!==null&&o!==null&&zf(o,$e.memoizedState.deps)?h.memoizedState=Ha(i,f,a,o):(be.flags|=t,h.memoizedState=Ha(1|i,f,a,o))}function yy(t,i){fc(8390656,8,t,i)}function $f(t,i){dc(2048,8,t,i)}function WS(t){be.flags|=4;var i=be.updateQueue;if(i===null)i=uc(),be.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function _y(t){var i=pt().memoizedState;return WS({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function vy(t,i){return dc(4,2,t,i)}function Ey(t,i){return dc(4,4,t,i)}function Ty(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ay(t,i,a){a=a!=null?a.concat([t]):null,dc(4,4,Ty.bind(null,i,t),a)}function Jf(){}function Sy(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&zf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function by(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&zf(i,o[1]))return o[0];if(o=t(),Gs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[o,i],o}function Zf(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=w_(),be.lanes|=t,jr|=t,a)}function wy(t,i,a,o){return _n(a,i)?a:za.current!==null?(t=Zf(t,a,o),_n(t,i)||(Rt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=w_(),be.lanes|=t,jr|=t,i)}function Ry(t,i,a,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var _=F.T,E={};F.T=E,td(t,!1,i,a);try{var R=h(),j=F.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=YS(R,o);hl(t,i,G,bn(t))}else hl(t,i,o,bn(t))}catch($){hl(t,i,{then:function(){},status:"rejected",reason:$},bn())}finally{re.p=f,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function eb(){}function Wf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Iy(t).queue;Ry(t,h,i,H,a===null?eb:function(){return Cy(t),a(o)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:H},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Cy(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),hl(t,i.next.queue,{},bn())}function ed(){return Gt(Cl)}function Ny(){return pt().memoizedState}function Dy(){return pt().memoizedState}function tb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Mr(a);var o=Vr(i,t,a);o!==null&&(dn(o,i,a),al(o,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function nb(t,i,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?xy(i,a):(a=_f(t,i,a,o),a!==null&&(dn(a,t,o),My(a,i,o)))}function Oy(t,i,a){var o=bn();hl(t,i,a,o)}function hl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))xy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,_))return Yu(t,i,h,0),We===null&&Ku(),!1}catch{}if(a=_f(t,i,h,o),a!==null)return dn(a,t,o),My(a,i,o),!0}return!1}function td(t,i,a,o){if(o={lane:2,revertLane:Md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(i)throw Error(s(479))}else i=_f(t,a,o,2),i!==null&&dn(i,t,2)}function mc(t){var i=t.alternate;return t===be||i!==null&&i===be}function xy(t,i){qa=oc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function My(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Mo(t,a)}}var fl={readContext:Gt,use:cc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};fl.useEffectEvent=ct;var Vy={readContext:Gt,use:cc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:yy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,fc(4194308,4,Ty.bind(null,i,t),a)},useLayoutEffect:function(t,i){return fc(4194308,4,t,i)},useInsertionEffect:function(t,i){fc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(Gs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Gs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=nb.bind(null,be,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Yf(t);var i=t.queue,a=Oy.bind(null,be,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,i){var a=sn();return Zf(a,t,i)},useTransition:function(){var t=Yf(!1);return t=Ry.bind(null,be,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=be,h=sn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(Oe&127)!==0||ty(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,yy(iy.bind(null,o,f,t),[t]),o.flags|=2048,Ha(9,{destroy:void 0},ny.bind(null,o,f,a,i),null),a},useId:function(){var t=sn(),i=We.identifierPrefix;if(Ue){var a=Ri,o=wi;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=XS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ed,useFormState:fy,useActionState:fy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=td.bind(null,be,!0,a),a.dispatch=i,[t,i]},useMemoCache:Gf,useCacheRefresh:function(){return sn().memoizedState=tb.bind(null,be)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},nd={readContext:Gt,use:cc,useCallback:Sy,useContext:Gt,useEffect:$f,useImperativeHandle:Ay,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:by,useReducer:hc,useRef:py,useState:function(){return hc($i)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=pt();return wy(a,$e.memoizedState,t,i)},useTransition:function(){var t=hc($i)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:ey,useId:Ny,useHostTransitionStatus:ed,useFormState:dy,useActionState:dy,useOptimistic:function(t,i){var a=pt();return ay(a,$e,t,i)},useMemoCache:Gf,useCacheRefresh:Dy};nd.useEffectEvent=_y;var ky={readContext:Gt,use:cc,useCallback:Sy,useContext:Gt,useEffect:$f,useImperativeHandle:Ay,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:by,useReducer:Kf,useRef:py,useState:function(){return Kf($i)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=pt();return $e===null?Zf(a,t,i):wy(a,$e.memoizedState,t,i)},useTransition:function(){var t=Kf($i)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:ey,useId:Ny,useHostTransitionStatus:ed,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=pt();return $e!==null?ay(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:Dy};ky.useEffectEvent=_y;function id(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=bn(),h=Mr(o);h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,o),i!==null&&(dn(i,t,o),al(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=bn(),h=Mr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,o),i!==null&&(dn(i,t,o),al(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),o=Mr(a);o.tag=2,i!=null&&(o.callback=i),i=Vr(t,o,a),i!==null&&(dn(i,t,a),al(i,t,a))}};function Uy(t,i,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function Py(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&rd.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ly(t){Qu(t)}function jy(t){console.error(t)}function zy(t){Qu(t)}function gc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function qy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,i)},a}function By(t){return t=Mr(t),t.tag=3,t}function Hy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){qy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){qy(i,a,o),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function ib(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Ic():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Dd(t,o,h)),!1;case 22:return a.flags|=65536,o===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Dd(t,o,h)),!1}throw Error(s(435,a.tag))}return Dd(t,o,h),Ic(),!1}if(Ue)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==bf&&(t=Error(s(422),{cause:o}),tl(Mn(t,a)))):(o!==bf&&(i=Error(s(423),{cause:o}),tl(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Mn(o,a),h=sd(t.stateNode,o,h),kf(t,h),ht!==4&&(ht=2)),!1;var f=Error(s(520),{cause:o});if(f=Mn(f,a),El===null?El=[f]:El.push(f),ht!==4&&(ht=2),i===null)return!0;o=Mn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sd(a.stateNode,o,t),kf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zr===null||!zr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=By(h),Hy(h,t,a,o),kf(a,h),!1}a=a.return}while(a!==null);return!1}var ad=Error(s(461)),Rt=!1;function Qt(t,i,a,o){i.child=t===null?Kp(i,null,a,o):Fs(i,t.child,a,o)}function Fy(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return zs(i),o=qf(t,i,a,_,f,h),E=Bf(),t!==null&&!Rt?(Hf(t,i,h),Ji(t,i,h)):(Ue&&E&&Af(i),i.flags|=1,Qt(t,i,o,h),i.child)}function Gy(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!vf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Qy(t,i,f,o,h)):(t=$u(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!md(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,o)&&t.ref===i.ref)return Ji(t,i,h)}return i.flags|=1,t=Gi(f,o),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=o=f,md(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Ji(t,i,h)}return od(t,i,a,o,h)}function Ky(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Yy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,f!==null?f.cachePool:null),f!==null?$p(i,f):Pf(),Jp(i);else return o=i.lanes=536870912,Yy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ec(i,f.cachePool),$p(i,f),Ur(),i.memoizedState=null):(t!==null&&ec(i,null),Pf(),Ur());return Qt(t,i,h,a),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Yy(t,i,a,o,h){var f=Of();return f=f===null?null:{parent:bt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&ec(i,null),Pf(),Jp(i),t!==null&&ka(t,i,o,!0),i.childLanes=h,null}function pc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Xy(t,i,a){return Fs(i,t.child,null,a),t=pc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function rb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(o.mode==="hidden")return t=pc(i,o),i.lanes=536870912,dl(null,t);if(jf(i),(t=nt)?(t=ov(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=xp(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Dr(i);return i.lanes=536870912,null}return pc(i,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(jf(i),h)if(i.flags&256)i.flags&=-257,i=Xy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||ka(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(o=We,o!==null&&(_=Vo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Us(t,_),dn(o,t,_),ad;Ic(),i=Xy(t,i,a)}else t=f.treeContext,nt=Ln(_.nextSibling),Ft=i,Ue=!0,Nr=null,Un=!1,t!==null&&kp(i,t),i=pc(i,o),i.flags|=4096;return i}return t=Gi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function od(t,i,a,o,h){return zs(i),a=qf(t,i,a,o,void 0,h),o=Bf(),t!==null&&!Rt?(Hf(t,i,h),Ji(t,i,h)):(Ue&&o&&Af(i),i.flags|=1,Qt(t,i,a,h),i.child)}function $y(t,i,a,o,h,f){return zs(i),i.updateQueue=null,a=Wp(i,o,a,h),Zp(t),o=Bf(),t!==null&&!Rt?(Hf(t,i,f),Ji(t,i,f)):(Ue&&o&&Af(i),i.flags|=1,Qt(t,i,a,f),i.child)}function Jy(t,i,a,o,h){if(zs(i),i.stateNode===null){var f=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Gt(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Mf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Gt(_):Oa,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(id(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&rd.enqueueReplaceState(f,f.state,null),ll(i,o,f,h),ol(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var E=i.memoizedProps,R=Qs(a,E);f.props=R;var j=f.context,G=a.contextType;_=Oa,typeof G=="object"&&G!==null&&(_=Gt(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==_)&&Py(i,f,o,_),xr=!1;var z=i.memoizedState;f.state=z,ll(i,o,f,h),ol(),j=i.memoizedState,E||z!==j||xr?(typeof $=="function"&&(id(i,a,$,o),j=i.memoizedState),(R=xr||Uy(i,a,R,o,z,j,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=_,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Vf(t,i),_=i.memoizedProps,G=Qs(a,_),f.props=G,$=i.pendingProps,z=f.context,j=a.contextType,R=Oa,typeof j=="object"&&j!==null&&(R=Gt(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==$||z!==R)&&Py(i,f,o,R),xr=!1,z=i.memoizedState,f.state=z,ll(i,o,f,h),ol();var B=i.memoizedState;_!==$||z!==B||xr||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof E=="function"&&(id(i,a,E,o),B=i.memoizedState),(G=xr||Uy(i,a,G,o,z,B,R)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,yc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=Ji(t,i,h),t}function Zy(t,i,a,o){return Ls(),i.flags|=256,Qt(t,i,a,o),i.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:qp()}}function cd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function Wy(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?kr(i):Ur(),(t=nt)?(t=ov(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=xp(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Dr(i);return Qd(t)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ur(),h=i.mode,E=_c({mode:"hidden",children:E},h),o=Ps(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=ud(a),o.childLanes=cd(t,_,a),i.memoizedState=ld,dl(null,o)):(kr(i),hd(i,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(kr(i),i.flags&=-257,i=fd(t,i,a)):i.memoizedState!==null?(Ur(),i.child=t.child,i.flags|=128,i=null):(Ur(),E=o.fallback,h=i.mode,o=_c({mode:"visible",children:o.children},h),E=Ps(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Fs(i,t.child,null,a),o=i.child,o.memoizedState=ud(a),o.childLanes=cd(t,_,a),i.memoizedState=ld,i=dl(null,o));else if(kr(i),Qd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(s(419)),o.stack="",o.digest=_,tl({value:o,source:null,stack:null}),i=fd(t,i,a)}else if(Rt||ka(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=We,_!==null&&(o=Vo(_,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Us(t,o),dn(_,t,o),ad;Gd(E)||Ic(),i=fd(t,i,a)}else Gd(E)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,nt=Ln(E.nextSibling),Ft=i,Ue=!0,Nr=null,Un=!1,t!==null&&kp(i,t),i=hd(i,o.children),i.flags|=4096);return i}return h?(Ur(),E=o.fallback,h=i.mode,R=t.child,j=R.sibling,o=Gi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=Gi(j,E):(E=Ps(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,dl(null,o),o=i.child,E=t.child.memoizedState,E===null?E=ud(a):(h=E.cachePool,h!==null?(R=bt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=qp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=cd(t,_,a),i.memoizedState=ld,dl(t.child,o)):(kr(i),a=t.child,t=a.sibling,a=Gi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function hd(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function fd(t,i,a){return Fs(i,t.child,null,a),t=hd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function e_(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),If(t.return,i,a)}function dd(t,i,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function t_(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=gt.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,Z(gt,_),Qt(t,i,o,a),o=Ue?el:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e_(t,a,i);else if(t.tag===19)e_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),dd(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}dd(i,!0,a,null,f,o);break;case"together":dd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Ji(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ka(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Gi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Gi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function md(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function sb(t,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),Or(i,bt,t.memoizedState.cache),Ls();break;case 27:case 5:_s(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wy(t,i,a):(kr(i),t=Ji(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(ka(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return t_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(gt,gt.current),o)break;return null;case 22:return i.lanes=0,Ky(t,i,a,i.pendingProps);case 24:Or(i,bt,t.memoizedState.cache)}return Ji(t,i,a)}function n_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!md(t,a)&&(i.flags&128)===0)return Rt=!1,sb(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ue&&(i.flags&1048576)!==0&&Vp(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Bs(i.elementType),i.type=t,typeof t=="function")vf(t)?(o=Qs(t,o),i.tag=1,i=Jy(null,i,t,o,a)):(i.tag=0,i=od(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===je){i.tag=11,i=Fy(null,i,t,o,a);break e}else if(h===C){i.tag=14,i=Gy(null,i,t,o,a);break e}}throw i=et(t)||t,Error(s(306,i,""))}}return i;case 0:return od(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Qs(o,i.pendingProps),Jy(t,i,o,h,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Vf(t,i),ll(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Or(i,bt,o),o!==f.cache&&Cf(i,[bt],a,!0),ol(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Zy(t,i,o,a);break e}else if(o!==h){h=Mn(Error(s(424)),i),tl(h),i=Zy(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=Ln(t.firstChild),Ft=i,Ue=!0,Nr=null,Un=!0,a=Kp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),o===h){i=Ji(t,i,a);break e}Qt(t,i,o,a)}i=i.child}return i;case 26:return yc(t,i),t===null?(a=dv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,o=Vc(we.current).createElement(a),o[Tt]=i,o[Lt]=t,Kt(o,a,t),At(o),i.stateNode=o):i.memoizedState=dv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _s(i),t===null&&Ue&&(o=i.stateNode=cv(i.type,i.pendingProps,we.current),Ft=i,Un=!0,h=nt,Fr(i.type)?(Kd=h,nt=Ln(o.firstChild)):nt=h),Qt(t,i,i.pendingProps.children,a),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=o=nt)&&(o=kb(o,i.type,i.pendingProps,Un),o!==null?(i.stateNode=o,Ft=i,nt=Ln(o.firstChild),Un=!1,h=!0):h=!1),h||Dr(i)),_s(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Bd(h,f)?o=null:_!==null&&Bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,$S,null,null,a),Cl._currentValue=h),yc(t,i),Qt(t,i,o,a),i.child;case 6:return t===null&&Ue&&((t=a=nt)&&(a=Ub(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ft=i,nt=null,t=!0):t=!1),t||Dr(i)),null;case 13:return Wy(t,i,a);case 4:return xt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Fs(i,null,o,a):Qt(t,i,o,a),i.child;case 11:return Fy(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Or(i,i.type,o.value),Qt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,zs(i),h=Gt(h),o=o(h),i.flags|=1,Qt(t,i,o,a),i.child;case 14:return Gy(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return t_(t,i,a);case 31:return rb(t,i,a);case 22:return Ky(t,i,a,i.pendingProps);case 24:return zs(i),o=Gt(bt),t===null?(h=Of(),h===null&&(h=We,f=Nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Mf(i),Or(i,bt,h)):((t.lanes&a)!==0&&(Vf(t,i),ll(i,null,null,a),ol()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,bt,o)):(o=f.cache,Or(i,bt,o),o!==h.cache&&Cf(i,[bt],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function gd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(N_())t.flags|=8192;else throw Hs=nc,xf}else t.flags&=-16777217}function i_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_v(i))if(N_())t.flags|=8192;else throw Hs=nc,xf}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wu():536870912,t.lanes|=i,Ka|=i)}function ml(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function ab(t,i,a){var o=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Yi(bt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wf())),it(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(Zi(i),f!==null?(it(i),i_(i,f)):(it(i),gd(i,h,null,o,a))):f?f!==t.memoizedState?(Zi(i),it(i),i_(i,f)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Zi(i),it(i),gd(i,h,t,o,a)),null;case 27:if(fa(i),a=we.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Zi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ne.current,Va(i)?Up(i):(t=cv(h,o,a),i.stateNode=t,Zi(i))}return it(i),null;case 5:if(fa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Zi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(f=ne.current,Va(i))Up(i);else{var _=Vc(we.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Tt]=i,f[Lt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Kt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Zi(i)}}return it(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Zi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,Va(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||W_(t.nodeValue,a)),t||Dr(i,!0)}else t=Vc(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Va(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&Pd(i.stateNode.containerInfo),it(i),null;case 10:return Yi(i.type),it(i),null;case 19:if(K(gt),o=i.memoizedState,o===null)return it(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)ml(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=ac(t),f!==null){for(i.flags|=128,ml(o,!1),t=f.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Op(a,t),a=a.sibling;return Z(gt,gt.current&1|2),Ue&&Qi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&nn()>bc&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304)}else{if(!h)if(t=ac(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ue)return it(i),null}else 2*nn()-o.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=gt.current,Z(gt,h?a&1|2:a&1),Ue&&Qi(i,o.treeForkCount),t):(it(i),null);case 22:case 23:return Tn(i),Lf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&K(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(bt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ob(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(bt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(gt),null;case 4:return at(),null;case 10:return Yi(i.type),null;case 22:case 23:return Tn(i),Lf(),t!==null&&K(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(bt),null;case 25:return null;default:return null}}function r_(t,i){switch(Sf(i),i.tag){case 3:Yi(bt),at();break;case 26:case 27:case 5:fa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:K(gt);break;case 10:Yi(i.type);break;case 22:case 23:Tn(i),Lf(),t!==null&&K(qs);break;case 24:Yi(bt)}}function gl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Ye(i,i.return,E)}}function Pr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var R=a,j=E;try{j()}catch(G){Ye(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Ye(i,i.return,G)}}function s_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Xp(i,a)}catch(o){Ye(t,t.return,o)}}}function a_(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ye(t,i,o)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ye(t,i,h)}}function Ii(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function o_(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function pd(t,i,a){try{var o=t.stateNode;Nb(o,t.type,a,i),o[Lt]=i}catch(h){Ye(t,t.return,h)}}function l_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(o!==4&&(o===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(_d(t,i,a),t=t.sibling;t!==null;)_d(t,i,a),t=t.sibling}function Ec(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,i,a),t=t.sibling;t!==null;)Ec(t,i,a),t=t.sibling}function u_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,o,a),i[Tt]=t,i[Lt]=a}catch(f){Ye(t,t.return,f)}}var Wi=!1,It=!1,vd=!1,c_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function lb(t,i){if(t=t.containerInfo,zd=qc,t=Ap(t),ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,R=-1,j=0,G=0,$=t,z=null;t:for(;;){for(var B;$!==a||h!==0&&$.nodeType!==3||(E=_+h),$!==f||o!==0&&$.nodeType!==3||(R=_+o),$.nodeType===3&&(_+=$.nodeValue.length),(B=$.firstChild)!==null;)z=$,$=B;for(;;){if($===t)break t;if(z===a&&++j===h&&(E=_),z===f&&++G===o&&(R=_),(B=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},qc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=Qs(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function h_(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),o&4&&gl(5,a);break;case 1:if(tr(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}o&64&&s_(a),o&512&&pl(a,a.return);break;case 3:if(tr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Xp(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&o&4&&u_(a);case 26:case 5:tr(t,a),i===null&&o&4&&o_(a),o&512&&pl(a,a.return);break;case 12:tr(t,a);break;case 31:tr(t,a),o&4&&m_(t,a);break;case 13:tr(t,a),o&4&&g_(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yb.bind(null,a),Pb(t,a))));break;case 22:if(o=a.memoizedState!==null||Wi,!o){i=i!==null&&i.memoizedState!==null||It,h=Wi;var f=It;Wi=o,(It=i)&&!f?nr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Wi=h,It=f}break;case 30:break;default:tr(t,a)}}function f_(t){var i=t.alternate;i!==null&&(t.alternate=null,f_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function er(t,i,a){for(a=a.child;a!==null;)d_(t,i,a),a=a.sibling}function d_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:It||Ii(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ii(a,i);var o=lt,h=un;Fr(a.type)&&(lt=a.stateNode,un=!1),er(t,i,a),wl(a.stateNode),lt=o,un=h;break;case 5:It||Ii(a,i);case 6:if(o=lt,h=un,lt=null,er(t,i,a),lt=o,un=h,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Ye(a,i,f)}else try{lt.removeChild(a.stateNode)}catch(f){Ye(a,i,f)}break;case 18:lt!==null&&(un?(t=lt,sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):sv(lt,a.stateNode));break;case 4:o=lt,h=un,lt=a.stateNode.containerInfo,un=!0,er(t,i,a),lt=o,un=h;break;case 0:case 11:case 14:case 15:Pr(2,a,i),It||Pr(4,a,i),er(t,i,a);break;case 1:It||(Ii(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&a_(a,i,o)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:It=(o=It)||a.memoizedState!==null,er(t,i,a),It=o;break;default:er(t,i,a)}}function m_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){Ye(i,i.return,a)}}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){Ye(i,i.return,a)}}function ub(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new c_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new c_),i;default:throw Error(s(435,t.tag))}}function Tc(t,i){var a=ub(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=_b.bind(null,t,o);o.then(h,h)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Fr(E.type)){lt=E.stateNode,un=!1;break e}break;case 5:lt=E.stateNode,un=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(lt===null)throw Error(s(160));d_(f,_,h),lt=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)p_(i,t),i=i.sibling}var ei=null;function p_(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),o&4&&(Pr(3,t,t.return),gl(3,t),Pr(5,t,t.return));break;case 1:cn(i,t),hn(t),o&512&&(It||a===null||Ii(a,a.return)),o&64&&Wi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ei;if(cn(i,t),hn(t),o&512&&(It||a===null||Ii(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Kt(f,o,a),f[Tt]=t,At(f),o=f;break e;case"link":var _=pv("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=pv("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Tt]=t,At(f),o=f}t.stateNode=o}else yv(h,t.type,t.stateNode);else t.stateNode=gv(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?yv(h,t.type,t.stateNode):gv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),o&512&&(It||a===null||Ii(a,a.return)),a!==null&&o&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),o&512&&(It||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(oe){Ye(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,pd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(vd=!0);break;case 6:if(cn(i,t),hn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){Ye(t,t.return,oe)}}break;case 3:if(Pc=null,h=ei,ei=kc(i.containerInfo),cn(i,t),ei=h,hn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(oe){Ye(t,t.return,oe)}vd&&(vd=!1,y_(t));break;case 4:o=ei,ei=kc(t.stateNode.containerInfo),cn(i,t),hn(t),ei=o;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tc(t,o)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tc(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=Wi,G=It;if(Wi=j||h,It=G||R,cn(i,t),It=G,Wi=j,hn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Wi||It||Ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){Ye(R,R.return,oe)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(oe){Ye(R,R.return,oe)}}}else if(i.tag===18){if(a===null){R=i;try{var B=R.stateNode;h?av(B,!0):av(R.stateNode,!1)}catch(oe){Ye(R,R.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tc(t,a))));break;case 19:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tc(t,o)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(l_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=yd(t);Ec(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var E=yd(t);Ec(t,E,_);break;case 3:case 4:var R=a.stateNode.containerInfo,j=yd(t);_d(t,j,R);break;default:throw Error(s(161))}}catch(G){Ye(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function y_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;y_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)h_(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Ks(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&a_(i,i.return,a),Ks(i);break;case 27:wl(i.stateNode);case 26:case 5:Ii(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function nr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:nr(h,f,a),gl(4,f);break;case 1:if(nr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ye(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Yp(R[h],E)}catch(j){Ye(o,o.return,j)}}a&&_&64&&s_(f),pl(f,f.return);break;case 27:u_(f);case 26:case 5:nr(h,f,a),a&&o===null&&_&4&&o_(f),pl(f,f.return);break;case 12:nr(h,f,a);break;case 31:nr(h,f,a),a&&_&4&&m_(h,f);break;case 13:nr(h,f,a),a&&_&4&&g_(h,f);break;case 22:f.memoizedState===null&&nr(h,f,a),pl(f,f.return);break;case 30:break;default:nr(h,f,a)}i=i.sibling}}function Ed(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Td(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function ti(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)__(t,i,a,o),i=i.sibling}function __(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,o),h&2048&&gl(9,i);break;case 1:ti(t,i,a,o);break;case 3:ti(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){ti(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ye(i,i.return,R)}}else ti(t,i,a,o);break;case 31:ti(t,i,a,o);break;case 13:ti(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?ti(t,i,a,o):yl(t,i):f._visibility&2?ti(t,i,a,o):(f._visibility|=2,Fa(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ed(_,i);break;case 24:ti(t,i,a,o),h&2048&&Td(i.alternate,i);break;default:ti(t,i,a,o)}}function Fa(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,E=a,R=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:Fa(f,_,E,R,h),gl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Fa(f,_,E,R,h):yl(f,_):(G._visibility|=2,Fa(f,_,E,R,h)),h&&j&2048&&Ed(_.alternate,_);break;case 24:Fa(f,_,E,R,h),h&&j&2048&&Td(_.alternate,_);break;default:Fa(f,_,E,R,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:yl(a,o),h&2048&&Ed(o.alternate,o);break;case 24:yl(a,o),h&2048&&Td(o.alternate,o);break;default:yl(a,o)}i=i.sibling}}var _l=8192;function Ga(t,i,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)v_(t,i,a),t=t.sibling}function v_(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&_l&&t.memoizedState!==null&&Xb(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var o=ei;ei=kc(t.stateNode.containerInfo),Ga(t,i,a),ei=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=_l,_l=16777216,Ga(t,i,a),_l=o):Ga(t,i,a));break;default:Ga(t,i,a)}}function E_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];zt=o,A_(o,t)}E_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T_(t),t=t.sibling}function T_(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ac(t)):vl(t);break;default:vl(t)}}function Ac(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];zt=o,A_(o,t)}E_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),Ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(i));break;default:Ac(i)}t=t.sibling}}function A_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,zt=o;else e:for(a=t;zt!==null;){o=zt;var h=o.sibling,f=o.return;if(f_(o),o===a){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var cb={getCacheForType:function(t){var i=Gt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(bt).controller.signal}},hb=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ne=null,Oe=0,Ke=0,An=null,Lr=!1,Qa=!1,Ad=!1,ir=0,ht=0,jr=0,Ys=0,Sd=0,Sn=0,Ka=0,El=null,fn=null,bd=!1,Sc=0,S_=0,bc=1/0,wc=null,zr=null,Vt=0,qr=null,Ya=null,rr=0,wd=0,Rd=null,b_=null,Tl=0,Id=null;function bn(){return(He&2)!==0&&Oe!==0?Oe&-Oe:F.T!==null?Md():Ru()}function w_(){if(Sn===0)if((Oe&536870912)===0||Ue){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function dn(t,i,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Br(t,Oe,Sn,!1)),As(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Ys|=a),ht===4&&Br(t,Oe,Sn,!1)),Ci(t))}function R_(t,i,a){if((He&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=o?mb(t,i):Nd(t,i,!0),f=o;do{if(h===0){Qa&&!o&&Br(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!fb(a)){h=Nd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=t;h=El;var R=E.current.memoizedState.isDehydrated;if(R&&(Xa(E,_).flags|=256),_=Nd(E,_,!1),_!==2){if(Ad&&!R){E.errorRecoveryDisabledLanes|=f,Ys|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Xa(t,0),Br(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(o,i,Sn,!Lr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sc+300-nn(),10<h)){if(Br(o,i,Sn,!Lr),ci(o,0,!0)!==0)break e;rr=i,o.timeoutHandle=iv(I_.bind(null,o,a,fn,wc,bd,i,Sn,Ys,Ka,Lr,f,"Throttled",-0,0),h);break e}I_(o,a,fn,wc,bd,i,Sn,Ys,Ka,Lr,f,null,-0,0)}}break}while(!0);Ci(t)}function I_(t,i,a,o,h,f,_,E,R,j,G,$,z,B){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},v_(i,f,$);var oe=(f&62914560)===f?Sc-nn():(f&4194048)===f?S_-nn():0;if(oe=$b($,oe),oe!==null){rr=f,t.cancelPendingCommit=oe(k_.bind(null,t,i,f,a,o,h,_,E,R,G,$,null,z,B)),Br(t,f,_,!j);return}}k_(t,i,f,a,o,h,_,E,R)}function fb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,a,o){i&=~Sd,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-dt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Ss(t,a,i)}function Rc(){return(He&6)===0?(Al(0),!1):!0}function Cd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Ki=js=null,Ff(t),ja=null,rl=0,t=Ne;for(;t!==null;)r_(t.alternate,t),t=t.return;Ne=null}}function Xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rr=0,Cd(),We=t,Ne=a=Gi(t.current,null),Oe=i,Ke=0,An=null,Lr=!1,Qa=Gn(t,i),Ad=!1,Ka=Sn=Sd=Ys=jr=ht=0,fn=El=null,bd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-dt(o),f=1<<h;i|=t[h],o&=~f}return ir=i,Ku(),a}function C_(t,i){be=null,F.H=fl,i===La||i===tc?(i=Fp(),Ke=3):i===xf?(i=Fp(),Ke=4):Ke=i===ad?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Ne===null&&(ht=1,gc(t,Mn(i,t.current)))}function N_(){var t=En.current;return t===null?!0:(Oe&4194048)===Oe?Pn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Pn:!1}function D_(){var t=F.H;return F.H=fl,t===null?fl:t}function O_(){var t=F.A;return F.A=cb,t}function Ic(){ht=4,Lr||(Oe&4194048)!==Oe&&En.current!==null||(Qa=!0),(jr&134217727)===0&&(Ys&134217727)===0||We===null||Br(We,Oe,Sn,!1)}function Nd(t,i,a){var o=He;He|=2;var h=D_(),f=O_();(We!==t||Oe!==i)&&(wc=null,Xa(t,i)),i=!1;var _=ht;e:do try{if(Ke!==0&&Ne!==null){var E=Ne,R=An;switch(Ke){case 8:Cd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var j=Ke;if(Ke=0,An=null,$a(t,E,R,j),a&&Qa){_=0;break e}break;default:j=Ke,Ke=0,An=null,$a(t,E,R,j)}}db(),_=ht;break}catch(G){C_(t,G)}while(!0);return i&&t.shellSuspendCounter++,Ki=js=null,He=o,F.H=h,F.A=f,Ne===null&&(We=null,Oe=0,Ku()),_}function db(){for(;Ne!==null;)x_(Ne)}function mb(t,i){var a=He;He|=2;var o=D_(),h=O_();We!==t||Oe!==i?(wc=null,bc=nn()+500,Xa(t,i)):Qa=Gn(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var f=An;t:switch(Ke){case 1:Ke=0,An=null,$a(t,i,f,1);break;case 2:case 9:if(Bp(f)){Ke=0,An=null,M_(i);break}i=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),Ci(t)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Bp(f)?(Ke=0,An=null,M_(i)):(Ke=0,An=null,$a(t,i,f,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var E=Ne;if(_?_v(_):E.stateNode.complete){Ke=0,An=null;var R=E.sibling;if(R!==null)Ne=R;else{var j=E.return;j!==null?(Ne=j,Cc(j)):Ne=null}break t}}Ke=0,An=null,$a(t,i,f,5);break;case 6:Ke=0,An=null,$a(t,i,f,6);break;case 8:Cd(),ht=6;break e;default:throw Error(s(462))}}gb();break}catch(G){C_(t,G)}while(!0);return Ki=js=null,F.H=o,F.A=h,He=a,Ne!==null?0:(We=null,Oe=0,Ku(),ht)}function gb(){for(;Ne!==null&&!sf();)x_(Ne)}function x_(t){var i=n_(t.alternate,t,ir);t.memoizedProps=t.pendingProps,i===null?Cc(t):Ne=i}function M_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=$y(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=$y(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Ff(i);default:r_(a,i),i=Ne=Op(i,ir),i=n_(a,i,ir)}t.memoizedProps=t.pendingProps,i===null?Cc(t):Ne=i}function $a(t,i,a,o){Ki=js=null,Ff(i),ja=null,rl=0;var h=i.return;try{if(ib(t,h,i,a,Oe)){ht=1,gc(t,Mn(a,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;ht=1,gc(t,Mn(a,t.current)),Ne=null;return}i.flags&32768?(Ue||o===1?t=!0:Qa||(Oe&536870912)!==0?t=!1:(Lr=t=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),V_(i,t)):Cc(i)}function Cc(t){var i=t;do{if((i.flags&32768)!==0){V_(i,Lr);return}t=i.return;var a=ab(i.alternate,i,ir);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function V_(t,i){do{var a=ob(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function k_(t,i,a,o,h,f,_,E,R){t.cancelPendingCommit=null;do Nc();while(Vt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=yf,lf(t,a,f,_,E,R),t===We&&(Ne=We=null,Oe=0),Ya=i,qr=t,rr=a,wd=f,Rd=h,b_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vb(_r,function(){return z_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=re.p,re.p=2,_=He,He|=4;try{lb(t,i,a)}finally{He=_,re.p=h,F.T=o}}Vt=1,U_(),P_(),L_()}}function U_(){if(Vt===1){Vt=0;var t=qr,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=re.p;re.p=2;var h=He;He|=4;try{p_(i,t);var f=qd,_=Ap(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Tp(E.ownerDocument.documentElement,E)){if(R!==null&&ff(E)){var j=R.start,G=R.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var B=z.getSelection(),oe=E.textContent.length,ge=Math.min(R.start,oe),Ze=R.end===void 0?ge:Math.min(R.end,oe);!B.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var U=Ep(E,ge),O=Ep(E,Ze);if(U&&O&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=$.createRange();L.setStart(U.node,U.offset),B.removeAllRanges(),ge>Ze?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for($=[],B=E;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}qc=!!zd,qd=zd=null}finally{He=h,re.p=o,F.T=a}}t.current=i,Vt=2}}function P_(){if(Vt===2){Vt=0;var t=qr,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=re.p;re.p=2;var h=He;He|=4;try{h_(t,i.alternate,i)}finally{He=h,re.p=o,F.T=a}}Vt=3}}function L_(){if(Vt===4||Vt===3){Vt=0,vu();var t=qr,i=Ya,a=rr,o=b_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ya=qr=null,j_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),qi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=re.p,re.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{F.T=i,re.p=h}}(rr&3)!==0&&Nc(),Ci(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?Tl++:(Tl=0,Id=t):Tl=0,Al(0)}}function j_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Nc(){return U_(),P_(),L_(),z_()}function z_(){if(Vt!==5)return!1;var t=qr,i=wd;wd=0;var a=qi(rr),o=F.T,h=re.p;try{re.p=32>a?32:a,F.T=null,a=Rd,Rd=null;var f=qr,_=rr;if(Vt=0,Ya=qr=null,rr=0,(He&6)!==0)throw Error(s(331));var E=He;if(He|=4,T_(f.current),__(f,f.current,_,a),He=E,Al(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{re.p=h,F.T=o,j_(t,i)}}function q_(t,i,a){i=Mn(a,i),i=sd(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(As(t,2),Ci(t))}function Ye(t,i,a){if(t.tag===3)q_(t,t,a);else for(;i!==null;){if(i.tag===3){q_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zr===null||!zr.has(o))){t=Mn(a,t),a=By(2),o=Vr(i,a,2),o!==null&&(Hy(a,o,i,t),As(o,2),Ci(o));break}}i=i.return}}function Dd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new hb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Ad=!0,h.add(a),t=pb.bind(null,t,i,a),i.then(t,t))}function pb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>nn()-Sc?(He&2)===0&&Xa(t,0):Sd|=a,Ka===Oe&&(Ka=0)),Ci(t)}function B_(t,i){i===0&&(i=wu()),t=Us(t,i),t!==null&&(As(t,i),Ci(t))}function yb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),B_(t,a)}function _b(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),B_(t,a)}function vb(t,i){return Mt(t,i)}var Dc=null,Ja=null,Od=!1,Oc=!1,xd=!1,Hr=0;function Ci(t){t!==Ja&&t.next===null&&(Ja===null?Dc=Ja=t:Ja=Ja.next=t),Oc=!0,Od||(Od=!0,Tb())}function Al(t,i){if(!xd&&Oc){xd=!0;do for(var a=!1,o=Dc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Q_(o,f))}else f=Oe,f=ci(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gn(o,f)||(a=!0,Q_(o,f));o=o.next}while(a);xd=!1}}function Eb(){H_()}function H_(){Oc=Od=!1;var t=0;Hr!==0&&Ob()&&(t=Hr);for(var i=nn(),a=null,o=Dc;o!==null;){var h=o.next,f=F_(o,i);f===0?(o.next=null,a===null?Dc=h:a.next=h,h===null&&(Ja=a)):(a=o,(t!==0||(f&3)!==0)&&(Oc=!0)),o=h}Vt!==0&&Vt!==5||Al(t),Hr!==0&&(Hr=0)}function F_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-dt(f),E=1<<_,R=h[_];R===-1?((E&a)===0||(E&o)!==0)&&(h[_]=of(E,i)):R<=i&&(t.expiredLanes|=E),f&=~E}if(i=We,a=Oe,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&yr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&yr(o),qi(a)){case 2:case 8:a=xo;break;case 32:a=_r;break;case 268435456:a=Eu;break;default:a=_r}return o=G_.bind(null,t),a=Mt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&yr(o),t.callbackPriority=2,t.callbackNode=null,2}function G_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nc()&&t.callbackNode!==a)return null;var o=Oe;return o=ci(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(R_(t,o,i),F_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?G_.bind(null,t):null)}function Q_(t,i){if(Nc())return null;R_(t,i,!0)}function Tb(){Mb(function(){(He&6)!==0?Mt(Oo,Eb):H_()})}function Md(){if(Hr===0){var t=Ua;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Hr=t}return Hr}function K_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function Y_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ab(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=K_((h[Lt]||null).action),_=o.submitter;_&&(i=(i=_[Lt]||null)?K_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new Ti("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hr!==0){var R=_?Y_(h,_):new FormData(h);Wf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=_?Y_(h,_):new FormData(h),Wf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Vd=0;Vd<pf.length;Vd++){var kd=pf[Vd],Sb=kd.toLowerCase(),bb=kd[0].toUpperCase()+kd.slice(1);Wn(Sb,"on"+bb)}Wn(wp,"onAnimationEnd"),Wn(Rp,"onAnimationIteration"),Wn(Ip,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(zS,"onTransitionRun"),Wn(qS,"onTransitionStart"),Wn(BS,"onTransitionCancel"),Wn(Cp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function X_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Qu(G)}h.currentTarget=null,f=R}else for(_=0;_<o.length;_++){if(E=o[_],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Qu(G)}h.currentTarget=null,f=R}}}}function De(t,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var o=t+"__bubble";a.has(o)||($_(i,t,2,!1),a.add(o))}function Ud(t,i,a){var o=0;i&&(o|=4),$_(a,t,o,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[xc]){t[xc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(wb.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xc]||(i[xc]=!0,Ud("selectionchange",!1,i))}}function $_(t,i,a,o){switch(wv(i)){case 2:var h=Wb;break;case 8:h=e1;break;default:h=Zd}a=h.bind(null,i,a,t),h=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ld(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=mi(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){o=f=_;continue e}E=E.parentNode}}o=o.return}br(function(){var j=f,G=Nn(a),$=[];e:{var z=Np.get(t);if(z!==void 0){var B=Ti,oe=t;switch(t){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":B=Hu;break;case"focusin":oe="focus",B=xs;break;case"focusout":oe="blur",B=xs;break;case"beforeblur":case"afterblur":B=xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case wp:case Rp:case Ip:B=Uu;break;case Cp:B=T;break;case"scroll":case"scrollend":B=Ko;break;case"wheel":B=q;break;case"copy":case"cut":case"paste":B=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Fi;break;case"toggle":case"beforetoggle":B=Se}var ge=(i&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),U=ge?z!==null?z+"Capture":null:z;ge=[];for(var O=j,L;O!==null;){var Y=O;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||U===null||(Y=Xn(O,U),Y!=null&&ge.push(bl(O,Y,L))),Ze)break;O=O.return}0<ge.length&&(z=new B(z,oe,null,a,G),$.push({event:z,listeners:ge}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&a!==Fo&&(oe=a.relatedTarget||a.fromElement)&&(mi(oe)||oe[fi]))break e;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(oe=a.relatedTarget||a.toElement,B=j,oe=oe?mi(oe):null,oe!==null&&(Ze=u(oe),ge=oe.tag,oe!==Ze||ge!==5&&ge!==27&&ge!==6)&&(oe=null)):(B=null,oe=j),B!==oe)){if(ge=Yo,Y="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Fi,Y="onPointerLeave",U="onPointerEnter",O="pointer"),Ze=B==null?z:pn(B),L=oe==null?z:pn(oe),z=new ge(Y,O+"leave",B,a,G),z.target=Ze,z.relatedTarget=L,Y=null,mi(G)===j&&(ge=new ge(U,O+"enter",oe,a,G),ge.target=L,ge.relatedTarget=Ze,Y=ge),Ze=Y,B&&oe)t:{for(ge=Rb,U=B,O=oe,L=0,Y=U;Y;Y=ge(Y))L++;Y=0;for(var fe=O;fe;fe=ge(fe))Y++;for(;0<L-Y;)U=ge(U),L--;for(;0<Y-L;)O=ge(O),Y--;for(;L--;){if(U===O||O!==null&&U===O.alternate){ge=U;break t}U=ge(U),O=ge(O)}ge=null}else ge=null;B!==null&&J_($,z,B,ge,!1),oe!==null&&Ze!==null&&J_($,Ze,oe,ge,!0)}}e:{if(z=j?pn(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ze=mp;else if(fp(z))if(gp)ze=PS;else{ze=kS;var ce=VS}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Ea(j.elementType)&&(ze=mp):ze=US;if(ze&&(ze=ze(t,j))){dp($,ze,a,G);break e}ce&&ce(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&qo(z,"number",z.value)}switch(ce=j?pn(j):window,t){case"focusin":(fp(ce)||ce.contentEditable==="true")&&(Ca=ce,df=j,Wo=null);break;case"focusout":Wo=df=Ca=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Sp($,a,G);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":Sp($,a,G)}var Re;if(Be)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ia?Ms(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(bi&&a.locale!=="ko"&&(Ia||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ia&&(Re=Qo()):(Ei=G,Go="value"in Ei?Ei.value:Ei.textContent,Ia=!0)),ce=Mc(j,xe),0<ce.length&&(xe=new Si(xe,t,null,a,G),$.push({event:xe,listeners:ce}),Re?xe.data=Re:(Re=Ra(a),Re!==null&&(xe.data=Re)))),(Re=On?DS(t,a):OS(t,a))&&(xe=Mc(j,"onBeforeInput"),0<xe.length&&(ce=new Si("onBeforeInput","beforeinput",null,a,G),$.push({event:ce,listeners:xe}),ce.data=Re)),Ab($,t,j,a,G)}X_($,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Mc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(t,a),h!=null&&o.unshift(bl(t,h,f)),h=Xn(t,i),h!=null&&o.push(bl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Rb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J_(t,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=Xn(a,f),j!=null&&_.unshift(bl(a,j,R))):h||(j=Xn(a,f),j!=null&&_.push(bl(a,j,R)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Ib=/\r\n?/g,Cb=/\u0000|\uFFFD/g;function Z_(t){return(typeof t=="string"?t:""+t).replace(Ib,`
`).replace(Cb,"")}function W_(t,i){return i=Z_(i),Z_(t)===i}function Je(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(t,""+o);break;case"className":yn(t,"class",o);break;case"tabIndex":yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,o);break;case"style":Ho(t,o,f);break;case"data":if(i!=="object"){yn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ta(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ta(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Yn);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":De("beforetoggle",t),De("toggle",t),_a(t,"popover",o);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_a(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,_a(t,a,o))}}function jd(t,i,a,o,h,f){switch(a){case"style":Ho(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Lt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):_a(t,a,o)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,f,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),o&&Je(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var E=f=_=h=null,R=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":R=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Je(t,i,o,G,a,null)}}Du(t,f,E,R,j,_,h,!1);return;case"select":De("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Je(t,i,h,E,a,null)}i=f,a=_,t.multiple=!!o,i!=null?Er(t,!!o,i,!1):a!=null&&Er(t,!!o,a,!0);return;case"textarea":De("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Je(t,i,_,E,a,null)}Tr(t,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Je(t,i,R,o,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(o=0;o<Sl.length;o++)De(Sl[o],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,j,o,a,null)}return;default:if(Ea(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&jd(t,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Je(t,i,E,o,a,null))}function Nb(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,R=null,j=null,G=null;for(B in a){var $=a[B];if(a.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=$;default:o.hasOwnProperty(B)||Je(t,i,B,null,o,$)}}for(var z in o){var B=o[z];if($=a[z],o.hasOwnProperty(z)&&(B!=null||$!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":G=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==$&&Je(t,i,z,B,o,$)}}va(t,_,E,R,j,G,f,h);return;case"select":B=_=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Je(t,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==R&&Je(t,i,h,f,o,R)}i=E,a=_,o=B,z!=null?Er(t,!!a,z,!1):!!o!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(t,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Je(t,i,_,h,o,f)}Ou(t,z,B);return;case"option":for(var oe in a)z=a[oe],a.hasOwnProperty(oe)&&z!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:Je(t,i,oe,null,o,z));for(R in o)z=o[R],B=a[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null)&&(R==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":Je(t,i,R,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)z=a[ge],a.hasOwnProperty(ge)&&z!=null&&!o.hasOwnProperty(ge)&&Je(t,i,ge,null,o,z);for(j in o)if(z=o[j],B=a[j],o.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Je(t,i,j,z,o,B)}return;default:if(Ea(i)){for(var Ze in a)z=a[Ze],a.hasOwnProperty(Ze)&&z!==void 0&&!o.hasOwnProperty(Ze)&&jd(t,i,Ze,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||jd(t,i,G,z,o,B);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Je(t,i,U,null,o,z);for($ in o)z=o[$],B=a[$],!o.hasOwnProperty($)||z===B||z==null&&B==null||Je(t,i,$,z,o,B)}function ev(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Db(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&ev(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],j=R.startTime;if(j>E)break;var G=R.transferSize,$=R.initiatorType;G&&ev($)&&(R=R.responseEnd,_+=G*(R<E?1:(E-j)/(R-j)))}if(--o,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,qd=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function tv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hd=null;function Ob(){var t=window.event;return t&&t.type==="popstate"?t===Hd?!1:(Hd=t,!0):(Hd=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(t){return rv.resolve(null).then(t).catch(Vb)}:iv;function Vb(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function sv(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),to(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);to(i)}function av(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kb(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function Ub(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function ov(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Gd(t){return t.data==="$?"||t.data==="$~"}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Pb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Kd=null;function lv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function uv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function cv(t,i,a){switch(i=Vc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var jn=new Map,hv=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sr=re.d;re.d={f:Lb,r:jb,D:zb,C:qb,L:Bb,m:Hb,X:Gb,S:Fb,M:Qb};function Lb(){var t=sr.f(),i=Rc();return t||i}function jb(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?Cy(i):sr.r(t)}var Za=typeof document>"u"?null:document;function fv(t,i,a){var o=Za;if(o&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),hv.has(h)||(hv.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Kt(i,"link",t),At(i),o.head.appendChild(i)))}}function zb(t){sr.D(t),fv("dns-prefetch",t,null)}function qb(t,i){sr.C(t,i),fv("preconnect",t,i)}function Bb(t,i,a){sr.L(t,i,a);var o=Za;if(o&&t&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var f=h;switch(i){case"style":f=Wa(t);break;case"script":f=eo(t)}jn.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Rl(f))||i==="script"&&o.querySelector(Il(f))||(i=o.createElement("link"),Kt(i,"link",t),At(i),o.head.appendChild(i)))}}function Hb(t,i){sr.m(t,i);var a=Za;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=eo(t)}if(!jn.has(f)&&(t=S({rel:"modulepreload",href:t},i),jn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}o=a.createElement("link"),Kt(o,"link",t),At(o),a.head.appendChild(o)}}}function Fb(t,i,a){sr.S(t,i,a);var o=Za;if(o&&t){var h=gi(o).hoistableStyles,f=Wa(t);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Rl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(f))&&Yd(t,a);var R=_=o.createElement("link");At(R),Kt(R,"link",t),R._p=new Promise(function(j,G){R.onload=j,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Uc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function Gb(t,i){sr.X(t,i);var a=Za;if(a&&t){var o=gi(a).hoistableScripts,h=eo(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=S({src:t,async:!0},i),(i=jn.get(h))&&Xd(t,i),f=a.createElement("script"),At(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Qb(t,i){sr.M(t,i);var a=Za;if(a&&t){var o=gi(a).hoistableScripts,h=eo(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&Xd(t,i),f=a.createElement("script"),At(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function dv(t,i,a,o){var h=(h=we.current)?kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=gi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var f=gi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Rl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),f||Kb(h,t,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=gi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+on(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function mv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Kb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Kt(i,"link",a),At(i),t.head.appendChild(i))}function eo(t){return'[src="'+on(t)+'"]'}function Il(t){return"script[async]"+t}function gv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return i.instance=o,At(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),At(o),Kt(o,"style",h),Uc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Wa(a.href);var f=t.querySelector(Rl(h));if(f)return i.state.loading|=4,i.instance=f,At(f),f;o=mv(a),(h=jn.get(h))&&Yd(o,h),f=(t.ownerDocument||t).createElement("link"),At(f);var _=f;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Kt(f,"link",o),i.state.loading|=4,Uc(f,a.precedence,t),i.instance=f;case"script":return f=eo(a.src),(h=t.querySelector(Il(f)))?(i.instance=h,At(h),h):(o=a,(h=jn.get(f))&&(o=S({},a),Xd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Kt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Uc(o,a.precedence,t));return i.instance}function Uc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pc=null;function pv(t,i,a){if(Pc===null){var o=new Map,h=Pc=new Map;h.set(a,o)}else h=Pc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[di]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function yv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Yb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _v(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Xb(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(o.href),f=i.querySelector(Rl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,At(f);return}f=i.ownerDocument||i,o=mv(o),(h=jn.get(h))&&Yd(o,h),f=f.createElement("link"),At(f);var _=f;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Kt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var $d=0;function $b(t,i){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&$d===0&&($d=62500*Db());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>$d?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jc=null;function zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jc=new Map,i.forEach(Jb,t),jc=null,Lc.call(t))}function Jb(t,i){if(!(i.state.loading&4)){var a=jc.get(t);if(a)var o=a.get(null);else{a=new Map,jc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:me,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Zb(t,i,a,o,h,f,_,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function vv(t,i,a,o,h,f,_,E,R,j,G,$){return t=new Zb(t,i,a,_,R,j,G,$,E),i=1,f===!0&&(i|=24),f=vn(3,null,null,i),t.current=f,f.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Mf(f),t}function Ev(t){return t?(t=Oa,t):Oa}function Tv(t,i,a,o,h,f){h=Ev(h),o.context===null?o.context=h:o.pendingContext=h,o=Mr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Vr(t,o,i),a!==null&&(dn(a,t,i),al(a,t,i))}function Av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Jd(t,i){Av(t,i),(t=t.alternate)&&Av(t,i)}function Sv(t){if(t.tag===13||t.tag===31){var i=Us(t,67108864);i!==null&&dn(i,t,67108864),Jd(t,67108864)}}function bv(t){if(t.tag===13||t.tag===31){var i=bn();i=bs(i);var a=Us(t,i);a!==null&&dn(a,t,i),Jd(t,i)}}var qc=!0;function Wb(t,i,a,o){var h=F.T;F.T=null;var f=re.p;try{re.p=2,Zd(t,i,a,o)}finally{re.p=f,F.T=h}}function e1(t,i,a,o){var h=F.T;F.T=null;var f=re.p;try{re.p=8,Zd(t,i,a,o)}finally{re.p=f,F.T=h}}function Zd(t,i,a,o){if(qc){var h=Wd(o);if(h===null)Ld(t,i,o,Bc,a),Rv(t,o);else if(n1(h,t,i,a,o))o.stopPropagation();else if(Rv(t,o),i&4&&-1<t1.indexOf(t)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ui(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-dt(_);E.entanglements[1]|=R,_&=~R}Ci(f),(He&6)===0&&(bc=nn()+500,Al(0))}}break;case 31:case 13:E=Us(f,2),E!==null&&dn(E,f,2),Rc(),Jd(f,2)}if(f=Wd(o),f===null&&Ld(t,i,o,Bc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ld(t,i,o,null,a)}}function Wd(t){return t=Nn(t),em(t)}var Bc=null;function em(t){if(Bc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Oo:return 2;case xo:return 8;case _r:case af:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var tm=!1,Gr=null,Qr=null,Kr=null,Nl=new Map,Dl=new Map,Yr=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ol(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&Sv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function n1(t,i,a,o,h){switch(i){case"focusin":return Gr=Ol(Gr,t,i,a,o,h),!0;case"dragenter":return Qr=Ol(Qr,t,i,a,o,h),!0;case"mouseover":return Kr=Ol(Kr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Nl.set(f,Ol(Nl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Dl.set(f,Ol(Dl.get(f)||null,t,i,a,o,h)),!0}return!1}function Iv(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){bv(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){bv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Fo=o,a.target.dispatchEvent(o),Fo=null}else return i=Cn(a),i!==null&&Sv(i),t.blockedOn=a,!1;i.shift()}return!0}function Cv(t,i,a){Hc(t)&&a.delete(i)}function i1(){tm=!1,Gr!==null&&Hc(Gr)&&(Gr=null),Qr!==null&&Hc(Qr)&&(Qr=null),Kr!==null&&Hc(Kr)&&(Kr=null),Nl.forEach(Cv),Dl.forEach(Cv)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,tm||(tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,i1)))}var Gc=null;function Nv(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(em(o||a)===null)continue;break}var f=Cn(a);f!==null&&(t.splice(i,3),i-=3,Wf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function to(t){function i(R){return Fc(R,t)}Gr!==null&&Fc(Gr,t),Qr!==null&&Fc(Qr,t),Kr!==null&&Fc(Kr,t),Nl.forEach(i),Dl.forEach(i);for(var a=0;a<Yr.length;a++){var o=Yr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Lt]||null;if(typeof f=="function")_||Nv(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Lt]||null)E=_.formAction;else if(em(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Nv(a)}}}function Dv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function nm(t){this._internalRoot=t}Qc.prototype.render=nm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=bn();Tv(a,o,t,i,null,null)},Qc.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Tv(t.current,2,null,t,null,null),Rc(),i[fi]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ru();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&Iv(t)}};var Ov=e.version;if(Ov!=="19.2.3")throw Error(s(527,Ov,"19.2.3"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var r1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Fn=Kc.inject(r1),Bt=Kc}catch{}}return Ml.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=Ly,f=jy,_=zy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=vv(t,1,!1,null,null,a,o,null,h,f,_,Dv),t[fi]=i.current,Pd(t),new nm(i)},Ml.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=Ly,_=jy,E=zy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=vv(t,1,!0,i,a??null,o,h,R,f,_,E,Dv),i.context=Ev(null),a=i.current,o=bn(),o=bs(o),h=Mr(o),h.callback=null,Vr(a,h,o),a=o,i.current.lanes=a,As(i,a),Ci(i),t[fi]=i.current,Pd(t),new Qc(i)},Ml.version="19.2.3",Ml}var qv;function m1(){if(qv)return sm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=d1(),sm.exports}var g1=m1();const p1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Bv=r=>{const e=y1(r);return e.charAt(0).toUpperCase()+e.slice(1)},M0=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),_1=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var v1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const E1=rt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...g},y)=>rt.createElement("svg",{ref:y,...v1,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:M0("lucide",l),...!u&&!_1(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,A])=>rt.createElement(p,A)),...Array.isArray(u)?u:[u]]));const Rn=(r,e)=>{const n=rt.forwardRef(({className:s,...l},u)=>rt.createElement(E1,{ref:u,iconNode:e,className:M0(`lucide-${p1(Bv(r))}`,`lucide-${r}`,s),...l}));return n.displayName=Bv(r),n};const T1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hv=Rn("bell",T1);const A1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ag=Rn("circle-alert",A1);const S1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],b1=Rn("circle-check-big",S1);const w1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V0=Rn("circle-x",w1);const R1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],I1=Rn("eye-off",R1);const C1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N1=Rn("eye",C1);const D1=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],O1=Rn("grip-vertical",D1);const x1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],M1=Rn("history",x1);const V1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],k1=Rn("log-out",V1);const U1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P1=Rn("settings",U1);const L1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fv=Rn("shield",L1);const j1=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Gv=Rn("truck",j1);const z1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],q1=Rn("x",z1),B1=()=>{};var Qv={};const k0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},H1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,p=y?r[l+2]:0,A=u>>2,S=(u&3)<<4|g>>4;let N=(g&15)<<2|p>>6,Q=p&63;y||(Q=64,d||(N=64)),s.push(n[A],n[S],n[N],n[Q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(k0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):H1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const p=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||p==null||S==null)throw new F1;const N=u<<2|g>>4;if(s.push(N),p!==64){const Q=g<<4&240|p>>2;if(s.push(Q),S!==64){const W=p<<6&192|S;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class F1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(r){const e=k0(r);return U0.encodeByteArray(e,!0)},dh=function(r){return G1(r).replace(/\./g,"")},P0=function(r){try{return U0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const K1=()=>Q1().__FIREBASE_DEFAULTS__,Y1=()=>{if(typeof process>"u"||typeof Qv>"u")return;const r=Qv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},X1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&P0(r[1]);return e&&JSON.parse(e)},xh=()=>{try{return B1()||K1()||Y1()||X1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},L0=r=>xh()?.emulatorHosts?.[r],$1=r=>{const e=L0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},j0=()=>xh()?.config,z0=r=>xh()?.[`_${r}`];class J1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(r){return(await fetch(r,{credentials:"include"})).ok}function Z1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[dh(JSON.stringify(n)),dh(JSON.stringify(d)),""].join(".")}const ql={};function W1(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function ew(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Kv=!1;function B0(r,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||ql[r]===e||ql[r]||Kv)return;ql[r]=e;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=W1().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,Q){N.setAttribute("width","24"),N.setAttribute("id",Q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Kv=!0,d()},N}function A(N,Q){N.setAttribute("id",Q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=ew(s),Q=n("text"),W=document.getElementById(Q)||document.createElement("span"),ie=n("learnmore"),ee=document.getElementById(ie)||document.createElement("a"),he=n("preprendIcon"),Ee=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const me=N.element;g(me),A(ee,ie);const je=p();y(Ee,he),me.append(Ee,W,ee,je),document.body.appendChild(me)}u?(W.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function nw(){const r=xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aw(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ow(){return!nw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H0(){try{return typeof indexedDB=="object"}catch{return!1}}function F0(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}function lw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const uw="FirebaseError";class zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uw,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?cw(u,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new zi(l,g,s)}}function cw(r,e){return r.replace(hw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const hw=/\{\$([^}]+)}/g;function fw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=e[l];if(Yv(u)&&Yv(d)){if(!ta(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Yv(r){return r!==null&&typeof r=="object"}function ou(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ul(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function dw(r,e){const n=new mw(r,e);return n.subscribe.bind(n)}class mw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=um),l.error===void 0&&(l.error=um),l.complete===void 0&&(l.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function um(){}function Ot(r){return r&&r._delegate?r._delegate:r}class ri{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xs="[DEFAULT]";class pw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new J1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_w(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&d.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yw(r){return r===Xs?void 0:r}function _w(r){return r.instantiationMode==="EAGER"}class vw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const Ew={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Tw=Me.INFO,Aw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Sw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=Aw[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class og{constructor(e){this.name=e,this._logLevel=Tw,this._logHandler=Sw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ew[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const bw=(r,e)=>e.some(n=>r instanceof n);let Xv,$v;function ww(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rw(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,Dm=new WeakMap,Q0=new WeakMap,cm=new WeakMap,lg=new WeakMap;function Iw(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(cr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&G0.set(n,r)}).catch(()=>{}),lg.set(e,r),e}function Cw(r){if(Dm.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Dm.set(r,e)}let Om={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Dm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Q0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Nw(r){Om=r(Om)}function Dw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(hm(this),e,...n);return Q0.set(s,e.sort?e.sort():[e]),cr(s)}:Rw().includes(r)?function(...e){return r.apply(hm(this),e),cr(G0.get(this))}:function(...e){return cr(r.apply(hm(this),e))}}function Ow(r){return typeof r=="function"?Dw(r):(r instanceof IDBTransaction&&Cw(r),bw(r,ww())?new Proxy(r,Om):r)}function cr(r){if(r instanceof IDBRequest)return Iw(r);if(cm.has(r))return cm.get(r);const e=Ow(r);return e!==r&&(cm.set(r,e),lg.set(e,r)),e}const hm=r=>lg.get(r);function Mh(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),g=cr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(cr(d.result),y.oldVersion,y.newVersion,cr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}function fm(r,{blocked:e}={}){const n=indexedDB.deleteDatabase(r);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),cr(n).then(()=>{})}const xw=["get","getKey","getAll","getAllKeys","count"],Mw=["put","add","delete","clear"],dm=new Map;function Jv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=Mw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||xw.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return dm.set(e,u),u}Nw(r=>({...r,get:(e,n,s)=>Jv(e,n)||r.get(e,n,s),has:(e,n)=>!!Jv(e,n)||r.has(e,n)}));class Vw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kw(r){return r.getComponent()?.type==="VERSION"}const xm="@firebase/app",Zv="0.14.6";const dr=new og("@firebase/app"),Uw="@firebase/app-compat",Pw="@firebase/analytics-compat",Lw="@firebase/analytics",jw="@firebase/app-check-compat",zw="@firebase/app-check",qw="@firebase/auth",Bw="@firebase/auth-compat",Hw="@firebase/database",Fw="@firebase/data-connect",Gw="@firebase/database-compat",Qw="@firebase/functions",Kw="@firebase/functions-compat",Yw="@firebase/installations",Xw="@firebase/installations-compat",$w="@firebase/messaging",Jw="@firebase/messaging-compat",Zw="@firebase/performance",Ww="@firebase/performance-compat",eR="@firebase/remote-config",tR="@firebase/remote-config-compat",nR="@firebase/storage",iR="@firebase/storage-compat",rR="@firebase/firestore",sR="@firebase/ai",aR="@firebase/firestore-compat",oR="firebase",lR="12.6.0";const Mm="[DEFAULT]",uR={[xm]:"fire-core",[Uw]:"fire-core-compat",[Lw]:"fire-analytics",[Pw]:"fire-analytics-compat",[zw]:"fire-app-check",[jw]:"fire-app-check-compat",[qw]:"fire-auth",[Bw]:"fire-auth-compat",[Hw]:"fire-rtdb",[Fw]:"fire-data-connect",[Gw]:"fire-rtdb-compat",[Qw]:"fire-fn",[Kw]:"fire-fn-compat",[Yw]:"fire-iid",[Xw]:"fire-iid-compat",[$w]:"fire-fcm",[Jw]:"fire-fcm-compat",[Zw]:"fire-perf",[Ww]:"fire-perf-compat",[eR]:"fire-rc",[tR]:"fire-rc-compat",[nR]:"fire-gcs",[iR]:"fire-gcs-compat",[rR]:"fire-fst",[aR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};const mh=new Map,cR=new Map,Vm=new Map;function Wv(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Li(r){const e=r.name;if(Vm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,r);for(const n of mh.values())Wv(n,r);for(const n of cR.values())Wv(n,r);return!0}function Eo(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new la("app","Firebase",hR);class fR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const To=lR;function K0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Mm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw is.create("bad-app-name",{appName:String(l)});if(n||(n=j0()),!n)throw is.create("no-options");const u=mh.get(l);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw is.create("duplicate-app",{appName:l})}const d=new vw(l);for(const y of Vm.values())d.addComponent(y);const g=new fR(n,s,d);return mh.set(l,g),g}function ug(r=Mm){const e=mh.get(r);if(!e&&r===Mm&&j0())return K0();if(!e)throw is.create("no-app",{appName:r});return e}function Bn(r,e,n){let s=uR[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(d.join(" "));return}Li(new ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const dR="firebase-heartbeat-database",mR=1,Kl="firebase-heartbeat-store";let mm=null;function Y0(){return mm||(mm=Mh(dR,mR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),mm}async function gR(r){try{const n=(await Y0()).transaction(Kl),s=await n.objectStore(Kl).get(X0(r));return await n.done,s}catch(e){if(e instanceof zi)dr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function eE(r,e){try{const s=(await Y0()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,X0(r)),await s.done}catch(n){if(n instanceof zi)dr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function X0(r){return`${r.name}!${r.options.appId}`}const pR=1024,yR=30;class _R{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ER(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>yR){const l=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tE(),{heartbeatsToSend:n,unsentEntries:s}=vR(this._heartbeatsCache.heartbeats),l=dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return dr.warn(e),""}}}function tE(){return new Date().toISOString().substring(0,10)}function vR(r,e=pR){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),nE(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),nE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H0()?F0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return eE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return eE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nE(r){return dh(JSON.stringify({version:2,heartbeats:r})).length}function TR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function AR(r){Li(new ri("platform-logger",e=>new Vw(e),"PRIVATE")),Li(new ri("heartbeat",e=>new _R(e),"PRIVATE")),Bn(xm,Zv,r),Bn(xm,Zv,"esm2020"),Bn("fire-js","")}AR("");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,$0;(function(){var r;function e(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,x,k){for(var w=Array(arguments.length-2),et=2;et<arguments.length;et++)w[et-2]=arguments[et];return b.prototype[x].apply(V,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)V[x]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],x=C.g[2];let k=C.g[3],w;w=b+(k^I&(x^k))+V[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(x^b&(I^x))+V[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=x+(I^k&(b^I))+V[2]+606105819&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(b^x&(k^b))+V[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=b+(k^I&(x^k))+V[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(x^b&(I^x))+V[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=x+(I^k&(b^I))+V[6]+2821735955&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(b^x&(k^b))+V[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=b+(k^I&(x^k))+V[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(x^b&(I^x))+V[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=x+(I^k&(b^I))+V[10]+4294925233&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(b^x&(k^b))+V[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=b+(k^I&(x^k))+V[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(x^b&(I^x))+V[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=x+(I^k&(b^I))+V[14]+2792965006&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(b^x&(k^b))+V[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=b+(x^k&(I^x))+V[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(b^I))+V[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=x+(b^I&(k^b))+V[11]+643717713&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(x^k))+V[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=b+(x^k&(I^x))+V[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(b^I))+V[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=x+(b^I&(k^b))+V[15]+3634488961&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(x^k))+V[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=b+(x^k&(I^x))+V[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(b^I))+V[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=x+(b^I&(k^b))+V[3]+4107603335&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(x^k))+V[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=b+(x^k&(I^x))+V[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(b^I))+V[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=x+(b^I&(k^b))+V[7]+1735328473&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(x^k))+V[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=b+(I^x^k)+V[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^x)+V[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=x+(k^b^I)+V[11]+1839030562&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^b)+V[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=b+(I^x^k)+V[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^x)+V[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=x+(k^b^I)+V[7]+4139469664&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^b)+V[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=b+(I^x^k)+V[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^x)+V[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=x+(k^b^I)+V[3]+3572445317&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^b)+V[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=b+(I^x^k)+V[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^x)+V[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=x+(k^b^I)+V[15]+530742520&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^b)+V[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=b+(x^(I|~k))+V[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~x))+V[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=x+(b^(k|~I))+V[14]+2878612391&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~b))+V[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=b+(x^(I|~k))+V[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~x))+V[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=x+(b^(k|~I))+V[10]+4293915773&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~b))+V[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=b+(x^(I|~k))+V[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~x))+V[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=x+(b^(k|~I))+V[6]+2734768916&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~b))+V[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=b+(x^(I|~k))+V[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~x))+V[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=x+(b^(k|~I))+V[2]+718787259&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,V=this.C;let x=this.h,k=0;for(;k<b;){if(x==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(V[x++]=C.charCodeAt(k++),x==this.blockSize){l(this,V),x=0;break}}else for(;k<b;)if(V[x++]=C[k++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[b++]=this.g[I]>>>V&255;return C};function u(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let V=!0;for(let x=C.length-1;x>=0;x--){const k=C[x]|0;V&&k==b||(I[x]=k,V=!1)}this.g=I}var g={};function y(C){return-128<=C&&C<128?u(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return ee(p(-C));const b=[];let I=1;for(let V=0;C>=I;V++)b[V]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return ee(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(b,8));let V=S;for(let k=0;k<C.length;k+=8){var x=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+x),b);x<8?(x=p(Math.pow(b,x)),V=V.j(x).add(p(w))):(V=V.j(I),V=V.add(p(w)))}return V}var S=y(0),N=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(ie(this))return-ee(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(ie(this))return"-"+ee(this).toString(C);const b=p(Math.pow(C,6));var I=this;let V="";for(;;){const x=je(I,b).g;I=he(I,x.j(b));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,W(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function ie(C){return C.h==-1}r.l=function(C){return C=he(this,C),ie(C)?-1:W(C)?0:1};function ee(C){const b=C.g.length,I=[];for(let V=0;V<b;V++)I[V]=~C.g[V];return new d(I,~C.h).add(N)}r.abs=function(){return ie(this)?ee(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let x=0;x<=b;x++){let k=V+(this.i(x)&65535)+(C.i(x)&65535),w=(k>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);V=w>>>16,k&=65535,w&=65535,I[x]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function he(C,b){return C.add(ee(b))}r.j=function(C){if(W(this)||W(C))return S;if(ie(this))return ie(C)?ee(this).j(ee(C)):ee(ee(this).j(C));if(ie(C))return ee(this.j(ee(C)));if(this.l(Q)<0&&C.l(Q)<0)return p(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<C.g.length;x++){const k=this.i(V)>>>16,w=this.i(V)&65535,et=C.i(x)>>>16,ft=C.i(x)&65535;I[2*V+2*x]+=w*ft,Ee(I,2*V+2*x),I[2*V+2*x+1]+=k*ft,Ee(I,2*V+2*x+1),I[2*V+2*x+1]+=w*et,Ee(I,2*V+2*x+1),I[2*V+2*x+2]+=k*et,Ee(I,2*V+2*x+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function Ee(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function me(C,b){this.g=C,this.h=b}function je(C,b){if(W(b))throw Error("division by zero");if(W(C))return new me(S,S);if(ie(C))return b=je(ee(C),b),new me(ee(b.g),ee(b.h));if(ie(b))return b=je(C,ee(b)),new me(ee(b.g),b.h);if(C.g.length>30){if(ie(C)||ie(b))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=b;V.l(C)<=0;)I=Ge(I),V=Ge(V);var x=Ie(I,1),k=Ie(V,1);for(V=Ie(V,2),I=Ie(I,2);!W(V);){var w=k.add(V);w.l(C)<=0&&(x=x.add(I),k=w),V=Ie(V,1),I=Ie(I,1)}return b=he(C,x.j(b)),new me(x,b)}for(x=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=p(I),w=k.j(b);ie(w)||w.l(C)>0;)I-=V,k=p(I),w=k.j(b);W(k)&&(k=N),x=x.add(k),C=he(C,w)}return new me(x,C)}r.B=function(C){return je(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Ge(C){const b=C.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ie(C,b){const I=b>>5;b%=32;const V=C.g.length-I,x=[];for(let k=0;k<V;k++)x[k]=b>0?C.i(k+I)>>>b|C.i(k+I+1)<<32-b:C.i(k+I);return new d(x,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=A,rs=d}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var J0,Pl,Z0,th,km,W0,eT,tT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)e:{var v=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var P=c[T];if(!(P in v))break e;v=v[P]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function A(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(T,P,q){for(var te=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)te[Se-2]=arguments[Se];return m.prototype[P].apply(T,te)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function Q(c){const m=c.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function W(c,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let te=0;te<q;te++)c[v+te]=P[te]}else c.push(P)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(c){d.setTimeout(()=>{throw c},0)}function he(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const T=me.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var me=new ie(()=>new je,c=>c.reset());class je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,Ie=!1,C=new Ee,b=()=>{const c=Promise.resolve(void 0);Ge=()=>{c.then(I)}};function I(){for(var c;c=he();){try{c.h.call(c.g)}catch(v){ee(v)}var m=me;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ie=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function et(c,m){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(et,x),et.prototype.init=function(c,m){const v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(c,m,v,T,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++F,this.da=this.fa=!1}function H(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function le(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function _e(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function D(c){const m={};for(const v in c)m[v]=c[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(c,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)c[v]=T[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function ne(c){this.src=c,this.g={},this.h=0}ne.prototype.add=function(c,m,v,T,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const te=we(c,m,T,P);return te>-1?(m=c[te],v||(m.fa=!1)):(m=new re(m,this.src,q,!!T,P),m.fa=v,c.push(m)),m};function ue(c,m){const v=m.type;if(v in c.g){var T=c.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(H(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function we(c,m,v,T){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),xt={};function at(c,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)at(c,m[q],v,T,P);return null}return v=Do(v),c&&c[ft]?c.J(m,v,g(T)?!!T.capture:!1,P):_s(c,m,v,!1,T,P)}function _s(c,m,v,T,P,q){if(!m)throw Error("Invalid event type");const te=g(P)?!!P.capture:!!P;let Se=vs(c);if(Se||(c[Pe]=Se=new ne(c)),v=Se.add(m,v,T,te,q),v.proxy)return v;if(T=fa(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)k||(P=te),P===void 0&&(P=!1),c.addEventListener(m.toString(),T,P);else if(c.attachEvent)c.attachEvent(oi(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fa(){function c(v){return m.call(c.src,c.listener,v)}const m=Co;return c}function da(c,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)da(c,m[q],v,T,P);else T=g(T)?!!T.capture:!!T,v=Do(v),c&&c[ft]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=we(m,v,T,P),v>-1&&(H(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=vs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=we(m,v,T,P)),(v=c>-1?m[c]:null)&&ma(v))}function ma(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ft])ue(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(oi(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=vs(m))?(ue(v,c),v.h==0&&(v.src=null,m[Pe]=null)):H(c)}}}function oi(c){return c in xt?xt[c]:xt[c]="on"+c}function Co(c,m){if(c.da)c=!0;else{m=new et(m,this);const v=c.listener,T=c.ha||c.src;c.fa&&ma(c),c=v.call(T,m)}return c}function vs(c){return c=c[Pe],c instanceof ne?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(c){return typeof c=="function"?c:(c[No]||(c[No]=function(m){return c.handleEvent(m)}),c[No])}function vt(){V.call(this),this.i=new ne(this),this.M=this,this.G=null}S(vt,V),vt.prototype[ft]=!0,vt.prototype.removeEventListener=function(c,m,v,T){da(this,c,m,v,T)};function Mt(c,m){var v,T=c.G;if(T)for(v=[];T;T=T.G)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new x(m,c);else if(m instanceof x)m.target=m.target||c;else{var P=m;m=new x(T,c),Z(m,P)}P=!0;let q,te;if(v)for(te=v.length-1;te>=0;te--)q=m.g=v[te],P=yr(q,T,!0,m)&&P;if(q=m.g=c,P=yr(q,T,!0,m)&&P,P=yr(q,T,!1,m)&&P,v)for(te=0;te<v.length;te++)q=m.g=v[te],P=yr(q,T,!1,m)&&P}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let T=0;T<v.length;T++)H(v[T]);delete c.g[m],c.h--}}this.G=null},vt.prototype.J=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},vt.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function yr(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==v){const Se=te.listener,mt=te.ha||te.src;te.fa&&ue(c.i,te),P=Se.call(mt,T)!==!1&&P}}return P&&!T.defaultPrevented}function sf(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function vu(c){c.g=sf(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){V.call(this),this.h=c,this.g={}}S(Es,V);var Oo=[];function xo(c){le(c.g,function(m,v){this.g.hasOwnProperty(v)&&ma(m)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),xo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=d.JSON.stringify,af=d.JSON.parse,Eu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Tu(){}function Au(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){x.call(this,"d")}S(Bt,x);function In(){x.call(this,"c")}S(In,x);var dt={},Su=null;function ga(){return Su=Su||new vt}dt.Ia="serverreachability";function bu(c){x.call(this,dt.Ia,c)}S(bu,x);function li(c){const m=ga();Mt(m,new bu(m))}dt.STAT_EVENT="statevent";function Ts(c,m){x.call(this,dt.STAT_EVENT,c),this.stat=m}S(Ts,x);function Et(c){const m=ga();Mt(m,new Ts(m,c))}dt.Ja="timingevent";function ui(c,m){x.call(this,dt.Ja,c),this.size=m}S(ui,x);function ci(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function of(c,m,v,T,P,q){c.info(function(){if(c.g)if(q){var te="",Se=q.split("&");for(let Be=0;Be<Se.length;Be++){var mt=Se[Be].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const On=ot.split("_");te=On.length>=2&&On[1]=="type"?te+(ot+"="+mt+"&"):te+(ot+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+te})}function wu(c,m,v,T,P,q,te){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+te})}function hi(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+lf(c,v)+(T?" "+T:"")})}function As(c,m){c.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function lf(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return _r(q)}catch{return m}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function bs(){}S(bs,Tu),bs.prototype.g=function(){return new XMLHttpRequest},Vo=new bs;function qi(c){return encodeURIComponent(String(c))}function Ru(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Qn(c,m,v,T){this.j=c,this.i=m,this.l=v,this.S=T||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function fi(c,m,v){c.M=1,c.A=ws(St(m)),c.u=v,c.R=!0,pa(c,null)}function pa(c,m){c.F=Date.now(),di(c),c.B=St(c.A);var v=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Ea(v.i,"t",T),c.C=0,v=c.j.L,c.h=new Kn,c.g=qu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,T=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Oo[0]=P.toString()),P=Oo);for(let q=0;q<P.length;q++){const te=at(v,P[q],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),li(),of(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&$n(c)==3?m.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=$n(this.g),mt=this.g.ya(),Be=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Se!=4||mt==7||(mt==8||Be<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=uf(this);if(this.o=m==200,wu(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break t}}q=null}if(c=q)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,Et(12),pn(this),Cn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Cu(this,v),ot==Lt){Se==4&&(this.m=4,Et(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ot,null),gi(this,ot);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(te),te.P=!0,Et(11))}}else hi(this.i,this.l,v,null),gi(this,v);Se==4&&pn(this),this.o&&!this.K&&(Se==4?Pu(this.j,this):(this.o=!1,di(this)))}else Hi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),pn(this),Cn(this)}}}catch{}};function uf(c){if(!Iu(c))return c.g.la();const m=Ht(c.g);if(m==="")return"";let v="";const T=m.length,P=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?Lt:(v=Number(m.substring(v,T)),isNaN(v)?Tt:(T+=1,T+v>m.length?Lt:(m=m.slice(T,T+v),c.C=T+v,m)))}Qn.prototype.cancel=function(){this.K=!0,pn(this)};function di(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(p(c.aa,c),m)}function mi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(li(),Et(17)),pn(this),this.m=2,Cn(this)):ya(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Pu(c.j,c)}function pn(c){mi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,xo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function gi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)wa(v),Rr(v);else break e;xs(v),Et(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(p(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&wa(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Be=P[m];const ot=Be[0];if(!(ot<=v.K))if(v.K=ot,Be=Be[1],v.I==2)if(Be[0]=="c"){v.M=Be[1],v.ba=Be[2];const On=Be[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const bi=Be[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Jn=Be[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(T=1.5*Jn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Zn=c.g;if(Zn){const Ms=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var q=T.h;q.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Po(q,q.h),q.h=null))}if(T.G){const Ra=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(T.wa=Ra,Qe(T.J,T.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=c;if(T.na=zu(T,T.L?T.ba:null,T.W),te.L){Lo(T.h,te);var Se=te,mt=T.O;mt&&(Se.H=mt),Se.D&&(mi(Se),di(Se)),T.g=te}else ku(T);v.i.length>0&&Ai(v)}else Be[0]!="stop"&&Be[0]!="close"||Si(v,7);else v.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Si(v,7):Ko(v):Be[0]!="noop"&&v.l&&v.l.qa(Be),v.A=0)}}li(4)}catch{}}var At=class{constructor(c,m){this.g=c,this.map=m}};function ko(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function yi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Po(c,m){c.g?c.g.add(m):c.h=m}function Lo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ko.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return Q(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const T=c[v].indexOf("=");let P,q=null;T>=0?(P=c[v].substring(0,T),q=c[v].substring(T+1)):P=c[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,zo(this,Mu(c.i)),this.m=c.m):c&&(m=String(c).match(Nu))?(this.l=!1,jt(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),vr(this,m[4]),this.h=_i(m[5]||"",!0),zo(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Rs(m,va,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Rs(m,va,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?qo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,Ou)),c.join("")},yn.prototype.resolve=function(c){const m=St(this);let v=!!c.j;v?jt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var T=c.h;if(v)vr(m,c.u);else if(v=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let te=0;te<P.length;){const Se=P[te++];Se=="."?T&&te==P.length&&q.push(""):Se==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&te==P.length&&q.push("")):(q.push(Se),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=c.i.toString()!=="",v?zo(m,Mu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function St(c){return new yn(c)}function jt(c,m,v){c.j=v?_i(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function zo(c,m,v){m instanceof Tr?(c.i=m,Ta(c.i,c.l)):(v||(m=Rs(m,Er)),c.i=new Tr(m,c.l))}function Qe(c,m,v){c.i.set(m,v)}function ws(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,Du=/[#\?:]/g,qo=/[#\?]/g,Er=/[#\?@]/g,Ou=/#/g;function Tr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(c,m){ln(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function xu(c,m){ln(c),m=Ar(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Bo(c,m){return ln(c),m=Ar(c,m),c.g.has(m)}r.forEach=function(c,m){ln(this),this.g.forEach(function(v,T){v.forEach(function(P){c.call(m,P,T,this)},this)},this)};function Ho(c,m){ln(c);let v=[];if(typeof m=="string")Bo(c,m)&&(v=v.concat(c.g.get(Ar(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return ln(this),this.i=null,c=Ar(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Ho(this,c),c.length>0?String(c[0]):m):m};function Ea(c,m,v){xu(c,m),v.length>0&&(c.i=null,c.g.set(Ar(c,m),Q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=qi(v);v=Ho(this,v);for(let q=0;q<v.length;q++){let te=P;v[q]!==""&&(te+="="+qi(v[q])),c.push(te)}}return this.i=c.join("&")};function Mu(c){const m=new Tr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ar(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Ta(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(xu(this,T),Ea(this,P,v))},c)),c.j=m}function Yn(c,m){const v=new Gn;if(d.Image){const T=new Image;T.onload=A(Nn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Nn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Nn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Nn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function Fo(c,m){const v=new Gn,T=new AbortController,P=setTimeout(()=>{T.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Nn(v,"TestPingServer: error",!1,m)})}function Nn(c,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Sr(){this.g=new Eu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(vi,Tu),vi.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,m){vt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Is,vt),r=Is.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?br(this):Xn(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let m="";return le(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Cs(c,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Dn(v),typeof c=="string"?v!=null&&qi(v):Qe(c,m,v))}function Xe(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xe,vt);var Ei=/^https?$/i,Go=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Ns(this,q);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Go,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of v)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ns(this,q)}};function Ns(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Qo(c),Bi(c)}function Qo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let te=String(c.D).match(Nu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!Ei.test(te?te.toLowerCase():"")}v=T}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var P=$n(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Qo(c)}}finally{Bi(c)}}}}function Bi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),af(m)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const m={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(w(c[T]))continue;var v=Ru(c[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}_e(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function wr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,T){Et(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=zu(this,null,this.W),Ai(this)};function Ko(c){if(Sa(c),c.I==3){var m=c.V++,v=St(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),Os(c,v),m=new Qn(c,c.j,m),m.M=2,m.A=ws(St(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=qu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}ju(c)}function Rr(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function Sa(c){Rr(c),c.v&&(d.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ai(c){if(!Uo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ge||b(),Ie||(Ge(),Ie=!0),C.add(m,c),c.D=0}}function ba(c,m){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(p(c.Ea,c,m),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=D(q),Z(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Vu(this,P,m),v=St(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Os(this,v),q&&(this.R?m="headers="+qi(Dn(q))+"&"+m:this.u&&Cs(v,this.u,q)),Po(this.h,P),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),P.U=!0,fi(P,v,null)):fi(P,v,m),this.I=2}}else this.I==3&&(c?Yo(this,c):this.i.length==0||Uo(this.h)||Yo(this))};function Yo(c,m){var v;m?v=m.l:v=c.V++;const T=St(c.J);Qe(T,"SID",c.M),Qe(T,"RID",v),Qe(T,"AID",c.K),Os(c,T),c.u&&c.o&&Cs(T,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),fi(v,T,m)}function Os(c,m){c.H&&le(c.H,function(v,T){Qe(m,T,v)}),c.l&&le({},function(v,T){Qe(m,T,v)})}function Vu(c,m,v){v=Math.min(c.i.length,v);const T=c.l?p(c.l.Ka,c.l,c):null;e:{var P=c.i;let Se=-1;for(;;){const mt=["count="+v];Se==-1?v>0?(Se=P[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let Be=!0;for(let ot=0;ot<v;ot++){var q=P[ot].g;const On=P[ot].map;if(q-=Se,q<0)Se=Math.max(0,P[ot].g-100),Be=!1;else try{q="req"+q+"_"||"";try{var te=On instanceof Map?On:Object.entries(On);for(const[bi,Jn]of te){let Zn=Jn;g(Jn)&&(Zn=_r(Jn)),mt.push(q+bi+"="+encodeURIComponent(Zn))}}catch(bi){throw mt.push(q+"type="+encodeURIComponent("_badmap")),bi}}catch{T&&T(On)}}if(Be){te=mt.join("&");break e}}te=void 0}return c=c.i.splice(0,v),m.G=c,te}function ku(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ge||b(),Ie||(Ge(),Ie=!0),C.add(m,c),c.A=0}}function xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(p(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Rr(this),Uu(this))};function Xo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=St(c.na);Qe(m,"RID","rpc"),Qe(m,"SID",c.M),Qe(m,"AID",c.K),Qe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(m,"TO",c.ia),Qe(m,"TYPE","xmlhttp"),Os(c,m),c.u&&c.o&&Cs(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ws(St(m)),v.u=null,v.R=!0,pa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),xs(this),Et(19))};function wa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Pu(c,m){var v=null;if(c.g==m){wa(c),Xo(c),c.g=null;var T=2}else if(yi(c.h,m))v=m.G,Lo(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;T=ga(),Mt(T,new ui(T,v)),Ai(c)}else ku(c);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ba(c,m)||T==2&&xs(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Lu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Si(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),T=c.Ua;const P=!T;T=new yn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jt(T,"https"),ws(T),P?Yn(T.toString(),v):Fo(T.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(m),ju(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function ju(c){if(c.I=0,c.ja=[],c.l){const m=jo(c.h);(m.length!=0||c.i.length!=0)&&(W(c.ja,m),W(c.ja,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.oa()}}function zu(c,m,v){var T=v instanceof yn?St(v):new yn(v);if(T.g!="")m&&(T.g=m+"."+T.g),vr(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new yn(null);T&&jt(q,T),m&&(q.g=m),P&&vr(q,P),v&&(q.h=v),T=q}return v=c.G,m=c.wa,v&&m&&Qe(T,v,m),Qe(T,"VER",c.ka),Os(c,T),T}function qu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xe(new vi({ab:v})):new Xe(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){vt.call(this),this.g=new wr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Fi(this)}S(rn,vt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ko(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);m.i.push(new At(m.Ya++,c)),m.I==3&&Ai(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,rn.Z.N.call(this)};function Hu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Hu,Bt);function Fu(){In.call(this),this.status=1}S(Fu,In);function Fi(c){this.g=c}S(Fi,Bu),Fi.prototype.ra=function(){Mt(this.g,"a")},Fi.prototype.qa=function(c){Mt(this.g,new Hu(c))},Fi.prototype.pa=function(c){Mt(this.g,new Fu)},Fi.prototype.oa=function(){Mt(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,tT=function(){return new Ir},eT=function(){return ga()},W0=dt,km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,th=Ss,Mo.COMPLETE="complete",Z0=Mo,Au.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Pl=Au,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,J0=Xe}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const rE="@firebase/firestore",sE="4.9.3";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Ao="12.7.0";const na=new og("@firebase/firestore");function no(){return na.logLevel}function ae(r,...e){if(na.logLevel<=Me.DEBUG){const n=e.map(cg);na.debug(`Firestore (${Ao}): ${r}`,...n)}}function mr(r,...e){if(na.logLevel<=Me.ERROR){const n=e.map(cg);na.error(`Firestore (${Ao}): ${r}`,...n)}}function fo(r,...e){if(na.logLevel<=Me.WARN){const n=e.map(cg);na.warn(`Firestore (${Ao}): ${r}`,...n)}}function cg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,nT(r,s,n)}function nT(r,e,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function Fe(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||nT(e,l,s)}function Ae(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class iT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class bR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wR{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new iT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class RR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new RR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=NR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Um(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=e.charAt(s);if(l!==u)return gm(l)===gm(u)?Ve(l,u):gm(l)?1:-1}return Ve(r.length,e.length)}const DR=55296,OR=57343;function gm(r){const e=r.charCodeAt(0);return e>=DR&&e<=OR}function mo(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}const oE="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Oi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),l=Oi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class tt extends Oi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const xR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Oi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return xR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oE}static keyField(){return new Xt([oE])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new se(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new se(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(u(),l++)}if(u(),d)throw new se(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(tt.fromString(e))}static fromName(e){return new de(tt.fromString(e).popFirst(5))}static empty(){return new de(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new tt(e.slice()))}}function rT(r,e,n){if(!n)throw new se(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MR(r,e,n,s){if(e===!0&&s===!0)throw new se(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function lE(r){if(!de.isDocumentKey(r))throw new se(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function uE(r){if(de.isDocumentKey(r))throw new se(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Hn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(r);throw new se(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function lu(r,e){if(!sT(r))throw new se(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new se(X.INVALID_ARGUMENT,n);return!0}const cE=-62135596800,hE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*hE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cE)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new st(0,0))}static max(){return new ve(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function VR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new as(l,de.empty(),e)}function kR(r){return new as(r.readTime,r.key,Yl)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(ve.min(),de.empty(),Yl)}static max(){return new as(ve.max(),de.empty(),Yl)}}function UR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const PR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==PR)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,s)=>{n(e)}))}static reject(e){return new J(((n,s)=>{s(e)}))}static waitFor(e){return new J(((n,s)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>s(y)))})),d=!0,u===l&&n()}))}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next((l=>l?J.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new J(((s,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((A=>{d[p]=A,++g,g===u&&s(d)}),(A=>l(A)))}}))}static doWhile(e,n){return new J(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function jR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const fg=-1;function Uh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function zR(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const aT="";function qR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=fE(e)),e=BR(r.get(n),e);return fE(e)}function BR(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case aT:n+="";break;default:n+=u}}return n}function fE(r){return r+aT+""}function dE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ds(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function oT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=l??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Yt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mE(this.data.getIterator())}getIteratorFrom(e){return new mE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class mE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Pt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lT("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const HR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=HR.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const uT="server_timestamp",cT="__type__",hT="__previous_value__",fT="__local_write_time__";function dg(r){return(r?.mapValue?.fields||{})[cT]?.stringValue===uT}function Ph(r){const e=r.mapValue.fields[hT];return dg(e)?Ph(e):e}function Xl(r){const e=os(r.mapValue.fields[fT].timestampValue);return new st(e.seconds,e.nanos)}class FR{constructor(e,n,s,l,u,d,g,y,p,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=A}}const ph="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const dT="__type__",GR="__max__",$c={mapValue:{}},mT="__vector__",yh="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dg(r)?4:KR(r)?9007199254740991:QR(r)?10:11:ye(28295,{value:r})}function ji(r,e){if(r===e)return!0;const n=us(r);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xl(r).isEqual(Xl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=os(l.timestampValue),g=os(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return ls(l.bytesValue).isEqual(ls(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=yt(l.doubleValue),g=yt(u.doubleValue);return d===g?gh(d)===gh(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(dE(d)!==dE(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ji(d[y],g[y])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find((n=>ji(n,e)))!==void 0}function go(r,e){if(r===e)return 0;const n=us(r),s=us(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=yt(u.integerValue||u.doubleValue),y=yt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return gE(r.timestampValue,e.timestampValue);case 4:return gE(Xl(r),Xl(e));case 5:return Um(r.stringValue,e.stringValue);case 6:return(function(u,d){const g=ls(u),y=ls(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const A=Ve(g[p],y[p]);if(A!==0)return A}return Ve(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Ve(yt(u.latitude),yt(d.latitude));return g!==0?g:Ve(yt(u.longitude),yt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return pE(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[yh]?.arrayValue,A=y[yh]?.arrayValue,S=Ve(p?.values?.length||0,A?.values?.length||0);return S!==0?S:pE(p,A)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===$c.mapValue&&d===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(d===$c.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},A=Object.keys(p);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const N=Um(y[S],A[S]);if(N!==0)return N;const Q=go(g[y[S]],p[A[S]]);if(Q!==0)return Q}return Ve(y.length,A.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function gE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=os(r),s=os(e),l=Ve(n.seconds,s.seconds);return l!==0?l:Ve(n.nanos,s.nanos)}function pE(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=go(n[l],s[l]);if(u)return u}return Ve(n.length,s.length)}function po(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Pm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${Pm(n.fields[d])}`;return l+"}"})(r.mapValue):ye(61005,{value:r})}function nh(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(r);return e?16+nh(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+nh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ds(s.fields,((u,d)=>{l+=u.length+nh(d)})),l})(r.mapValue);default:throw ye(13486,{value:r})}}function yE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lm(r){return!!r&&"integerValue"in r}function mg(r){return!!r&&"arrayValue"in r}function _E(r){return!!r&&"nullValue"in r}function vE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function QR(r){return(r?.mapValue?.fields||{})[dT]?.stringValue===mT}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ds(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return{...r}}function KR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GR}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Xt.emptyPath(),s={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=Bl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];ih(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){ds(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new gn(Bl(this.value))}}function gT(r){const e=[];return ds(r.fields,((n,s)=>{const l=new Xt([n]);if(ih(s)){const u=gT(s.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new wn(e)}class en{constructor(e,n,s,l,u,d,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new en(e,0,ve.min(),ve.min(),ve.min(),gn.empty(),0)}static newFoundDocument(e,n,s,l){return new en(e,1,n,ve.min(),s,l,0)}static newNoDocument(e,n){return new en(e,2,n,ve.min(),ve.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ve.min(),ve.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(e,n){this.position=e,this.inclusive=n}}function EE(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?s=de.comparator(de.fromName(d.referenceValue),n.key):s=go(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function TE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ji(r.position[n],e.position[n]))return!1;return!0}class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function YR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class pT{}class Nt extends pT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $R(e,n,s):n==="array-contains"?new WR(e,s):n==="in"?new eI(e,s):n==="not-in"?new tI(e,s):n==="array-contains-any"?new nI(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new JR(e,s):new ZR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends pT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new si(e,n)}matches(e){return yT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yT(r){return r.op==="and"}function _T(r){return XR(r)&&yT(r)}function XR(r){for(const e of r.filters)if(e instanceof si)return!1;return!0}function jm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+po(r.value);if(_T(r))return r.filters.map((e=>jm(e))).join(",");{const e=r.filters.map((n=>jm(n))).join(",");return`${r.op}(${e})`}}function vT(r,e){return r instanceof Nt?(function(s,l){return l instanceof Nt&&s.op===l.op&&s.field.isEqual(l.field)&&ji(s.value,l.value)})(r,e):r instanceof si?(function(s,l){return l instanceof si&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,g)=>u&&vT(d,l.filters[g])),!0):!1})(r,e):void ye(19439)}function ET(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(ET).join(" ,")+"}"})(r):"Filter"}class $R extends Nt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class JR extends Nt{constructor(e,n){super(e,"in",n),this.keys=TT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ZR extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=TT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TT(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class WR extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mg(n)&&Jl(n.arrayValue,this.value)}}class eI extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class tI extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class nI extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class iI{constructor(e,n=null,s=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function AE(r,e=null,n=[],s=[],l=null,u=null,d=null){return new iI(r,e,n,s,l,u,d)}function gg(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>po(s))).join(",")),e.Te=n}return e.Te}function pg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!YR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!vT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!TE(r.startAt,e.startAt)&&TE(r.endAt,e.endAt)}function zm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wo{constructor(e,n=null,s=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rI(r,e,n,s,l,u,d,g){return new wo(r,e,n,s,l,u,d,g)}function Lh(r){return new wo(r)}function SE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AT(r){return r.collectionGroup!==null}function Hl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Pt(Xt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Zl(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Zl(Xt.keyField(),s))}return e.Ie}function xi(r){const e=Ae(r);return e.Ee||(e.Ee=sI(e,Hl(r))),e.Ee}function sI(r,e){if(r.limitType==="F")return AE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Zl(l.field,u)}));const n=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return AE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function qm(r,e){const n=r.filters.concat([e]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Bm(r,e,n){return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return pg(xi(r),xi(e))&&r.limitType===e.limitType}function ST(r){return`${gg(xi(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>ET(l))).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>po(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>po(l))).join(",")),`Target(${s})`})(xi(r))}; limitType=${r.limitType})`}function zh(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Hl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const p=EE(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,Hl(s),l)||s.endAt&&!(function(d,g,y){const p=EE(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,Hl(s),l))})(r,e)}function aI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bT(r){return(e,n)=>{let s=!1;for(const l of Hl(r)){const u=oI(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function oI(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?go(y,p):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return oT(this.inner)}size(){return this.innerSize}}const lI=new ut(de.comparator);function gr(){return lI}const wT=new ut(de.comparator);function Ll(...r){let e=wT;for(const n of r)e=e.insert(n.key,n);return e}function RT(r){let e=wT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Fl()}function IT(){return Fl()}function Fl(){return new ua((r=>r.toString()),((r,e)=>r.isEqual(e)))}const uI=new ut(de.comparator),cI=new Pt(de.comparator);function ke(...r){let e=cI;for(const n of r)e=e.add(n);return e}const hI=new Pt(Ve);function fI(){return hI}function yg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function CT(r){return{integerValue:""+r}}function NT(r,e){return zR(e)?CT(e):yg(r,e)}class qh{constructor(){this._=void 0}}function dI(r,e,n){return r instanceof Wl?(function(l,u){const d={fields:{[cT]:{stringValue:uT},[fT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&dg(u)&&(u=Ph(u)),u&&(d.fields[hT]=u),{mapValue:d}})(n,e):r instanceof eu?OT(r,e):r instanceof tu?xT(r,e):(function(l,u){const d=DT(l,u),g=bE(d)+bE(l.Ae);return Lm(d)&&Lm(l.Ae)?CT(g):yg(l.serializer,g)})(r,e)}function mI(r,e,n){return r instanceof eu?OT(r,e):r instanceof tu?xT(r,e):n}function DT(r,e){return r instanceof nu?(function(s){return Lm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Wl extends qh{}class eu extends qh{constructor(e){super(),this.elements=e}}function OT(r,e){const n=MT(e);for(const s of r.elements)n.some((l=>ji(l,s)))||n.push(s);return{arrayValue:{values:n}}}class tu extends qh{constructor(e){super(),this.elements=e}}function xT(r,e){let n=MT(e);for(const s of r.elements)n=n.filter((l=>!ji(l,s)));return{arrayValue:{values:n}}}class nu extends qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bE(r){return yt(r.integerValue||r.doubleValue)}function MT(r){return mg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class VT{constructor(e,n){this.field=e,this.transform=n}}function gI(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof eu&&l instanceof eu||s instanceof tu&&l instanceof tu?mo(s.elements,l.elements,ji):s instanceof nu&&l instanceof nu?ji(s.Ae,l.Ae):s instanceof Wl&&l instanceof Wl})(r.transform,e.transform)}class pI{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bh{}function kT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new _g(r.key,ii.none()):new uu(r.key,r.data,ii.none());{const n=r.data,s=gn.empty();let l=new Pt(Xt.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ms(r.key,s,new wn(l.toArray()),ii.none())}}function yI(r,e,n){r instanceof uu?(function(l,u,d){const g=l.value.clone(),y=RE(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):r instanceof ms?(function(l,u,d){if(!rh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=RE(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(UT(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Gl(r,e,n,s){return r instanceof uu?(function(u,d,g,y){if(!rh(u.precondition,d))return g;const p=u.value.clone(),A=IE(u.fieldTransforms,y,d);return p.setAll(A),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof ms?(function(u,d,g,y){if(!rh(u.precondition,d))return g;const p=IE(u.fieldTransforms,y,d),A=d.data;return A.setAll(UT(u)),A.setAll(p),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,d,g){return rh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,n)}function _I(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=DT(s.transform,l||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function wE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&mo(s,l,((u,d)=>gI(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Bh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ms extends Bh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function UT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function RE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,g=e.data.field(u.field);s.set(u.field,mI(d,g,n[l]))}return s}function IE(r,e,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,dI(u,d,e))}return s}class _g extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EI{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&yI(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=IT();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=kT(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,s)=>wE(n,s)))&&mo(this.baseMutations,e.baseMutations,((n,s)=>wE(n,s)))}}class vg{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return uI})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new vg(e,n,s,l)}}class TI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Le;function SI(r){switch(r){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function PT(r){if(r===void 0)return mr("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ct.OK:return X.OK;case Ct.CANCELLED:return X.CANCELLED;case Ct.UNKNOWN:return X.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return X.INTERNAL;case Ct.UNAVAILABLE:return X.UNAVAILABLE;case Ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ct.NOT_FOUND:return X.NOT_FOUND;case Ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ct.ABORTED:return X.ABORTED;case Ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ct.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:r})}}(Le=Ct||(Ct={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function bI(){return new TextEncoder}const wI=new rs([4294967295,4294967295],0);function CE(r){const e=bI().encode(r),n=new $0;return n.update(e),new Uint8Array(n.digest())}function NE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([n,s],0),new rs([l,u],0)]}class Eg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rs.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(rs.fromNumber(s)));return l.compare(wI)===1&&(l=new rs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CE(e),[s,l]=NE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Eg(u,l,n);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=CE(e),[s,l]=NE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hh(ve.min(),l,new ut(Ve),gr(),ke())}}class cu{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,ke(),ke(),ke())}}class sh{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class LT{constructor(e,n){this.targetId=e,this.Ce=n}}class jT{constructor(e,n,s=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class DE{constructor(){this.ve=0,this.Fe=OE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:ye(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=OE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RI{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(zm(u))if(s===0){const d=new de(u.path);this.et(n,d,en.newNoDocument(d,ve.min()))}else Fe(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=ls(s).toUint8Array()}catch(y){if(y instanceof lT)return fo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Eg(d,l,u)}catch(y){return fo(y instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&zm(g.target)){const y=new de(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,en.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Hh(e,n,this.Ye,this.je,s);return this.je=gr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ut(Ve),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new DE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new ut(de.comparator)}function OE(){return new ut(de.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class DI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(r,e){return r.useProto3Json||Uh(e)?e:{value:e}}function vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OI(r,e){return vh(r,e.toTimestamp())}function Mi(r){return Fe(!!r,49232),ve.fromTimestamp((function(n){const s=os(n);return new st(s.seconds,s.nanos)})(r))}function Tg(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const n=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function qT(r){const e=tt.fromString(r);return Fe(QT(e),10190,{key:e.toString()}),e}function Gm(r,e){return Tg(r.databaseId,e.path)}function pm(r,e){const n=qT(e);if(n.get(1)!==r.databaseId.projectId)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(HT(n))}function BT(r,e){return Tg(r.databaseId,e)}function xI(r){const e=qT(r);return e.length===4?tt.emptyPath():HT(e)}function Qm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function HT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function xE(r,e,n){return{name:Gm(r,e),fields:n.value.mapValue.fields}}function MI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ye(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,A){return p.useProto3Json?(Fe(A===void 0||typeof A=="string",58123),$t.fromBase64String(A||"")):(Fe(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),$t.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const A=p.code===void 0?X.UNKNOWN:PT(p.code);return new se(A,p.message||"")})(d);n=new jT(s,l,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=pm(r,s.document.name),u=Mi(s.document.updateTime),d=s.document.createTime?Mi(s.document.createTime):ve.min(),g=new gn({mapValue:{fields:s.document.fields}}),y=en.newFoundDocument(l,u,d,g),p=s.targetIds||[],A=s.removedTargetIds||[];n=new sh(p,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=pm(r,s.document),u=s.readTime?Mi(s.readTime):ve.min(),d=en.newNoDocument(l,u),g=s.removedTargetIds||[];n=new sh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=pm(r,s.document),u=s.removedTargetIds||[];n=new sh([],u,l,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new AI(l,u),g=s.targetId;n=new LT(g,d)}}return n}function VI(r,e){let n;if(e instanceof uu)n={update:xE(r,e.key,e.value)};else if(e instanceof _g)n={delete:Gm(r,e.key)};else if(e instanceof ms)n={update:xE(r,e.key,e.data),updateMask:HI(e.fieldMask)};else{if(!(e instanceof vI))return ye(16599,{Vt:e.type});n={verify:Gm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const g=d.transform;if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ye(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:OI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function kI(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?Mi(l.updateTime):Mi(u);return d.isEqual(ve.min())&&(d=Mi(u)),new pI(d,l.transformResults||[])})(n,e)))):[]}function UI(r,e){return{documents:[BT(r,e.path)]}}function PI(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=BT(r,l);const u=(function(p){if(p.length!==0)return GT(si.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((A=>(function(N){return{field:ro(N.field),direction:zI(N.dir)}})(A)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Hm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:l}}function LI(r){let e=xI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Fe(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let u=[];n.where&&(u=(function(S){const N=FT(S);return N instanceof si&&_T(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((N=>(function(W){return new Zl(so(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,Uh(N)?null:N})(n.limit));let y=null;n.startAt&&(y=(function(S){const N=!!S.before,Q=S.values||[];return new _h(Q,N)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const N=!S.before,Q=S.values||[];return new _h(Q,N)})(n.endAt)),rI(e,l,d,u,g,"F",y,p)}function jI(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=so(n.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(n.unaryFilter.field);return Nt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(so(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>FT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function zI(r){return II[r]}function qI(r){return CI[r]}function BI(r){return NI[r]}function ro(r){return{fieldPath:r.canonicalString()}}function so(r){return Xt.fromServerFormat(r.fieldPath)}function GT(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(vE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:qI(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((l=>GT(l)));return s.length===1?s[0]:{compositeFilter:{op:BI(n.op),filters:s}}})(r):ye(54877,{filter:r})}function HI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ns{constructor(e,n,s,l,u=ve.min(),d=ve.min(),g=$t.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FI{constructor(e){this.yt=e}}function GI(r){const e=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(e,e.limit,"L"):e}class QI{constructor(){this.Cn=new KI}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(as.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class KI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Pt(tt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Pt(tt.comparator)).toArray()}}const ME={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(KT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const VE="LruGarbageCollector",YI=1048576;function kE([r,e],[n,s]){const l=Ve(r,n);return l===0?Ve(e,s):l}class XI{constructor(e){this.Ir=e,this.buffer=new Pt(kE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();kE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $I{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(VE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?ae(VE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class JI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(kh.ce);const s=new XI(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ME)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ME):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,d,g,y,p;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),no()<=Me.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function ZI(r,e){return new JI(r,e)}class WI{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class tC{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Gl(s.mutation,l,wn.empty(),st.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const l=Js();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let d=Ll();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,s,l){let u=gr();const d=Fl(),g=(function(){return Fl()})();return n.forEach(((y,p)=>{const A=s.get(p.key);l.has(p.key)&&(A===void 0||A.mutation instanceof ms)?u=u.insert(p.key,p):A!==void 0?(d.set(p.key,A.mutation.getFieldMask()),Gl(A.mutation,p,A.mutation.getFieldMask(),st.now())):d.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,A)=>d.set(p,A))),n.forEach(((p,A)=>g.set(p,new eC(A,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=Fl();let l=new ut(((d,g)=>d-g)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let A=s.get(y)||wn.empty();A=g.applyToLocalView(p,A),s.set(y,A);const S=(l.get(g.batchId)||ke()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,A=y.value,S=IT();A.forEach((N=>{if(!u.has(N)){const Q=kT(n.get(N),s.get(N));Q!==null&&S.set(N,Q),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):J.resolve(Js());let g=Yl,y=u;return d.next((p=>J.forEach(p,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{y=y.insert(A,N)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,ke()))).next((A=>({batchId:g,changes:RT(A)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let l=Ll();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,u).next((g=>J.forEach(g,(y=>{const p=(function(S,N){return new wo(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,l).next((A=>{A.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((d=>{u.forEach(((y,p)=>{const A=p.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))}));let g=Ll();return d.forEach(((y,p)=>{const A=u.get(y);A!==void 0&&Gl(A.mutation,p,wn.empty(),st.now()),zh(n,p)&&(g=g.insert(y,p))})),g}))}}class nC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:GI(l.bundledQuery),readTime:Mi(l.readTime)}})(n)),J.resolve()}}class iC{constructor(){this.overlays=new ut(de.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return J.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const l=Js(),u=n.length+1,d=new de(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>s&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ut(((p,A)=>p-A));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let A=u.get(p.largestBatchId);A===null&&(A=Js(),u=u.insert(p.largestBatchId,A)),A.set(p.getKey(),p)}}const g=Js(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,A)=>g.set(p,A))),!(g.size()>=l)););return J.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new TI(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class rC{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}class Ag{constructor(){this.Qr=new Pt(qt.$r),this.Ur=new Pt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new tt([])),s=new qt(n,e),l=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new tt([])),s=new qt(n,e),l=new qt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}class sC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(qt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new EI(u,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new qt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?fg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),l=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ve);return n.forEach((l=>{const u=new qt(l,0),d=new qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{s=s.add(g.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const d=new qt(new de(u),0);let g=new Pt(Ve);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(l=>{const u=new qt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),l=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class aC{constructor(e){this.ri=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=gr();const d=n.path,g=new de(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:A}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||UR(kR(A),s)<=0||(l.has(A.key)||zh(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,l){ye(9500)}ii(e,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new oC(this)}getSize(e){return J.resolve(this.size)}}class oC extends WI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class lC{constructor(e){this.persistence=e,this.si=new ua((n=>gg(n)),pg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Ag,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}class YT{constructor(e,n){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new rC,this.referenceDelegate=e(this),this.Pi=new lC(this),this.indexManager=new QI,this.remoteDocumentCache=(function(l){return new aC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new FI(n),this.Ii=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new sC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const l=new uC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class uC extends LR{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.Ri=new Ag,this.Vi=null}static mi(e){return new Sg(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const l=de.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.pi=new ua((s=>qR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=ZI(this,n)}static mi(e,n){return new Eh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?J.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((g=>{g||(s++,u.removeEntry(d,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bg{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=ke(),l=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new bg(e,n.fromCache,s,l)}}class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ow()?8:jR(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new cC;return this.Ss(e,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,d,g.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(no()<=Me.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(no()<=Me.DEBUG&&ae("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(no()<=Me.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):J.resolve())}ys(e,n){if(SE(n))return J.resolve(null);let s=xi(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Bm(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=ke(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(n,g);return this.Cs(n,p,d,y.readTime)?this.ys(e,Bm(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,s,l){return SE(n)||l.isEqual(ve.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,l)?J.resolve(null):(no()<=Me.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),io(n)),this.vs(e,d,n,VR(l,Yl)).next((g=>g)))}))}Ds(e,n){let s=new Pt(bT(e));return n.forEach(((l,u)=>{zh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return no()<=Me.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(e,n,as.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const wg="LocalStore",fC=3e8;class dC{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(Ve),this.xs=new ua((u=>gg(u)),pg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mC(r,e,n,s){return new dC(r,e,n,s)}async function XT(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],g=[];let y=ke();for(const p of l){d.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}for(const p of u){g.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}return n.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function gC(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,A){const S=p.batch,N=S.keys();let Q=J.resolve();return N.forEach((W=>{Q=Q.next((()=>A.getEntry(y,W))).next((ie=>{const ee=p.docVersions.get(W);Fe(ee!==null,48541),ie.version.compareTo(ee)<0&&(S.applyToRemoteDocument(ie,p),ie.isValidDocument()&&(ie.setReadTime(p.commitVersion),A.addEntry(ie)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=ke();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function $T(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function pC(r,e){const n=Ae(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((A,S)=>{const N=l.get(S);if(!N)return;g.push(n.Pi.removeMatchingKeys(u,A.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,A.addedDocuments,S))));let Q=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken($t.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,s)),l=l.insert(S,Q),(function(ie,ee,he){return ie.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=fC?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(N,Q,A)&&g.push(n.Pi.updateTargetData(u,Q))}));let y=gr(),p=ke();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(yC(u,d,e.documentUpdates).next((A=>{y=A.ks,p=A.qs}))),!s.isEqual(ve.min())){const A=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(A)}return J.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function yC(r,e,n){let s=ke(),l=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let d=gr();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(ve.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ae(wg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function _C(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function vC(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,J.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new ns(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Km(r,e,n){const s=Ae(r),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!bo(d))throw d;ae(wg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function UE(r,e,n){const s=Ae(r);let l=ve.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,A){const S=Ae(y),N=S.xs.get(A);return N!==void 0?J.resolve(S.Ms.get(N)):S.Pi.getTargetData(p,A)})(s,d,xi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?l:ve.min(),n?u:ke()))).next((g=>(EC(s,aI(e),g),{documents:g,Qs:u})))))}function EC(r,e,n){let s=r.Os.get(e)||ve.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class PE{constructor(){this.activeTargetIds=fI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TC{constructor(){this.Mo=new PE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new PE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AC{Oo(e){}shutdown(){}}const LE="ConnectivityMonitor";class jE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(LE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Ym(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const ym="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const d=Ym(),g=this.zo(e,n.toUriEncodedString());ae(ym,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:p}=new URL(g),A=vo(p);return this.Jo(e,g,y,s,A).then((S=>(ae(ym,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw fo(ym,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,n,s,l,u,d){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=SC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class wC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class RC extends bC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const d=Ym();return new Promise(((g,y)=>{const p=new J0;p.setWithCredentials(!0),p.listenOnce(Z0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case th.NO_ERROR:const S=p.getResponseJson();ae(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case th.TIMEOUT:ae(Zt,`RPC '${e}' ${d} timed out`),y(new se(X.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const N=p.getStatus();if(ae(Zt,`RPC '${e}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let Q=p.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const ie=(function(he){const Ee=he.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ee)>=0?Ee:X.UNKNOWN})(W.status);y(new se(ie,W.message))}else y(new se(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new se(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ae(Zt,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ae(Zt,`RPC '${e}' ${d} sending request:`,l),p.send(n,"POST",A,s,15)}))}T_(e,n,s){const l=Ym(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tT(),g=eT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const A=u.join("");ae(Zt,`Creating RPC '${e}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let N=!1,Q=!1;const W=new wC({Yo:ee=>{Q?ae(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(N||(ae(Zt,`Opening RPC '${e}' stream ${l} transport.`),S.open(),N=!0),ae(Zt,`RPC '${e}' stream ${l} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),ie=(ee,he,Ee)=>{ee.listen(he,(me=>{try{Ee(me)}catch(je){setTimeout((()=>{throw je}),0)}}))};return ie(S,Pl.EventType.OPEN,(()=>{Q||(ae(Zt,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),ie(S,Pl.EventType.CLOSE,(()=>{Q||(Q=!0,ae(Zt,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(S))})),ie(S,Pl.EventType.ERROR,(ee=>{Q||(Q=!0,fo(Zt,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),W.a_(new se(X.UNAVAILABLE,"The operation could not be completed")))})),ie(S,Pl.EventType.MESSAGE,(ee=>{if(!Q){const he=ee.data[0];Fe(!!he,16349);const Ee=he,me=Ee?.error||Ee[0]?.error;if(me){ae(Zt,`RPC '${e}' stream ${l} received error:`,me);const je=me.status;let Ge=(function(b){const I=Ct[b];if(I!==void 0)return PT(I)})(je),Ie=me.message;Ge===void 0&&(Ge=X.INTERNAL,Ie="Unknown error status: "+je+" with message "+me.message),Q=!0,W.a_(new se(Ge,Ie)),S.close()}else ae(Zt,`RPC '${e}' stream ${l} received:`,he),W.u_(he)}})),ie(g,W0.STAT_EVENT,(ee=>{ee.stat===km.PROXY?ae(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===km.NOPROXY&&ae(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function _m(){return typeof document<"u"?document:null}function Fh(r){return new DI(r,!0)}class JT{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zE="PersistentStream";class ZT{constructor(e,n,s,l,u,d,g,y){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new se(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(zE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ae(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IC extends ZT{constructor(e,n,s,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?Mi(d.readTime):ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=zm(y)?{documents:UI(u,y)}:{query:PI(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=zT(u,d.resumeToken);const p=Hm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(ve.min())>0){g.readTime=vh(u,d.snapshotVersion.toTimestamp());const p=Hm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=jI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class CC extends ZT{constructor(e,n,s,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kI(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>VI(this.serializer,s)))};this.q_(n)}}class NC{}class DC extends NC{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Fm(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(X.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Fm(n,s),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new se(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class xC{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ca(this)&&(ae(ia,"Restarting streams for network reachability change."),await(async function(y){const p=Ae(y);p.Ea.add(4),await hu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Gh(p)})(this))}))})),this.Ra=new OC(s,l)}}async function Gh(r){if(ca(r))for(const e of r.da)await e(!0)}async function hu(r){for(const e of r.da)await e(!1)}function WT(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ng(n)?Cg(n):Ro(n).O_()&&Ig(n,e))}function Rg(r,e){const n=Ae(r),s=Ro(n);n.Ia.delete(e),s.O_()&&eA(n,e),n.Ia.size===0&&(s.O_()?s.L_():ca(n)&&n.Ra.set("Unknown"))}function Ig(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(r).Y_(e)}function eA(r,e){r.Va.Ue(e),Ro(r).Z_(e)}function Cg(r){r.Va=new RI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Ra.ua()}function Ng(r){return ca(r)&&!Ro(r).x_()&&r.Ia.size>0}function ca(r){return Ae(r).Ea.size===0}function tA(r){r.Va=void 0}async function MC(r){r.Ra.set("Online")}async function VC(r){r.Ia.forEach(((e,n)=>{Ig(r,e)}))}async function kC(r,e){tA(r),Ng(r)?(r.Ra.ha(e),Cg(r)):r.Ra.set("Unknown")}async function UC(r,e,n){if(r.Ra.set("Online"),e instanceof jT&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(s){ae(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Th(r,s)}else if(e instanceof sh?r.Va.Ze(e):e instanceof LT?r.Va.st(e):r.Va.tt(e),!n.isEqual(ve.min()))try{const s=await $T(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const A=u.Ia.get(p);A&&u.Ia.set(p,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const A=u.Ia.get(y);if(!A)return;u.Ia.set(y,A.withResumeToken($t.EMPTY_BYTE_STRING,A.snapshotVersion)),eA(u,y);const S=new ns(A.target,y,p,A.sequenceNumber);Ig(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){ae(ia,"Failed to raise snapshot:",s),await Th(r,s)}}async function Th(r,e,n){if(!bo(e))throw e;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),n||(n=()=>$T(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(ia,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Gh(r)}))}function nA(r,e){return e().catch((n=>Th(r,n,e)))}async function Qh(r){const e=Ae(r),n=cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fg;for(;PC(e);)try{const l=await _C(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,LC(e,l)}catch(l){await Th(e,l)}iA(e)&&rA(e)}function PC(r){return ca(r)&&r.Ta.length<10}function LC(r,e){r.Ta.push(e);const n=cs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function iA(r){return ca(r)&&!cs(r).x_()&&r.Ta.length>0}function rA(r){cs(r).start()}async function jC(r){cs(r).ra()}async function zC(r){const e=cs(r);for(const n of r.Ta)e.ea(n.mutations)}async function qC(r,e,n){const s=r.Ta.shift(),l=vg.from(s,e,n);await nA(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Qh(r)}async function BC(r,e){e&&cs(r).X_&&await(async function(s,l){if((function(d){return SI(d)&&d!==X.ABORTED})(l.code)){const u=s.Ta.shift();cs(s).B_(),await nA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Qh(s)}})(r,e),iA(r)&&rA(r)}async function qE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ae(ia,"RemoteStore received new credentials");const s=ca(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function HC(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(n,s,l){const u=Ae(n);return u.sa(),new IC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:MC.bind(null,r),t_:VC.bind(null,r),r_:kC.bind(null,r),H_:UC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ng(r)?Cg(r):r.Ra.set("Unknown")):(await r.ma.stop(),tA(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,l){const u=Ae(n);return u.sa(),new CC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jC.bind(null,r),r_:BC.bind(null,r),ta:zC.bind(null,r),na:qC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Dg{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const d=Date.now()+s,g=new Dg(e,n,d,l,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(r,e){if(mr("AsyncQueue",`${e}: ${r}`),bo(r))return new se(X.UNAVAILABLE,`${e}: ${r}`);throw r}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class BE{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _o{constructor(e,n,s,l,u,d,g,y,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new _o(e,n,lo.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class FC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class GC{constructor(){this.queries=HE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Ae(n),u=l.queries;l.queries=HE(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new se(X.ABORTED,"Firestore shutting down"))}}function HE(){return new ua((r=>ST(r)),jh)}async function xg(r,e){const n=Ae(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new FC,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Og(d,`Initialization of query '${io(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Vg(n)}async function Mg(r,e){const n=Ae(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QC(r,e){const n=Ae(r);let s=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Vg(n)}function KC(r,e,n){const s=Ae(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function Vg(r){r.Ca.forEach((e=>{e.next()}))}var Xm,FE;(FE=Xm||(Xm={})).Ma="default",FE.Cache="cache";class kg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}class sA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class YC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=bT(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new BE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const N=l.get(A),Q=zh(this.query,S)?S:null,W=!!N&&this.mutatedKeys.has(N.key),ie=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;N&&Q?N.data.isEqual(Q.data)?W!==ie&&(s.track({type:3,doc:Q}),ee=!0):this.su(N,Q)||(s.track({type:2,doc:Q}),ee=!0,(y&&this.eu(Q,y)>0||p&&this.eu(Q,p)<0)&&(g=!0)):!N&&Q?(s.track({type:0,doc:Q}),ee=!0):N&&!Q&&(s.track({type:1,doc:N}),ee=!0,(y||p)&&(g=!0)),ee&&(Q?(d=d.add(Q),u=ie?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(Q,W){const ie=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:ee})}};return ie(Q)-ie(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new _o(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new aA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new sA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ug="SyncEngine";class XC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $C{constructor(e){this.key=e,this.hu=!1}}class JC{constructor(e,n,s,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>ST(g)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(de.comparator),this.Au=new Map,this.Ru=new Ag,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZC(r,e,n=!0){const s=fA(r);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await oA(s,e,n,!0),l}async function WC(r,e){const n=fA(r);await oA(n,e,!0,!1)}async function oA(r,e,n,s){const l=await vC(r.localStore,xi(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await e2(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&WT(r.remoteStore,l),g}async function e2(r,e,n,s,l){r.pu=(S,N,Q)=>(async function(ie,ee,he,Ee){let me=ee.view.ru(he);me.Cs&&(me=await UE(ie.localStore,ee.query,!1).then((({documents:C})=>ee.view.ru(C,me))));const je=Ee&&Ee.targetChanges.get(ee.targetId),Ge=Ee&&Ee.targetMismatches.get(ee.targetId)!=null,Ie=ee.view.applyChanges(me,ie.isPrimaryClient,je,Ge);return QE(ie,ee.targetId,Ie.au),Ie.snapshot})(r,S,N,Q);const u=await UE(r.localStore,e,!0),d=new YC(e,u.Qs),g=d.ru(u.documents),y=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),p=d.applyChanges(g,r.isPrimaryClient,y);QE(r,n,p.au);const A=new XC(e,n,d);return r.Tu.set(e,A),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function t2(r,e,n){const s=Ae(r),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!jh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Km(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Rg(s.remoteStore,l.targetId),$m(s,l.targetId)})).catch(So)):($m(s,l.targetId),await Km(s.localStore,l.targetId,!0))}async function n2(r,e){const n=Ae(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Rg(n.remoteStore,s.targetId))}async function i2(r,e,n){const s=c2(r);try{const l=await(function(d,g){const y=Ae(d),p=st.now(),A=g.reduce(((Q,W)=>Q.add(W.key)),ke());let S,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=gr(),ie=ke();return y.Ns.getEntries(Q,A).next((ee=>{W=ee,W.forEach(((he,Ee)=>{Ee.isValidDocument()||(ie=ie.add(he))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,W))).next((ee=>{S=ee;const he=[];for(const Ee of g){const me=_I(Ee,S.get(Ee.key).overlayedDocument);me!=null&&he.push(new ms(Ee.key,me,gT(me.value.mapValue),ii.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,p,he,g)})).next((ee=>{N=ee;const he=ee.applyToLocalDocumentSet(S,ie);return y.documentOverlayCache.saveOverlays(Q,ee.batchId,he)}))})).then((()=>({batchId:N.batchId,changes:RT(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new ut(Ve)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,l.batchId,n),await fu(s,l.changes),await Qh(s.remoteStore)}catch(l){const u=Og(l,"Failed to persist write");n.reject(u)}}async function lA(r,e){const n=Ae(r);try{const s=await pC(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Fe(d.hu,14607):l.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await fu(n,s,e)}catch(s){await So(s)}}function GE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ae(d);y.onlineState=g;let p=!1;y.queries.forEach(((A,S)=>{for(const N of S.Sa)N.va(g)&&(p=!0)})),p&&Vg(y)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function r2(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let d=new ut(de.comparator);d=d.insert(u,en.newNoDocument(u,ve.min()));const g=ke().add(u),y=new Hh(ve.min(),new Map,new ut(Ve),d,g);await lA(s,y),s.du=s.du.remove(u),s.Au.delete(e),Pg(s)}else await Km(s.localStore,e,!1).then((()=>$m(s,e,n))).catch(So)}async function s2(r,e){const n=Ae(r),s=e.batch.batchId;try{const l=await gC(n.localStore,e);cA(n,s,null),uA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,l)}catch(l){await So(l)}}async function a2(r,e,n){const s=Ae(r);try{const l=await(function(d,g){const y=Ae(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let A;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(Fe(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,A))).next((()=>y.localDocuments.getDocuments(p,A)))}))})(s.localStore,e);cA(s,e,n),uA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,l)}catch(l){await So(l)}}function uA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function cA(r,e,n){const s=Ae(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function $m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||hA(r,s)}))}function hA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Rg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Pg(r))}function QE(r,e,n){for(const s of n)s instanceof sA?(r.Ru.addReference(s.key,e),o2(r,s)):s instanceof aA?(ae(Ug,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||hA(r,s.key)):ye(19791,{wu:s})}function o2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ae(Ug,"New document in limbo: "+n),r.Eu.add(s),Pg(r))}function Pg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new $C(n)),r.du=r.du.insert(n,s),WT(r.remoteStore,new ns(xi(Lh(n.path)),s,"TargetPurposeLimboResolution",kh.ce))}}async function fu(r,e,n){const s=Ae(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const A=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(p){l.push(p);const A=bg.As(y.targetId,p);u.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,p){const A=Ae(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(p,(N=>J.forEach(N.Es,(Q=>A.persistence.referenceDelegate.addReference(S,N.targetId,Q))).next((()=>J.forEach(N.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,N.targetId,Q)))))))))}catch(S){if(!bo(S))throw S;ae(wg,"Failed to update sequence numbers: "+S)}for(const S of p){const N=S.targetId;if(!S.fromCache){const Q=A.Ms.get(N),W=Q.snapshotVersion,ie=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(N,ie)}}})(s.localStore,u))}async function l2(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ae(Ug,"User change. New user:",e.toKey());const s=await XT(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new se(X.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function u2(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let l=ke();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function fA(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r2.bind(null,e),e.Pu.H_=QC.bind(null,e.eventManager),e.Pu.yu=KC.bind(null,e.eventManager),e}function c2(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mC(this.persistence,new hC,e.initialUser,this.serializer)}Cu(e){return new YT(Sg.mi,this.serializer)}Du(e){return new TC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class h2 extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $I(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new YT((s=>Eh.mi(s,n)),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>GE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GC})()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),s=(function(u){return new RC(u)})(e.databaseInfo);return(function(u,d,g,y){return new DC(u,d,g,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,d,g){return new xC(s,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>GE(this.syncEngine,n,0)),(function(){return jE.v()?new jE:new AC})())}createSyncEngine(e,n){return(function(l,u,d,g,y,p,A){const S=new JC(l,u,d,g,y,p);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ae(ia,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jm.provider={build:()=>new Jm};class Lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const hs="FirestoreClient";class f2{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ae(hs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ae(hs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Og(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function vm(r,e){r.asyncQueue.verifyOperationInProgress(),ae(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await XT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function KE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await d2(r);ae(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>qE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>qE(e.remoteStore,l))),r._onlineComponents=e}async function d2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(hs,"Using user provided OfflineComponentProvider");try{await vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await vm(r,new Ah)}}else ae(hs,"Using default OfflineComponentProvider"),await vm(r,new h2(void 0));return r._offlineComponents}async function dA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(hs,"Using user provided OnlineComponentProvider"),await KE(r,r._uninitializedComponentsProvider._online)):(ae(hs,"Using default OnlineComponentProvider"),await KE(r,new Jm))),r._onlineComponents}function m2(r){return dA(r).then((e=>e.syncEngine))}async function Sh(r){const e=await dA(r),n=e.eventManager;return n.onListen=ZC.bind(null,e.syncEngine),n.onUnlisten=t2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),n}function g2(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const A=new Lg({next:N=>{A.Nu(),d.enqueueAndForget((()=>Mg(u,S)));const Q=N.docs.has(g);!Q&&N.fromCache?p.reject(new se(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&N.fromCache&&y&&y.source==="server"?p.reject(new se(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(N)},error:N=>p.reject(N)}),S=new kg(Lh(g.path),A,{includeMetadataChanges:!0,qa:!0});return xg(u,S)})(await Sh(r),r.asyncQueue,e,n,s))),s.promise}function p2(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const A=new Lg({next:N=>{A.Nu(),d.enqueueAndForget((()=>Mg(u,S))),N.fromCache&&y.source==="server"?p.reject(new se(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(N)},error:N=>p.reject(N)}),S=new kg(g,A,{includeMetadataChanges:!0,qa:!0});return xg(u,S)})(await Sh(r),r.asyncQueue,e,n,s))),s.promise}function mA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const YE=new Map;const gA="firestore.googleapis.com",XE=!0;class $E{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gA,this.ssl=XE}else this.host=e.host,this.ssl=e.ssl??XE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YI)throw new se(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new SR;switch(s.type){case"firstParty":return new IR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=YE.get(n);s&&(ae("ComponentProvider","Removing Datastore"),YE.delete(n),s.terminate())})(this),Promise.resolve()}}function y2(r,e,n,s={}){r=Hn(r,Kh);const l=vo(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(q0(`https://${g}`),B0("Firestore",!0)),u.host!==gA&&u.host!==g&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:s};if(!ta(y,d)&&(r._setSettings(y),s.mockUserToken)){let p,A;if(typeof s.mockUserToken=="string")p=s.mockUserToken,A=Wt.MOCK_USER;else{p=Z1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new se(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Wt(S)}r._authCredentials=new bR(new iT(p,A))}}class gs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lu(n,_t._jsonSchema))return new _t(e,s||null,new de(tt.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Dt("string",_t._jsonSchemaVersion),referencePath:Dt("string")};class ss extends gs{constructor(e,n,s){super(e,n,Lh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new de(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function Di(r,e,...n){if(r=Ot(r),rT("collection","path",e),r instanceof Kh){const s=tt.fromString(e,...n);return uE(s),new ss(r,null,s)}{if(!(r instanceof _t||r instanceof ss))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return uE(s),new ss(r.firestore,null,s)}}function Ni(r,e,...n){if(r=Ot(r),arguments.length===1&&(e=hg.newId()),rT("doc","path",e),r instanceof Kh){const s=tt.fromString(e,...n);return lE(s),new _t(r,null,new de(s))}{if(!(r instanceof _t||r instanceof ss))throw new se(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return lE(s),new _t(r.firestore,r instanceof ss?r.converter:null,new de(s))}}const JE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JT(this,"async_queue_retry"),this._c=()=>{const s=_m();s&&ae(JE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;ae(JE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",WE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Dg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:WE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function e0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class fs extends Kh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new ZE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function _2(r,e){const n=typeof r=="object"?r:ug(),s=typeof r=="string"?r:ph,l=Eo(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=$1("firestore");u&&y2(l,...u)}return l}function Yh(r){if(r._terminated)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||v2(r),r._firestoreClient}function v2(r){const e=r._freezeSettings(),n=(function(l,u,d,g){return new FR(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,mA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new f2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn($t.fromBase64String(e))}catch(n){throw new se(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Dt("string",qn._jsonSchemaVersion),bytes:Dt("string")};class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class du{constructor(e){this._methodName=e}}class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Dt("string",Vi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new se(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),vectorValues:Dt("object")};const E2=/^__.*__$/;class T2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class pA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class jg{constructor(e,n,s,l,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yA(this.Ac)&&E2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(e)}Cc(e,n,s,l=!1){return new jg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zg(r){const e=r._freezeSettings(),n=Fh(r._databaseId);return new A2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function S2(r,e,n,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);Hg("Data must be an object, but it was:",d,s);const g=_A(s,d);let y,p;if(u.merge)y=new wn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const S of u.mergeFields){const N=Zm(e,S,n);if(!d.contains(N))throw new se(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);EA(A,N)||A.push(N)}y=new wn(A),p=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=d.fieldTransforms;return new T2(new gn(g),y,p)}class $h extends du{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}class qg extends du{_toFieldTransform(e){return new VT(e.path,new Wl)}isEqual(e){return e instanceof qg}}class Bg extends du{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new nu(e.serializer,NT(e.serializer,this.Fc));return new VT(e.path,n)}isEqual(e){return e instanceof Bg&&this.Fc===e.Fc}}function b2(r,e,n,s){const l=r.Cc(1,e,n);Hg("Data must be an object, but it was:",l,s);const u=[],d=gn.empty();ds(s,((y,p)=>{const A=Fg(e,y,n);p=Ot(p);const S=l.yc(A);if(p instanceof $h)u.push(A);else{const N=mu(p,S);N!=null&&(u.push(A),d.set(A,N))}}));const g=new wn(u);return new pA(d,g,l.fieldTransforms)}function w2(r,e,n,s,l,u){const d=r.Cc(1,e,n),g=[Zm(e,s,n)],y=[l];if(u.length%2!=0)throw new se(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(Zm(e,u[N])),y.push(u[N+1]);const p=[],A=gn.empty();for(let N=g.length-1;N>=0;--N)if(!EA(p,g[N])){const Q=g[N];let W=y[N];W=Ot(W);const ie=d.yc(Q);if(W instanceof $h)p.push(Q);else{const ee=mu(W,ie);ee!=null&&(p.push(Q),A.set(Q,ee))}}const S=new wn(p);return new pA(A,S,d.fieldTransforms)}function R2(r,e,n,s=!1){return mu(n,r.Cc(s?4:3,e))}function mu(r,e){if(vA(r=Ot(r)))return Hg("Unsupported field value:",e,r),_A(r,e);if(r instanceof du)return(function(s,l){if(!yA(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const g of s){let y=mu(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NT(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:vh(l.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(l.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:zT(l.serializer,s._byteString)};if(s instanceof _t){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ki)return(function(d,g){return{mapValue:{fields:{[dT]:{stringValue:mT},[yh]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return yg(g.serializer,p)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Vh(s)}`)})(r,e)}function _A(r,e){const n={};return oT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(r,((s,l)=>{const u=mu(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Vi||r instanceof qn||r instanceof _t||r instanceof du||r instanceof ki)}function Hg(r,e,n){if(!vA(n)||!sT(n)){const s=Vh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Zm(r,e,n){if((e=Ot(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Fg(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const I2=new RegExp("[~\\*/\\[\\]]");function Fg(r,e,n){if(e.search(I2)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new se(X.INVALID_ARGUMENT,g+r+y)}function EA(r,e){return r.some((n=>n.isEqual(e)))}class TA{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C2 extends TA{data(){return super.data()}}function Jh(r,e){return typeof e=="string"?Fg(r,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}function AA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gg{}class SA extends Gg{}function ao(r,e,...n){let s=[];e instanceof Gg&&s.push(e),s=s.concat(n),(function(u){const d=u.filter((y=>y instanceof Qg)).length,g=u.filter((y=>y instanceof Zh)).length;if(d>1||d>0&&g>0)throw new se(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Zh extends SA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Zh(e,n,s)}_apply(e){const n=this._parse(e);return bA(e._query,n),new gs(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=zg(e.firestore);return(function(u,d,g,y,p,A,S){let N;if(p.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new se(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){i0(S,A);const W=[];for(const ie of S)W.push(n0(y,u,ie));N={arrayValue:{values:W}}}else N=n0(y,u,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||i0(S,A),N=R2(g,d,S,A==="in"||A==="not-in");return Nt.create(p,A,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ah(r,e,n){const s=e,l=Jh("where",r);return Zh._create(l,s,n)}class Qg extends Gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)bA(d,y),d=qm(d,y)})(e._query,n),new gs(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kg extends SA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kg(e,n)}_apply(e){const n=(function(l,u,d){if(l.startAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,d)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new wo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function t0(r,e="asc"){const n=e,s=Jh("orderBy",r);return Kg._create(s,n)}function n0(r,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new se(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AT(e)&&n.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!de.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yE(r,new de(s))}if(n instanceof _t)return yE(r,n._key);throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function i0(r,e){if(!Array.isArray(r)||r.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(r,e){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N2{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ds(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[yh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Vi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=os(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(QT(s),9688,{name:e});const l=new $l(s.get(1),s.get(3)),u=new de(s.popFirst(5));return l.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function D2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends TA{constructor(e,n,s,l,u,d){super(e,n,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Dt("string",Ws._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class oh extends Ws{data(e={}){return super.data(e)}}class ea{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new zl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new oh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new oh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,A=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:O2(g.type),doc:y,oldIndex:p,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}function Wc(r){r=Hn(r,_t);const e=Hn(r.firestore,fs);return g2(Yh(e),r._key).then((n=>wA(e,r,n)))}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Dt("string",ea._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Yg extends N2{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Wm(r){r=Hn(r,gs);const e=Hn(r.firestore,fs),n=Yh(e),s=new Yg(e);return AA(r._query),p2(n,r._query).then((l=>new ea(e,s,r,l)))}function Em(r,e,n,...s){r=Hn(r,_t);const l=Hn(r.firestore,fs),u=zg(l);let d;return d=typeof(e=Ot(e))=="string"||e instanceof Xh?w2(u,"updateDoc",r._key,e,n,s):b2(u,"updateDoc",r._key,e),Xg(l,[d.toMutation(r._key,ii.exists(!0))])}function Tm(r){return Xg(Hn(r.firestore,fs),[new _g(r._key,ii.none())])}function lh(r,e){const n=Hn(r.firestore,fs),s=Ni(r),l=D2(r.converter,e);return Xg(n,[S2(zg(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then((()=>s))}function Am(r,...e){r=Ot(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||e0(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(e0(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let u,d,g;if(r instanceof _t)d=Hn(r.firestore,fs),g=Lh(r._key.path),u={next:y=>{e[s]&&e[s](wA(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Hn(r,gs);d=Hn(y.firestore,fs),g=y._query;const p=new Yg(d);u={next:A=>{e[s]&&e[s](new ea(d,p,y,A))},error:e[s+1],complete:e[s+2]},AA(r._query)}return(function(p,A,S,N){const Q=new Lg(N),W=new kg(A,Q,S);return p.asyncQueue.enqueueAndForget((async()=>xg(await Sh(p),W))),()=>{Q.Nu(),p.asyncQueue.enqueueAndForget((async()=>Mg(await Sh(p),W)))}})(Yh(d),g,l,u)}function Xg(r,e){return(function(s,l){const u=new hr;return s.asyncQueue.enqueueAndForget((async()=>i2(await m2(s),l,u))),u.promise})(Yh(r),e)}function wA(r,e,n){const s=n.docs.get(e._key),l=new Yg(r);return new Ws(r,l,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}function $s(){return new qg("serverTimestamp")}function x2(r){return new Bg("increment",r)}(function(e,n=!0){(function(l){Ao=l})(To),Li(new ri("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),g=new fs(new wR(s.getProvider("auth-internal")),new CR(d,s.getProvider("app-check-internal")),(function(p,A){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new se(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(p.options.projectId,A)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Bn(rE,sE,e),Bn(rE,sE,"esm2020")})();function RA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M2=RA,IA=new la("auth","Firebase",RA());const wh=new og("@firebase/auth");function V2(r,...e){wh.logLevel<=Me.WARN&&wh.warn(`Auth (${To}): ${r}`,...e)}function uh(r,...e){wh.logLevel<=Me.ERROR&&wh.error(`Auth (${To}): ${r}`,...e)}function ai(r,...e){throw $g(r,...e)}function Ui(r,...e){return $g(r,...e)}function CA(r,e,n){const s={...M2(),[e]:n};return new la("auth","Firebase",s).create(e,{appName:r.name})}function fr(r){return CA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $g(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return IA.create(r,...e)}function pe(r,e,...n){if(!r)throw $g(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function pr(r,e){r||lr(e)}function eg(){return typeof self<"u"&&self.location?.href||""}function k2(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}function U2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||rw()||"connection"in navigator)?navigator.onLine:!0}function P2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=tw()||sw()}get(){return U2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jg(r,e){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class NA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const L2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const j2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z2=new gu(3e4,6e4);function ps(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ys(r,e,n,s,l={}){return DA(r,l,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const g=ou({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:y,...u};return iw()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&vo(r.emulatorConfig.host)&&(p.credentials="include"),NA.fetch()(await OA(r,r.config.apiHost,n,g),p)})}async function DA(r,e,n){r._canInitEmulator=!1;const s={...L2,...e};try{const l=new B2(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw eh(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw eh(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw CA(r,A,p);ai(r,A)}}catch(l){if(l instanceof zi)throw l;ai(r,"network-request-failed",{message:String(l)})}}async function pu(r,e,n,s,l={}){const u=await ys(r,e,n,s,l);return"mfaPendingCredential"in u&&ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function OA(r,e,n,s){const l=`${e}${n}?${s}`,u=r,d=u.config.emulator?Jg(r.config,l):`${r.config.apiScheme}://${l}`;return j2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function q2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),z2.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ui(r,e,s);return l.customData._tokenResponse=n,l}function s0(r){return r!==void 0&&r.enterprise!==void 0}class H2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F2(r,e){return ys(r,"GET","/v2/recaptchaConfig",ps(r,e))}async function G2(r,e){return ys(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return ys(r,"POST","/v1/accounts:lookup",e)}function Ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q2(r,e=!1){const n=Ot(r),s=await n.getIdToken(e),l=Zg(s);pe(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Ql(Sm(l.auth_time)),issuedAtTime:Ql(Sm(l.iat)),expirationTime:Ql(Sm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sm(r){return Number(r)*1e3}function Zg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const l=P0(n);return l?JSON.parse(l):(uh("Failed to decode base64 JWT payload"),null)}catch(l){return uh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function a0(r){const e=Zg(r);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function iu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zi&&K2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function K2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Y2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(r){const e=r.auth,n=await r.getIdToken(),s=await iu(r,Rh(e,{idToken:n}));pe(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?xA(l.providerUserInfo):[],d=$2(r.providerData,u),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,p=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tg(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(r,A)}async function X2(r){const e=Ot(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $2(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function xA(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function J2(r,e){const n=await DA(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await OA(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&vo(r.emulatorConfig.host)&&(y.credentials="include"),NA.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z2(r,e){return ys(r,"POST","/v2/accounts:revokeToken",ps(r,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=a0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await J2(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new uo;return s&&(pe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(pe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(pe(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return lr("not implemented")}}function $r(r,e){pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q2(this,e)}reload(){return X2(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await iu(this,G2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:Q,providerData:W,stsTokenManager:ie}=n;pe(S&&ie,e,"internal-error");const ee=uo.fromJSON(this.name,ie);pe(typeof S=="string",e,"internal-error"),$r(s,e.name),$r(l,e.name),pe(typeof N=="boolean",e,"internal-error"),pe(typeof Q=="boolean",e,"internal-error"),$r(u,e.name),$r(d,e.name),$r(g,e.name),$r(y,e.name),$r(p,e.name),$r(A,e.name);const he=new ni({uid:S,auth:e,email:l,emailVerified:N,displayName:s,isAnonymous:Q,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:ee,createdAt:p,lastLoginAt:A});return W&&Array.isArray(W)&&(he.providerData=W.map(Ee=>({...Ee}))),y&&(he._redirectEventId=y),he}static async _fromIdTokenResponse(e,n,s=!1){const l=new uo;l.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];pe(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?xA(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new uo;g.updateFromIdToken(s);const y=new ni({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new tg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const o0=new Map;function ur(r){pr(r instanceof Function,"Expected a class definition");let e=o0.get(r);return e?(pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,o0.set(r,e),e)}class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MA.type="NONE";const l0=MA;function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=ch(this.userKey,l.apiKey,u),this.fullPersistenceKey=ch("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(ur(l0),e,s);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||ur(l0);const d=ch(s,e.config.apiKey,e.name);let g=null;for(const p of n)try{const A=await p._get(d);if(A){let S;if(typeof A=="string"){const N=await Rh(e,{idToken:A}).catch(()=>{});if(!N)break;S=await ni._fromGetAccountInfoResponse(e,N,A)}else S=ni._fromJSON(e,A);p!==u&&(g=S),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new co(u,e,s):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new co(u,e,s))}}function u0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jA(e))return"Blackberry";if(zA(e))return"Webos";if(kA(e))return"Safari";if((e.includes("chrome/")||UA(e))&&!e.includes("edge/"))return"Chrome";if(LA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function VA(r=tn()){return/firefox\//i.test(r)}function kA(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UA(r=tn()){return/crios\//i.test(r)}function PA(r=tn()){return/iemobile/i.test(r)}function LA(r=tn()){return/android/i.test(r)}function jA(r=tn()){return/blackberry/i.test(r)}function zA(r=tn()){return/webos/i.test(r)}function Wg(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function W2(r=tn()){return Wg(r)&&!!window.navigator?.standalone}function eN(){return aw()&&document.documentMode===10}function qA(r=tn()){return Wg(r)||LA(r)||zA(r)||jA(r)||/windows phone/i.test(r)||PA(r)}function BA(r,e=[]){let n;switch(r){case"Browser":n=u0(tn());break;case"Worker":n=`${u0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}class tN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nN(r,e={}){return ys(r,"GET","/v2/passwordPolicy",ps(r,e))}const iN=6;class rN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class sN{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new tN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(fr(this));const n=e?Ot(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nN(this),n=new rN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new la("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Z2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&V2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ha(r){return Ot(r)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dw(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aN(r){Wh=r}function HA(r){return Wh.loadJS(r)}function oN(){return Wh.recaptchaEnterpriseScript}function lN(){return Wh.gapiScript}function uN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class cN{constructor(){this.enterprise=new hN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fN="recaptcha-enterprise",FA="NO_RECAPTCHA";class dN{constructor(e){this.type=fN,this.auth=ha(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{F2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new H2(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;s0(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(FA)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cN().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(g=>{if(!n&&s0(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=oN();y.length!==0&&(y+=g),HA(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function h0(r,e,n,s=!1,l=!1){const u=new dN(r);let d;if(l)d=FA;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ng(r,e,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await h0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await h0(r,e,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function mN(r,e){const n=Eo(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return l;ai(l,"already-initialized")}return n.initialize({options:e})}function gN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function pN(r,e,n){const s=ha(r);pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=GA(e),{host:d,port:g}=yN(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pe(ta(p,s.config.emulator)&&ta(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,vo(d)?(q0(`${u}//${d}${y}`),B0("Auth",!0)):_N()}function GA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function yN(r){const e=GA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:f0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:f0(d)}}}function f0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function _N(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function vN(r,e){return ys(r,"POST","/v1/accounts:signUp",e)}async function EN(r,e){return pu(r,"POST","/v1/accounts:signInWithPassword",ps(r,e))}async function TN(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}async function AN(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}class ru extends ep{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ru(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,n,"signInWithPassword",EN);case"emailLink":return TN(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,s,"signUpPassword",vN);case"emailLink":return AN(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(r,e){return pu(r,"POST","/v1/accounts:signInWithIdp",ps(r,e))}const SN="http://localhost";class ra extends ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new ra(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}function bN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wN(r){const e=kl(Ul(r)).link,n=e?kl(Ul(e)).deep_link_id:null,s=kl(Ul(r)).deep_link_id;return(s?kl(Ul(s)).link:null)||s||n||e||r}class tp{constructor(e){const n=kl(Ul(e)),s=n.apiKey??null,l=n.oobCode??null,u=bN(n.mode??null);pe(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wN(e);try{return new tp(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=tp.parseLink(n);return pe(s,"argument-error"),ru._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class QA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends QA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zr extends yu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class Wr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class es extends yu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ts extends yu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";async function RN(r,e){return pu(r,"POST","/v1/accounts:signUp",ps(r,e))}class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await ni._fromIdTokenResponse(e,s,l),d=d0(s);return new sa({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=d0(s);return new sa({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function d0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ch extends zi{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Ch(e,n,s,l)}}function KA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,e,s):u})}async function IN(r,e,n=!1){const s=await iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return sa._forOperation(r,"link",s)}async function CN(r,e,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(fr(s));const l="reauthenticate";try{const u=await iu(r,KA(s,l,e,r),n);pe(u.idToken,s,"internal-error");const d=Zg(u.idToken);pe(d,s,"internal-error");const{sub:g}=d;return pe(r.uid===g,s,"user-mismatch"),sa._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}async function YA(r,e,n=!1){if(zn(r.app))return Promise.reject(fr(r));const s="signIn",l=await KA(r,s,e),u=await sa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function NN(r,e){return YA(ha(r),e)}async function XA(r){const e=ha(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DN(r,e,n){if(zn(r.app))return Promise.reject(fr(r));const s=ha(r),d=await ng(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RN).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&XA(r),y}),g=await sa._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function ON(r,e,n){return zn(r.app)?Promise.reject(fr(r)):NN(Ot(r),Io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XA(r),s})}function xN(r,e,n,s){return Ot(r).onIdTokenChanged(e,n,s)}function MN(r,e,n){return Ot(r).beforeAuthStateChanged(e,n)}function VN(r,e,n,s){return Ot(r).onAuthStateChanged(e,n,s)}function m0(r){return Ot(r).signOut()}const Nh="__sak";class $A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kN=1e3,UN=10;class JA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);eN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,UN):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JA.type="LOCAL";const PN=JA;class ZA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZA.type="SESSION";const WA=ZA;function LN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await LN(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];function np(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class jN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=np("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(A),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function zN(r){Pi().location.href=r}function eS(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function qN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){return navigator?.serviceWorker?.controller||null}function HN(){return eS()?self:null}const tS="firebaseLocalStorageDb",FN=1,Dh="firebaseLocalStorage",nS="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(r,e){return r.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function GN(){const r=indexedDB.deleteDatabase(tS);return new _u(r).toPromise()}function ig(){const r=indexedDB.open(tS,FN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dh,{keyPath:nS})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dh)?e(s):(s.close(),await GN(),e(await ig()))})})}async function g0(r,e,n){const s=tf(r,!0).put({[nS]:e,value:n});return new _u(s).toPromise()}async function QN(r,e){const n=tf(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function p0(r,e){const n=tf(r,!0).delete(e);return new _u(n).toPromise()}const KN=800,YN=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>YN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(HN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new jN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ig();return await g0(e,Nh,"1"),await p0(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>g0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>QN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=tf(l,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const XN=iS;new gu(3e4,6e4);function $N(r,e){return e?ur(e):(pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ip extends ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JN(r){return YA(r.auth,new ip(r),r.bypassAuthState)}function ZN(r){const{auth:e,user:n}=r;return pe(n,e,"internal-error"),CN(n,new ip(r),r.bypassAuthState)}async function WN(r){const{auth:e,user:n}=r;return pe(n,e,"internal-error"),IN(n,new ip(r),r.bypassAuthState)}class rS{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JN;case"linkViaPopup":case"linkViaRedirect":return WN;case"reauthViaPopup":case"reauthViaRedirect":return ZN;default:ai(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eD=new gu(2e3,1e4);class oo extends rS{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eD.get())};e()}}oo.currentPopupAction=null;const tD="pendingRedirect",hh=new Map;class nD extends rS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await iD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iD(r,e){const n=aD(e),s=sD(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function rD(r,e){hh.set(r._key(),e)}function sD(r){return ur(r._redirectPersistence)}function aD(r){return ch(tD,r.config.apiKey,r.name)}async function oD(r,e,n=!1){if(zn(r.app))return Promise.reject(fr(r));const s=ha(r),l=$N(s,e),d=await new nD(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const lD=600*1e3;class uD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!sS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lD&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(e))}saveEventToCache(e){this.cachedEventUids.add(y0(e)),this.lastProcessedEventTime=Date.now()}}function y0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function cD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(r);default:return!1}}async function hD(r,e={}){return ys(r,"GET","/v1/projects",e)}const fD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dD=/^https?/;async function mD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await hD(r);for(const n of e)try{if(gD(n))return}catch{}ai(r,"unauthorized-domain")}function gD(r){const e=eg(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!dD.test(n))return!1;if(fD.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const pD=new gu(3e4,6e4);function _0(){const r=Pi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function yD(r){return new Promise((e,n)=>{function s(){_0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_0(),n(Ui(r,"network-request-failed"))},timeout:pD.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const l=uN("iframefcb");return Pi()[l]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},HA(`${lN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}let fh=null;function _D(r){return fh=fh||yD(r),fh}const vD=new gu(5e3,15e3),ED="__/auth/iframe",TD="emulator/auth/iframe",AD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bD(r){const e=r.config;pe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Jg(e,TD):`https://${r.config.authDomain}/${ED}`,s={apiKey:e.apiKey,appName:r.name,v:To},l=SD.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function wD(r){const e=await _D(r),n=Pi().gapi;return pe(n,r,"internal-error"),e.open({where:document.body,url:bD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AD,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Ui(r,"network-request-failed"),g=Pi().setTimeout(()=>{u(d)},vD.get());function y(){Pi().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{u(d)})}))}const RD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ID=500,CD=600,ND="_blank",DD="http://localhost";class v0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OD(r,e,n,s=ID,l=CD){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...RD,width:s.toString(),height:l.toString(),top:u,left:d},p=tn().toLowerCase();n&&(g=UA(p)?ND:n),VA(p)&&(e=e||DD,y.scrollbars="yes");const A=Object.entries(y).reduce((N,[Q,W])=>`${N}${Q}=${W},`,"");if(W2(p)&&g!=="_self")return xD(e||"",g),new v0(null);const S=window.open(e||"",g,A);pe(S,r,"popup-blocked");try{S.focus()}catch{}return new v0(S)}function xD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const MD="__/auth/handler",VD="emulator/auth/handler",kD=encodeURIComponent("fac");async function E0(r,e,n,s,l,u){pe(r.config.authDomain,r,"auth-domain-config-required"),pe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:l};if(e instanceof QA){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",fw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof yu){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await r._getAppCheckToken(),p=y?`#${kD}=${encodeURIComponent(y)}`:"";return`${UD(r)}?${ou(g).slice(1)}${p}`}function UD({config:r}){return r.emulator?Jg(r,VD):`https://${r.authDomain}/${MD}`}const bm="webStorageSupport";class PD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WA,this._completeRedirectFn=oD,this._overrideRedirectResult=rD}async _openPopup(e,n,s,l){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await E0(e,n,s,eg(),l);return OD(e,u,np())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await E0(e,n,s,eg(),l);return zN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wD(e),s=new uD(e);return n.register("authEvent",l=>(pe(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},l=>{const u=l?.[0]?.[bm];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qA()||kA()||Wg()}}const LD=PD;var T0="@firebase/auth",A0="1.12.0";class jD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qD(r){Li(new ri("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BA(r)},p=new sN(s,l,u,y);return gN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Li(new ri("auth-internal",e=>{const n=ha(e.getProvider("auth").getImmediate());return(s=>new jD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(T0,A0,zD(r)),Bn(T0,A0,"esm2020")}const BD=300,HD=z0("authIdTokenMaxAge")||BD;let S0=null;const FD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>HD)return;const l=n?.token;S0!==l&&(S0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GD(r=ug()){const e=Eo(r,"auth");if(e.isInitialized())return e.getImmediate();const n=mN(r,{popupRedirectResolver:LD,persistence:[XN,PN,WA]}),s=z0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=FD(u.toString());MN(n,d,()=>d(n.currentUser)),xN(n,g=>d(g))}}const l=L0("auth");return l&&pN(n,`http://${l}`),n}function QD(){return document.getElementsByTagName("head")?.[0]??document}aN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=Ui("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",QD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qD("Browser");var KD="firebase",YD="12.7.0";Bn(KD,YD,"app");const aS="@firebase/installations",rp="0.6.19";const oS=1e4,lS=`w:${rp}`,uS="FIS_v2",XD="https://firebaseinstallations.googleapis.com/v1",$D=3600*1e3,JD="installations",ZD="Installations";const WD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},aa=new la(JD,ZD,WD);function cS(r){return r instanceof zi&&r.code.includes("request-failed")}function hS({projectId:r}){return`${XD}/projects/${r}/installations`}function fS(r){return{token:r.token,requestStatus:2,expiresIn:tO(r.expiresIn),creationTime:Date.now()}}async function dS(r,e){const s=(await e.json()).error;return aa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function mS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function eO(r,{refreshToken:e}){const n=mS(r);return n.append("Authorization",nO(e)),n}async function gS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function tO(r){return Number(r.replace("s","000"))}function nO(r){return`${uS} ${r}`}async function iO({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=hS(r),l=mS(r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={fid:n,authVersion:uS,appId:r.appId,sdkVersion:lS},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await gS(()=>fetch(s,g));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:fS(p.authToken)}}else throw await dS("Create Installation",y)}function pS(r){return new Promise(e=>{setTimeout(e,r)})}function rO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const sO=/^[cdef][\w-]{21}$/,rg="";function aO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=oO(r);return sO.test(n)?n:rg}catch{return rg}}function oO(r){return rO(r).substr(0,22)}function nf(r){return`${r.appName}!${r.appId}`}const yS=new Map;function _S(r,e){const n=nf(r);vS(n,e),lO(n,e)}function vS(r,e){const n=yS.get(r);if(n)for(const s of n)s(e)}function lO(r,e){const n=uO();n&&n.postMessage({key:r,fid:e}),cO()}let Zs=null;function uO(){return!Zs&&"BroadcastChannel"in self&&(Zs=new BroadcastChannel("[Firebase] FID Change"),Zs.onmessage=r=>{vS(r.data.key,r.data.fid)}),Zs}function cO(){yS.size===0&&Zs&&(Zs.close(),Zs=null)}const hO="firebase-installations-database",fO=1,oa="firebase-installations-store";let wm=null;function sp(){return wm||(wm=Mh(hO,fO,{upgrade:(r,e)=>{e===0&&r.createObjectStore(oa)}})),wm}async function Oh(r,e){const n=nf(r),l=(await sp()).transaction(oa,"readwrite"),u=l.objectStore(oa),d=await u.get(n);return await u.put(e,n),await l.done,(!d||d.fid!==e.fid)&&_S(r,e.fid),e}async function ES(r){const e=nf(r),s=(await sp()).transaction(oa,"readwrite");await s.objectStore(oa).delete(e),await s.done}async function rf(r,e){const n=nf(r),l=(await sp()).transaction(oa,"readwrite"),u=l.objectStore(oa),d=await u.get(n),g=e(d);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!d||d.fid!==g.fid)&&_S(r,g.fid),g}async function ap(r){let e;const n=await rf(r.appConfig,s=>{const l=dO(s),u=mO(r,l);return e=u.registrationPromise,u.installationEntry});return n.fid===rg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function dO(r){const e=r||{fid:aO(),registrationStatus:0};return TS(e)}function mO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(aa.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=gO(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pO(r)}:{installationEntry:e}}async function gO(r,e){try{const n=await iO(r,e);return Oh(r.appConfig,n)}catch(n){throw cS(n)&&n.customData.serverCode===409?await ES(r.appConfig):await Oh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function pO(r){let e=await b0(r.appConfig);for(;e.registrationStatus===1;)await pS(100),e=await b0(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ap(r);return s||n}return e}function b0(r){return rf(r,e=>{if(!e)throw aa.create("installation-not-found");return TS(e)})}function TS(r){return yO(r)?{fid:r.fid,registrationStatus:0}:r}function yO(r){return r.registrationStatus===1&&r.registrationTime+oS<Date.now()}async function _O({appConfig:r,heartbeatServiceProvider:e},n){const s=vO(r,n),l=eO(r,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={installation:{sdkVersion:lS,appId:r.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await gS(()=>fetch(s,g));if(y.ok){const p=await y.json();return fS(p)}else throw await dS("Generate Auth Token",y)}function vO(r,{fid:e}){return`${hS(r)}/${e}/authTokens:generate`}async function op(r,e=!1){let n;const s=await rf(r.appConfig,u=>{if(!AS(u))throw aa.create("not-registered");const d=u.authToken;if(!e&&AO(d))return u;if(d.requestStatus===1)return n=EO(r,e),u;{if(!navigator.onLine)throw aa.create("app-offline");const g=bO(u);return n=TO(r,g),g}});return n?await n:s.authToken}async function EO(r,e){let n=await w0(r.appConfig);for(;n.authToken.requestStatus===1;)await pS(100),n=await w0(r.appConfig);const s=n.authToken;return s.requestStatus===0?op(r,e):s}function w0(r){return rf(r,e=>{if(!AS(e))throw aa.create("not-registered");const n=e.authToken;return wO(n)?{...e,authToken:{requestStatus:0}}:e})}async function TO(r,e){try{const n=await _O(r,e),s={...e,authToken:n};return await Oh(r.appConfig,s),n}catch(n){if(cS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ES(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Oh(r.appConfig,s)}throw n}}function AS(r){return r!==void 0&&r.registrationStatus===2}function AO(r){return r.requestStatus===2&&!SO(r)}function SO(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+$D}function bO(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function wO(r){return r.requestStatus===1&&r.requestTime+oS<Date.now()}async function RO(r){const e=r,{installationEntry:n,registrationPromise:s}=await ap(e);return s?s.catch(console.error):op(e).catch(console.error),n.fid}async function IO(r,e=!1){const n=r;return await CO(n),(await op(n,e)).token}async function CO(r){const{registrationPromise:e}=await ap(r);e&&await e}function NO(r){if(!r||!r.options)throw Rm("App Configuration");if(!r.name)throw Rm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Rm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Rm(r){return aa.create("missing-app-config-values",{valueName:r})}const SS="installations",DO="installations-internal",OO=r=>{const e=r.getProvider("app").getImmediate(),n=NO(e),s=Eo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},xO=r=>{const e=r.getProvider("app").getImmediate(),n=Eo(e,SS).getImmediate();return{getId:()=>RO(n),getToken:l=>IO(n,l)}};function MO(){Li(new ri(SS,OO,"PUBLIC")),Li(new ri(DO,xO,"PRIVATE"))}MO();Bn(aS,rp);Bn(aS,rp,"esm2020");const VO="/firebase-messaging-sw.js",kO="/firebase-cloud-messaging-push-scope",bS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",UO="https://fcmregistrations.googleapis.com/v1",wS="google.c.a.c_id",PO="google.c.a.c_l",LO="google.c.a.ts",jO="google.c.a.e",R0=1e4;var I0;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(I0||(I0={}));var su;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(su||(su={}));function ar(r){const e=new Uint8Array(r);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zO(r){const e="=".repeat((4-r.length%4)%4),n=(r+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),l=new Uint8Array(s.length);for(let u=0;u<s.length;++u)l[u]=s.charCodeAt(u);return l}const Im="fcm_token_details_db",qO=5,C0="fcm_token_object_Store";async function BO(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(Im))return null;let e=null;return(await Mh(Im,qO,{upgrade:async(s,l,u,d)=>{if(l<2||!s.objectStoreNames.contains(C0))return;const g=d.objectStore(C0),y=await g.index("fcmSenderId").get(r);if(await g.clear(),!!y){if(l===2){const p=y;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:ar(p.vapidKey)}}}else if(l===3){const p=y;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ar(p.auth),p256dh:ar(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ar(p.vapidKey)}}}else if(l===4){const p=y;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ar(p.auth),p256dh:ar(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ar(p.vapidKey)}}}}}})).close(),await fm(Im),await fm("fcm_vapid_details_db"),await fm("undefined"),HO(e)?e:null}function HO(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:e}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const FO="firebase-messaging-database",GO=1,au="firebase-messaging-store";let Cm=null;function RS(){return Cm||(Cm=Mh(FO,GO,{upgrade:(r,e)=>{e===0&&r.createObjectStore(au)}})),Cm}async function QO(r){const e=IS(r),s=await(await RS()).transaction(au).objectStore(au).get(e);if(s)return s;{const l=await BO(r.appConfig.senderId);if(l)return await lp(r,l),l}}async function lp(r,e){const n=IS(r),l=(await RS()).transaction(au,"readwrite");return await l.objectStore(au).put(e,n),await l.done,e}function IS({appConfig:r}){return r.appId}const KO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new la("messaging","Messaging",KO);async function YO(r,e){const n=await cp(r),s=CS(e),l={method:"POST",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(up(r.appConfig),l)).json()}catch(d){throw an.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw an.create("token-subscribe-no-token");return u.token}async function XO(r,e){const n=await cp(r),s=CS(e.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(`${up(r.appConfig)}/${e.token}`,l)).json()}catch(d){throw an.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-update-failed",{errorInfo:d})}if(!u.token)throw an.create("token-update-no-token");return u.token}async function $O(r,e){const s={method:"DELETE",headers:await cp(r)};try{const u=await(await fetch(`${up(r.appConfig)}/${e}`,s)).json();if(u.error){const d=u.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw an.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function up({projectId:r}){return`${UO}/projects/${r}/registrations`}async function cp({appConfig:r,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function CS({p256dh:r,auth:e,endpoint:n,vapidKey:s}){const l={web:{endpoint:n,auth:e,p256dh:r}};return s!==bS&&(l.web.applicationPubKey=s),l}const JO=10080*60*1e3;async function ZO(r){const e=await ex(r.swRegistration,r.vapidKey),n={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:e.endpoint,auth:ar(e.getKey("auth")),p256dh:ar(e.getKey("p256dh"))},s=await QO(r.firebaseDependencies);if(s){if(tx(s.subscriptionOptions,n))return Date.now()>=s.createTime+JO?WO(r,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await $O(r.firebaseDependencies,s.token)}catch(l){console.warn(l)}return N0(r.firebaseDependencies,n)}else return N0(r.firebaseDependencies,n)}async function WO(r,e){try{const n=await XO(r.firebaseDependencies,e),s={...e,token:n,createTime:Date.now()};return await lp(r.firebaseDependencies,s),n}catch(n){throw n}}async function N0(r,e){const s={token:await YO(r,e),createTime:Date.now(),subscriptionOptions:e};return await lp(r,s),s.token}async function ex(r,e){const n=await r.pushManager.getSubscription();return n||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zO(e)})}function tx(r,e){const n=e.vapidKey===r.vapidKey,s=e.endpoint===r.endpoint,l=e.auth===r.auth,u=e.p256dh===r.p256dh;return n&&s&&l&&u}function D0(r){const e={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return nx(e,r),ix(e,r),rx(e,r),e}function nx(r,e){if(!e.notification)return;r.notification={};const n=e.notification.title;n&&(r.notification.title=n);const s=e.notification.body;s&&(r.notification.body=s);const l=e.notification.image;l&&(r.notification.image=l);const u=e.notification.icon;u&&(r.notification.icon=u)}function ix(r,e){e.data&&(r.data=e.data)}function rx(r,e){if(!e.fcmOptions&&!e.notification?.click_action)return;r.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(r.fcmOptions.link=n);const s=e.fcmOptions?.analytics_label;s&&(r.fcmOptions.analyticsLabel=s)}function sx(r){return typeof r=="object"&&!!r&&wS in r}function ax(r){if(!r||!r.options)throw Nm("App Configuration Object");if(!r.name)throw Nm("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=r;for(const s of e)if(!n[s])throw Nm(s);return{appName:r.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Nm(r){return an.create("missing-app-config-values",{valueName:r})}class ox{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=ax(e);this.firebaseDependencies={app:e,appConfig:l,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function lx(r){try{r.swRegistration=await navigator.serviceWorker.register(VO,{scope:kO}),r.swRegistration.update().catch(()=>{}),await ux(r.swRegistration)}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function ux(r){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${R0} ms`)),R0),l=r.installing||r.waiting;r.active?(clearTimeout(s),e()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}async function cx(r,e){if(!e&&!r.swRegistration&&await lx(r),!(!e&&r.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");r.swRegistration=e}}async function hx(r,e){e?r.vapidKey=e:r.vapidKey||(r.vapidKey=bS)}async function fx(r,e){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw an.create("permission-blocked");return await hx(r,e?.vapidKey),await cx(r,e?.serviceWorkerRegistration),ZO(r)}async function dx(r,e,n){const s=mx(e);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[wS],message_name:n[PO],message_time:n[LO],message_device_time:Math.floor(Date.now()/1e3)})}function mx(r){switch(r){case su.NOTIFICATION_CLICKED:return"notification_open";case su.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function gx(r,e){const n=e.data;if(!n.isFirebaseMessaging)return;r.onMessageHandler&&n.messageType===su.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(D0(n)):r.onMessageHandler.next(D0(n)));const s=n.data;sx(s)&&s[jO]==="1"&&await dx(r,n.messageType,s)}const O0="@firebase/messaging",x0="0.12.23";const px=r=>{const e=new ox(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>gx(e,n)),e},yx=r=>{const e=r.getProvider("messaging").getImmediate();return{getToken:s=>fx(e,s)}};function _x(){Li(new ri("messaging",px,"PUBLIC")),Li(new ri("messaging-internal",yx,"PRIVATE")),Bn(O0,x0),Bn(O0,x0,"esm2020")}async function vx(){try{await F0()}catch{return!1}return typeof window<"u"&&H0()&&lw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Ex(r=ug()){return vx().then(e=>{if(!e)throw an.create("unsupported-browser")},e=>{throw an.create("indexed-db-unsupported")}),Eo(Ot(r),"messaging").getImmediate()}_x();const Tx={apiKey:"AIzaSyB5i9OCUpp-VQ9MR4fk01zsP743UuHSVWw",authDomain:"omega-cf92a.firebaseapp.com",projectId:"omega-cf92a",storageBucket:"omega-cf92a.firebasestorage.app",messagingSenderId:"187395193452",appId:"1:187395193452:web:5c0f4aefb2407478687649",measurementId:"G-5114W3WLXR"},hp=K0(Tx),kt=_2(hp),or=GD(hp);Ex(hp);const Ut={QUEUE:"queue",PENDING_REQUESTS:"pendingRequests",NOTIFICATIONS:"notifications",ACTIVITY_LOGS:"activityLogs",USERS:"users",SETTINGS:"settings"},Ce={PENDING:"pending",QUEUED:"queued",SUMMONED:"summoned",STAGING:"staging",LOADING:"loading",COMPLETED:"completed",EXPIRED:"expired"},Vl={async signIn(r,e){try{let n,s;try{n=await ON(or,r,e),s=n.user}catch(u){if(u.code==="auth/invalid-credential"&&this.isKnownAdminEmail(r))console.log("Creating new admin account..."),n=await DN(or,r,e),s=n.user;else throw u}let l=await this.getUserProfile(s.uid);if(!l&&this.isKnownAdminEmail(r)&&(console.log("Creating admin profile..."),l=await this.createAdminProfile(s)),!l||l.role!=="admin")throw await m0(or),new Error("Access denied. Admin account required.");return s}catch(n){throw console.error("Sign in error:",n),new Error(`Sign in failed: ${n.message}`)}},isKnownAdminEmail(r){return["admin@omega.com","admin@omegaproducts.com"].includes(r.toLowerCase())},async createAdminProfile(r){try{const e={uid:r.uid,email:r.email,role:"admin",driverName:"",createdAt:$s(),isActive:!0};return{id:(await lh(Di(kt,Ut.USERS),e)).id,...e}}catch(e){throw console.error("Failed to create admin profile:",e),new Error("Failed to create admin profile")}},async signOut(){try{await m0(or)}catch(r){throw new Error(`Sign out failed: ${r.message}`)}},onAuthStateChange(r){return VN(or,r)},getCurrentUser(){return or.currentUser},async getUserProfile(r){try{const e=ao(Di(kt,Ut.USERS),ah("uid","==",r)),n=await Wm(e);return n.empty?null:{id:n.docs[0].id,...n.docs[0].data()}}catch(e){if(e.code==="permission-denied")return console.warn("Permission denied accessing user profile, user may not exist yet"),null;throw new Error(`Failed to get user profile: ${e.message}`)}}},Jr={async approveRequest(r){try{const e=await Wc(Ni(kt,Ut.PENDING_REQUESTS,r));if(!e.exists())throw new Error("Request not found");const n=e.data(),l=(await Wm(ao(Di(kt,Ut.QUEUE),ah("status","==",Ce.QUEUED)))).size+1,u=await lh(Di(kt,Ut.QUEUE),{...n,status:Ce.QUEUED,position:l,joinedAt:$s(),approvedBy:or.currentUser?.uid});return await Tm(Ni(kt,Ut.PENDING_REQUESTS,r)),await this.sendNotification(n.userId||"anonymous","success",`Request approved - joined queue at position ${l}`,n.poNumber),await this.logActivity("request_approved",`Request approved for ${n.driverName}`,n.poNumber),u.id}catch(e){throw new Error(`Failed to approve request: ${e.message}`)}},async rejectRequest(r,e){try{const n=await Wc(Ni(kt,Ut.PENDING_REQUESTS,r));if(!n.exists())throw new Error("Request not found");const s=n.data();await Tm(Ni(kt,Ut.PENDING_REQUESTS,r)),await this.sendNotification(s.userId||"anonymous","error",`Request rejected: ${e}`,s.poNumber),await this.logActivity("request_rejected",`Request rejected for ${s.driverName}: ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to reject request: ${n.message}`)}},async updateQueuePositions(r){try{const e=[];for(let n=0;n<r.length;n++){const s=r[n];e.push(Em(Ni(kt,Ut.QUEUE,s.id),{position:n+1,updatedAt:$s()}))}await Promise.all(e),await this.logActivity("queue_reordered","Queue positions updated by admin")}catch(e){throw new Error(`Failed to update queue positions: ${e.message}`)}},async removeFromQueue(r,e="Removed by admin"){try{const n=await Wc(Ni(kt,Ut.QUEUE,r));if(!n.exists())throw new Error("Queue item not found");const s=n.data();await Tm(Ni(kt,Ut.QUEUE,r));const l=await Wm(ao(Di(kt,Ut.QUEUE),ah("position",">",s.position))),u=[];l.forEach(d=>{u.push(Em(d.ref,{position:x2(-1),updatedAt:$s()}))}),await Promise.all(u),await this.sendNotification(s.userId||"anonymous","admin_action",`Removed from queue: ${e}`,s.poNumber),await this.logActivity("removed_from_queue",`${s.driverName} removed from queue: ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to remove from queue: ${n.message}`)}},async updateQueueStatus(r,e){try{await Em(Ni(kt,Ut.QUEUE,r),{status:e,updatedAt:$s()});const s=(await Wc(Ni(kt,Ut.QUEUE,r))).data();let l="";switch(e){case Ce.SUMMONED:l="You are summoned! Please proceed to the staging area.";break;case Ce.STAGING:l="You are now in the staging area.";break;case Ce.LOADING:l="You are now in the loading bay.";break;case Ce.COMPLETED:l="Loading completed. Thank you!";break;default:l=`Status updated to ${e}`}await this.sendNotification(s.userId||"anonymous","status_update",l,s.poNumber),await this.logActivity("status_updated",`${s.driverName} status updated to ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to update status: ${n.message}`)}},async sendNotification(r,e,n,s=null){try{await lh(Di(kt,Ut.NOTIFICATIONS),{userId:r,type:e,message:n,poNumber:s,timestamp:$s(),read:!1})}catch(l){console.error("Failed to send notification:",l)}},async logActivity(r,e,n=null){try{await lh(Di(kt,Ut.ACTIVITY_LOGS),{type:r,message:e,poNumber:n,timestamp:$s(),userId:or.currentUser?.uid||null,userEmail:or.currentUser?.email||null})}catch(s){console.error("Failed to log activity:",s)}},onPendingRequestsChange(r,e){const n=ao(Di(kt,Ut.PENDING_REQUESTS),t0("requestedAt","desc"));return Am(n,r,e||(s=>{console.error("Pending requests subscription error:",s)}))},onQueueChange(r,e){const n=ao(Di(kt,Ut.QUEUE),ah("status","in",[Ce.QUEUED,Ce.SUMMONED,Ce.STAGING,Ce.LOADING]));return Am(n,s=>{const l={...s,docs:[...s.docs].sort((u,d)=>{const g=u.data().position||0,y=d.data().position||0;return g-y})};r(l)},e||(s=>{console.error("Queue subscription error:",s)}))},onActivityLogsChange(r,e){const n=ao(Di(kt,Ut.ACTIVITY_LOGS),t0("timestamp","desc"));return Am(n,r,e||(s=>{console.error("Activity logs subscription error:",s)}))}},NS=()=>M.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),Ax=({onLogin:r,loading:e,error:n})=>{const[s,l]=rt.useState({email:"",password:""}),[u,d]=rt.useState(!1),g=y=>{y.preventDefault(),r(s.email,s.password)};return M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[M.jsxs("div",{className:"text-center mb-8",children:[M.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:M.jsx(Fv,{className:"w-8 h-8 text-blue-600"})}),M.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),M.jsx("p",{className:"text-gray-600",children:"Omega Products Truck Queue"})]}),M.jsxs("form",{onSubmit:g,className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),M.jsx("input",{type:"email",value:s.email,onChange:y=>l(p=>({...p,email:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@omega.com",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:u?"text":"password",value:s.password,onChange:y=>l(p=>({...p,password:y.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter admin password",required:!0}),M.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?M.jsx(I1,{className:"w-5 h-5"}):M.jsx(N1,{className:"w-5 h-5"})})]})]}),n&&M.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:M.jsx("p",{className:"text-red-700 text-sm",children:n})}),M.jsx("button",{type:"button",onClick:()=>{l({email:"admin@omega.com",password:"password"})},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 rounded-lg transition-colors text-sm",children:"Use Demo Credentials"}),M.jsx("button",{type:"submit",disabled:e,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white font-semibold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:e?M.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):M.jsxs(M.Fragment,{children:[M.jsx(Fv,{className:"w-5 h-5"}),"Sign In to Admin Portal"]})})]}),M.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[M.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Demo Admin Account:"}),M.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Email:"})," admin@omega.com"]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Password:"})," password"]}),M.jsxs("p",{className:"mt-2 text-blue-600",children:[M.jsx("strong",{children:"Note:"})," If this is your first time, the account will be created automatically."]})]})]})]})})},Sx=({selectedTicket:r,onClose:e,onConfirm:n})=>M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[M.jsx(ag,{className:"w-6 h-6 text-red-500"}),M.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Remove from Queue?"})]}),M.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to remove ",M.jsx("strong",{children:r?.driverName})," (",r?.poNumber,") from the queue? This action cannot be undone."]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{onClick:e,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),M.jsx("button",{onClick:()=>n(r.id),className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-medium py-3 rounded-lg transition-colors",children:"Remove"})]})]})}),bx=({selectedTicket:r,newStatus:e,onClose:n,onConfirm:s})=>{const l={[Ce.QUEUED]:"Queued",[Ce.SUMMONED]:"Summoned",[Ce.STAGING]:"In Staging",[Ce.LOADING]:"Loading",[Ce.COMPLETED]:"Completed"},u={[Ce.QUEUED]:"Move back to waiting in queue",[Ce.SUMMONED]:"Summon to proceed to facility",[Ce.STAGING]:"Move to staging area (2-truck capacity)",[Ce.LOADING]:"Move to loading bay (3-bay capacity)",[Ce.COMPLETED]:"Mark as completed and remove from active queue"},d=r?.status;Object.values(Ce).indexOf(e)>Object.values(Ce).indexOf(d);const g=Object.values(Ce).indexOf(e)<Object.values(Ce).indexOf(d);return M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[M.jsx(ag,{className:`w-6 h-6 ${g?"text-orange-500":"text-blue-500"}`}),M.jsx("h3",{className:"text-xl font-bold text-gray-800",children:g?"Move Back?":"Advance Status?"})]}),M.jsxs("div",{className:"mb-4",children:[M.jsxs("p",{className:"text-gray-600 mb-3",children:["Change status for ",M.jsx("strong",{children:r?.driverName})," (",r?.poNumber,")?"]}),M.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[M.jsxs("div",{className:"flex items-center justify-between text-sm",children:[M.jsx("span",{className:"text-gray-600",children:"Current:"}),M.jsx("span",{className:"font-medium capitalize",children:l[d]})]}),M.jsxs("div",{className:"flex items-center justify-center my-2",children:[M.jsx("div",{className:`w-6 h-0.5 ${g?"bg-orange-400":"bg-blue-400"}`}),M.jsx("span",{className:`mx-2 ${g?"text-orange-500":"text-blue-500"}`,children:g?"":""}),M.jsx("div",{className:`w-6 h-0.5 ${g?"bg-orange-400":"bg-blue-400"}`})]}),M.jsxs("div",{className:"flex items-center justify-between text-sm",children:[M.jsx("span",{className:"text-gray-600",children:"New:"}),M.jsx("span",{className:`font-medium capitalize ${g?"text-orange-600":"text-blue-600"}`,children:l[e]})]})]}),M.jsx("p",{className:"text-sm text-gray-600",children:u[e]}),g&&M.jsx("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:M.jsxs("p",{className:"text-sm text-orange-800",children:[M.jsx("strong",{children:"Note:"})," Moving backward will notify the driver of the status change."]})})]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),M.jsx("button",{onClick:()=>s(r.id,e),className:`flex-1 font-medium py-3 rounded-lg transition-colors text-white ${g?"bg-orange-500 hover:bg-orange-600":"bg-blue-500 hover:bg-blue-600"}`,children:g?"Move Back":"Advance"})]})]})})},wx=({selectedTicket:r,rejectReason:e,setRejectReason:n,onClose:s,onConfirm:l})=>M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[M.jsx(V0,{className:"w-6 h-6 text-red-500"}),M.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Reject Request?"})]}),M.jsxs("p",{className:"text-gray-600 mb-4",children:["Reject request from ",M.jsx("strong",{children:r?.driverName})," (",r?.poNumber,")?"]}),M.jsxs("div",{className:"mb-6 space-y-2",children:[M.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[M.jsx("input",{type:"radio",name:"rejectReason",value:"Invalid PO number or confirmation code",checked:e==="Invalid PO number or confirmation code",onChange:u=>n(u.target.value),className:"w-4 h-4"}),M.jsx("span",{className:"text-sm text-gray-700",children:"Invalid PO number or confirmation code"})]}),M.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[M.jsx("input",{type:"radio",name:"rejectReason",value:"Location too far from facility",checked:e==="Location too far from facility",onChange:u=>n(u.target.value),className:"w-4 h-4"}),M.jsx("span",{className:"text-sm text-gray-700",children:"Location too far from facility"})]})]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{onClick:s,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),M.jsx("button",{onClick:()=>{if(!e){alert("Please select a reason");return}l(r.id,e)},className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-medium py-3 rounded-lg transition-colors",children:"Reject"})]})]})}),Rx=({user:r,onSignOut:e})=>{const[n,s]=rt.useState("dashboard"),[l,u]=rt.useState([]),[d,g]=rt.useState([]),[y,p]=rt.useState([]),[A,S]=rt.useState(!0),[N,Q]=rt.useState(!1),[W,ie]=rt.useState(!1),[ee,he]=rt.useState(null),[Ee,me]=rt.useState(""),[je,Ge]=rt.useState({show:!1,ticket:null,newStatus:null}),[Ie,C]=rt.useState(null);rt.useEffect(()=>{const H=[];let le;le=setTimeout(()=>{console.log("Loading timeout reached, setting loading to false"),S(!1)},5e3);try{const _e=Jr.onQueueChange(Z=>{try{console.log("Queue data received:",Z.size,"documents");const ne=Z.docs.map(ue=>({id:ue.id,...ue.data(),joinedAt:ue.data().joinedAt?.toDate?.()?.toISOString()||new Date().toISOString(),requestedAt:ue.data().requestedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));u(ne),le&&(clearTimeout(le),le=null),S(!1)}catch(ne){console.error("Error processing queue data:",ne),S(!1)}},Z=>{console.error("Queue subscription error:",Z),S(!1)});H.push(_e);const D=Jr.onPendingRequestsChange(Z=>{try{console.log("Pending requests data received:",Z.size,"documents");const ne=Z.docs.map(ue=>({id:ue.id,...ue.data(),requestedAt:ue.data().requestedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));g(ne)}catch(ne){console.error("Error processing pending requests:",ne)}},Z=>{console.error("Pending requests subscription error:",Z)});H.push(D);const K=Jr.onActivityLogsChange(Z=>{try{console.log("Activity logs data received:",Z.size,"documents");const ne=Z.docs.map(ue=>({id:ue.id,...ue.data(),timestamp:ue.data().timestamp?.toDate?.()?.toISOString()||new Date().toISOString()}));p(ne)}catch(ne){console.error("Error processing activity logs:",ne)}},Z=>{console.error("Activity logs subscription error:",Z)});H.push(K)}catch(_e){console.error("Error setting up subscriptions:",_e),S(!1)}return()=>{le&&clearTimeout(le),H.forEach(_e=>{try{_e()}catch(D){console.error("Error unsubscribing:",D)}})}},[]);const b=H=>H*15,I=async H=>{try{await Jr.approveRequest(H)}catch(le){alert(`Failed to approve request: ${le.message}`)}},V=async(H,le)=>{try{await Jr.rejectRequest(H,le),ie(!1),he(null),me("")}catch(_e){alert(`Failed to reject request: ${_e.message}`)}},x=async(H,le)=>{try{await Jr.updateQueueStatus(H,le),toast.success(`Status updated to ${le}`),Ge({show:!1,ticket:null,newStatus:null})}catch(_e){console.error("Error updating status:",_e),toast.error("Failed to update status")}},k=(H,le)=>{Ge({show:!0,ticket:H,newStatus:le})},w=()=>{Ge({show:!1,ticket:null,newStatus:null})},et=async H=>{try{await Jr.removeFromQueue(H),Q(!1),he(null)}catch(le){alert(`Failed to remove from queue: ${le.message}`)}},ft=(H,le)=>{C(le),H.dataTransfer.effectAllowed="move"},F=(H,le)=>{if(H.preventDefault(),H.dataTransfer.dropEffect="move",!Ie||Ie.id===le.id)return;const _e=[...l],D=_e.findIndex(Z=>Z.id===Ie.id),K=_e.findIndex(Z=>Z.id===le.id);if(D!==-1&&K!==-1){_e.splice(D,1),_e.splice(K,0,Ie);const Z=_e.map((ne,ue)=>({...ne,position:ue+1}));Jr.updateQueuePositions(Z)}},re=()=>{C(null)};return A?M.jsx(NS,{}):M.jsxs("div",{className:"min-h-screen bg-gray-100",children:[N&&M.jsx(Sx,{selectedTicket:ee,onClose:()=>{Q(!1),he(null)},onConfirm:et}),W&&M.jsx(wx,{selectedTicket:ee,rejectReason:Ee,setRejectReason:me,onClose:()=>{ie(!1),he(null),me("")},onConfirm:V}),je.show&&M.jsx(bx,{selectedTicket:je.ticket,newStatus:je.newStatus,onClose:w,onConfirm:x}),M.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:M.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),M.jsx("p",{className:"text-sm text-gray-600",children:"Omega Products Truck Queue Management"})]}),M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("nav",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>s("dashboard"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="dashboard"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Dashboard"}),M.jsx("button",{onClick:()=>s("history"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="history"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Activity Logs"})]}),d.length>0&&M.jsxs("div",{className:"relative",children:[M.jsx(Hv,{className:"w-6 h-6 text-gray-600"}),M.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:d.length})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsxs("div",{className:"text-right",children:[M.jsx("p",{className:"text-sm font-medium text-gray-800",children:r.email}),M.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]}),M.jsx("button",{onClick:e,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Sign Out",children:M.jsx(k1,{className:"w-5 h-5"})})]})]})]})})}),M.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[n==="dashboard"&&M.jsxs("div",{className:"space-y-6",children:[d.length>0&&M.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 shadow-lg",children:[M.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[M.jsx(Hv,{className:"w-5 h-5 text-yellow-600"}),"Pending Requests (",d.length,")"]}),M.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.map(H=>M.jsxs("div",{className:"bg-white border border-yellow-200 rounded-lg p-4",children:[M.jsxs("div",{className:"mb-3",children:[M.jsxs("div",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[M.jsx(Gv,{className:"w-4 h-4"}),H.driverName]}),M.jsx("p",{className:"text-sm text-gray-600",children:H.poNumber}),M.jsxs("p",{className:"text-xs text-gray-500",children:["Code: ",H.confirmCode,"  ",new Date(H.requestedAt).toLocaleTimeString()]})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>I(H.id),className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Approve"}),M.jsx("button",{onClick:()=>{he(H),ie(!0)},className:"flex-1 bg-red-500 hover:bg-red-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Reject"})]})]},H.id))})]}),M.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[M.jsxs("div",{className:"flex items-center justify-between mb-6",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Current Queue"}),M.jsxs("div",{className:"text-center bg-blue-50 rounded-lg p-4",children:[M.jsx("p",{className:"text-sm text-gray-600",children:"Trucks in Queue"}),M.jsx("p",{className:"text-3xl font-bold text-blue-600",children:l.length})]})]}),M.jsxs("div",{className:"space-y-3",children:[l.map(H=>M.jsx("div",{draggable:!0,onDragStart:le=>ft(le,H),onDragOver:le=>F(le,H),onDragEnd:re,className:`border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow ${Ie?.id===H.id?"opacity-50":""}`,children:M.jsxs("div",{className:"flex items-start gap-3",children:[M.jsx(O1,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-1"}),M.jsxs("div",{className:"flex-1 min-w-0",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[M.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full font-bold text-sm flex-shrink-0",children:H.position}),M.jsxs("div",{children:[M.jsx("span",{className:"font-semibold text-gray-800",children:H.driverName}),M.jsx("p",{className:"text-sm text-gray-600",children:H.poNumber})]})]}),M.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[M.jsxs("span",{children:["Joined: ",new Date(H.joinedAt).toLocaleTimeString()]}),M.jsxs("span",{children:["Wait: ~",b(H.position)," min"]}),M.jsx("span",{className:"capitalize bg-gray-100 px-2 py-1 rounded",children:H.status})]})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:"flex flex-col gap-1",children:[M.jsxs("div",{className:"flex justify-center",children:[H.status===Ce.QUEUED&&M.jsx("button",{onClick:()=>k(H,Ce.SUMMONED),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium rounded-lg transition-colors shadow-sm",children:"Summon "}),H.status===Ce.SUMMONED&&M.jsx("button",{onClick:()=>k(H,Ce.STAGING),className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white text-sm font-medium rounded-lg transition-colors shadow-sm",children:"To Staging "}),H.status===Ce.STAGING&&M.jsx("button",{onClick:()=>k(H,Ce.LOADING),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium rounded-lg transition-colors shadow-sm",children:"To Loading "}),H.status===Ce.LOADING&&M.jsx("button",{onClick:()=>k(H,Ce.COMPLETED),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white text-sm font-medium rounded-lg transition-colors shadow-sm",children:"Complete "})]}),H.status!==Ce.QUEUED&&M.jsxs("div",{className:"flex flex-wrap justify-center gap-1",children:[M.jsx("button",{onClick:()=>k(H,Ce.QUEUED),className:"px-2 py-1 bg-gray-400 hover:bg-gray-500 text-white text-xs rounded transition-colors",title:"Move back to queue",children:" Queue"}),H.status!==Ce.SUMMONED&&M.jsx("button",{onClick:()=>k(H,Ce.SUMMONED),className:"px-2 py-1 bg-gray-400 hover:bg-gray-500 text-white text-xs rounded transition-colors",title:"Move back to summoned",children:" Summoned"}),H.status===Ce.LOADING&&M.jsx("button",{onClick:()=>k(H,Ce.STAGING),className:"px-2 py-1 bg-gray-400 hover:bg-gray-500 text-white text-xs rounded transition-colors",title:"Move back to staging",children:" Staging"})]})]}),M.jsx("button",{onClick:()=>{he(H),Q(!0)},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0",children:M.jsx(q1,{className:"w-4 h-4"})})]})]})},H.id)),l.length===0&&M.jsxs("div",{className:"text-center py-12 text-gray-500",children:[M.jsx(Gv,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),M.jsx("p",{children:"No trucks in queue"})]})]}),l.length>0&&M.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:M.jsxs("p",{className:"text-sm text-blue-800",children:[M.jsx("strong",{children:"Tip:"})," Drag and drop to reorder the queue. Use status buttons to move trucks through the process."]})})]})]}),n==="history"&&M.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Activity History"}),M.jsxs("div",{className:"space-y-3",children:[y.map(H=>M.jsx("div",{className:"border-l-4 border-blue-500 bg-gray-50 rounded-r-lg p-4",children:M.jsxs("div",{className:"flex items-start gap-3",children:[M.jsxs("div",{className:"flex-shrink-0 mt-1",children:[(H.type==="success"||H.type==="queue_joined"||H.type==="request_approved")&&M.jsx(b1,{className:"w-5 h-5 text-green-500"}),(H.type==="error"||H.type==="request_rejected")&&M.jsx(V0,{className:"w-5 h-5 text-red-500"}),H.type==="pending"&&M.jsx(ag,{className:"w-5 h-5 text-yellow-500"}),(H.type==="admin_action"||H.type==="removed_from_queue"||H.type==="queue_reordered"||H.type==="status_updated")&&M.jsx(P1,{className:"w-5 h-5 text-blue-500"})]}),M.jsxs("div",{className:"flex-1",children:[M.jsx("p",{className:"text-sm font-medium text-gray-800",children:H.message}),M.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[H.poNumber&&M.jsx("p",{className:"text-xs text-gray-600",children:H.poNumber}),M.jsx("p",{className:"text-xs text-gray-500",children:new Date(H.timestamp).toLocaleString()}),H.userEmail&&M.jsxs("p",{className:"text-xs text-gray-500",children:["by ",H.userEmail]})]})]})]})},H.id)),y.length===0&&M.jsxs("div",{className:"text-center py-12 text-gray-500",children:[M.jsx(M1,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),M.jsx("p",{children:"No activity logs yet"})]})]})]})]})]})},Ix=()=>{const[r,e]=rt.useState(null),[n,s]=rt.useState(!0),[l,u]=rt.useState(!1),[d,g]=rt.useState("");rt.useEffect(()=>Vl.onAuthStateChange(async S=>{if(console.log("Auth state changed:",S?S.email:"signed out"),S)try{const N=await Vl.getUserProfile(S.uid);console.log("User profile:",N),N&&N.role==="admin"?(e(S),u(!1),g("")):(await Vl.signOut(),g("Access denied. Admin account required."),u(!1))}catch(N){console.error("Failed to load user profile:",N),g("Failed to verify admin access."),u(!1)}else e(null),u(!1);s(!1)}),[]);const y=async(A,S)=>{try{u(!0),g(""),console.log("Attempting login for:",A),await Vl.signIn(A,S),console.log("Login successful")}catch(N){console.error("Login failed:",N),g(N.message),u(!1)}},p=async()=>{try{await Vl.signOut()}catch(A){console.error("Sign out error:",A)}};return n?M.jsx(NS,{}):r?M.jsx(Rx,{user:r,onSignOut:p}):M.jsx(Ax,{onLogin:y,loading:l,error:d})};g1.createRoot(document.getElementById("root")).render(M.jsx(rt.StrictMode,{children:M.jsx(Ix,{})}));
