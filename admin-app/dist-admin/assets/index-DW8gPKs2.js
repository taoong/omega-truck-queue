(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function J1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ym={exports:{}},ou={};var j0;function Z1(){if(j0)return ou;j0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ou.Fragment=e,ou.jsx=n,ou.jsxs=n,ou}var z0;function W1(){return z0||(z0=1,Ym.exports=Z1()),Ym.exports}var b=W1(),$m={exports:{}},xe={};var q0;function eR(){if(q0)return xe;q0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Y={};function ie(M,K,re){this.props=M,this.context=K,this.refs=Y,this.updater=re||X}ie.prototype.isReactComponent={},ie.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},ie.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ae(){}ae.prototype=ie.prototype;function ne(M,K,re){this.props=M,this.context=K,this.refs=Y,this.updater=re||X}var de=ne.prototype=new ae;de.constructor=ne,L(de,ie.prototype),de.isPureReactComponent=!0;var pe=Array.isArray;function he(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function D(M,K,re){var le=re.ref;return{$$typeof:i,type:M,key:K,ref:le!==void 0?le:null,props:re}}function S(M,K){return D(M.type,K,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function V(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return K[re]})}var N=/\/+/g;function Se(M,K){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):K.toString(36)}function Me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(he,he):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,K,re,le,Ee){var _e=typeof M;(_e==="undefined"||_e==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(_e){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case i:case e:Oe=!0;break;case E:return Oe=M._init,F(Oe(M._payload),K,re,le,Ee)}}if(Oe)return Ee=Ee(M),Oe=le===""?"."+Se(M,0):le,pe(Ee)?(re="",Oe!=null&&(re=Oe.replace(N,"$&/")+"/"),F(Ee,K,re,"",function(Ue){return Ue})):Ee!=null&&(I(Ee)&&(Ee=S(Ee,re+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(N,"$&/")+"/")+Oe)),K.push(Ee)),1;Oe=0;var nt=le===""?".":le+":";if(pe(M))for(var Ge=0;Ge<M.length;Ge++)le=M[Ge],_e=nt+Se(le,Ge),Oe+=F(le,K,re,_e,Ee);else if(Ge=P(M),typeof Ge=="function")for(M=Ge.call(M),Ge=0;!(le=M.next()).done;)le=le.value,_e=nt+Se(le,Ge++),Oe+=F(le,K,re,_e,Ee);else if(_e==="object"){if(typeof M.then=="function")return F(Me(M),K,re,le,Ee);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function te(M,K,re){if(M==null)return M;var le=[],Ee=0;return F(M,le,"","",function(_e){return K.call(re,_e,Ee++)}),le}function oe(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ae={map:te,forEach:function(M,K,re){te(M,function(){K.apply(this,arguments)},re)},count:function(M){var K=0;return te(M,function(){K++}),K},toArray:function(M){return te(M,function(K){return K})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return xe.Activity=T,xe.Children=Ae,xe.Component=ie,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=ne,xe.StrictMode=s,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(M,K,re){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=L({},M.props),Ee=M.key;if(K!=null)for(_e in K.key!==void 0&&(Ee=""+K.key),K)!x.call(K,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&K.ref===void 0||(le[_e]=K[_e]);var _e=arguments.length-2;if(_e===1)le.children=re;else if(1<_e){for(var Oe=Array(_e),nt=0;nt<_e;nt++)Oe[nt]=arguments[nt+2];le.children=Oe}return D(M.type,Ee,le)},xe.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},xe.createElement=function(M,K,re){var le,Ee={},_e=null;if(K!=null)for(le in K.key!==void 0&&(_e=""+K.key),K)x.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ee[le]=K[le]);var Oe=arguments.length-2;if(Oe===1)Ee.children=re;else if(1<Oe){for(var nt=Array(Oe),Ge=0;Ge<Oe;Ge++)nt[Ge]=arguments[Ge+2];Ee.children=nt}if(M&&M.defaultProps)for(le in Oe=M.defaultProps,Oe)Ee[le]===void 0&&(Ee[le]=Oe[le]);return D(M,_e,Ee)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:m,render:M}},xe.isValidElement=I,xe.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:oe}},xe.memo=function(M,K){return{$$typeof:p,type:M,compare:K===void 0?null:K}},xe.startTransition=function(M){var K=C.T,re={};C.T=re;try{var le=M(),Ee=C.S;Ee!==null&&Ee(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(he,ge)}catch(_e){ge(_e)}finally{K!==null&&re.types!==null&&(K.types=re.types),C.T=K}},xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xe.use=function(M){return C.H.use(M)},xe.useActionState=function(M,K,re){return C.H.useActionState(M,K,re)},xe.useCallback=function(M,K){return C.H.useCallback(M,K)},xe.useContext=function(M){return C.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,K){return C.H.useDeferredValue(M,K)},xe.useEffect=function(M,K){return C.H.useEffect(M,K)},xe.useEffectEvent=function(M){return C.H.useEffectEvent(M)},xe.useId=function(){return C.H.useId()},xe.useImperativeHandle=function(M,K,re){return C.H.useImperativeHandle(M,K,re)},xe.useInsertionEffect=function(M,K){return C.H.useInsertionEffect(M,K)},xe.useLayoutEffect=function(M,K){return C.H.useLayoutEffect(M,K)},xe.useMemo=function(M,K){return C.H.useMemo(M,K)},xe.useOptimistic=function(M,K){return C.H.useOptimistic(M,K)},xe.useReducer=function(M,K,re){return C.H.useReducer(M,K,re)},xe.useRef=function(M){return C.H.useRef(M)},xe.useState=function(M){return C.H.useState(M)},xe.useSyncExternalStore=function(M,K,re){return C.H.useSyncExternalStore(M,K,re)},xe.useTransition=function(){return C.H.useTransition()},xe.version="19.2.3",xe}var B0;function rg(){return B0||(B0=1,$m.exports=eR()),$m.exports}var H=rg();const zn=J1(H);var Xm={exports:{}},lu={},Jm={exports:{}},Zm={};var H0;function tR(){return H0||(H0=1,(function(i){function e(F,te){var oe=F.length;F.push(te);e:for(;0<oe;){var ge=oe-1>>>1,Ae=F[ge];if(0<o(Ae,te))F[ge]=te,F[oe]=Ae,oe=ge;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var te=F[0],oe=F.pop();if(oe!==te){F[0]=oe;e:for(var ge=0,Ae=F.length,M=Ae>>>1;ge<M;){var K=2*(ge+1)-1,re=F[K],le=K+1,Ee=F[le];if(0>o(re,oe))le<Ae&&0>o(Ee,re)?(F[ge]=Ee,F[le]=oe,ge=le):(F[ge]=re,F[K]=oe,ge=K);else if(le<Ae&&0>o(Ee,oe))F[ge]=Ee,F[le]=oe,ge=le;else break e}}return te}function o(F,te){var oe=F.sortIndex-te.sortIndex;return oe!==0?oe:F.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,T=null,R=3,P=!1,X=!1,L=!1,Y=!1,ie=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function de(F){for(var te=n(p);te!==null;){if(te.callback===null)s(p);else if(te.startTime<=F)s(p),te.sortIndex=te.expirationTime,e(g,te);else break;te=n(p)}}function pe(F){if(L=!1,de(F),!X)if(n(g)!==null)X=!0,he||(he=!0,V());else{var te=n(p);te!==null&&Me(pe,te.startTime-F)}}var he=!1,C=-1,x=5,D=-1;function S(){return Y?!0:!(i.unstable_now()-D<x)}function I(){if(Y=!1,he){var F=i.unstable_now();D=F;var te=!0;try{e:{X=!1,L&&(L=!1,ae(C),C=-1),P=!0;var oe=R;try{t:{for(de(F),T=n(g);T!==null&&!(T.expirationTime>F&&S());){var ge=T.callback;if(typeof ge=="function"){T.callback=null,R=T.priorityLevel;var Ae=ge(T.expirationTime<=F);if(F=i.unstable_now(),typeof Ae=="function"){T.callback=Ae,de(F),te=!0;break t}T===n(g)&&s(g),de(F)}else s(g);T=n(g)}if(T!==null)te=!0;else{var M=n(p);M!==null&&Me(pe,M.startTime-F),te=!1}}break e}finally{T=null,R=oe,P=!1}te=void 0}}finally{te?V():he=!1}}}var V;if(typeof ne=="function")V=function(){ne(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Se=N.port2;N.port1.onmessage=I,V=function(){Se.postMessage(null)}}else V=function(){ie(I,0)};function Me(F,te){C=ie(function(){F(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(F){switch(R){case 1:case 2:case 3:var te=3;break;default:te=R}var oe=R;R=te;try{return F()}finally{R=oe}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var oe=R;R=F;try{return te()}finally{R=oe}},i.unstable_scheduleCallback=function(F,te,oe){var ge=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ge+oe:ge):oe=ge,F){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=oe+Ae,F={id:E++,callback:te,priorityLevel:F,startTime:oe,expirationTime:Ae,sortIndex:-1},oe>ge?(F.sortIndex=oe,e(p,F),n(g)===null&&F===n(p)&&(L?(ae(C),C=-1):L=!0,Me(pe,oe-ge))):(F.sortIndex=Ae,e(g,F),X||P||(X=!0,he||(he=!0,V()))),F},i.unstable_shouldYield=S,i.unstable_wrapCallback=function(F){var te=R;return function(){var oe=R;R=te;try{return F.apply(this,arguments)}finally{R=oe}}}})(Zm)),Zm}var F0;function nR(){return F0||(F0=1,Jm.exports=tR()),Jm.exports}var Wm={exports:{}},gn={};var G0;function iR(){if(G0)return gn;G0=1;var i=rg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},gn.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},gn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},gn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},gn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:R,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},gn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gn.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},gn.requestFormReset=function(g){s.d.r(g)},gn.unstable_batchedUpdates=function(g,p){return g(p)},gn.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.2.3",gn}var Q0;function tT(){if(Q0)return Wm.exports;Q0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Wm.exports=iR(),Wm.exports}var K0;function rR(){if(K0)return lu;K0=1;var i=nR(),e=rg(),n=tT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,w=h.child;w;){if(w===a){v=!0,a=h,l=d;break}if(w===l){v=!0,l=h,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=h;break}if(w===l){v=!0,l=d,a=h;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case ie:return"Profiler";case Y:return"StrictMode";case pe:return"Suspense";case he:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case ne:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:Se(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return Se(t(r))}catch{}}return null}var Me=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ge=[],Ae=-1;function M(t){return{current:t}}function K(t){0>Ae||(t.current=ge[Ae],ge[Ae]=null,Ae--)}function re(t,r){Ae++,ge[Ae]=t.current,t.current=r}var le=M(null),Ee=M(null),_e=M(null),Oe=M(null);function nt(t,r){switch(re(_e,r),re(Ee,t),re(le,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?l0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=l0(r),t=u0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(le),re(le,t)}function Ge(){K(le),K(Ee),K(_e)}function Ue(t){t.memoizedState!==null&&re(Oe,t);var r=le.current,a=u0(r,t.type);r!==a&&(re(Ee,t),re(le,a))}function oi(t){Ee.current===t&&(K(le),K(Ee)),Oe.current===t&&(K(Oe),iu._currentValue=oe)}var tn,Hn;function Dt(t){if(tn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);tn=r&&r[1]||"",Hn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+t+Hn}var li=!1;function Cn(t,r){if(!t||li)return"";li=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var B=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){B=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){B=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&B&&typeof Q.stack=="string")return[Q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var O=v.split(`
`),q=w.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===q.length)for(l=O.length-1,h=q.length-1;1<=l&&0<=h&&O[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==q[h]){var $=`
`+O[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{li=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Dt(a):""}function Xr(t,r){switch(t.tag){case 26:case 27:case 5:return Dt(t.type);case 16:return Dt("Lazy");case 13:return t.child!==r&&r!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return Cn(t.type,!1);case 11:return Cn(t.type.render,!1);case 1:return Cn(t.type,!0);case 31:return Dt("Activity");default:return""}}function Jr(t){try{var r="",a=null;do r+=Xr(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pt=Object.prototype.hasOwnProperty,it=i.unstable_scheduleCallback,Fn=i.unstable_cancelCallback,Zr=i.unstable_shouldYield,Zs=i.unstable_requestPaint,Yt=i.unstable_now,yr=i.unstable_getCurrentPriorityLevel,Ws=i.unstable_ImmediatePriority,ui=i.unstable_UserBlockingPriority,bn=i.unstable_NormalPriority,vr=i.unstable_LowPriority,ea=i.unstable_IdlePriority,Gn=i.log,ta=i.unstable_setDisableYieldValue,Qn=null,Ft=null;function fn(t){if(typeof Gn=="function"&&ta(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Qn,t)}catch{}}var gt=Math.clz32?Math.clz32:Qa,Ga=Math.log,_r=Math.LN2;function Qa(t){return t>>>=0,t===0?32:31-(Ga(t)/_r|0)|0}var ci=256,Er=262144,Ve=4194304;function yt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vt(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=yt(l):(v&=w,v!==0?h=yt(v):a||(a=w&~t,a!==0&&(h=yt(a))))):(w=l&~d,w!==0?h=yt(w):v!==0?h=yt(v):a||(a=l&~t,a!==0&&(h=yt(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Ot(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function dn(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var t=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),t}function St(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Nn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function At(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-gt(a),W=1<<$;w[$]=0,O[$]=-1;var B=q[$];if(B!==null)for(q[$]=null,$=0;$<B.length;$++){var Q=B[$];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&mn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function mn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function pn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Tn(t,r){var a=r&-r;return a=(a&42)!==0?1:Kn(a),(a&(t.suspendedLanes|r))!==0?0:a}function Kn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Yn(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:O0(t.type))}function nn(t,r){var a=te.p;try{return te.p=t,r()}finally{te.p=a}}var Sn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Sn,Xt="__reactProps$"+Sn,Hi="__reactContainer$"+Sn,Ka="__reactEvents$"+Sn,ed="__reactListeners$"+Sn,hc="__reactHandles$"+Sn,fc="__reactResources$"+Sn,Fi="__reactMarker$"+Sn;function Ya(t){delete t[Mt],delete t[Xt],delete t[Ka],delete t[ed],delete t[hc]}function Gi(t){var r=t[Mt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Hi]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=g0(t);t!==null;){if(a=t[Mt])return a;t=g0(t)}return r}t=a,a=t.parentNode}return null}function hi(t){if(t=t[Mt]||t[Hi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function $n(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Qi(t){var r=t[fc];return r||(r=t[fc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Vt(t){t[Fi]=!0}var cl=new Set,hl={};function Ki(t,r){Yi(t,r),Yi(t+"Capture",r)}function Yi(t,r){for(hl[t]=r,t=0;t<r.length;t++)cl.add(r[t])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},ml={};function dc(t){return pt.call(ml,t)?!0:pt.call(dl,t)?!1:fl.test(t)?ml[t]=!0:(dl[t]=!0,!1)}function $a(t,r,a){if(dc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Xn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function kt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ze(t){if(!t._valueTracker){var r=Wr(t)?"checked":"value";t._valueTracker=pl(t,r,""+t[r])}}function na(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Wr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function $i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ia=/[\n"\\]/g;function Dn(t){return t.replace(ia,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xa(t,r,a,l,h,d,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Jt(r)):t.value!==""+Jt(r)&&(t.value=""+Jt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?gl(t,v,Jt(r)):a!=null?gl(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Jt(w):t.removeAttribute("name")}function mc(t,r,a,l,h,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ze(t);return}a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ze(t)}function gl(t,r,a){r==="number"&&$i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function es(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function pc(t,r,a){if(r!=null&&(r=""+Jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Jt(a):""}function ts(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function On(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||gc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function vl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&yl(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&yl(t,d,r[d])}function Ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(t){return ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ci(){}var _l=null;function fi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var is=null,Xi=null;function ra(t){var r=hi(t);if(r&&(t=r.stateNode)){var a=t[Xt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Xt]||null;if(!h)throw Error(s(90));Xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&na(l)}break e;case"textarea":pc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&es(t,!!a.multiple,r,!1)}}}var Wa=!1;function rs(t,r,a){if(Wa)return t(r,a);Wa=!0;try{var l=t(r);return l}finally{if(Wa=!1,(is!==null||Xi!==null)&&(ch(),is&&(r=is,t=Xi,Xi=is=null,ra(r),t)))for(r=0;r<t.length;r++)ra(t[r])}}function Ni(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Xt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(di)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){sa=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{sa=!1}var Ji=null,El=null,aa=null;function bl(){if(aa)return aa;var t,r=El,a=r.length,l,h="value"in Ji?Ji.value:Ji.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return aa=h.slice(t,1<l?1-l:void 0)}function oa(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function br(){return!0}function Di(){return!1}function rn(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?br:Di,this.isPropagationStopped=Di,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),r}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=rn(Tr),ss=T({},Tr,{view:0,detail:0}),Tl=rn(ss),as,eo,Wi,to=T({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(as=t.screenX-Wi.screenX,eo=t.screenY-Wi.screenY):eo=as=0,Wi=t),as)},movementY:function(t){return"movementY"in t?t.movementY:eo}}),wl=rn(to),la=T({},to,{dataTransfer:0}),vc=rn(la),_c=T({},ss,{relatedTarget:0}),ua=rn(_c),Sl=T({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ec=rn(Sl),no=T({},Tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bc=rn(no),Tc=T({},Tr,{data:0}),er=rn(Tc),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ac[t])?!!r[t]:!1}function os(){return Rc}var An=T({},ss,{key:function(t){if(t.key){var r=wc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xc=rn(An),Ic=T({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wr=rn(Ic),c=T({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),y=rn(c),_=T({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=rn(_),j=T({},to,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=rn(j),se=T({},Tr,{newState:0,oldState:0}),Ce=rn(se),Rt=[9,13,27,32],$e=di&&"CompositionEvent"in window,_t=null;di&&"documentMode"in document&&(_t=document.documentMode);var mi=di&&"TextEvent"in window&&!_t,tr=di&&(!$e||_t&&8<_t&&11>=_t),Oi=" ",Mi=!1;function ca(t,r){switch(t){case"keyup":return Rt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function bA(t,r){switch(t){case"compositionend":return io(r);case"keypress":return r.which!==32?null:(Mi=!0,Oi);case"textInput":return t=r.data,t===Oi&&Mi?null:t;default:return null}}function TA(t,r){if(ro)return t==="compositionend"||!$e&&ca(t,r)?(t=bl(),aa=El=Ji=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return tr&&r.locale!=="ko"?null:r.data;default:return null}}var wA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!wA[t.type]:r==="textarea"}function Ey(t,r,a,l){is?Xi?Xi.push(l):Xi=[l]:is=l,r=yh(r,"onChange"),0<r.length&&(a=new Zi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Al=null,Rl=null;function SA(t){n0(t,0)}function Cc(t){var r=$n(t);if(na(r))return t}function by(t,r){if(t==="change")return r}var Ty=!1;if(di){var td;if(di){var nd="oninput"in document;if(!nd){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),nd=typeof wy.oninput=="function"}td=nd}else td=!1;Ty=td&&(!document.documentMode||9<document.documentMode)}function Sy(){Al&&(Al.detachEvent("onpropertychange",Ay),Rl=Al=null)}function Ay(t){if(t.propertyName==="value"&&Cc(Rl)){var r=[];Ey(r,Rl,t,fi(t)),rs(SA,r)}}function AA(t,r,a){t==="focusin"?(Sy(),Al=r,Rl=a,Al.attachEvent("onpropertychange",Ay)):t==="focusout"&&Sy()}function RA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(Rl)}function xA(t,r){if(t==="click")return Cc(r)}function IA(t,r){if(t==="input"||t==="change")return Cc(r)}function CA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Jn=typeof Object.is=="function"?Object.is:CA;function xl(t,r){if(Jn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pt.call(r,h)||!Jn(t[h],r[h]))return!1}return!0}function Ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xy(t,r){var a=Ry(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ry(a)}}function Iy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Iy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Cy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=$i(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=$i(t.document)}return r}function id(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var NA=di&&"documentMode"in document&&11>=document.documentMode,so=null,rd=null,Il=null,sd=!1;function Ny(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sd||so==null||so!==$i(l)||(l=so,"selectionStart"in l&&id(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&xl(Il,l)||(Il=l,l=yh(rd,"onSelect"),0<l.length&&(r=new Zi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=so)))}function ha(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ao={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},ad={},Dy={};di&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function fa(t){if(ad[t])return ad[t];if(!ao[t])return t;var r=ao[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Dy)return ad[t]=r[a];return t}var Oy=fa("animationend"),My=fa("animationiteration"),Vy=fa("animationstart"),DA=fa("transitionrun"),OA=fa("transitionstart"),MA=fa("transitioncancel"),ky=fa("transitionend"),Py=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function Vi(t,r){Py.set(t,r),Ki(r,[t])}var Nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pi=[],oo=0,ld=0;function Dc(){for(var t=oo,r=ld=oo=0;r<t;){var a=pi[r];pi[r++]=null;var l=pi[r];pi[r++]=null;var h=pi[r];pi[r++]=null;var d=pi[r];if(pi[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Uy(a,h,d)}}function Oc(t,r,a,l){pi[oo++]=t,pi[oo++]=r,pi[oo++]=a,pi[oo++]=l,ld|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ud(t,r,a,l){return Oc(t,r,a,l),Mc(t)}function da(t,r){return Oc(t,null,null,r),Mc(t)}function Uy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Mc(t){if(50<Xl)throw Xl=0,vm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var lo={};function VA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,r,a,l){return new VA(t,r,a,l)}function cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sr(t,r){var a=t.alternate;return a===null?(a=Zn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ly(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Vc(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")cd(t)&&(v=1);else if(typeof t=="string")v=j1(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Zn(31,a,r,h),t.elementType=D,t.lanes=d,t;case L:return ma(a.children,h,d,r);case Y:v=8,h|=24;break;case ie:return t=Zn(12,a,r,h|2),t.elementType=ie,t.lanes=d,t;case pe:return t=Zn(13,a,r,h),t.elementType=pe,t.lanes=d,t;case he:return t=Zn(19,a,r,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:v=10;break e;case ae:v=9;break e;case de:v=11;break e;case C:v=14;break e;case x:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Zn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function ma(t,r,a,l){return t=Zn(7,t,l,r),t.lanes=a,t}function hd(t,r,a){return t=Zn(6,t,null,r),t.lanes=a,t}function jy(t){var r=Zn(18,null,null,0);return r.stateNode=t,r}function fd(t,r,a){return r=Zn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var zy=new WeakMap;function gi(t,r){if(typeof t=="object"&&t!==null){var a=zy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Jr(r)},zy.set(t,r),r)}return{value:t,source:r,stack:Jr(r)}}var uo=[],co=0,kc=null,Cl=0,yi=[],vi=0,ls=null,nr=1,ir="";function Ar(t,r){uo[co++]=Cl,uo[co++]=kc,kc=t,Cl=r}function qy(t,r,a){yi[vi++]=nr,yi[vi++]=ir,yi[vi++]=ls,ls=t;var l=nr;t=ir;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var d=32-gt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,nr=1<<32-gt(r)+h|a<<h|l,ir=d+t}else nr=1<<d|a<<h|l,ir=t}function dd(t){t.return!==null&&(Ar(t,1),qy(t,1,0))}function md(t){for(;t===kc;)kc=uo[--co],uo[co]=null,Cl=uo[--co],uo[co]=null;for(;t===ls;)ls=yi[--vi],yi[vi]=null,ir=yi[--vi],yi[vi]=null,nr=yi[--vi],yi[vi]=null}function By(t,r){yi[vi++]=nr,yi[vi++]=ir,yi[vi++]=ls,nr=r.id,ir=r.overflow,ls=t}var sn=null,ct=null,He=!1,us=null,_i=!1,pd=Error(s(519));function cs(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(gi(r,t)),pd}function Hy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Mt]=t,r[Xt]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Zl.length;a++)Pe(Zl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),mc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),ts(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||a0(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Ci),r=!0):r=!1,r||cs(t,!0)}function Fy(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:sn=sn.return}}function ho(t){if(t!==sn)return!1;if(!He)return Fy(t),He=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Mm(t.type,t.memoizedProps)),a=!a),a&&ct&&cs(t),Fy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=p0(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=p0(t)}else r===27?(r=ct,Ss(t.type)?(t=Lm,Lm=null,ct=t):ct=r):ct=sn?bi(t.stateNode.nextSibling):null;return!0}function pa(){ct=sn=null,He=!1}function gd(){var t=us;return t!==null&&(Pn===null?Pn=t:Pn.push.apply(Pn,t),us=null),t}function Nl(t){us===null?us=[t]:us.push(t)}var yd=M(null),ga=null,Rr=null;function hs(t,r,a){re(yd,r._currentValue),r._currentValue=a}function xr(t){t._currentValue=yd.current,K(yd)}function vd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function _d(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var O=0;O<r.length;O++)if(w.context===r[O]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),vd(d.return,a,t),l||(v=null);break e}d=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),vd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function fo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=h.type;Jn(h.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(h===Oe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(iu):t=[iu])}h=h.return}t!==null&&_d(r,t,a,l),r.flags|=262144}function Pc(t){for(t=t.firstContext;t!==null;){if(!Jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ya(t){ga=t,Rr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Gy(ga,t)}function Uc(t,r){return ga===null&&ya(t),Gy(t,r)}function Gy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Rr===null){if(t===null)throw Error(s(308));Rr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Rr=Rr.next=r;return a}var kA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},PA=i.unstable_scheduleCallback,UA=i.unstable_NormalPriority,Pt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new kA,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&PA(UA,function(){t.controller.abort()})}var Ol=null,bd=0,mo=0,po=null;function LA(t,r){if(Ol===null){var a=Ol=[];bd=0,mo=Sm(),po={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bd++,r.then(Qy,Qy),r}function Qy(){if(--bd===0&&Ol!==null){po!==null&&(po.status="fulfilled");var t=Ol;Ol=null,mo=0,po=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function jA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ky=F.S;F.S=function(t,r){N_=Yt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&LA(t,r),Ky!==null&&Ky(t,r)};var va=M(null);function Td(){var t=va.current;return t!==null?t:lt.pooledCache}function Lc(t,r){r===null?re(va,va.current):re(va,r.pool)}function Yy(){var t=Td();return t===null?null:{parent:Pt._currentValue,pool:t}}var go=Error(s(460)),wd=Error(s(474)),jc=Error(s(542)),zc={then:function(){}};function $y(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Ci,Ci),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zy(t),t;default:if(typeof r.status=="string")r.then(Ci,Ci);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zy(t),t}throw Ea=r,go}}function _a(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ea=a,go):a}}var Ea=null;function Jy(){if(Ea===null)throw Error(s(459));var t=Ea;return Ea=null,t}function Zy(t){if(t===go||t===jc)throw Error(s(483))}var yo=null,Ml=0;function qc(t){var r=Ml;return Ml+=1,yo===null&&(yo=[]),Xy(yo,t,r)}function Vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Bc(t,r){throw r.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Wy(t){function r(U,k){if(t){var z=U.deletions;z===null?(U.deletions=[k],U.flags|=16):z.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=Sr(U,k),U.index=0,U.sibling=null,U}function d(U,k,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<k?(U.flags|=67108866,k):z):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,k,z,J){return k===null||k.tag!==6?(k=hd(z,U.mode,J),k.return=U,k):(k=h(k,z),k.return=U,k)}function O(U,k,z,J){var ye=z.type;return ye===L?$(U,k,z.props.children,J,z.key):k!==null&&(k.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&_a(ye)===k.type)?(k=h(k,z.props),Vl(k,z),k.return=U,k):(k=Vc(z.type,z.key,z.props,null,U.mode,J),Vl(k,z),k.return=U,k)}function q(U,k,z,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=fd(z,U.mode,J),k.return=U,k):(k=h(k,z.children||[]),k.return=U,k)}function $(U,k,z,J,ye){return k===null||k.tag!==7?(k=ma(z,U.mode,J,ye),k.return=U,k):(k=h(k,z),k.return=U,k)}function W(U,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=hd(""+k,U.mode,z),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P:return z=Vc(k.type,k.key,k.props,null,U.mode,z),Vl(z,k),z.return=U,z;case X:return k=fd(k,U.mode,z),k.return=U,k;case x:return k=_a(k),W(U,k,z)}if(Me(k)||V(k))return k=ma(k,U.mode,z,null),k.return=U,k;if(typeof k.then=="function")return W(U,qc(k),z);if(k.$$typeof===ne)return W(U,Uc(U,k),z);Bc(U,k)}return null}function B(U,k,z,J){var ye=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ye!==null?null:w(U,k,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===ye?O(U,k,z,J):null;case X:return z.key===ye?q(U,k,z,J):null;case x:return z=_a(z),B(U,k,z,J)}if(Me(z)||V(z))return ye!==null?null:$(U,k,z,J,null);if(typeof z.then=="function")return B(U,k,qc(z),J);if(z.$$typeof===ne)return B(U,k,Uc(U,z),J);Bc(U,z)}return null}function Q(U,k,z,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(z)||null,w(k,U,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return U=U.get(J.key===null?z:J.key)||null,O(k,U,J,ye);case X:return U=U.get(J.key===null?z:J.key)||null,q(k,U,J,ye);case x:return J=_a(J),Q(U,k,z,J,ye)}if(Me(J)||V(J))return U=U.get(z)||null,$(k,U,J,ye,null);if(typeof J.then=="function")return Q(U,k,z,qc(J),ye);if(J.$$typeof===ne)return Q(U,k,z,Uc(k,J),ye);Bc(k,J)}return null}function fe(U,k,z,J){for(var ye=null,Ke=null,me=k,De=k=0,je=null;me!==null&&De<z.length;De++){me.index>De?(je=me,me=null):je=me.sibling;var Ye=B(U,me,z[De],J);if(Ye===null){me===null&&(me=je);break}t&&me&&Ye.alternate===null&&r(U,me),k=d(Ye,k,De),Ke===null?ye=Ye:Ke.sibling=Ye,Ke=Ye,me=je}if(De===z.length)return a(U,me),He&&Ar(U,De),ye;if(me===null){for(;De<z.length;De++)me=W(U,z[De],J),me!==null&&(k=d(me,k,De),Ke===null?ye=me:Ke.sibling=me,Ke=me);return He&&Ar(U,De),ye}for(me=l(me);De<z.length;De++)je=Q(me,U,De,z[De],J),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?De:je.key),k=d(je,k,De),Ke===null?ye=je:Ke.sibling=je,Ke=je);return t&&me.forEach(function(Cs){return r(U,Cs)}),He&&Ar(U,De),ye}function be(U,k,z,J){if(z==null)throw Error(s(151));for(var ye=null,Ke=null,me=k,De=k=0,je=null,Ye=z.next();me!==null&&!Ye.done;De++,Ye=z.next()){me.index>De?(je=me,me=null):je=me.sibling;var Cs=B(U,me,Ye.value,J);if(Cs===null){me===null&&(me=je);break}t&&me&&Cs.alternate===null&&r(U,me),k=d(Cs,k,De),Ke===null?ye=Cs:Ke.sibling=Cs,Ke=Cs,me=je}if(Ye.done)return a(U,me),He&&Ar(U,De),ye;if(me===null){for(;!Ye.done;De++,Ye=z.next())Ye=W(U,Ye.value,J),Ye!==null&&(k=d(Ye,k,De),Ke===null?ye=Ye:Ke.sibling=Ye,Ke=Ye);return He&&Ar(U,De),ye}for(me=l(me);!Ye.done;De++,Ye=z.next())Ye=Q(me,U,De,Ye.value,J),Ye!==null&&(t&&Ye.alternate!==null&&me.delete(Ye.key===null?De:Ye.key),k=d(Ye,k,De),Ke===null?ye=Ye:Ke.sibling=Ye,Ke=Ye);return t&&me.forEach(function(X1){return r(U,X1)}),He&&Ar(U,De),ye}function ot(U,k,z,J){if(typeof z=="object"&&z!==null&&z.type===L&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var ye=z.key;k!==null;){if(k.key===ye){if(ye=z.type,ye===L){if(k.tag===7){a(U,k.sibling),J=h(k,z.props.children),J.return=U,U=J;break e}}else if(k.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&_a(ye)===k.type){a(U,k.sibling),J=h(k,z.props),Vl(J,z),J.return=U,U=J;break e}a(U,k);break}else r(U,k);k=k.sibling}z.type===L?(J=ma(z.props.children,U.mode,J,z.key),J.return=U,U=J):(J=Vc(z.type,z.key,z.props,null,U.mode,J),Vl(J,z),J.return=U,U=J)}return v(U);case X:e:{for(ye=z.key;k!==null;){if(k.key===ye)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(U,k.sibling),J=h(k,z.children||[]),J.return=U,U=J;break e}else{a(U,k);break}else r(U,k);k=k.sibling}J=fd(z,U.mode,J),J.return=U,U=J}return v(U);case x:return z=_a(z),ot(U,k,z,J)}if(Me(z))return fe(U,k,z,J);if(V(z)){if(ye=V(z),typeof ye!="function")throw Error(s(150));return z=ye.call(z),be(U,k,z,J)}if(typeof z.then=="function")return ot(U,k,qc(z),J);if(z.$$typeof===ne)return ot(U,k,Uc(U,z),J);Bc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(U,k.sibling),J=h(k,z),J.return=U,U=J):(a(U,k),J=hd(z,U.mode,J),J.return=U,U=J),v(U)):a(U,k)}return function(U,k,z,J){try{Ml=0;var ye=ot(U,k,z,J);return yo=null,ye}catch(me){if(me===go||me===jc)throw me;var Ke=Zn(29,me,null,U.mode);return Ke.lanes=J,Ke.return=U,Ke}}}var ba=Wy(!0),ev=Wy(!1),fs=!1;function Sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ms(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Mc(t),Uy(t,null,a),r}return Oc(t,l,r,a),Mc(t)}function kl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,pn(t,a)}}function Rd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var xd=!1;function Pl(){if(xd){var t=po;if(t!==null)throw t}}function Ul(t,r,a,l){xd=!1;var h=t.updateQueue;fs=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var O=w,q=O.next;O.next=null,v===null?d=q:v.next=q,v=O;var $=t.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==v&&(w===null?$.firstBaseUpdate=q:w.next=q,$.lastBaseUpdate=O))}if(d!==null){var W=h.baseState;v=0,$=q=O=null,w=d;do{var B=w.lane&-536870913,Q=B!==w.lane;if(Q?(Le&B)===B:(l&B)===B){B!==0&&B===mo&&(xd=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=t,be=w;B=r;var ot=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){W=fe.call(ot,W,B);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,B=typeof fe=="function"?fe.call(ot,W,B):fe,B==null)break e;W=T({},W,B);break e;case 2:fs=!0}}B=w.callback,B!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[B]:Q.push(B))}else Q={lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(q=$=Q,O=W):$=$.next=Q,v|=B;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(O=W),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),_s|=v,t.lanes=v,t.memoizedState=W}}function tv(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function nv(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tv(a[t],r)}var vo=M(null),Hc=M(0);function iv(t,r){t=Pr,re(Hc,t),re(vo,r),Pr=t|r.baseLanes}function Id(){re(Hc,Pr),re(vo,vo.current)}function Cd(){Pr=Hc.current,K(vo),K(Hc)}var Wn=M(null),Ei=null;function ps(t){var r=t.alternate;re(xt,xt.current&1),re(Wn,t),Ei===null&&(r===null||vo.current!==null||r.memoizedState!==null)&&(Ei=t)}function Nd(t){re(xt,xt.current),re(Wn,t),Ei===null&&(Ei=t)}function rv(t){t.tag===22?(re(xt,xt.current),re(Wn,t),Ei===null&&(Ei=t)):gs()}function gs(){re(xt,xt.current),re(Wn,Wn.current)}function ei(t){K(Wn),Ei===t&&(Ei=null),K(xt)}var xt=M(0);function Fc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pm(a)||Um(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ir=0,Ne=null,st=null,Ut=null,Gc=!1,_o=!1,Ta=!1,Qc=0,Ll=0,Eo=null,zA=0;function Tt(){throw Error(s(321))}function Dd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Jn(t[a],r[a]))return!1;return!0}function Od(t,r,a,l,h,d){return Ir=d,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=t===null||t.memoizedState===null?qv:Kd,Ta=!1,d=a(l,h),Ta=!1,_o&&(d=av(r,a,l,h)),sv(t),d}function sv(t){F.H=ql;var r=st!==null&&st.next!==null;if(Ir=0,Ut=st=Ne=null,Gc=!1,Ll=0,Eo=null,r)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&Pc(t)&&(Lt=!0))}function av(t,r,a,l){Ne=t;var h=0;do{if(_o&&(Eo=null),Ll=0,_o=!1,25<=h)throw Error(s(301));if(h+=1,Ut=st=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Bv,d=r(a,l)}while(_o);return d}function qA(){var t=F.H,r=t.useState()[0];return r=typeof r.then=="function"?jl(r):r,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ne.flags|=1024),r}function Md(){var t=Qc!==0;return Qc=0,t}function Vd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function kd(t){if(Gc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Gc=!1}Ir=0,Ut=st=Ne=null,_o=!1,Ll=Qc=0,Eo=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ne.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function It(){if(st===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var r=Ut===null?Ne.memoizedState:Ut.next;if(r!==null)Ut=r,st=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ut===null?Ne.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var r=Ll;return Ll+=1,Eo===null&&(Eo=[]),t=Xy(Eo,t,r),r=Ne,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?qv:Kd),t}function Yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===ne)return an(t)}throw Error(s(438,String(t)))}function Pd(t){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Kc(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=S;return r.index++,a}function Cr(t,r){return typeof r=="function"?r(t):r}function $c(t){var r=It();return Ud(r,st,t)}function Ud(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var w=v=null,O=null,q=r,$=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Le&W)===W:(Ir&W)===W){var B=q.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===mo&&($=!0);else if((Ir&B)===B){q=q.next,B===mo&&($=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(w=O=W,v=d):O=O.next=W,Ne.lanes|=B,_s|=B;W=q.action,Ta&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else B={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(w=O=B,v=d):O=O.next=B,Ne.lanes|=W,_s|=W;q=q.next}while(q!==null&&q!==r);if(O===null?v=d:O.next=w,!Jn(d,t.memoizedState)&&(Lt=!0,$&&(a=po,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ld(t){var r=It(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Jn(d,r.memoizedState)||(Lt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ov(t,r,a){var l=Ne,h=It(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Jn((st||h).memoizedState,a);if(v&&(h.memoizedState=a,Lt=!0),h=h.queue,qd(cv.bind(null,l,h,t),[t]),h.getSnapshot!==r||v||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,bo(9,{destroy:void 0},uv.bind(null,l,h,a,r),null),lt===null)throw Error(s(349));d||(Ir&127)!==0||lv(l,r,a)}return a}function lv(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=Kc(),Ne.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function uv(t,r,a,l){r.value=a,r.getSnapshot=l,hv(r)&&fv(t)}function cv(t,r,a){return a(function(){hv(r)&&fv(t)})}function hv(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Jn(t,a)}catch{return!0}}function fv(t){var r=da(t,2);r!==null&&Un(r,t,2)}function jd(t){var r=Rn();if(typeof t=="function"){var a=t;if(t=a(),Ta){fn(!0);try{a()}finally{fn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:t},r}function dv(t,r,a,l){return t.baseState=a,Ud(t,st,typeof l=="function"?l:Cr)}function BA(t,r,a,l,h){if(Zc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,mv(r,d)):(d.next=a.next,r.pending=a.next=d)}}function mv(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=F.T,v={};F.T=v;try{var w=a(h,l),O=F.S;O!==null&&O(v,w),pv(t,r,w)}catch(q){zd(t,r,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),F.T=d}}else try{d=a(h,l),pv(t,r,d)}catch(q){zd(t,r,q)}}function pv(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gv(t,r,l)},function(l){return zd(t,r,l)}):gv(t,r,a)}function gv(t,r,a){r.status="fulfilled",r.value=a,yv(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,mv(t,a)))}function zd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,yv(r),r=r.next;while(r!==l)}t.action=null}function yv(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function vv(t,r){return r}function _v(t,r){if(He){var a=lt.formState;if(a!==null){e:{var l=Ne;if(He){if(ct){t:{for(var h=ct,d=_i;h.nodeType!==8;){if(!d){h=null;break t}if(h=bi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=bi(h.nextSibling),l=h.data==="F!";break e}}cs(l)}l=!1}l&&(r=a[0])}}return a=Rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vv,lastRenderedState:r},a.queue=l,a=Lv.bind(null,Ne,l),l.dispatch=a,l=jd(!1),d=Qd.bind(null,Ne,!1,l.queue),l=Rn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=BA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ev(t){var r=It();return bv(r,st,t)}function bv(t,r,a){if(r=Ud(t,r,vv)[0],t=$c(Cr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=jl(r)}catch(v){throw v===go?jc:v}else l=r;r=It();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,bo(9,{destroy:void 0},HA.bind(null,h,a),null)),[l,d,t]}function HA(t,r){t.action=r}function Tv(t){var r=It(),a=st;if(a!==null)return bv(r,a,t);It(),r=r.memoizedState,a=It();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function bo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Kc(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function wv(){return It().memoizedState}function Xc(t,r,a,l){var h=Rn();Ne.flags|=t,h.memoizedState=bo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Jc(t,r,a,l){var h=It();l=l===void 0?null:l;var d=h.memoizedState.inst;st!==null&&l!==null&&Dd(l,st.memoizedState.deps)?h.memoizedState=bo(r,d,a,l):(Ne.flags|=t,h.memoizedState=bo(1|r,d,a,l))}function Sv(t,r){Xc(8390656,8,t,r)}function qd(t,r){Jc(2048,8,t,r)}function FA(t){Ne.flags|=4;var r=Ne.updateQueue;if(r===null)r=Kc(),Ne.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Av(t){var r=It().memoizedState;return FA({ref:r,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Rv(t,r){return Jc(4,2,t,r)}function xv(t,r){return Jc(4,4,t,r)}function Iv(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cv(t,r,a){a=a!=null?a.concat([t]):null,Jc(4,4,Iv.bind(null,r,t),a)}function Bd(){}function Nv(t,r){var a=It();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Dd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Dv(t,r){var a=It();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Dd(r,l[1]))return l[0];if(l=t(),Ta){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l}function Hd(t,r,a){return a===void 0||(Ir&1073741824)!==0&&(Le&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=O_(),Ne.lanes|=t,_s|=t,a)}function Ov(t,r,a,l){return Jn(a,r)?a:vo.current!==null?(t=Hd(t,a,l),Jn(t,r)||(Lt=!0),t):(Ir&42)===0||(Ir&1073741824)!==0&&(Le&261930)===0?(Lt=!0,t.memoizedState=a):(t=O_(),Ne.lanes|=t,_s|=t,r)}function Mv(t,r,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var v=F.T,w={};F.T=w,Qd(t,!1,r,a);try{var O=h(),q=F.S;if(q!==null&&q(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=jA(O,l);zl(t,r,$,ii(t))}else zl(t,r,l,ii(t))}catch(W){zl(t,r,{then:function(){},status:"rejected",reason:W},ii())}finally{te.p=d,v!==null&&w.types!==null&&(v.types=w.types),F.T=v}}function GA(){}function Fd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Vv(t).queue;Mv(t,h,r,oe,a===null?GA:function(){return kv(t),a(l)})}function Vv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:oe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function kv(t){var r=Vv(t);r.next===null&&(r=t.alternate.memoizedState),zl(t,r.next.queue,{},ii())}function Gd(){return an(iu)}function Pv(){return It().memoizedState}function Uv(){return It().memoizedState}function QA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=ii();t=ds(a);var l=ms(r,t,a);l!==null&&(Un(l,r,a),kl(l,r,a)),r={cache:Ed()},t.payload=r;return}r=r.return}}function KA(t,r,a){var l=ii();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zc(t)?jv(r,a):(a=ud(t,r,a,l),a!==null&&(Un(a,t,l),zv(a,r,l)))}function Lv(t,r,a){var l=ii();zl(t,r,a,l)}function zl(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zc(t))jv(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,w=d(v,a);if(h.hasEagerState=!0,h.eagerState=w,Jn(w,v))return Oc(t,r,h,0),lt===null&&Dc(),!1}catch{}if(a=ud(t,r,h,l),a!==null)return Un(a,t,l),zv(a,r,l),!0}return!1}function Qd(t,r,a,l){if(l={lane:2,revertLane:Sm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zc(t)){if(r)throw Error(s(479))}else r=ud(t,a,l,2),r!==null&&Un(r,t,2)}function Zc(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function jv(t,r){_o=Gc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,pn(t,a)}}var ql={readContext:an,use:Yc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};ql.useEffectEvent=Tt;var qv={readContext:an,use:Yc,useCallback:function(t,r){return Rn().memoizedState=[t,r===void 0?null:r],t},useContext:an,useEffect:Sv,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Xc(4194308,4,Iv.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Xc(4194308,4,t,r)},useInsertionEffect:function(t,r){Xc(4,2,t,r)},useMemo:function(t,r){var a=Rn();r=r===void 0?null:r;var l=t();if(Ta){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Rn();if(a!==void 0){var h=a(r);if(Ta){fn(!0);try{a(r)}finally{fn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=Rn();return t={current:t},r.memoizedState=t},useState:function(t){t=jd(t);var r=t.queue,a=Lv.bind(null,Ne,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(t,r){var a=Rn();return Hd(a,t,r)},useTransition:function(){var t=jd(!1);return t=Mv.bind(null,Ne,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ne,h=Rn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),lt===null)throw Error(s(349));(Le&127)!==0||lv(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Sv(cv.bind(null,l,d,t),[t]),l.flags|=2048,bo(9,{destroy:void 0},uv.bind(null,l,d,a,r),null),a},useId:function(){var t=Rn(),r=lt.identifierPrefix;if(He){var a=ir,l=nr;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Qc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=zA++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Gd,useFormState:_v,useActionState:_v,useOptimistic:function(t){var r=Rn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Qd.bind(null,Ne,!0,a),a.dispatch=r,[t,r]},useMemoCache:Pd,useCacheRefresh:function(){return Rn().memoizedState=QA.bind(null,Ne)},useEffectEvent:function(t){var r=Rn(),a={impl:t};return r.memoizedState=a,function(){if((Xe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Kd={readContext:an,use:Yc,useCallback:Nv,useContext:an,useEffect:qd,useImperativeHandle:Cv,useInsertionEffect:Rv,useLayoutEffect:xv,useMemo:Dv,useReducer:$c,useRef:wv,useState:function(){return $c(Cr)},useDebugValue:Bd,useDeferredValue:function(t,r){var a=It();return Ov(a,st.memoizedState,t,r)},useTransition:function(){var t=$c(Cr)[0],r=It().memoizedState;return[typeof t=="boolean"?t:jl(t),r]},useSyncExternalStore:ov,useId:Pv,useHostTransitionStatus:Gd,useFormState:Ev,useActionState:Ev,useOptimistic:function(t,r){var a=It();return dv(a,st,t,r)},useMemoCache:Pd,useCacheRefresh:Uv};Kd.useEffectEvent=Av;var Bv={readContext:an,use:Yc,useCallback:Nv,useContext:an,useEffect:qd,useImperativeHandle:Cv,useInsertionEffect:Rv,useLayoutEffect:xv,useMemo:Dv,useReducer:Ld,useRef:wv,useState:function(){return Ld(Cr)},useDebugValue:Bd,useDeferredValue:function(t,r){var a=It();return st===null?Hd(a,t,r):Ov(a,st.memoizedState,t,r)},useTransition:function(){var t=Ld(Cr)[0],r=It().memoizedState;return[typeof t=="boolean"?t:jl(t),r]},useSyncExternalStore:ov,useId:Pv,useHostTransitionStatus:Gd,useFormState:Tv,useActionState:Tv,useOptimistic:function(t,r){var a=It();return st!==null?dv(a,st,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pd,useCacheRefresh:Uv};Bv.useEffectEvent=Av;function Yd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $d={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=ii(),h=ds(l);h.payload=r,a!=null&&(h.callback=a),r=ms(t,h,l),r!==null&&(Un(r,t,l),kl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=ii(),h=ds(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=ms(t,h,l),r!==null&&(Un(r,t,l),kl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=ii(),l=ds(a);l.tag=2,r!=null&&(l.callback=r),r=ms(t,l,a),r!==null&&(Un(r,t,a),kl(r,t,a))}};function Hv(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!xl(a,l)||!xl(h,d):!0}function Fv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&$d.enqueueReplaceState(r,r.state,null)}function wa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Gv(t){Nc(t)}function Qv(t){console.error(t)}function Kv(t){Nc(t)}function Wc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Yv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xd(t,r,a){return a=ds(a),a.tag=3,a.payload={element:null},a.callback=function(){Wc(t,r)},a}function $v(t){return t=ds(t),t.tag=3,t}function Xv(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Yv(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Yv(r,a,l),typeof h!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function YA(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&fo(r,a,h,!0),a=Wn.current,a!==null){switch(a.tag){case 31:case 13:return Ei===null?hh():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),bm(t,l,h)),!1;case 22:return a.flags|=65536,l===zc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),bm(t,l,h)),!1}throw Error(s(435,a.tag))}return bm(t,l,h),hh(),!1}if(He)return r=Wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==pd&&(t=Error(s(422),{cause:l}),Nl(gi(t,a)))):(l!==pd&&(r=Error(s(423),{cause:l}),Nl(gi(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=gi(l,a),h=Xd(t.stateNode,l,h),Rd(t,h),wt!==4&&(wt=2)),!1;var d=Error(s(520),{cause:l});if(d=gi(d,a),$l===null?$l=[d]:$l.push(d),wt!==4&&(wt=2),r===null)return!0;l=gi(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xd(a.stateNode,l,t),Rd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Es===null||!Es.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$v(h),Xv(h,t,a,l),Rd(a,h),!1}a=a.return}while(a!==null);return!1}var Jd=Error(s(461)),Lt=!1;function on(t,r,a,l){r.child=t===null?ev(r,null,a,l):ba(r,t.child,a,l)}function Jv(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return ya(r),l=Od(t,r,a,v,d,h),w=Md(),t!==null&&!Lt?(Vd(t,r,h),Nr(t,r,h)):(He&&w&&dd(r),r.flags|=1,on(t,r,l,h),r.child)}function Zv(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!cd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Wv(t,r,d,l,h)):(t=Vc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!sm(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:xl,a(v,l)&&t.ref===r.ref)return Nr(t,r,h)}return r.flags|=1,t=Sr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Wv(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(xl(d,l)&&t.ref===r.ref)if(Lt=!1,r.pendingProps=l=d,sm(t,h))(t.flags&131072)!==0&&(Lt=!0);else return r.lanes=t.lanes,Nr(t,r,h)}return Zd(t,r,a,l,h)}function e_(t,r,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,r.child=null;return t_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lc(r,d!==null?d.cachePool:null),d!==null?iv(r,d):Id(),rv(r);else return l=r.lanes=536870912,t_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Lc(r,d.cachePool),iv(r,d),gs(),r.memoizedState=null):(t!==null&&Lc(r,null),Id(),gs());return on(t,r,h,a),r.child}function Bl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function t_(t,r,a,l,h){var d=Td();return d=d===null?null:{parent:Pt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Lc(r,null),Id(),rv(r),t!==null&&fo(t,r,l,!0),r.childLanes=h,null}function eh(t,r){return r=nh({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function n_(t,r,a){return ba(r,t.child,null,a),t=eh(r,r.pendingProps),t.flags|=2,ei(r),r.memoizedState=null,t}function $A(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=eh(r,l),r.lanes=536870912,Bl(null,t);if(Nd(r),(t=ct)?(t=m0(t,_i),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ls!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=jy(t),a.return=r,r.child=a,sn=r,ct=null)):t=null,t===null)throw cs(r);return r.lanes=536870912,null}return eh(r,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Nd(r),h)if(r.flags&256)r.flags&=-257,r=n_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Lt||fo(t,r,a,!1),h=(a&t.childLanes)!==0,Lt||h){if(l=lt,l!==null&&(v=Tn(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,da(t,v),Un(l,t,v),Jd;hh(),r=n_(t,r,a)}else t=d.treeContext,ct=bi(v.nextSibling),sn=r,He=!0,us=null,_i=!1,t!==null&&By(r,t),r=eh(r,l),r.flags|=4096;return r}return t=Sr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function th(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Zd(t,r,a,l,h){return ya(r),a=Od(t,r,a,l,void 0,h),l=Md(),t!==null&&!Lt?(Vd(t,r,h),Nr(t,r,h)):(He&&l&&dd(r),r.flags|=1,on(t,r,a,h),r.child)}function i_(t,r,a,l,h,d){return ya(r),r.updateQueue=null,a=av(r,l,a,h),sv(t),l=Md(),t!==null&&!Lt?(Vd(t,r,d),Nr(t,r,d)):(He&&l&&dd(r),r.flags|=1,on(t,r,a,d),r.child)}function r_(t,r,a,l,h){if(ya(r),r.stateNode===null){var d=lo,v=a.contextType;typeof v=="object"&&v!==null&&(d=an(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$d,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Sd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?an(v):lo,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&$d.enqueueReplaceState(d,d.state,null),Ul(r,l,d,h),Pl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,O=wa(a,w);d.props=O;var q=d.context,$=a.contextType;v=lo,typeof $=="object"&&$!==null&&(v=an($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==v)&&Fv(r,d,l,v),fs=!1;var B=r.memoizedState;d.state=B,Ul(r,l,d,h),Pl(),q=r.memoizedState,w||B!==q||fs?(typeof W=="function"&&(Yd(r,a,W,l),q=r.memoizedState),(O=fs||Hv(r,a,O,l,B,q,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Ad(t,r),v=r.memoizedProps,$=wa(a,v),d.props=$,W=r.pendingProps,B=d.context,q=a.contextType,O=lo,typeof q=="object"&&q!==null&&(O=an(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||B!==O)&&Fv(r,d,l,O),fs=!1,B=r.memoizedState,d.state=B,Ul(r,l,d,h),Pl();var Q=r.memoizedState;v!==W||B!==Q||fs||t!==null&&t.dependencies!==null&&Pc(t.dependencies)?(typeof w=="function"&&(Yd(r,a,w,l),Q=r.memoizedState),($=fs||Hv(r,a,$,l,B,Q,O)||t!==null&&t.dependencies!==null&&Pc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,th(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ba(r,t.child,null,h),r.child=ba(r,null,a,h)):on(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Nr(t,r,h),t}function s_(t,r,a,l){return pa(),r.flags|=256,on(t,r,a,l),r.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function em(t){return{baseLanes:t,cachePool:Yy()}}function tm(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=ni),t}function a_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(He){if(h?ps(r):gs(),(t=ct)?(t=m0(t,_i),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ls!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=jy(t),a.return=r,r.child=a,sn=r,ct=null)):t=null,t===null)throw cs(r);return Um(t)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(gs(),h=r.mode,w=nh({mode:"hidden",children:w},h),l=ma(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=em(a),l.childLanes=tm(t,v,a),r.memoizedState=Wd,Bl(null,l)):(ps(r),nm(r,w))}var O=t.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(d)r.flags&256?(ps(r),r.flags&=-257,r=im(t,r,a)):r.memoizedState!==null?(gs(),r.child=t.child,r.flags|=128,r=null):(gs(),w=l.fallback,h=r.mode,l=nh({mode:"visible",children:l.children},h),w=ma(w,h,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,ba(r,t.child,null,a),l=r.child,l.memoizedState=em(a),l.childLanes=tm(t,v,a),r.memoizedState=Wd,r=Bl(null,l));else if(ps(r),Um(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Nl({value:l,source:null,stack:null}),r=im(t,r,a)}else if(Lt||fo(t,r,a,!1),v=(a&t.childLanes)!==0,Lt||v){if(v=lt,v!==null&&(l=Tn(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,da(t,l),Un(v,t,l),Jd;Pm(w)||hh(),r=im(t,r,a)}else Pm(w)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,ct=bi(w.nextSibling),sn=r,He=!0,us=null,_i=!1,t!==null&&By(r,t),r=nm(r,l.children),r.flags|=4096);return r}return h?(gs(),w=l.fallback,h=r.mode,O=t.child,q=O.sibling,l=Sr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?w=Sr(q,w):(w=ma(w,h,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Bl(null,l),l=r.child,w=t.child.memoizedState,w===null?w=em(a):(h=w.cachePool,h!==null?(O=Pt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Yy(),w={baseLanes:w.baseLanes|a,cachePool:h}),l.memoizedState=w,l.childLanes=tm(t,v,a),r.memoizedState=Wd,Bl(t.child,l)):(ps(r),a=t.child,t=a.sibling,a=Sr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function nm(t,r){return r=nh({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function nh(t,r){return t=Zn(22,t,null,r),t.lanes=0,t}function im(t,r,a){return ba(r,t.child,null,a),t=nm(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function o_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),vd(t.return,r,a)}function rm(t,r,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function l_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=xt.current,w=(v&2)!==0;if(w?(v=v&1|2,r.flags|=128):v&=1,re(xt,v),on(t,r,l,a),l=He?Cl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o_(t,a,r);else if(t.tag===19)o_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),rm(r,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Fc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rm(r,!0,a,null,d,l);break;case"together":rm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Nr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),_s|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(fo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Sr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Sr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function sm(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Pc(t)))}function XA(t,r,a){switch(r.tag){case 3:nt(r,r.stateNode.containerInfo),hs(r,Pt,t.memoizedState.cache),pa();break;case 27:case 5:Ue(r);break;case 4:nt(r,r.stateNode.containerInfo);break;case 10:hs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Nd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ps(r),r.flags|=128,null):(a&r.child.childLanes)!==0?a_(t,r,a):(ps(r),t=Nr(t,r,a),t!==null?t.sibling:null);ps(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(fo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return l_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(xt,xt.current),l)break;return null;case 22:return r.lanes=0,e_(t,r,a,r.pendingProps);case 24:hs(r,Pt,t.memoizedState.cache)}return Nr(t,r,a)}function u_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Lt=!0;else{if(!sm(t,a)&&(r.flags&128)===0)return Lt=!1,XA(t,r,a);Lt=(t.flags&131072)!==0}else Lt=!1,He&&(r.flags&1048576)!==0&&qy(r,Cl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=_a(r.elementType),r.type=t,typeof t=="function")cd(t)?(l=wa(t,l),r.tag=1,r=r_(null,r,t,l,a)):(r.tag=0,r=Zd(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===de){r.tag=11,r=Jv(null,r,t,l,a);break e}else if(h===C){r.tag=14,r=Zv(null,r,t,l,a);break e}}throw r=Se(t)||t,Error(s(306,r,""))}}return r;case 0:return Zd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=wa(l,r.pendingProps),r_(t,r,l,h,a);case 3:e:{if(nt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Ad(t,r),Ul(r,l,null,a);var v=r.memoizedState;if(l=v.cache,hs(r,Pt,l),l!==d.cache&&_d(r,[Pt],a,!0),Pl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=s_(t,r,l,a);break e}else if(l!==h){h=gi(Error(s(424)),r),Nl(h),r=s_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=bi(t.firstChild),sn=r,He=!0,us=null,_i=!0,a=ev(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(pa(),l===h){r=Nr(t,r,a);break e}on(t,r,l,a)}r=r.child}return r;case 26:return th(t,r),t===null?(a=E0(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,t=r.pendingProps,l=vh(_e.current).createElement(a),l[Mt]=r,l[Xt]=t,ln(l,a,t),Vt(l),r.stateNode=l):r.memoizedState=E0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ue(r),t===null&&He&&(l=r.stateNode=y0(r.type,r.pendingProps,_e.current),sn=r,_i=!0,h=ct,Ss(r.type)?(Lm=h,ct=bi(l.firstChild)):ct=h),on(t,r,r.pendingProps.children,a),th(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&He&&((h=l=ct)&&(l=R1(l,r.type,r.pendingProps,_i),l!==null?(r.stateNode=l,sn=r,ct=bi(l.firstChild),_i=!1,h=!0):h=!1),h||cs(r)),Ue(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Mm(h,d)?l=null:v!==null&&Mm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Od(t,r,qA,null,null,a),iu._currentValue=h),th(t,r),on(t,r,l,a),r.child;case 6:return t===null&&He&&((t=a=ct)&&(a=x1(a,r.pendingProps,_i),a!==null?(r.stateNode=a,sn=r,ct=null,t=!0):t=!1),t||cs(r)),null;case 13:return a_(t,r,a);case 4:return nt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ba(r,null,l,a):on(t,r,l,a),r.child;case 11:return Jv(t,r,r.type,r.pendingProps,a);case 7:return on(t,r,r.pendingProps,a),r.child;case 8:return on(t,r,r.pendingProps.children,a),r.child;case 12:return on(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,hs(r,r.type,l.value),on(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ya(r),h=an(h),l=l(h),r.flags|=1,on(t,r,l,a),r.child;case 14:return Zv(t,r,r.type,r.pendingProps,a);case 15:return Wv(t,r,r.type,r.pendingProps,a);case 19:return l_(t,r,a);case 31:return $A(t,r,a);case 22:return e_(t,r,a,r.pendingProps);case 24:return ya(r),l=an(Pt),t===null?(h=Td(),h===null&&(h=lt,d=Ed(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Sd(r),hs(r,Pt,h)):((t.lanes&a)!==0&&(Ad(t,r),Ul(r,null,null,a),Pl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),hs(r,Pt,l)):(l=d.cache,hs(r,Pt,l),l!==h.cache&&_d(r,[Pt],a,!0))),on(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Dr(t){t.flags|=4}function am(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(P_())t.flags|=8192;else throw Ea=zc,wd}else t.flags&=-16777217}function c_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A0(r))if(P_())t.flags|=8192;else throw Ea=zc,wd}function ih(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?$t():536870912,t.lanes|=r,Ao|=r)}function Hl(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function JA(t,r,a){var l=r.pendingProps;switch(md(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),xr(Pt),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ho(r)?Dr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gd())),ht(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(Dr(r),d!==null?(ht(r),c_(r,d)):(ht(r),am(r,h,null,l,a))):d?d!==t.memoizedState?(Dr(r),ht(r),c_(r,d)):(ht(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Dr(r),ht(r),am(r,h,t,l,a)),null;case 27:if(oi(r),a=_e.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Dr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}t=le.current,ho(r)?Hy(r):(t=y0(h,l,a),r.stateNode=t,Dr(r))}return ht(r),null;case 5:if(oi(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Dr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(d=le.current,ho(r))Hy(r);else{var v=vh(_e.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Mt]=r,d[Xt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(ln(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Dr(r)}}return ht(r),am(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Dr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=_e.current,ho(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a0(t.nodeValue,a)),t||cs(r,!0)}else t=vh(t).createTextNode(l),t[Mt]=r,r.stateNode=t}return ht(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=ho(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Mt]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),t=!1}else a=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(ei(r),r):(ei(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ht(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ho(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),h=!1}else h=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ei(r),r):(ei(r),null)}return ei(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),ih(r,r.updateQueue),ht(r),null);case 4:return Ge(),t===null&&Im(r.stateNode.containerInfo),ht(r),null;case 10:return xr(r.type),ht(r),null;case 19:if(K(xt),l=r.memoizedState,l===null)return ht(r),null;if(h=(r.flags&128)!==0,d=l.rendering,d===null)if(h)Hl(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Fc(t),d!==null){for(r.flags|=128,Hl(l,!1),t=d.updateQueue,r.updateQueue=t,ih(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ly(a,t),a=a.sibling;return re(xt,xt.current&1|2),He&&Ar(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Yt()>lh&&(r.flags|=128,h=!0,Hl(l,!1),r.lanes=4194304)}else{if(!h)if(t=Fc(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,ih(r,t),Hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!He)return ht(r),null}else 2*Yt()-l.renderingStartTime>lh&&a!==536870912&&(r.flags|=128,h=!0,Hl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Yt(),t.sibling=null,a=xt.current,re(xt,h?a&1|2:a&1),He&&Ar(r,l.treeForkCount),t):(ht(r),null);case 22:case 23:return ei(r),Cd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&ih(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&K(va),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),xr(Pt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ZA(t,r){switch(md(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return xr(Pt),Ge(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return oi(r),null;case 31:if(r.memoizedState!==null){if(ei(r),r.alternate===null)throw Error(s(340));pa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(ei(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));pa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return K(xt),null;case 4:return Ge(),null;case 10:return xr(r.type),null;case 22:case 23:return ei(r),Cd(),t!==null&&K(va),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return xr(Pt),null;case 25:return null;default:return null}}function h_(t,r){switch(md(r),r.tag){case 3:xr(Pt),Ge();break;case 26:case 27:case 5:oi(r);break;case 4:Ge();break;case 31:r.memoizedState!==null&&ei(r);break;case 13:ei(r);break;case 19:K(xt);break;case 10:xr(r.type);break;case 22:case 23:ei(r),Cd(),t!==null&&K(va);break;case 24:xr(Pt)}}function Fl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(w){et(r,r.return,w)}}function ys(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=r;var O=a,q=w;try{q()}catch($){et(h,O,$)}}}l=l.next}while(l!==d)}}catch($){et(r,r.return,$)}}function f_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{nv(r,a)}catch(l){et(t,t.return,l)}}}function d_(t,r,a){a.props=wa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,r,l)}}function Gl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,r,h)}}function rr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,r,h)}else a.current=null}function m_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function om(t,r,a){try{var l=t.stateNode;E1(l,t.type,a,r),l[Xt]=r}catch(h){et(t,t.return,h)}}function p_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ss(t.type)||t.tag===4}function lm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ss(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function um(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ci));else if(l!==4&&(l===27&&Ss(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(um(t,r,a),t=t.sibling;t!==null;)um(t,r,a),t=t.sibling}function rh(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ss(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(rh(t,r,a),t=t.sibling;t!==null;)rh(t,r,a),t=t.sibling}function g_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);ln(r,l,a),r[Mt]=t,r[Xt]=a}catch(d){et(t,t.return,d)}}var Or=!1,jt=!1,cm=!1,y_=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function WA(t,r){if(t=t.containerInfo,Dm=Ah,t=Cy(t),id(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,O=-1,q=0,$=0,W=t,B=null;t:for(;;){for(var Q;W!==a||h!==0&&W.nodeType!==3||(w=v+h),W!==d||l!==0&&W.nodeType!==3||(O=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Q=W.firstChild)!==null;)B=W,W=Q;for(;;){if(W===t)break t;if(B===a&&++q===h&&(w=v),B===d&&++$===l&&(O=v),(Q=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=Q}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Om={focusedElem:t,selectionRange:a},Ah=!1,Zt=r;Zt!==null;)if(r=Zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Zt=t;else for(;Zt!==null;){switch(r=Zt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=wa(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){et(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)km(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":km(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Zt=t;break}Zt=r.return}}function v_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vr(t,a),l&4&&Fl(5,a);break;case 1:if(Vr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=wa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&f_(a),l&512&&Gl(a,a.return);break;case 3:if(Vr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{nv(t,r)}catch(v){et(a,a.return,v)}}break;case 27:r===null&&l&4&&g_(a);case 26:case 5:Vr(t,a),r===null&&l&4&&m_(a),l&512&&Gl(a,a.return);break;case 12:Vr(t,a);break;case 31:Vr(t,a),l&4&&b_(t,a);break;case 13:Vr(t,a),l&4&&T_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=l1.bind(null,a),I1(t,a))));break;case 22:if(l=a.memoizedState!==null||Or,!l){r=r!==null&&r.memoizedState!==null||jt,h=Or;var d=jt;Or=l,(jt=r)&&!d?kr(t,a,(a.subtreeFlags&8772)!==0):Vr(t,a),Or=h,jt=d}break;case 30:break;default:Vr(t,a)}}function __(t){var r=t.alternate;r!==null&&(t.alternate=null,__(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ya(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,Mn=!1;function Mr(t,r,a){for(a=a.child;a!==null;)E_(t,r,a),a=a.sibling}function E_(t,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:jt||rr(a,r),Mr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||rr(a,r);var l=Et,h=Mn;Ss(a.type)&&(Et=a.stateNode,Mn=!1),Mr(t,r,a),eu(a.stateNode),Et=l,Mn=h;break;case 5:jt||rr(a,r);case 6:if(l=Et,h=Mn,Et=null,Mr(t,r,a),Et=l,Mn=h,Et!==null)if(Mn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(d){et(a,r,d)}else try{Et.removeChild(a.stateNode)}catch(d){et(a,r,d)}break;case 18:Et!==null&&(Mn?(t=Et,f0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Mo(t)):f0(Et,a.stateNode));break;case 4:l=Et,h=Mn,Et=a.stateNode.containerInfo,Mn=!0,Mr(t,r,a),Et=l,Mn=h;break;case 0:case 11:case 14:case 15:ys(2,a,r),jt||ys(4,a,r),Mr(t,r,a);break;case 1:jt||(rr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&d_(a,r,l)),Mr(t,r,a);break;case 21:Mr(t,r,a);break;case 22:jt=(l=jt)||a.memoizedState!==null,Mr(t,r,a),jt=l;break;default:Mr(t,r,a)}}function b_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Mo(t)}catch(a){et(r,r.return,a)}}}function T_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mo(t)}catch(a){et(r,r.return,a)}}function e1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new y_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new y_),r;default:throw Error(s(435,t.tag))}}function sh(t,r){var a=e1(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=u1.bind(null,t,l);l.then(h,h)}})}function Vn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Ss(w.type)){Et=w.stateNode,Mn=!1;break e}break;case 5:Et=w.stateNode,Mn=!1;break e;case 3:case 4:Et=w.stateNode.containerInfo,Mn=!0;break e}w=w.return}if(Et===null)throw Error(s(160));E_(d,v,h),Et=null,Mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)w_(r,t),r=r.sibling}var ki=null;function w_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(r,t),kn(t),l&4&&(ys(3,t,t.return),Fl(3,t),ys(5,t,t.return));break;case 1:Vn(r,t),kn(t),l&512&&(jt||a===null||rr(a,a.return)),l&64&&Or&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ki;if(Vn(r,t),kn(t),l&512&&(jt||a===null||rr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Fi]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ln(d,l,a),d[Mt]=t,Vt(d),l=d;break e;case"link":var v=w0("link","href",h).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;case"meta":if(v=w0("meta","content",h).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,Vt(d),l=d}t.stateNode=l}else S0(h,t.type,t.stateNode);else t.stateNode=T0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?S0(h,t.type,t.stateNode):T0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&om(t,t.memoizedProps,a.memoizedProps)}break;case 27:Vn(r,t),kn(t),l&512&&(jt||a===null||rr(a,a.return)),a!==null&&l&4&&om(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Vn(r,t),kn(t),l&512&&(jt||a===null||rr(a,a.return)),t.flags&32){h=t.stateNode;try{On(h,"")}catch(fe){et(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,om(t,h,a!==null?a.memoizedProps:h)),l&1024&&(cm=!0);break;case 6:if(Vn(r,t),kn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){et(t,t.return,fe)}}break;case 3:if(bh=null,h=ki,ki=_h(r.containerInfo),Vn(r,t),ki=h,kn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Mo(r.containerInfo)}catch(fe){et(t,t.return,fe)}cm&&(cm=!1,S_(t));break;case 4:l=ki,ki=_h(t.stateNode.containerInfo),Vn(r,t),kn(t),ki=l;break;case 12:Vn(r,t),kn(t);break;case 31:Vn(r,t),kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sh(t,l)));break;case 13:Vn(r,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oh=Yt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sh(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=Or,$=jt;if(Or=q||h,jt=$||O,Vn(r,t),jt=$,Or=q,kn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||O||Or||jt||Sa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=O.stateNode;var W=O.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(fe){et(O,O.return,fe)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(fe){et(O,O.return,fe)}}}else if(r.tag===18){if(a===null){O=r;try{var Q=O.stateNode;h?d0(Q,!0):d0(O.stateNode,!1)}catch(fe){et(O,O.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sh(t,a))));break;case 19:Vn(r,t),kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sh(t,l)));break;case 30:break;case 21:break;default:Vn(r,t),kn(t)}}function kn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(p_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=lm(t);rh(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(On(v,""),a.flags&=-33);var w=lm(t);rh(t,w,v);break;case 3:case 4:var O=a.stateNode.containerInfo,q=lm(t);um(t,q,O);break;default:throw Error(s(161))}}catch($){et(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function S_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;S_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Vr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)v_(t,r.alternate,r),r=r.sibling}function Sa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ys(4,r,r.return),Sa(r);break;case 1:rr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&d_(r,r.return,a),Sa(r);break;case 27:eu(r.stateNode);case 26:case 5:rr(r,r.return),Sa(r);break;case 22:r.memoizedState===null&&Sa(r);break;case 30:Sa(r);break;default:Sa(r)}t=t.sibling}}function kr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:kr(h,d,a),Fl(4,d);break;case 1:if(kr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){et(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)tv(O[h],w)}catch(q){et(l,l.return,q)}}a&&v&64&&f_(d),Gl(d,d.return);break;case 27:g_(d);case 26:case 5:kr(h,d,a),a&&l===null&&v&4&&m_(d),Gl(d,d.return);break;case 12:kr(h,d,a);break;case 31:kr(h,d,a),a&&v&4&&b_(h,d);break;case 13:kr(h,d,a),a&&v&4&&T_(h,d);break;case 22:d.memoizedState===null&&kr(h,d,a),Gl(d,d.return);break;case 30:break;default:kr(h,d,a)}r=r.sibling}}function hm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Dl(a))}function fm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Dl(t))}function Pi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A_(t,r,a,l),r=r.sibling}function A_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(t,r,a,l),h&2048&&Fl(9,r);break;case 1:Pi(t,r,a,l);break;case 3:Pi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){Pi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){et(r,r.return,O)}}else Pi(t,r,a,l);break;case 31:Pi(t,r,a,l);break;case 13:Pi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Pi(t,r,a,l):Ql(t,r):d._visibility&2?Pi(t,r,a,l):(d._visibility|=2,To(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&hm(v,r);break;case 24:Pi(t,r,a,l),h&2048&&fm(r.alternate,r);break;default:Pi(t,r,a,l)}}function To(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,w=a,O=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:To(d,v,w,O,h),Fl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?To(d,v,w,O,h):Ql(d,v):($._visibility|=2,To(d,v,w,O,h)),h&&q&2048&&hm(v.alternate,v);break;case 24:To(d,v,w,O,h),h&&q&2048&&fm(v.alternate,v);break;default:To(d,v,w,O,h)}r=r.sibling}}function Ql(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Ql(a,l),h&2048&&hm(l.alternate,l);break;case 24:Ql(a,l),h&2048&&fm(l.alternate,l);break;default:Ql(a,l)}r=r.sibling}}var Kl=8192;function wo(t,r,a){if(t.subtreeFlags&Kl)for(t=t.child;t!==null;)R_(t,r,a),t=t.sibling}function R_(t,r,a){switch(t.tag){case 26:wo(t,r,a),t.flags&Kl&&t.memoizedState!==null&&z1(a,ki,t.memoizedState,t.memoizedProps);break;case 5:wo(t,r,a);break;case 3:case 4:var l=ki;ki=_h(t.stateNode.containerInfo),wo(t,r,a),ki=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Kl,Kl=16777216,wo(t,r,a),Kl=l):wo(t,r,a));break;default:wo(t,r,a)}}function x_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Yl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Zt=l,C_(l,t)}x_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I_(t),t=t.sibling}function I_(t){switch(t.tag){case 0:case 11:case 15:Yl(t),t.flags&2048&&ys(9,t,t.return);break;case 3:Yl(t);break;case 12:Yl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,ah(t)):Yl(t);break;default:Yl(t)}}function ah(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Zt=l,C_(l,t)}x_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ys(8,r,r.return),ah(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ah(r));break;default:ah(r)}t=t.sibling}}function C_(t,r){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:ys(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Zt=l;else e:for(a=t;Zt!==null;){l=Zt;var h=l.sibling,d=l.return;if(__(l),l===a){Zt=null;break e}if(h!==null){h.return=d,Zt=h;break e}Zt=d}}}var t1={getCacheForType:function(t){var r=an(Pt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return an(Pt).controller.signal}},n1=typeof WeakMap=="function"?WeakMap:Map,Xe=0,lt=null,ke=null,Le=0,We=0,ti=null,vs=!1,So=!1,dm=!1,Pr=0,wt=0,_s=0,Aa=0,mm=0,ni=0,Ao=0,$l=null,Pn=null,pm=!1,oh=0,N_=0,lh=1/0,uh=null,Es=null,Gt=0,bs=null,Ro=null,Ur=0,gm=0,ym=null,D_=null,Xl=0,vm=null;function ii(){return(Xe&2)!==0&&Le!==0?Le&-Le:F.T!==null?Sm():Yn()}function O_(){if(ni===0)if((Le&536870912)===0||He){var t=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),ni=t}else ni=536870912;return t=Wn.current,t!==null&&(t.flags|=32),ni}function Un(t,r,a){(t===lt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(xo(t,0),Ts(t,Le,ni,!1)),Nn(t,a),((Xe&2)===0||t!==lt)&&(t===lt&&((Xe&2)===0&&(Aa|=a),wt===4&&Ts(t,Le,ni,!1)),sr(t))}function M_(t,r,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Ot(t,r),h=l?s1(t,r):Em(t,r,!0),d=l;do{if(h===0){So&&!l&&Ts(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!i1(a)){h=Em(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var w=t;h=$l;var O=w.current.memoizedState.isDehydrated;if(O&&(xo(w,v).flags|=256),v=Em(w,v,!1),v!==2){if(dm&&!O){w.errorRecoveryDisabledLanes|=d,Aa|=d,h=4;break e}d=Pn,Pn=h,d!==null&&(Pn===null?Pn=d:Pn.push.apply(Pn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){xo(t,0),Ts(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ts(l,r,ni,!vs);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=oh+300-Yt(),10<h)){if(Ts(l,r,ni,!vs),vt(l,0,!0)!==0)break e;Ur=r,l.timeoutHandle=c0(V_.bind(null,l,a,Pn,uh,pm,r,ni,Aa,Ao,vs,d,"Throttled",-0,0),h);break e}V_(l,a,Pn,uh,pm,r,ni,Aa,Ao,vs,d,null,-0,0)}}break}while(!0);sr(t)}function V_(t,r,a,l,h,d,v,w,O,q,$,W,B,Q){if(t.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},R_(r,d,W);var fe=(d&62914560)===d?oh-Yt():(d&4194048)===d?N_-Yt():0;if(fe=q1(W,fe),fe!==null){Ur=d,t.cancelPendingCommit=fe(B_.bind(null,t,r,d,a,l,h,v,w,O,$,W,null,B,Q)),Ts(t,d,v,!q);return}}B_(t,r,d,a,l,h,v,w,O)}function i1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Jn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ts(t,r,a,l){r&=~mm,r&=~Aa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&mn(t,a,r)}function ch(){return(Xe&6)===0?(Jl(0),!1):!0}function _m(){if(ke!==null){if(We===0)var t=ke.return;else t=ke,Rr=ga=null,kd(t),yo=null,Ml=0,t=ke;for(;t!==null;)h_(t.alternate,t),t=t.return;ke=null}}function xo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,w1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ur=0,_m(),lt=t,ke=a=Sr(t.current,null),Le=r,We=0,ti=null,vs=!1,So=Ot(t,r),dm=!1,Ao=ni=mm=Aa=_s=wt=0,Pn=$l=null,pm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-gt(l),d=1<<h;r|=t[h],l&=~d}return Pr=r,Dc(),a}function k_(t,r){Ne=null,F.H=ql,r===go||r===jc?(r=Jy(),We=3):r===wd?(r=Jy(),We=4):We=r===Jd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ti=r,ke===null&&(wt=1,Wc(t,gi(r,t.current)))}function P_(){var t=Wn.current;return t===null?!0:(Le&4194048)===Le?Ei===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Ei:!1}function U_(){var t=F.H;return F.H=ql,t===null?ql:t}function L_(){var t=F.A;return F.A=t1,t}function hh(){wt=4,vs||(Le&4194048)!==Le&&Wn.current!==null||(So=!0),(_s&134217727)===0&&(Aa&134217727)===0||lt===null||Ts(lt,Le,ni,!1)}function Em(t,r,a){var l=Xe;Xe|=2;var h=U_(),d=L_();(lt!==t||Le!==r)&&(uh=null,xo(t,r)),r=!1;var v=wt;e:do try{if(We!==0&&ke!==null){var w=ke,O=ti;switch(We){case 8:_m(),v=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(r=!0);var q=We;if(We=0,ti=null,Io(t,w,O,q),a&&So){v=0;break e}break;default:q=We,We=0,ti=null,Io(t,w,O,q)}}r1(),v=wt;break}catch($){k_(t,$)}while(!0);return r&&t.shellSuspendCounter++,Rr=ga=null,Xe=l,F.H=h,F.A=d,ke===null&&(lt=null,Le=0,Dc()),v}function r1(){for(;ke!==null;)j_(ke)}function s1(t,r){var a=Xe;Xe|=2;var l=U_(),h=L_();lt!==t||Le!==r?(uh=null,lh=Yt()+500,xo(t,r)):So=Ot(t,r);e:do try{if(We!==0&&ke!==null){r=ke;var d=ti;t:switch(We){case 1:We=0,ti=null,Io(t,r,d,1);break;case 2:case 9:if($y(d)){We=0,ti=null,z_(r);break}r=function(){We!==2&&We!==9||lt!==t||(We=7),sr(t)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:$y(d)?(We=0,ti=null,z_(r)):(We=0,ti=null,Io(t,r,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var w=ke;if(v?A0(v):w.stateNode.complete){We=0,ti=null;var O=w.sibling;if(O!==null)ke=O;else{var q=w.return;q!==null?(ke=q,fh(q)):ke=null}break t}}We=0,ti=null,Io(t,r,d,5);break;case 6:We=0,ti=null,Io(t,r,d,6);break;case 8:_m(),wt=6;break e;default:throw Error(s(462))}}a1();break}catch($){k_(t,$)}while(!0);return Rr=ga=null,F.H=l,F.A=h,Xe=a,ke!==null?0:(lt=null,Le=0,Dc(),wt)}function a1(){for(;ke!==null&&!Zr();)j_(ke)}function j_(t){var r=u_(t.alternate,t,Pr);t.memoizedProps=t.pendingProps,r===null?fh(t):ke=r}function z_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=i_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=i_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:kd(r);default:h_(a,r),r=ke=Ly(r,Pr),r=u_(a,r,Pr)}t.memoizedProps=t.pendingProps,r===null?fh(t):ke=r}function Io(t,r,a,l){Rr=ga=null,kd(r),yo=null,Ml=0;var h=r.return;try{if(YA(t,h,r,a,Le)){wt=1,Wc(t,gi(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;wt=1,Wc(t,gi(a,t.current)),ke=null;return}r.flags&32768?(He||l===1?t=!0:So||(Le&536870912)!==0?t=!1:(vs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),q_(r,t)):fh(r)}function fh(t){var r=t;do{if((r.flags&32768)!==0){q_(r,vs);return}t=r.return;var a=JA(r.alternate,r,Pr);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);wt===0&&(wt=5)}function q_(t,r){do{var a=ZA(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);wt=6,ke=null}function B_(t,r,a,l,h,d,v,w,O){t.cancelPendingCommit=null;do dh();while(Gt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=ld,At(t,a,d,v,w,O),t===lt&&(ke=lt=null,Le=0),Ro=r,bs=t,Ur=a,gm=d,ym=h,D_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,c1(bn,function(){return K_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=te.p,te.p=2,v=Xe,Xe|=4;try{WA(t,r,a)}finally{Xe=v,te.p=h,F.T=l}}Gt=1,H_(),F_(),G_()}}function H_(){if(Gt===1){Gt=0;var t=bs,r=Ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=te.p;te.p=2;var h=Xe;Xe|=4;try{w_(r,t);var d=Om,v=Cy(t.containerInfo),w=d.focusedElem,O=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&Iy(w.ownerDocument.documentElement,w)){if(O!==null&&id(w)){var q=O.start,$=O.end;if($===void 0&&($=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min($,w.value.length);else{var W=w.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var Q=B.getSelection(),fe=w.textContent.length,be=Math.min(O.start,fe),ot=O.end===void 0?be:Math.min(O.end,fe);!Q.extend&&be>ot&&(v=ot,ot=be,be=v);var U=xy(w,be),k=xy(w,ot);if(U&&k&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var z=W.createRange();z.setStart(U.node,U.offset),Q.removeAllRanges(),be>ot?(Q.addRange(z),Q.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),Q.addRange(z))}}}}for(W=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var J=W[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ah=!!Dm,Om=Dm=null}finally{Xe=h,te.p=l,F.T=a}}t.current=r,Gt=2}}function F_(){if(Gt===2){Gt=0;var t=bs,r=Ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=te.p;te.p=2;var h=Xe;Xe|=4;try{v_(t,r.alternate,r)}finally{Xe=h,te.p=l,F.T=a}}Gt=3}}function G_(){if(Gt===4||Gt===3){Gt=0,Zs();var t=bs,r=Ro,a=Ur,l=D_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,Ro=bs=null,Q_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Es=null),wn(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Qn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=F.T,h=te.p,te.p=2,F.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{F.T=r,te.p=h}}(Ur&3)!==0&&dh(),sr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===vm?Xl++:(Xl=0,vm=t):Xl=0,Jl(0)}}function Q_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Dl(r)))}function dh(){return H_(),F_(),G_(),K_()}function K_(){if(Gt!==5)return!1;var t=bs,r=gm;gm=0;var a=wn(Ur),l=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=ym,ym=null;var d=bs,v=Ur;if(Gt=0,Ro=bs=null,Ur=0,(Xe&6)!==0)throw Error(s(331));var w=Xe;if(Xe|=4,I_(d.current),A_(d,d.current,v,a),Xe=w,Jl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{te.p=h,F.T=l,Q_(t,r)}}function Y_(t,r,a){r=gi(a,r),r=Xd(t.stateNode,r,2),t=ms(t,r,2),t!==null&&(Nn(t,2),sr(t))}function et(t,r,a){if(t.tag===3)Y_(t,t,a);else for(;r!==null;){if(r.tag===3){Y_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Es===null||!Es.has(l))){t=gi(a,t),a=$v(2),l=ms(r,a,2),l!==null&&(Xv(a,l,r,t),Nn(l,2),sr(l));break}}r=r.return}}function bm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new n1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(dm=!0,h.add(a),t=o1.bind(null,t,r,a),r.then(t,t))}function o1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(Le&a)===a&&(wt===4||wt===3&&(Le&62914560)===Le&&300>Yt()-oh?(Xe&2)===0&&xo(t,0):mm|=a,Ao===Le&&(Ao=0)),sr(t)}function $_(t,r){r===0&&(r=$t()),t=da(t,r),t!==null&&(Nn(t,r),sr(t))}function l1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),$_(t,a)}function u1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),$_(t,a)}function c1(t,r){return it(t,r)}var mh=null,Co=null,Tm=!1,ph=!1,wm=!1,ws=0;function sr(t){t!==Co&&t.next===null&&(Co===null?mh=Co=t:Co=Co.next=t),ph=!0,Tm||(Tm=!0,f1())}function Jl(t,r){if(!wm&&ph){wm=!0;do for(var a=!1,l=mh;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,W_(l,d))}else d=Le,d=vt(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ot(l,d)||(a=!0,W_(l,d));l=l.next}while(a);wm=!1}}function h1(){X_()}function X_(){ph=Tm=!1;var t=0;ws!==0&&T1()&&(t=ws);for(var r=Yt(),a=null,l=mh;l!==null;){var h=l.next,d=J_(l,r);d===0?(l.next=null,a===null?mh=h:a.next=h,h===null&&(Co=a)):(a=l,(t!==0||(d&3)!==0)&&(ph=!0)),l=h}Gt!==0&&Gt!==5||Jl(t),ws!==0&&(ws=0)}function J_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-gt(d),w=1<<v,O=h[v];O===-1?((w&a)===0||(w&l)!==0)&&(h[v]=dn(w,r)):O<=r&&(t.expiredLanes|=w),d&=~w}if(r=lt,a=Le,a=vt(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Fn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ot(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Fn(l),wn(a)){case 2:case 8:a=ui;break;case 32:a=bn;break;case 268435456:a=ea;break;default:a=bn}return l=Z_.bind(null,t),a=it(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Fn(l),t.callbackPriority=2,t.callbackNode=null,2}function Z_(t,r){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dh()&&t.callbackNode!==a)return null;var l=Le;return l=vt(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(M_(t,l,r),J_(t,Yt()),t.callbackNode!=null&&t.callbackNode===a?Z_.bind(null,t):null)}function W_(t,r){if(dh())return null;M_(t,r,!0)}function f1(){S1(function(){(Xe&6)!==0?it(Ws,h1):X_()})}function Sm(){if(ws===0){var t=mo;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),ws=t}return ws}function e0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Za(""+t)}function t0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function d1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=e0((h[Xt]||null).action),v=l.submitter;v&&(r=(r=v[Xt]||null)?e0(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var w=new Zi("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ws!==0){var O=v?t0(h,v):new FormData(h);Fd(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(w.preventDefault(),O=v?t0(h,v):new FormData(h),Fd(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Am=0;Am<od.length;Am++){var Rm=od[Am],m1=Rm.toLowerCase(),p1=Rm[0].toUpperCase()+Rm.slice(1);Vi(m1,"on"+p1)}Vi(Oy,"onAnimationEnd"),Vi(My,"onAnimationIteration"),Vi(Vy,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(DA,"onTransitionRun"),Vi(OA,"onTransitionStart"),Vi(MA,"onTransitionCancel"),Vi(ky,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function n0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],O=w.instance,q=w.currentTarget;if(w=w.listener,O!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=q;try{d(h)}catch($){Nc($)}h.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(w=l[v],O=w.instance,q=w.currentTarget,w=w.listener,O!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=q;try{d(h)}catch($){Nc($)}h.currentTarget=null,d=O}}}}function Pe(t,r){var a=r[Ka];a===void 0&&(a=r[Ka]=new Set);var l=t+"__bubble";a.has(l)||(i0(r,t,2,!1),a.add(l))}function xm(t,r,a){var l=0;r&&(l|=4),i0(a,t,l,r)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Im(t){if(!t[gh]){t[gh]=!0,cl.forEach(function(a){a!=="selectionchange"&&(g1.has(a)||xm(a,!1,t),xm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[gh]||(r[gh]=!0,xm("selectionchange",!1,r))}}function i0(t,r,a,l){switch(O0(r)){case 2:var h=F1;break;case 8:h=G1;break;default:h=Hm}a=h.bind(null,r,a,t),h=void 0,!sa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Cm(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=Gi(w),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}w=w.parentNode}}l=l.return}rs(function(){var q=d,$=fi(a),W=[];e:{var B=Py.get(t);if(B!==void 0){var Q=Zi,fe=t;switch(t){case"keypress":if(oa(a)===0)break e;case"keydown":case"keyup":Q=xc;break;case"focusin":fe="focus",Q=ua;break;case"focusout":fe="blur",Q=ua;break;case"beforeblur":case"afterblur":Q=ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Oy:case My:case Vy:Q=Ec;break;case ky:Q=A;break;case"scroll":case"scrollend":Q=Tl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=wr;break;case"toggle":case"beforetoggle":Q=Ce}var be=(r&4)!==0,ot=!be&&(t==="scroll"||t==="scrollend"),U=be?B!==null?B+"Capture":null:B;be=[];for(var k=q,z;k!==null;){var J=k;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||U===null||(J=Ni(k,U),J!=null&&be.push(Wl(k,J,z))),ot)break;k=k.return}0<be.length&&(B=new Q(B,fe,null,a,$),W.push({event:B,listeners:be}))}}if((r&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",B&&a!==_l&&(fe=a.relatedTarget||a.fromElement)&&(Gi(fe)||fe[Hi]))break e;if((Q||B)&&(B=$.window===$?$:(B=$.ownerDocument)?B.defaultView||B.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=q,fe=fe?Gi(fe):null,fe!==null&&(ot=u(fe),be=fe.tag,fe!==ot||be!==5&&be!==27&&be!==6)&&(fe=null)):(Q=null,fe=q),Q!==fe)){if(be=wl,J="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=wr,J="onPointerLeave",U="onPointerEnter",k="pointer"),ot=Q==null?B:$n(Q),z=fe==null?B:$n(fe),B=new be(J,k+"leave",Q,a,$),B.target=ot,B.relatedTarget=z,J=null,Gi($)===q&&(be=new be(U,k+"enter",fe,a,$),be.target=z,be.relatedTarget=ot,J=be),ot=J,Q&&fe)t:{for(be=y1,U=Q,k=fe,z=0,J=U;J;J=be(J))z++;J=0;for(var ye=k;ye;ye=be(ye))J++;for(;0<z-J;)U=be(U),z--;for(;0<J-z;)k=be(k),J--;for(;z--;){if(U===k||k!==null&&U===k.alternate){be=U;break t}U=be(U),k=be(k)}be=null}else be=null;Q!==null&&r0(W,B,Q,be,!1),fe!==null&&ot!==null&&r0(W,ot,fe,be,!0)}}e:{if(B=q?$n(q):window,Q=B.nodeName&&B.nodeName.toLowerCase(),Q==="select"||Q==="input"&&B.type==="file")var Ke=by;else if(_y(B))if(Ty)Ke=IA;else{Ke=RA;var me=AA}else Q=B.nodeName,!Q||Q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?q&&Ja(q.elementType)&&(Ke=by):Ke=xA;if(Ke&&(Ke=Ke(t,q))){Ey(W,Ke,a,$);break e}me&&me(t,B,q),t==="focusout"&&q&&B.type==="number"&&q.memoizedProps.value!=null&&gl(B,"number",B.value)}switch(me=q?$n(q):window,t){case"focusin":(_y(me)||me.contentEditable==="true")&&(so=me,rd=q,Il=null);break;case"focusout":Il=rd=so=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Ny(W,a,$);break;case"selectionchange":if(NA)break;case"keydown":case"keyup":Ny(W,a,$)}var De;if($e)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ro?ca(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(tr&&a.locale!=="ko"&&(ro||je!=="onCompositionStart"?je==="onCompositionEnd"&&ro&&(De=bl()):(Ji=$,El="value"in Ji?Ji.value:Ji.textContent,ro=!0)),me=yh(q,je),0<me.length&&(je=new er(je,t,null,a,$),W.push({event:je,listeners:me}),De?je.data=De:(De=io(a),De!==null&&(je.data=De)))),(De=mi?bA(t,a):TA(t,a))&&(je=yh(q,"onBeforeInput"),0<je.length&&(me=new er("onBeforeInput","beforeinput",null,a,$),W.push({event:me,listeners:je}),me.data=De)),d1(W,t,q,a,$)}n0(W,r)})}function Wl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function yh(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ni(t,a),h!=null&&l.unshift(Wl(t,h,d)),h=Ni(t,r),h!=null&&l.push(Wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function y1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r0(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var w=a,O=w.alternate,q=w.stateNode;if(w=w.tag,O!==null&&O===l)break;w!==5&&w!==26&&w!==27||q===null||(O=q,h?(q=Ni(a,d),q!=null&&v.unshift(Wl(a,q,O))):h||(q=Ni(a,d),q!=null&&v.push(Wl(a,q,O)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var v1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function s0(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(_1,"")}function a0(t,r){return r=s0(r),s0(t)===r}function at(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||On(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&On(t,""+l);break;case"className":Xn(t,"class",l);break;case"tabIndex":Xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(t,a,l);break;case"style":vl(t,l,d);break;case"data":if(r!=="object"){Xn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Za(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&at(t,r,"name",h.name,h,null),at(t,r,"formEncType",h.formEncType,h,null),at(t,r,"formMethod",h.formMethod,h,null),at(t,r,"formTarget",h.formTarget,h,null)):(at(t,r,"encType",h.encType,h,null),at(t,r,"method",h.method,h,null),at(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Za(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ci);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),$a(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yc.get(a)||a,$a(t,a,l))}}function Nm(t,r,a,l,h,d){switch(a){case"style":vl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?On(t,l):(typeof l=="number"||typeof l=="bigint")&&On(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$a(t,a,l)}}}function ln(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,d,v,a,null)}}h&&at(t,r,"srcSet",a.srcSet,a,null),l&&at(t,r,"src",a.src,a,null);return;case"input":Pe("invalid",t);var w=d=v=h=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":O=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:at(t,r,l,$,a,null)}}mc(t,d,w,O,q,v,h,!1);return;case"select":Pe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:at(t,r,h,w,a,null)}r=d,a=v,t.multiple=!!l,r!=null?es(t,!!l,r,!1):a!=null&&es(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:at(t,r,v,w,a,null)}ts(t,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":at(t,r,O,l,a,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Pe(Zl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,q,l,a,null)}return;default:if(Ja(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Nm(t,r,$,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&at(t,r,w,l,a,null))}function E1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,w=null,O=null,q=null,$=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=W;default:l.hasOwnProperty(Q)||at(t,r,Q,null,l,W)}}for(var B in l){var Q=l[B];if(W=a[B],l.hasOwnProperty(B)&&(Q!=null||W!=null))switch(B){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":$=Q;break;case"value":v=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==W&&at(t,r,B,Q,l,W)}}Xa(t,v,w,O,q,$,d,h);return;case"select":Q=v=w=B=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Q=O;default:l.hasOwnProperty(d)||at(t,r,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":B=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==O&&at(t,r,h,d,l,O)}r=w,a=v,l=Q,B!=null?es(t,!!a,B,!1):!!l!=!!a&&(r!=null?es(t,!!a,r,!0):es(t,!!a,a?[]:"",!1));return;case"textarea":Q=B=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:at(t,r,w,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&at(t,r,v,h,l,d)}pc(t,B,Q);return;case"option":for(var fe in a)B=a[fe],a.hasOwnProperty(fe)&&B!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:at(t,r,fe,null,l,B));for(O in l)B=l[O],Q=a[O],l.hasOwnProperty(O)&&B!==Q&&(B!=null||Q!=null)&&(O==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":at(t,r,O,B,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)B=a[be],a.hasOwnProperty(be)&&B!=null&&!l.hasOwnProperty(be)&&at(t,r,be,null,l,B);for(q in l)if(B=l[q],Q=a[q],l.hasOwnProperty(q)&&B!==Q&&(B!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:at(t,r,q,B,l,Q)}return;default:if(Ja(r)){for(var ot in a)B=a[ot],a.hasOwnProperty(ot)&&B!==void 0&&!l.hasOwnProperty(ot)&&Nm(t,r,ot,void 0,l,B);for($ in l)B=l[$],Q=a[$],!l.hasOwnProperty($)||B===Q||B===void 0&&Q===void 0||Nm(t,r,$,B,l,Q);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&at(t,r,U,null,l,B);for(W in l)B=l[W],Q=a[W],!l.hasOwnProperty(W)||B===Q||B==null&&Q==null||at(t,r,W,B,l,Q)}function o0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,w=h.duration;if(d&&w&&o0(v)){for(v=0,w=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],q=O.startTime;if(q>w)break;var $=O.transferSize,W=O.initiatorType;$&&o0(W)&&(O=O.responseEnd,v+=$*(O<w?1:(w-q)/(O-q)))}if(--l,r+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Dm=null,Om=null;function vh(t){return t.nodeType===9?t:t.ownerDocument}function l0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Mm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vm=null;function T1(){var t=window.event;return t&&t.type==="popstate"?t===Vm?!1:(Vm=t,!0):(Vm=null,!1)}var c0=typeof setTimeout=="function"?setTimeout:void 0,w1=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(t){return h0.resolve(null).then(t).catch(A1)}:c0;function A1(t){setTimeout(function(){throw t})}function Ss(t){return t==="head"}function f0(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Mo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")eu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,eu(a);for(var d=a.firstChild;d;){var v=d.nextSibling,w=d.nodeName;d[Fi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&eu(t.ownerDocument.body);a=h}while(a);Mo(r)}function d0(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function km(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":km(a),Ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function R1(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=bi(t.nextSibling),t===null)break}return null}function x1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=bi(t.nextSibling),t===null))return null;return t}function m0(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=bi(t.nextSibling),t===null))return null;return t}function Pm(t){return t.data==="$?"||t.data==="$~"}function Um(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function I1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function bi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Lm=null;function p0(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return bi(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function g0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function y0(t,r,a){switch(r=vh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function eu(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ya(t)}var Ti=new Map,v0=new Set;function _h(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Lr=te.d;te.d={f:C1,r:N1,D:D1,C:O1,L:M1,m:V1,X:P1,S:k1,M:U1};function C1(){var t=Lr.f(),r=ch();return t||r}function N1(t){var r=hi(t);r!==null&&r.tag===5&&r.type==="form"?kv(r):Lr.r(t)}var No=typeof document>"u"?null:document;function _0(t,r,a){var l=No;if(l&&typeof r=="string"&&r){var h=Dn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),v0.has(h)||(v0.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),ln(r,"link",t),Vt(r),l.head.appendChild(r)))}}function D1(t){Lr.D(t),_0("dns-prefetch",t,null)}function O1(t,r){Lr.C(t,r),_0("preconnect",t,r)}function M1(t,r,a){Lr.L(t,r,a);var l=No;if(l&&t&&r){var h='link[rel="preload"][as="'+Dn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dn(a.imageSizes)+'"]')):h+='[href="'+Dn(t)+'"]';var d=h;switch(r){case"style":d=Do(t);break;case"script":d=Oo(t)}Ti.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ti.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(tu(d))||r==="script"&&l.querySelector(nu(d))||(r=l.createElement("link"),ln(r,"link",t),Vt(r),l.head.appendChild(r)))}}function V1(t,r){Lr.m(t,r);var a=No;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Dn(l)+'"][href="'+Dn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oo(t)}if(!Ti.has(d)&&(t=T({rel:"modulepreload",href:t},r),Ti.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nu(d)))return}l=a.createElement("link"),ln(l,"link",t),Vt(l),a.head.appendChild(l)}}}function k1(t,r,a){Lr.S(t,r,a);var l=No;if(l&&t){var h=Qi(l).hoistableStyles,d=Do(t);r=r||"default";var v=h.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(tu(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ti.get(d))&&jm(t,a);var O=v=l.createElement("link");Vt(O),ln(O,"link",t),O._p=new Promise(function(q,$){O.onload=q,O.onerror=$}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Eh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(d,v)}}}function P1(t,r){Lr.X(t,r);var a=No;if(a&&t){var l=Qi(a).hoistableScripts,h=Oo(t),d=l.get(h);d||(d=a.querySelector(nu(h)),d||(t=T({src:t,async:!0},r),(r=Ti.get(h))&&zm(t,r),d=a.createElement("script"),Vt(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function U1(t,r){Lr.M(t,r);var a=No;if(a&&t){var l=Qi(a).hoistableScripts,h=Oo(t),d=l.get(h);d||(d=a.querySelector(nu(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Ti.get(h))&&zm(t,r),d=a.createElement("script"),Vt(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function E0(t,r,a,l){var h=(h=_e.current)?_h(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Do(a.href),a=Qi(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Do(a.href);var d=Qi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(tu(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ti.set(t,a),d||L1(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Oo(a),a=Qi(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Do(t){return'href="'+Dn(t)+'"'}function tu(t){return'link[rel="stylesheet"]['+t+"]"}function b0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function L1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),ln(r,"link",a),Vt(r),t.head.appendChild(r))}function Oo(t){return'[src="'+Dn(t)+'"]'}function nu(t){return"script[async]"+t}function T0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Dn(a.href)+'"]');if(l)return r.instance=l,Vt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),ln(l,"style",h),Eh(l,a.precedence,t),r.instance=l;case"stylesheet":h=Do(a.href);var d=t.querySelector(tu(h));if(d)return r.state.loading|=4,r.instance=d,Vt(d),d;l=b0(a),(h=Ti.get(h))&&jm(l,h),d=(t.ownerDocument||t).createElement("link"),Vt(d);var v=d;return v._p=new Promise(function(w,O){v.onload=w,v.onerror=O}),ln(d,"link",l),r.state.loading|=4,Eh(d,a.precedence,t),r.instance=d;case"script":return d=Oo(a.src),(h=t.querySelector(nu(d)))?(r.instance=h,Vt(h),h):(l=a,(h=Ti.get(d))&&(l=T({},a),zm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Vt(h),ln(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Eh(l,a.precedence,t));return r.instance}function Eh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function jm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function zm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var bh=null;function w0(t,r,a){if(bh===null){var l=new Map,h=bh=new Map;h.set(a,l)}else h=bh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Fi]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function S0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function j1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function A0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function z1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Do(l.href),d=r.querySelector(tu(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Th.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Vt(d);return}d=r.ownerDocument||r,l=b0(l),(h=Ti.get(h))&&jm(l,h),d=d.createElement("link"),Vt(d);var v=d;v._p=new Promise(function(w,O){v.onload=w,v.onerror=O}),ln(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Th.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var qm=0;function q1(t,r){return t.stylesheets&&t.count===0&&Sh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Sh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&qm===0&&(qm=62500*b1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>qm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Th(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wh=null;function Sh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wh=new Map,r.forEach(B1,t),wh=null,Th.call(t))}function B1(t,r){if(!(r.state.loading&4)){var a=wh.get(t);if(a)var l=a.get(null);else{a=new Map,wh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Th.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var iu={$$typeof:ne,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function H1(t,r,a,l,h,d,v,w,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function R0(t,r,a,l,h,d,v,w,O,q,$,W){return t=new H1(t,r,a,v,O,q,$,W,w),r=1,d===!0&&(r|=24),d=Zn(3,null,null,r),t.current=d,d.stateNode=t,r=Ed(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Sd(d),t}function x0(t){return t?(t=lo,t):lo}function I0(t,r,a,l,h,d){h=x0(h),l.context===null?l.context=h:l.pendingContext=h,l=ds(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ms(t,l,r),a!==null&&(Un(a,t,r),kl(a,t,r))}function C0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Bm(t,r){C0(t,r),(t=t.alternate)&&C0(t,r)}function N0(t){if(t.tag===13||t.tag===31){var r=da(t,67108864);r!==null&&Un(r,t,67108864),Bm(t,67108864)}}function D0(t){if(t.tag===13||t.tag===31){var r=ii();r=Kn(r);var a=da(t,r);a!==null&&Un(a,t,r),Bm(t,r)}}var Ah=!0;function F1(t,r,a,l){var h=F.T;F.T=null;var d=te.p;try{te.p=2,Hm(t,r,a,l)}finally{te.p=d,F.T=h}}function G1(t,r,a,l){var h=F.T;F.T=null;var d=te.p;try{te.p=8,Hm(t,r,a,l)}finally{te.p=d,F.T=h}}function Hm(t,r,a,l){if(Ah){var h=Fm(l);if(h===null)Cm(t,r,l,Rh,a),M0(t,l);else if(K1(h,t,r,a,l))l.stopPropagation();else if(M0(t,l),r&4&&-1<Q1.indexOf(t)){for(;h!==null;){var d=hi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=yt(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var O=1<<31-gt(v);w.entanglements[1]|=O,v&=~O}sr(d),(Xe&6)===0&&(lh=Yt()+500,Jl(0))}}break;case 31:case 13:w=da(d,2),w!==null&&Un(w,d,2),ch(),Bm(d,2)}if(d=Fm(l),d===null&&Cm(t,r,l,Rh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Cm(t,r,l,null,a)}}function Fm(t){return t=fi(t),Gm(t)}var Rh=null;function Gm(t){if(Rh=null,t=Gi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Rh=t,null}function O0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case Ws:return 2;case ui:return 8;case bn:case vr:return 32;case ea:return 268435456;default:return 32}default:return 32}}var Qm=!1,As=null,Rs=null,xs=null,ru=new Map,su=new Map,Is=[],Q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M0(t,r){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":ru.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(r.pointerId)}}function au(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=hi(r),r!==null&&N0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function K1(t,r,a,l,h){switch(r){case"focusin":return As=au(As,t,r,a,l,h),!0;case"dragenter":return Rs=au(Rs,t,r,a,l,h),!0;case"mouseover":return xs=au(xs,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return ru.set(d,au(ru.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,su.set(d,au(su.get(d)||null,t,r,a,l,h)),!0}return!1}function V0(t){var r=Gi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,nn(t.priority,function(){D0(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,nn(t.priority,function(){D0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);_l=l,a.target.dispatchEvent(l),_l=null}else return r=hi(a),r!==null&&N0(r),t.blockedOn=a,!1;r.shift()}return!0}function k0(t,r,a){xh(t)&&a.delete(r)}function Y1(){Qm=!1,As!==null&&xh(As)&&(As=null),Rs!==null&&xh(Rs)&&(Rs=null),xs!==null&&xh(xs)&&(xs=null),ru.forEach(k0),su.forEach(k0)}function Ih(t,r){t.blockedOn===r&&(t.blockedOn=null,Qm||(Qm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Y1)))}var Ch=null;function P0(t){Ch!==t&&(Ch=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ch===t&&(Ch=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Gm(l||a)===null)continue;break}var d=hi(a);d!==null&&(t.splice(r,3),r-=3,Fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Mo(t){function r(O){return Ih(O,t)}As!==null&&Ih(As,t),Rs!==null&&Ih(Rs,t),xs!==null&&Ih(xs,t),ru.forEach(r),su.forEach(r);for(var a=0;a<Is.length;a++){var l=Is[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)V0(a),a.blockedOn===null&&Is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Xt]||null;if(typeof d=="function")v||P0(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Xt]||null)w=v.formAction;else if(Gm(h)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),P0(a)}}}function U0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Km(t){this._internalRoot=t}Nh.prototype.render=Km.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=ii();I0(a,l,t,r,null,null)},Nh.prototype.unmount=Km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;I0(t.current,2,null,t,null,null),ch(),r[Hi]=null}};function Nh(t){this._internalRoot=t}Nh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Yn();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Is.length&&r!==0&&r<Is[a].priority;a++);Is.splice(a,0,t),a===0&&V0(t)}};var L0=e.version;if(L0!=="19.2.3")throw Error(s(527,L0,"19.2.3"));te.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var $1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{Qn=Dh.inject($1),Ft=Dh}catch{}}return lu.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Gv,d=Qv,v=Kv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=R0(t,1,!1,null,null,a,l,null,h,d,v,U0),t[Hi]=r.current,Im(t),new Km(r)},lu.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Gv,v=Qv,w=Kv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=R0(t,1,!0,r,a??null,l,h,O,d,v,w,U0),r.context=x0(null),a=r.current,l=ii(),l=Kn(l),h=ds(l),h.callback=null,ms(a,h,l),a=l,r.current.lanes=a,Nn(r,a),sr(r),t[Hi]=r.current,Im(t),new Nh(r)},lu.version="19.2.3",lu}var Y0;function sR(){if(Y0)return Xm.exports;Y0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xm.exports=rR(),Xm.exports}var aR=sR();const oR=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lR=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),$0=i=>{const e=lR(i);return e.charAt(0).toUpperCase()+e.slice(1)},nT=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),uR=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hR=H.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>H.createElement("svg",{ref:g,...cR,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:nT("lucide",o),...!u&&!uR(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,E])=>H.createElement(p,E)),...Array.isArray(u)?u:[u]]));const In=(i,e)=>{const n=H.forwardRef(({className:s,...o},u)=>H.createElement(hR,{ref:u,iconNode:e,className:nT(`lucide-${oR($0(i))}`,`lucide-${i}`,s),...o}));return n.displayName=$0(i),n};const fR=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],cu=In("arrow-down-to-line",fR);const dR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bu=In("circle-alert",dR);const mR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tu=In("circle-check-big",mR);const pR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qh=In("circle-x",pR);const gR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yR=In("eye-off",gR);const vR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_R=In("eye",vR);const ER=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],bR=In("grip-vertical",ER);const TR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],wR=In("history",TR);const SR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AR=In("log-out",SR);const RR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hu=In("package",RR);const xR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Sp=In("phone",xR);const IR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CR=In("settings",IR);const NR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],DR=In("shield",NR);const OR=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ra=In("truck",OR);const MR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],X0=In("users",MR);var fu=tT();function VR(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return H.useMemo(()=>s=>{e.forEach(o=>o(s))},e)}const Sf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zo(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function sg(i){return"nodeType"in i}function Bn(i){var e,n;return i?Zo(i)?i:sg(i)&&(e=(n=i.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function ag(i){const{Document:e}=Bn(i);return i instanceof e}function Xu(i){return Zo(i)?!1:i instanceof Bn(i).HTMLElement}function iT(i){return i instanceof Bn(i).SVGElement}function Wo(i){return i?Zo(i)?i.document:sg(i)?ag(i)?i:Xu(i)||iT(i)?i.ownerDocument:document:document:document}const dr=Sf?H.useLayoutEffect:H.useEffect;function og(i){const e=H.useRef(i);return dr(()=>{e.current=i}),H.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e.current==null?void 0:e.current(...s)},[])}function kR(){const i=H.useRef(null),e=H.useCallback((s,o)=>{i.current=setInterval(s,o)},[]),n=H.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,n]}function Ou(i,e){e===void 0&&(e=[i]);const n=H.useRef(i);return dr(()=>{n.current!==i&&(n.current=i)},e),n}function Ju(i,e){const n=H.useRef();return H.useMemo(()=>{const s=i(n.current);return n.current=s,s},[...e])}function ef(i){const e=og(i),n=H.useRef(null),s=H.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,s]}function Ap(i){const e=H.useRef();return H.useEffect(()=>{e.current=i},[i]),e.current}let ep={};function Zu(i,e){return H.useMemo(()=>{if(e)return e;const n=ep[i]==null?0:ep[i]+1;return ep[i]=n,i+"-"+n},[i,e])}function rT(i){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,f)=>{const m=Object.entries(f);for(const[g,p]of m){const E=u[g];E!=null&&(u[g]=E+i*p)}return u},{...e})}}const qo=rT(1),Mu=rT(-1);function PR(i){return"clientX"in i&&"clientY"in i}function lg(i){if(!i)return!1;const{KeyboardEvent:e}=Bn(i.target);return e&&i instanceof e}function UR(i){if(!i)return!1;const{TouchEvent:e}=Bn(i.target);return e&&i instanceof e}function Rp(i){if(UR(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:n}=i.touches[0];return{x:e,y:n}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:n}=i.changedTouches[0];return{x:e,y:n}}}return PR(i)?{x:i.clientX,y:i.clientY}:null}const Vu=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:n}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:n}=i;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(i){if(i)return[Vu.Translate.toString(i),Vu.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:n,easing:s}=i;return e+" "+n+"ms "+s}}}),J0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function LR(i){return i.matches(J0)?i:i.querySelector(J0)}const jR={display:"none"};function zR(i){let{id:e,value:n}=i;return zn.createElement("div",{id:e,style:jR},n)}function qR(i){let{id:e,announcement:n,ariaLiveType:s="assertive"}=i;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return zn.createElement("div",{id:e,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function BR(){const[i,e]=H.useState("");return{announce:H.useCallback(s=>{s!=null&&e(s)},[]),announcement:i}}const sT=H.createContext(null);function HR(i){const e=H.useContext(sT);H.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function FR(){const[i]=H.useState(()=>new Set),e=H.useCallback(s=>(i.add(s),()=>i.delete(s)),[i]);return[H.useCallback(s=>{let{type:o,event:u}=s;i.forEach(f=>{var m;return(m=f[o])==null?void 0:m.call(f,u)})},[i]),e]}const GR={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},QR={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:n}=i;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:n}=i;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function KR(i){let{announcements:e=QR,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=GR}=i;const{announce:u,announcement:f}=BR(),m=Zu("DndLiveRegion"),[g,p]=H.useState(!1);if(H.useEffect(()=>{p(!0)},[]),HR(H.useMemo(()=>({onDragStart(T){let{active:R}=T;u(e.onDragStart({active:R}))},onDragMove(T){let{active:R,over:P}=T;e.onDragMove&&u(e.onDragMove({active:R,over:P}))},onDragOver(T){let{active:R,over:P}=T;u(e.onDragOver({active:R,over:P}))},onDragEnd(T){let{active:R,over:P}=T;u(e.onDragEnd({active:R,over:P}))},onDragCancel(T){let{active:R,over:P}=T;u(e.onDragCancel({active:R,over:P}))}}),[u,e])),!g)return null;const E=zn.createElement(zn.Fragment,null,zn.createElement(zR,{id:s,value:o.draggable}),zn.createElement(qR,{id:m,announcement:f}));return n?fu.createPortal(E,n):E}var Qt;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Qt||(Qt={}));function tf(){}function Z0(i,e){return H.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function YR(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return H.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const ji=Object.freeze({x:0,y:0});function aT(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function oT(i,e){let{data:{value:n}}=i,{data:{value:s}}=e;return n-s}function $R(i,e){let{data:{value:n}}=i,{data:{value:s}}=e;return s-n}function W0(i){let{left:e,top:n,height:s,width:o}=i;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+s},{x:e+o,y:n+s}]}function lT(i,e){if(!i||i.length===0)return null;const[n]=i;return n[e]}function eE(i,e,n){return e===void 0&&(e=i.left),n===void 0&&(n=i.top),{x:e+i.width*.5,y:n+i.height*.5}}const XR=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=eE(e,e.left,e.top),u=[];for(const f of s){const{id:m}=f,g=n.get(m);if(g){const p=aT(eE(g),o);u.push({id:m,data:{droppableContainer:f,value:p}})}}return u.sort(oT)},JR=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=W0(e),u=[];for(const f of s){const{id:m}=f,g=n.get(m);if(g){const p=W0(g),E=o.reduce((R,P,X)=>R+aT(p[X],P),0),T=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:f,value:T}})}}return u.sort(oT)};function ZR(i,e){const n=Math.max(e.top,i.top),s=Math.max(e.left,i.left),o=Math.min(e.left+e.width,i.left+i.width),u=Math.min(e.top+e.height,i.top+i.height),f=o-s,m=u-n;if(s<o&&n<u){const g=e.width*e.height,p=i.width*i.height,E=f*m,T=E/(g+p-E);return Number(T.toFixed(4))}return 0}const WR=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=[];for(const u of s){const{id:f}=u,m=n.get(f);if(m){const g=ZR(m,e);g>0&&o.push({id:f,data:{droppableContainer:u,value:g}})}}return o.sort($R)};function ex(i,e,n){return{...i,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function uT(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:ji}function tx(i){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((f,m)=>({...f,top:f.top+i*m.y,bottom:f.bottom+i*m.y,left:f.left+i*m.x,right:f.right+i*m.x}),{...n})}}const nx=tx(1);function ix(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function rx(i,e,n){const s=ix(e);if(!s)return i;const{scaleX:o,scaleY:u,x:f,y:m}=s,g=i.left-f-(1-o)*parseFloat(n),p=i.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),E=o?i.width/o:i.width,T=u?i.height/u:i.height;return{width:E,height:T,top:p,right:g+E,bottom:p+T,left:g}}const sx={ignoreTransform:!1};function el(i,e){e===void 0&&(e=sx);let n=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:E}=Bn(i).getComputedStyle(i);p&&(n=rx(n,p,E))}const{top:s,left:o,width:u,height:f,bottom:m,right:g}=n;return{top:s,left:o,width:u,height:f,bottom:m,right:g}}function tE(i){return el(i,{ignoreTransform:!0})}function ax(i){const e=i.innerWidth,n=i.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function ox(i,e){return e===void 0&&(e=Bn(i).getComputedStyle(i)),e.position==="fixed"}function lx(i,e){e===void 0&&(e=Bn(i).getComputedStyle(i));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=e[o];return typeof u=="string"?n.test(u):!1})}function Af(i,e){const n=[];function s(o){if(e!=null&&n.length>=e||!o)return n;if(ag(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Xu(o)||iT(o)||n.includes(o))return n;const u=Bn(i).getComputedStyle(o);return o!==i&&lx(o,u)&&n.push(o),ox(o,u)?n:s(o.parentNode)}return i?s(i):n}function cT(i){const[e]=Af(i,1);return e??null}function tp(i){return!Sf||!i?null:Zo(i)?i:sg(i)?ag(i)||i===Wo(i).scrollingElement?window:Xu(i)?i:null:null}function hT(i){return Zo(i)?i.scrollX:i.scrollLeft}function fT(i){return Zo(i)?i.scrollY:i.scrollTop}function xp(i){return{x:hT(i),y:fT(i)}}var en;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(en||(en={}));function dT(i){return!Sf||!i?!1:i===document.scrollingElement}function mT(i){const e={x:0,y:0},n=dT(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},s={x:i.scrollWidth-n.width,y:i.scrollHeight-n.height},o=i.scrollTop<=e.y,u=i.scrollLeft<=e.x,f=i.scrollTop>=s.y,m=i.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:f,isRight:m,maxScroll:s,minScroll:e}}const ux={x:.2,y:.2};function cx(i,e,n,s,o){let{top:u,left:f,right:m,bottom:g}=n;s===void 0&&(s=10),o===void 0&&(o=ux);const{isTop:p,isBottom:E,isLeft:T,isRight:R}=mT(i),P={x:0,y:0},X={x:0,y:0},L={height:e.height*o.y,width:e.width*o.x};return!p&&u<=e.top+L.height?(P.y=en.Backward,X.y=s*Math.abs((e.top+L.height-u)/L.height)):!E&&g>=e.bottom-L.height&&(P.y=en.Forward,X.y=s*Math.abs((e.bottom-L.height-g)/L.height)),!R&&m>=e.right-L.width?(P.x=en.Forward,X.x=s*Math.abs((e.right-L.width-m)/L.width)):!T&&f<=e.left+L.width&&(P.x=en.Backward,X.x=s*Math.abs((e.left+L.width-f)/L.width)),{direction:P,speed:X}}function hx(i){if(i===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:e,left:n,right:s,bottom:o}=i.getBoundingClientRect();return{top:e,left:n,right:s,bottom:o,width:i.clientWidth,height:i.clientHeight}}function pT(i){return i.reduce((e,n)=>qo(e,xp(n)),ji)}function fx(i){return i.reduce((e,n)=>e+hT(n),0)}function dx(i){return i.reduce((e,n)=>e+fT(n),0)}function mx(i,e){if(e===void 0&&(e=el),!i)return;const{top:n,left:s,bottom:o,right:u}=e(i);cT(i)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const px=[["x",["left","right"],fx],["y",["top","bottom"],dx]];class ug{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Af(n),o=pT(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,f,m]of px)for(const g of f)Object.defineProperty(this,g,{get:()=>{const p=m(s),E=o[u]-p;return this.rect[g]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class wu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var o;(o=this.target)==null||o.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function gx(i){const{EventTarget:e}=Bn(i);return i instanceof e?i:Wo(i)}function np(i,e){const n=Math.abs(i.x),s=Math.abs(i.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var Si;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(Si||(Si={}));function nE(i){i.preventDefault()}function yx(i){i.stopPropagation()}var Fe;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(Fe||(Fe={}));const gT={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},vx=(i,e)=>{let{currentCoordinates:n}=e;switch(i.code){case Fe.Right:return{...n,x:n.x+25};case Fe.Left:return{...n,x:n.x-25};case Fe.Down:return{...n,y:n.y+25};case Fe.Up:return{...n,y:n.y-25}}};class cg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new wu(Wo(n)),this.windowListeners=new wu(Bn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Si.Resize,this.handleCancel),this.windowListeners.add(Si.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Si.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&mx(s),n(ji)}handleKeyDown(e){if(lg(e)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=gT,coordinateGetter:f=vx,scrollBehavior:m="smooth"}=o,{code:g}=e;if(u.end.includes(g)){this.handleEnd(e);return}if(u.cancel.includes(g)){this.handleCancel(e);return}const{collisionRect:p}=s.current,E=p?{x:p.left,y:p.top}:ji;this.referenceCoordinates||(this.referenceCoordinates=E);const T=f(e,{active:n,context:s.current,currentCoordinates:E});if(T){const R=Mu(T,E),P={x:0,y:0},{scrollableAncestors:X}=s.current;for(const L of X){const Y=e.code,{isTop:ie,isRight:ae,isLeft:ne,isBottom:de,maxScroll:pe,minScroll:he}=mT(L),C=hx(L),x={x:Math.min(Y===Fe.Right?C.right-C.width/2:C.right,Math.max(Y===Fe.Right?C.left:C.left+C.width/2,T.x)),y:Math.min(Y===Fe.Down?C.bottom-C.height/2:C.bottom,Math.max(Y===Fe.Down?C.top:C.top+C.height/2,T.y))},D=Y===Fe.Right&&!ae||Y===Fe.Left&&!ne,S=Y===Fe.Down&&!de||Y===Fe.Up&&!ie;if(D&&x.x!==T.x){const I=L.scrollLeft+R.x,V=Y===Fe.Right&&I<=pe.x||Y===Fe.Left&&I>=he.x;if(V&&!R.y){L.scrollTo({left:I,behavior:m});return}V?P.x=L.scrollLeft-I:P.x=Y===Fe.Right?L.scrollLeft-pe.x:L.scrollLeft-he.x,P.x&&L.scrollBy({left:-P.x,behavior:m});break}else if(S&&x.y!==T.y){const I=L.scrollTop+R.y,V=Y===Fe.Down&&I<=pe.y||Y===Fe.Up&&I>=he.y;if(V&&!R.x){L.scrollTo({top:I,behavior:m});return}V?P.y=L.scrollTop-I:P.y=Y===Fe.Down?L.scrollTop-pe.y:L.scrollTop-he.y,P.y&&L.scrollBy({top:-P.y,behavior:m});break}}this.handleMove(e,qo(Mu(T,this.referenceCoordinates),P))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}cg.activators=[{eventName:"onKeyDown",handler:(i,e,n)=>{let{keyboardCodes:s=gT,onActivation:o}=e,{active:u}=n;const{code:f}=i.nativeEvent;if(s.start.includes(f)){const m=u.activatorNode.current;return m&&i.target!==m?!1:(i.preventDefault(),o?.({event:i.nativeEvent}),!0)}return!1}}];function iE(i){return!!(i&&"distance"in i)}function rE(i){return!!(i&&"delay"in i)}class hg{constructor(e,n,s){var o;s===void 0&&(s=gx(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:u}=e,{target:f}=u;this.props=e,this.events=n,this.document=Wo(f),this.documentListeners=new wu(this.document),this.listeners=new wu(s),this.windowListeners=new wu(Bn(f)),this.initialCoordinates=(o=Rp(u))!=null?o:ji,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Si.Resize,this.handleCancel),this.windowListeners.add(Si.DragStart,nE),this.windowListeners.add(Si.VisibilityChange,this.handleCancel),this.windowListeners.add(Si.ContextMenu,nE),this.documentListeners.add(Si.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(rE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(iE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:o}=this.props;o(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Si.Click,yx,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Si.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!o)return;const g=(n=Rp(e))!=null?n:ji,p=Mu(o,g);if(!s&&m){if(iE(m)){if(m.tolerance!=null&&np(p,m.tolerance))return this.handleCancel();if(np(p,m.distance))return this.handleStart()}if(rE(m)&&np(p,m.tolerance))return this.handleCancel();this.handlePending(m,p);return}e.cancelable&&e.preventDefault(),f(g)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const _x={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class fg extends hg{constructor(e){const{event:n}=e,s=Wo(n.target);super(e,_x,s)}}fg.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const Ex={move:{name:"mousemove"},end:{name:"mouseup"}};var Ip;(function(i){i[i.RightClick=2]="RightClick"})(Ip||(Ip={}));class bx extends hg{constructor(e){super(e,Ex,Wo(e.event.target))}}bx.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;return n.button===Ip.RightClick?!1:(s?.({event:n}),!0)}}];const ip={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Tx extends hg{constructor(e){super(e,ip)}static setup(){return window.addEventListener(ip.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ip.move.name,e)};function e(){}}}Tx.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var Su;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(Su||(Su={}));var nf;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(nf||(nf={}));function wx(i){let{acceleration:e,activator:n=Su.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:f=5,order:m=nf.TreeOrder,pointerCoordinates:g,scrollableAncestors:p,scrollableAncestorRects:E,delta:T,threshold:R}=i;const P=Ax({delta:T,disabled:!u}),[X,L]=kR(),Y=H.useRef({x:0,y:0}),ie=H.useRef({x:0,y:0}),ae=H.useMemo(()=>{switch(n){case Su.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Su.DraggableRect:return o}},[n,o,g]),ne=H.useRef(null),de=H.useCallback(()=>{const he=ne.current;if(!he)return;const C=Y.current.x*ie.current.x,x=Y.current.y*ie.current.y;he.scrollBy(C,x)},[]),pe=H.useMemo(()=>m===nf.TreeOrder?[...p].reverse():p,[m,p]);H.useEffect(()=>{if(!u||!p.length||!ae){L();return}for(const he of pe){if(s?.(he)===!1)continue;const C=p.indexOf(he),x=E[C];if(!x)continue;const{direction:D,speed:S}=cx(he,x,ae,e,R);for(const I of["x","y"])P[I][D[I]]||(S[I]=0,D[I]=0);if(S.x>0||S.y>0){L(),ne.current=he,X(de,f),Y.current=S,ie.current=D;return}}Y.current={x:0,y:0},ie.current={x:0,y:0},L()},[e,de,s,L,u,f,JSON.stringify(ae),JSON.stringify(P),X,p,pe,E,JSON.stringify(R)])}const Sx={x:{[en.Backward]:!1,[en.Forward]:!1},y:{[en.Backward]:!1,[en.Forward]:!1}};function Ax(i){let{delta:e,disabled:n}=i;const s=Ap(e);return Ju(o=>{if(n||!s||!o)return Sx;const u={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[en.Backward]:o.x[en.Backward]||u.x===-1,[en.Forward]:o.x[en.Forward]||u.x===1},y:{[en.Backward]:o.y[en.Backward]||u.y===-1,[en.Forward]:o.y[en.Forward]||u.y===1}}},[n,e,s])}function Rx(i,e){const n=e!=null?i.get(e):void 0,s=n?n.node.current:null;return Ju(o=>{var u;return e==null?null:(u=s??o)!=null?u:null},[s,e])}function xx(i,e){return H.useMemo(()=>i.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(f=>({eventName:f.eventName,handler:e(f.handler,s)}));return[...n,...u]},[]),[i,e])}var ku;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(ku||(ku={}));var Cp;(function(i){i.Optimized="optimized"})(Cp||(Cp={}));const sE=new Map;function Ix(i,e){let{dragging:n,dependencies:s,config:o}=e;const[u,f]=H.useState(null),{frequency:m,measure:g,strategy:p}=o,E=H.useRef(i),T=Y(),R=Ou(T),P=H.useCallback(function(ie){ie===void 0&&(ie=[]),!R.current&&f(ae=>ae===null?ie:ae.concat(ie.filter(ne=>!ae.includes(ne))))},[R]),X=H.useRef(null),L=Ju(ie=>{if(T&&!n)return sE;if(!ie||ie===sE||E.current!==i||u!=null){const ae=new Map;for(let ne of i){if(!ne)continue;if(u&&u.length>0&&!u.includes(ne.id)&&ne.rect.current){ae.set(ne.id,ne.rect.current);continue}const de=ne.node.current,pe=de?new ug(g(de),de):null;ne.rect.current=pe,pe&&ae.set(ne.id,pe)}return ae}return ie},[i,u,n,T,g]);return H.useEffect(()=>{E.current=i},[i]),H.useEffect(()=>{T||P()},[n,T]),H.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),H.useEffect(()=>{T||typeof m!="number"||X.current!==null||(X.current=setTimeout(()=>{P(),X.current=null},m))},[m,T,P,...s]),{droppableRects:L,measureDroppableContainers:P,measuringScheduled:u!=null};function Y(){switch(p){case ku.Always:return!1;case ku.BeforeDragging:return n;default:return!n}}}function yT(i,e){return Ju(n=>i?n||(typeof e=="function"?e(i):i):null,[e,i])}function Cx(i,e){return yT(i,e)}function Nx(i){let{callback:e,disabled:n}=i;const s=og(e),o=H.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return H.useEffect(()=>()=>o?.disconnect(),[o]),o}function Rf(i){let{callback:e,disabled:n}=i;const s=og(e),o=H.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return H.useEffect(()=>()=>o?.disconnect(),[o]),o}function Dx(i){return new ug(el(i),i)}function aE(i,e,n){e===void 0&&(e=Dx);const[s,o]=H.useState(null);function u(){o(g=>{if(!i)return null;if(i.isConnected===!1){var p;return(p=g??n)!=null?p:null}const E=e(i);return JSON.stringify(g)===JSON.stringify(E)?g:E})}const f=Nx({callback(g){if(i)for(const p of g){const{type:E,target:T}=p;if(E==="childList"&&T instanceof HTMLElement&&T.contains(i)){u();break}}}}),m=Rf({callback:u});return dr(()=>{u(),i?(m?.observe(i),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[i]),s}function Ox(i){const e=yT(i);return uT(i,e)}const oE=[];function Mx(i){const e=H.useRef(i),n=Ju(s=>i?s&&s!==oE&&i&&e.current&&i.parentNode===e.current.parentNode?s:Af(i):oE,[i]);return H.useEffect(()=>{e.current=i},[i]),n}function Vx(i){const[e,n]=H.useState(null),s=H.useRef(i),o=H.useCallback(u=>{const f=tp(u.target);f&&n(m=>m?(m.set(f,xp(f)),new Map(m)):null)},[]);return H.useEffect(()=>{const u=s.current;if(i!==u){f(u);const m=i.map(g=>{const p=tp(g);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,xp(p)]):null}).filter(g=>g!=null);n(m.length?new Map(m):null),s.current=i}return()=>{f(i),f(u)};function f(m){m.forEach(g=>{const p=tp(g);p?.removeEventListener("scroll",o)})}},[o,i]),H.useMemo(()=>i.length?e?Array.from(e.values()).reduce((u,f)=>qo(u,f),ji):pT(i):ji,[i,e])}function lE(i,e){e===void 0&&(e=[]);const n=H.useRef(null);return H.useEffect(()=>{n.current=null},e),H.useEffect(()=>{const s=i!==ji;s&&!n.current&&(n.current=i),!s&&n.current&&(n.current=null)},[i]),n.current?Mu(i,n.current):ji}function kx(i){H.useEffect(()=>{if(!Sf)return;const e=i.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},i.map(e=>{let{sensor:n}=e;return n}))}function Px(i,e){return H.useMemo(()=>i.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=f=>{u(f,e)},n},{}),[i,e])}function vT(i){return H.useMemo(()=>i?ax(i):null,[i])}const uE=[];function Ux(i,e){e===void 0&&(e=el);const[n]=i,s=vT(n?Bn(n):null),[o,u]=H.useState(uE);function f(){u(()=>i.length?i.map(g=>dT(g)?s:new ug(e(g),g)):uE)}const m=Rf({callback:f});return dr(()=>{m?.disconnect(),f(),i.forEach(g=>m?.observe(g))},[i]),o}function Lx(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return Xu(e)?e:i}function jx(i){let{measure:e}=i;const[n,s]=H.useState(null),o=H.useCallback(p=>{for(const{target:E}of p)if(Xu(E)){s(T=>{const R=e(E);return T?{...T,width:R.width,height:R.height}:R});break}},[e]),u=Rf({callback:o}),f=H.useCallback(p=>{const E=Lx(p);u?.disconnect(),E&&u?.observe(E),s(E?e(E):null)},[e,u]),[m,g]=ef(f);return H.useMemo(()=>({nodeRef:m,rect:n,setRef:g}),[n,m,g])}const zx=[{sensor:fg,options:{}},{sensor:cg,options:{}}],qx={current:{}},Bh={draggable:{measure:tE},droppable:{measure:tE,strategy:ku.WhileDragging,frequency:Cp.Optimized},dragOverlay:{measure:el}};class Au extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const Bx={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Au,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:tf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bh,measureDroppableContainers:tf,windowRect:null,measuringScheduled:!1},Hx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:tf,draggableNodes:new Map,over:null,measureDroppableContainers:tf},xf=H.createContext(Hx),_T=H.createContext(Bx);function Fx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Au}}}function Gx(i,e){switch(e.type){case Qt.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Qt.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case Qt.DragEnd:case Qt.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Qt.RegisterDroppable:{const{element:n}=e,{id:s}=n,o=new Au(i.droppable.containers);return o.set(s,n),{...i,droppable:{...i.droppable,containers:o}}}case Qt.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=e,u=i.droppable.containers.get(n);if(!u||s!==u.key)return i;const f=new Au(i.droppable.containers);return f.set(n,{...u,disabled:o}),{...i,droppable:{...i.droppable,containers:f}}}case Qt.UnregisterDroppable:{const{id:n,key:s}=e,o=i.droppable.containers.get(n);if(!o||s!==o.key)return i;const u=new Au(i.droppable.containers);return u.delete(n),{...i,droppable:{...i.droppable,containers:u}}}default:return i}}function Qx(i){let{disabled:e}=i;const{active:n,activatorEvent:s,draggableNodes:o}=H.useContext(xf),u=Ap(s),f=Ap(n?.id);return H.useEffect(()=>{if(!e&&!s&&u&&f!=null){if(!lg(u)||document.activeElement===u.target)return;const m=o.get(f);if(!m)return;const{activatorNode:g,node:p}=m;if(!g.current&&!p.current)return;requestAnimationFrame(()=>{for(const E of[g.current,p.current]){if(!E)continue;const T=LR(E);if(T){T.focus();break}}})}},[s,e,o,f,u]),null}function Kx(i,e){let{transform:n,...s}=e;return i!=null&&i.length?i.reduce((o,u)=>u({transform:o,...s}),n):n}function Yx(i){return H.useMemo(()=>({draggable:{...Bh.draggable,...i?.draggable},droppable:{...Bh.droppable,...i?.droppable},dragOverlay:{...Bh.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function $x(i){let{activeNode:e,measure:n,initialRect:s,config:o=!0}=i;const u=H.useRef(!1),{x:f,y:m}=typeof o=="boolean"?{x:o,y:o}:o;dr(()=>{if(!f&&!m||!e){u.current=!1;return}if(u.current||!s)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const E=n(p),T=uT(E,s);if(f||(T.x=0),m||(T.y=0),u.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const R=cT(p);R&&R.scrollBy({top:T.y,left:T.x})}},[e,f,m,s,n])}const ET=H.createContext({...ji,scaleX:1,scaleY:1});var Ds;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Ds||(Ds={}));const Xx=H.memo(function(e){var n,s,o,u;let{id:f,accessibility:m,autoScroll:g=!0,children:p,sensors:E=zx,collisionDetection:T=WR,measuring:R,modifiers:P,...X}=e;const L=H.useReducer(Gx,void 0,Fx),[Y,ie]=L,[ae,ne]=FR(),[de,pe]=H.useState(Ds.Uninitialized),he=de===Ds.Initialized,{draggable:{active:C,nodes:x,translate:D},droppable:{containers:S}}=Y,I=C!=null?x.get(C):null,V=H.useRef({initial:null,translated:null}),N=H.useMemo(()=>{var Ve;return C!=null?{id:C,data:(Ve=I?.data)!=null?Ve:qx,rect:V}:null},[C,I]),Se=H.useRef(null),[Me,F]=H.useState(null),[te,oe]=H.useState(null),ge=Ou(X,Object.values(X)),Ae=Zu("DndDescribedBy",f),M=H.useMemo(()=>S.getEnabled(),[S]),K=Yx(R),{droppableRects:re,measureDroppableContainers:le,measuringScheduled:Ee}=Ix(M,{dragging:he,dependencies:[D.x,D.y],config:K.droppable}),_e=Rx(x,C),Oe=H.useMemo(()=>te?Rp(te):null,[te]),nt=Er(),Ge=Cx(_e,K.draggable.measure);$x({activeNode:C!=null?x.get(C):null,config:nt.layoutShiftCompensation,initialRect:Ge,measure:K.draggable.measure});const Ue=aE(_e,K.draggable.measure,Ge),oi=aE(_e?_e.parentElement:null),tn=H.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:x,draggingNode:null,draggingNodeRect:null,droppableContainers:S,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Hn=S.getNodeFor((n=tn.current.over)==null?void 0:n.id),Dt=jx({measure:K.dragOverlay.measure}),li=(s=Dt.nodeRef.current)!=null?s:_e,Cn=he?(o=Dt.rect)!=null?o:Ue:null,Xr=!!(Dt.nodeRef.current&&Dt.rect),Jr=Ox(Xr?null:Ue),pt=vT(li?Bn(li):null),it=Mx(he?Hn??_e:null),Fn=Ux(it),Zr=Kx(P,{transform:{x:D.x-Jr.x,y:D.y-Jr.y,scaleX:1,scaleY:1},activatorEvent:te,active:N,activeNodeRect:Ue,containerNodeRect:oi,draggingNodeRect:Cn,over:tn.current.over,overlayNodeRect:Dt.rect,scrollableAncestors:it,scrollableAncestorRects:Fn,windowRect:pt}),Zs=Oe?qo(Oe,D):null,Yt=Vx(it),yr=lE(Yt),Ws=lE(Yt,[Ue]),ui=qo(Zr,yr),bn=Cn?nx(Cn,Zr):null,vr=N&&bn?T({active:N,collisionRect:bn,droppableRects:re,droppableContainers:M,pointerCoordinates:Zs}):null,ea=lT(vr,"id"),[Gn,ta]=H.useState(null),Qn=Xr?Zr:qo(Zr,Ws),Ft=ex(Qn,(u=Gn?.rect)!=null?u:null,Ue),fn=H.useRef(null),gt=H.useCallback((Ve,yt)=>{let{sensor:vt,options:Ot}=yt;if(Se.current==null)return;const dn=x.get(Se.current);if(!dn)return;const $t=Ve.nativeEvent,St=new vt({active:Se.current,activeNode:dn,event:$t,options:Ot,context:tn,onAbort(At){if(!x.get(At))return;const{onDragAbort:pn}=ge.current,Tn={id:At};pn?.(Tn),ae({type:"onDragAbort",event:Tn})},onPending(At,mn,pn,Tn){if(!x.get(At))return;const{onDragPending:wn}=ge.current,Yn={id:At,constraint:mn,initialCoordinates:pn,offset:Tn};wn?.(Yn),ae({type:"onDragPending",event:Yn})},onStart(At){const mn=Se.current;if(mn==null)return;const pn=x.get(mn);if(!pn)return;const{onDragStart:Tn}=ge.current,Kn={activatorEvent:$t,active:{id:mn,data:pn.data,rect:V}};fu.unstable_batchedUpdates(()=>{Tn?.(Kn),pe(Ds.Initializing),ie({type:Qt.DragStart,initialCoordinates:At,active:mn}),ae({type:"onDragStart",event:Kn}),F(fn.current),oe($t)})},onMove(At){ie({type:Qt.DragMove,coordinates:At})},onEnd:Nn(Qt.DragEnd),onCancel:Nn(Qt.DragCancel)});fn.current=St;function Nn(At){return async function(){const{active:pn,collisions:Tn,over:Kn,scrollAdjustedTranslate:wn}=tn.current;let Yn=null;if(pn&&wn){const{cancelDrop:nn}=ge.current;Yn={activatorEvent:$t,active:pn,collisions:Tn,delta:wn,over:Kn},At===Qt.DragEnd&&typeof nn=="function"&&await Promise.resolve(nn(Yn))&&(At=Qt.DragCancel)}Se.current=null,fu.unstable_batchedUpdates(()=>{ie({type:At}),pe(Ds.Uninitialized),ta(null),F(null),oe(null),fn.current=null;const nn=At===Qt.DragEnd?"onDragEnd":"onDragCancel";if(Yn){const Sn=ge.current[nn];Sn?.(Yn),ae({type:nn,event:Yn})}})}}},[x]),Ga=H.useCallback((Ve,yt)=>(vt,Ot)=>{const dn=vt.nativeEvent,$t=x.get(Ot);if(Se.current!==null||!$t||dn.dndKit||dn.defaultPrevented)return;const St={active:$t};Ve(vt,yt.options,St)===!0&&(dn.dndKit={capturedBy:yt.sensor},Se.current=Ot,gt(vt,yt))},[x,gt]),_r=xx(E,Ga);kx(E),dr(()=>{Ue&&de===Ds.Initializing&&pe(Ds.Initialized)},[Ue,de]),H.useEffect(()=>{const{onDragMove:Ve}=ge.current,{active:yt,activatorEvent:vt,collisions:Ot,over:dn}=tn.current;if(!yt||!vt)return;const $t={active:yt,activatorEvent:vt,collisions:Ot,delta:{x:ui.x,y:ui.y},over:dn};fu.unstable_batchedUpdates(()=>{Ve?.($t),ae({type:"onDragMove",event:$t})})},[ui.x,ui.y]),H.useEffect(()=>{const{active:Ve,activatorEvent:yt,collisions:vt,droppableContainers:Ot,scrollAdjustedTranslate:dn}=tn.current;if(!Ve||Se.current==null||!yt||!dn)return;const{onDragOver:$t}=ge.current,St=Ot.get(ea),Nn=St&&St.rect.current?{id:St.id,rect:St.rect.current,data:St.data,disabled:St.disabled}:null,At={active:Ve,activatorEvent:yt,collisions:vt,delta:{x:dn.x,y:dn.y},over:Nn};fu.unstable_batchedUpdates(()=>{ta(Nn),$t?.(At),ae({type:"onDragOver",event:At})})},[ea]),dr(()=>{tn.current={activatorEvent:te,active:N,activeNode:_e,collisionRect:bn,collisions:vr,droppableRects:re,draggableNodes:x,draggingNode:li,draggingNodeRect:Cn,droppableContainers:S,over:Gn,scrollableAncestors:it,scrollAdjustedTranslate:ui},V.current={initial:Cn,translated:bn}},[N,_e,vr,bn,x,li,Cn,re,S,Gn,it,ui]),wx({...nt,delta:D,draggingRect:bn,pointerCoordinates:Zs,scrollableAncestors:it,scrollableAncestorRects:Fn});const Qa=H.useMemo(()=>({active:N,activeNode:_e,activeNodeRect:Ue,activatorEvent:te,collisions:vr,containerNodeRect:oi,dragOverlay:Dt,draggableNodes:x,droppableContainers:S,droppableRects:re,over:Gn,measureDroppableContainers:le,scrollableAncestors:it,scrollableAncestorRects:Fn,measuringConfiguration:K,measuringScheduled:Ee,windowRect:pt}),[N,_e,Ue,te,vr,oi,Dt,x,S,re,Gn,le,it,Fn,K,Ee,pt]),ci=H.useMemo(()=>({activatorEvent:te,activators:_r,active:N,activeNodeRect:Ue,ariaDescribedById:{draggable:Ae},dispatch:ie,draggableNodes:x,over:Gn,measureDroppableContainers:le}),[te,_r,N,Ue,ie,Ae,x,Gn,le]);return zn.createElement(sT.Provider,{value:ne},zn.createElement(xf.Provider,{value:ci},zn.createElement(_T.Provider,{value:Qa},zn.createElement(ET.Provider,{value:Ft},p)),zn.createElement(Qx,{disabled:m?.restoreFocus===!1})),zn.createElement(KR,{...m,hiddenTextDescribedById:Ae}));function Er(){const Ve=Me?.autoScrollEnabled===!1,yt=typeof g=="object"?g.enabled===!1:g===!1,vt=he&&!Ve&&!yt;return typeof g=="object"?{...g,enabled:vt}:{enabled:vt}}}),Jx=H.createContext(null),cE="button",Zx="Draggable";function Wx(i){let{id:e,data:n,disabled:s=!1,attributes:o}=i;const u=Zu(Zx),{activators:f,activatorEvent:m,active:g,activeNodeRect:p,ariaDescribedById:E,draggableNodes:T,over:R}=H.useContext(xf),{role:P=cE,roleDescription:X="draggable",tabIndex:L=0}=o??{},Y=g?.id===e,ie=H.useContext(Y?ET:Jx),[ae,ne]=ef(),[de,pe]=ef(),he=Px(f,e),C=Ou(n);dr(()=>(T.set(e,{id:e,key:u,node:ae,activatorNode:de,data:C}),()=>{const D=T.get(e);D&&D.key===u&&T.delete(e)}),[T,e]);const x=H.useMemo(()=>({role:P,tabIndex:L,"aria-disabled":s,"aria-pressed":Y&&P===cE?!0:void 0,"aria-roledescription":X,"aria-describedby":E.draggable}),[s,P,L,Y,X,E.draggable]);return{active:g,activatorEvent:m,activeNodeRect:p,attributes:x,isDragging:Y,listeners:s?void 0:he,node:ae,over:R,setNodeRef:ne,setActivatorNodeRef:pe,transform:ie}}function eI(){return H.useContext(_T)}const tI="Droppable",nI={timeout:25};function iI(i){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:o}=i;const u=Zu(tI),{active:f,dispatch:m,over:g,measureDroppableContainers:p}=H.useContext(xf),E=H.useRef({disabled:n}),T=H.useRef(!1),R=H.useRef(null),P=H.useRef(null),{disabled:X,updateMeasurementsFor:L,timeout:Y}={...nI,...o},ie=Ou(L??s),ae=H.useCallback(()=>{if(!T.current){T.current=!0;return}P.current!=null&&clearTimeout(P.current),P.current=setTimeout(()=>{p(Array.isArray(ie.current)?ie.current:[ie.current]),P.current=null},Y)},[Y]),ne=Rf({callback:ae,disabled:X||!f}),de=H.useCallback((x,D)=>{ne&&(D&&(ne.unobserve(D),T.current=!1),x&&ne.observe(x))},[ne]),[pe,he]=ef(de),C=Ou(e);return H.useEffect(()=>{!ne||!pe.current||(ne.disconnect(),T.current=!1,ne.observe(pe.current))},[pe,ne]),H.useEffect(()=>(m({type:Qt.RegisterDroppable,element:{id:s,key:u,disabled:n,node:pe,rect:R,data:C}}),()=>m({type:Qt.UnregisterDroppable,key:u,id:s})),[s]),H.useEffect(()=>{n!==E.current.disabled&&(m({type:Qt.SetDroppableDisabled,id:s,key:u,disabled:n}),E.current.disabled=n)},[s,u,n,m]),{active:f,rect:R,isOver:g?.id===s,node:pe,over:g,setNodeRef:he}}function dg(i,e,n){const s=i.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function rI(i,e){return i.reduce((n,s,o)=>{const u=e.get(s);return u&&(n[o]=u),n},Array(i.length))}function Oh(i){return i!==null&&i>=0}function sI(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++)if(i[n]!==e[n])return!1;return!0}function aI(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const bT=i=>{let{rects:e,activeIndex:n,overIndex:s,index:o}=i;const u=dg(e,s,n),f=e[o],m=u[o];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},Mh={scaleX:1,scaleY:1},oI=i=>{var e;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:f}=i;const m=(e=u[n])!=null?e:s;if(!m)return null;if(o===n){const p=u[f];return p?{x:0,y:n<f?p.top+p.height-(m.top+m.height):p.top-m.top,...Mh}:null}const g=lI(u,o,n);return o>n&&o<=f?{x:0,y:-m.height-g,...Mh}:o<n&&o>=f?{x:0,y:m.height+g,...Mh}:{x:0,y:0,...Mh}};function lI(i,e,n){const s=i[e],o=i[e-1],u=i[e+1];return s?n<e?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const TT="Sortable",wT=zn.createContext({activeIndex:-1,containerId:TT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bT,disabled:{draggable:!1,droppable:!1}});function uI(i){let{children:e,id:n,items:s,strategy:o=bT,disabled:u=!1}=i;const{active:f,dragOverlay:m,droppableRects:g,over:p,measureDroppableContainers:E}=eI(),T=Zu(TT,n),R=m.rect!==null,P=H.useMemo(()=>s.map(he=>typeof he=="object"&&"id"in he?he.id:he),[s]),X=f!=null,L=f?P.indexOf(f.id):-1,Y=p?P.indexOf(p.id):-1,ie=H.useRef(P),ae=!sI(P,ie.current),ne=Y!==-1&&L===-1||ae,de=aI(u);dr(()=>{ae&&X&&E(P)},[ae,P,X,E]),H.useEffect(()=>{ie.current=P},[P]);const pe=H.useMemo(()=>({activeIndex:L,containerId:T,disabled:de,disableTransforms:ne,items:P,overIndex:Y,useDragOverlay:R,sortedRects:rI(P,g),strategy:o}),[L,T,de.draggable,de.droppable,ne,P,Y,g,R,o]);return zn.createElement(wT.Provider,{value:pe},e)}const cI=i=>{let{id:e,items:n,activeIndex:s,overIndex:o}=i;return dg(n,s,o).indexOf(e)},hI=i=>{let{containerId:e,isSorting:n,wasDragging:s,index:o,items:u,newIndex:f,previousItems:m,previousContainerId:g,transition:p}=i;return!p||!s||m!==u&&o===f?!1:n?!0:f!==o&&e===g},fI={duration:200,easing:"ease"},ST="transform",dI=Vu.Transition.toString({property:ST,duration:0,easing:"linear"}),mI={roleDescription:"sortable"};function pI(i){let{disabled:e,index:n,node:s,rect:o}=i;const[u,f]=H.useState(null),m=H.useRef(n);return dr(()=>{if(!e&&n!==m.current&&s.current){const g=o.current;if(g){const p=el(s.current,{ignoreTransform:!0}),E={x:g.left-p.left,y:g.top-p.top,scaleX:g.width/p.width,scaleY:g.height/p.height};(E.x||E.y)&&f(E)}}n!==m.current&&(m.current=n)},[e,n,s,o]),H.useEffect(()=>{u&&f(null)},[u]),u}function gI(i){let{animateLayoutChanges:e=hI,attributes:n,disabled:s,data:o,getNewIndex:u=cI,id:f,strategy:m,resizeObserverConfig:g,transition:p=fI}=i;const{items:E,containerId:T,activeIndex:R,disabled:P,disableTransforms:X,sortedRects:L,overIndex:Y,useDragOverlay:ie,strategy:ae}=H.useContext(wT),ne=yI(s,P),de=E.indexOf(f),pe=H.useMemo(()=>({sortable:{containerId:T,index:de,items:E},...o}),[T,o,de,E]),he=H.useMemo(()=>E.slice(E.indexOf(f)),[E,f]),{rect:C,node:x,isOver:D,setNodeRef:S}=iI({id:f,data:pe,disabled:ne.droppable,resizeObserverConfig:{updateMeasurementsFor:he,...g}}),{active:I,activatorEvent:V,activeNodeRect:N,attributes:Se,setNodeRef:Me,listeners:F,isDragging:te,over:oe,setActivatorNodeRef:ge,transform:Ae}=Wx({id:f,data:pe,attributes:{...mI,...n},disabled:ne.draggable}),M=VR(S,Me),K=!!I,re=K&&!X&&Oh(R)&&Oh(Y),le=!ie&&te,Ee=le&&re?Ae:null,Oe=re?Ee??(m??ae)({rects:L,activeNodeRect:N,activeIndex:R,overIndex:Y,index:de}):null,nt=Oh(R)&&Oh(Y)?u({id:f,items:E,activeIndex:R,overIndex:Y}):de,Ge=I?.id,Ue=H.useRef({activeId:Ge,items:E,newIndex:nt,containerId:T}),oi=E!==Ue.current.items,tn=e({active:I,containerId:T,isDragging:te,isSorting:K,id:f,index:de,items:E,newIndex:Ue.current.newIndex,previousItems:Ue.current.items,previousContainerId:Ue.current.containerId,transition:p,wasDragging:Ue.current.activeId!=null}),Hn=pI({disabled:!tn,index:de,node:x,rect:C});return H.useEffect(()=>{K&&Ue.current.newIndex!==nt&&(Ue.current.newIndex=nt),T!==Ue.current.containerId&&(Ue.current.containerId=T),E!==Ue.current.items&&(Ue.current.items=E)},[K,nt,T,E]),H.useEffect(()=>{if(Ge===Ue.current.activeId)return;if(Ge!=null&&Ue.current.activeId==null){Ue.current.activeId=Ge;return}const li=setTimeout(()=>{Ue.current.activeId=Ge},50);return()=>clearTimeout(li)},[Ge]),{active:I,activeIndex:R,attributes:Se,data:pe,rect:C,index:de,newIndex:nt,items:E,isOver:D,isSorting:K,isDragging:te,listeners:F,node:x,overIndex:Y,over:oe,setNodeRef:M,setActivatorNodeRef:ge,setDroppableNodeRef:S,setDraggableNodeRef:Me,transform:Hn??Oe,transition:Dt()};function Dt(){if(Hn||oi&&Ue.current.newIndex===de)return dI;if(!(le&&!lg(V)||!p)&&(K||tn))return Vu.Transition.toString({...p,property:ST})}}function yI(i,e){var n,s;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(n=i?.draggable)!=null?n:e.draggable,droppable:(s=i?.droppable)!=null?s:e.droppable}}function rf(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const vI=[Fe.Down,Fe.Right,Fe.Up,Fe.Left],_I=(i,e)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:f,scrollableAncestors:m}}=e;if(vI.includes(i.code)){if(i.preventDefault(),!n||!s)return;const g=[];u.getEnabled().forEach(T=>{if(!T||T!=null&&T.disabled)return;const R=o.get(T.id);if(R)switch(i.code){case Fe.Down:s.top<R.top&&g.push(T);break;case Fe.Up:s.top>R.top&&g.push(T);break;case Fe.Left:s.left>R.left&&g.push(T);break;case Fe.Right:s.left<R.left&&g.push(T);break}});const p=JR({collisionRect:s,droppableRects:o,droppableContainers:g});let E=lT(p,"id");if(E===f?.id&&p.length>1&&(E=p[1].id),E!=null){const T=u.get(n.id),R=u.get(E),P=R?o.get(R.id):null,X=R?.node.current;if(X&&P&&T&&R){const Y=Af(X).some((he,C)=>m[C]!==he),ie=AT(T,R),ae=EI(T,R),ne=Y||!ie?{x:0,y:0}:{x:ae?s.width-P.width:0,y:ae?s.height-P.height:0},de={x:P.left,y:P.top};return ne.x&&ne.y?de:Mu(de,ne)}}}};function AT(i,e){return!rf(i)||!rf(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function EI(i,e){return!rf(i)||!rf(e)||!AT(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const bI=()=>{};var hE={};const RT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},TI=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|p>>6,P=p&63;g||(P=64,f||(R=64)),s.push(n[E],n[T],n[R],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(RT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):TI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||T==null)throw new wI;const R=u<<2|m>>4;if(s.push(R),p!==64){const P=m<<4&240|p>>2;if(s.push(P),T!==64){const X=p<<6&192|T;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class wI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SI=function(i){const e=RT(i);return xT.encodeByteArray(e,!0)},sf=function(i){return SI(i).replace(/\./g,"")},IT=function(i){try{return xT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const RI=()=>AI().__FIREBASE_DEFAULTS__,xI=()=>{if(typeof process>"u"||typeof hE>"u")return;const i=hE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},II=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&IT(i[1]);return e&&JSON.parse(e)},If=()=>{try{return bI()||RI()||xI()||II()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},CT=i=>If()?.emulatorHosts?.[i],CI=i=>{const e=CT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},NT=()=>If()?.config,DT=i=>If()?.[`_${i}`];class NI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function tl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OT(i){return(await fetch(i,{credentials:"include"})).ok}function DI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[sf(JSON.stringify(n)),sf(JSON.stringify(f)),""].join(".")}const Ru={};function OI(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?i.emulator.push(e):i.prod.push(e);return i}function MI(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let fE=!1;function MT(i,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||Ru[i]===e||Ru[i]||fE)return;Ru[i]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=OI().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,P){R.setAttribute("width","24"),R.setAttribute("id",P),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function p(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{fE=!0,f()},R}function E(R,P){R.setAttribute("id",P),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=MI(s),P=n("text"),X=document.getElementById(P)||document.createElement("span"),L=n("learnmore"),Y=document.getElementById(L)||document.createElement("a"),ie=n("preprendIcon"),ae=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ne=R.element;m(ne),E(Y,L);const de=p();g(ae,ie),ne.append(ae,X,Y,de),document.body.appendChild(ne)}u?(X.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function kI(){const i=If()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function LI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jI(){const i=En();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function zI(){return!kI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function qI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const BI="FirebaseError";class gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=BI,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}}class qa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?HI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new gr(o,m,s)}}function HI(i,e){return i.replace(FI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FI=/\{\$([^}]+)}/g;function GI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Va(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(dE(u)&&dE(f)){if(!Va(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function dE(i){return i!==null&&typeof i=="object"}function Wu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function du(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function mu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function QI(i,e){const n=new KI(i,e);return n.subscribe.bind(n)}class KI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");YI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=rp),o.error===void 0&&(o.error=rp),o.complete===void 0&&(o.complete=rp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YI(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function rp(){}function Ht(i){return i&&i._delegate?i._delegate:i}class zi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xa="[DEFAULT]";class $I{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new NI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JI(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XI(i){return i===xa?void 0:i}function JI(i){return i.instantiationMode==="EAGER"}class ZI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $I(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const WI={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},eC=ze.INFO,tC={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},nC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=tC[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mg{constructor(e){this.name=e,this._logLevel=eC,this._logHandler=nC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const iC=(i,e)=>e.some(n=>i instanceof n);let mE,pE;function rC(){return mE||(mE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sC(){return pE||(pE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PT=new WeakMap,Np=new WeakMap,UT=new WeakMap,sp=new WeakMap,pg=new WeakMap;function aC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Hr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&PT.set(n,i)}).catch(()=>{}),pg.set(e,i),e}function oC(i){if(Np.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Np.set(i,e)}let Dp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Np.get(i);if(e==="objectStoreNames")return i.objectStoreNames||UT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function lC(i){Dp=i(Dp)}function uC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(ap(this),e,...n);return UT.set(s,e.sort?e.sort():[e]),Hr(s)}:sC().includes(i)?function(...e){return i.apply(ap(this),e),Hr(PT.get(this))}:function(...e){return Hr(i.apply(ap(this),e))}}function cC(i){return typeof i=="function"?uC(i):(i instanceof IDBTransaction&&oC(i),iC(i,rC())?new Proxy(i,Dp):i)}function Hr(i){if(i instanceof IDBRequest)return aC(i);if(sp.has(i))return sp.get(i);const e=cC(i);return e!==i&&(sp.set(i,e),pg.set(e,i)),e}const ap=i=>pg.get(i);function Cf(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Hr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Hr(f.result),g.oldVersion,g.newVersion,Hr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}function op(i,{blocked:e}={}){const n=indexedDB.deleteDatabase(i);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),Hr(n).then(()=>{})}const hC=["get","getKey","getAll","getAllKeys","count"],fC=["put","add","delete","clear"],lp=new Map;function gE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=fC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hC.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return lp.set(e,u),u}lC(i=>({...i,get:(e,n,s)=>gE(e,n)||i.get(e,n,s),has:(e,n)=>!!gE(e,n)||i.has(e,n)}));class dC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mC(i){return i.getComponent()?.type==="VERSION"}const Op="@firebase/app",yE="0.14.6";const Qr=new mg("@firebase/app"),pC="@firebase/app-compat",gC="@firebase/analytics-compat",yC="@firebase/analytics",vC="@firebase/app-check-compat",_C="@firebase/app-check",EC="@firebase/auth",bC="@firebase/auth-compat",TC="@firebase/database",wC="@firebase/data-connect",SC="@firebase/database-compat",AC="@firebase/functions",RC="@firebase/functions-compat",xC="@firebase/installations",IC="@firebase/installations-compat",CC="@firebase/messaging",NC="@firebase/messaging-compat",DC="@firebase/performance",OC="@firebase/performance-compat",MC="@firebase/remote-config",VC="@firebase/remote-config-compat",kC="@firebase/storage",PC="@firebase/storage-compat",UC="@firebase/firestore",LC="@firebase/ai",jC="@firebase/firestore-compat",zC="firebase",qC="12.6.0";const Mp="[DEFAULT]",BC={[Op]:"fire-core",[pC]:"fire-core-compat",[yC]:"fire-analytics",[gC]:"fire-analytics-compat",[_C]:"fire-app-check",[vC]:"fire-app-check-compat",[EC]:"fire-auth",[bC]:"fire-auth-compat",[TC]:"fire-rtdb",[wC]:"fire-data-connect",[SC]:"fire-rtdb-compat",[AC]:"fire-fn",[RC]:"fire-fn-compat",[xC]:"fire-iid",[IC]:"fire-iid-compat",[CC]:"fire-fcm",[NC]:"fire-fcm-compat",[DC]:"fire-perf",[OC]:"fire-perf-compat",[MC]:"fire-rc",[VC]:"fire-rc-compat",[kC]:"fire-gcs",[PC]:"fire-gcs-compat",[UC]:"fire-fst",[jC]:"fire-fst-compat",[LC]:"fire-vertex","fire-js":"fire-js",[zC]:"fire-js-all"};const af=new Map,HC=new Map,Vp=new Map;function vE(i,e){try{i.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function mr(i){const e=i.name;if(Vp.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,i);for(const n of af.values())vE(n,i);for(const n of HC.values())vE(n,i);return!0}function nl(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ai(i){return i==null?!1:i.settings!==void 0}const FC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new qa("app","Firebase",FC);class GC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}const il=qC;function LT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Mp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Us.create("bad-app-name",{appName:String(o)});if(n||(n=NT()),!n)throw Us.create("no-options");const u=af.get(o);if(u){if(Va(n,u.options)&&Va(s,u.config))return u;throw Us.create("duplicate-app",{appName:o})}const f=new ZI(o);for(const g of Vp.values())f.addComponent(g);const m=new GC(n,s,f);return af.set(o,m),m}function gg(i=Mp){const e=af.get(i);if(!e&&i===Mp&&NT())return LT();if(!e)throw Us.create("no-app",{appName:i});return e}function xi(i,e,n){let s=BC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(f.join(" "));return}mr(new zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const QC="firebase-heartbeat-database",KC=1,Pu="firebase-heartbeat-store";let up=null;function jT(){return up||(up=Cf(QC,KC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Us.create("idb-open",{originalErrorMessage:i.message})})),up}async function YC(i){try{const n=(await jT()).transaction(Pu),s=await n.objectStore(Pu).get(zT(i));return await n.done,s}catch(e){if(e instanceof gr)Qr.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(n.message)}}}async function _E(i,e){try{const s=(await jT()).transaction(Pu,"readwrite");await s.objectStore(Pu).put(e,zT(i)),await s.done}catch(n){if(n instanceof gr)Qr.warn(n.message);else{const s=Us.create("idb-set",{originalErrorMessage:n?.message});Qr.warn(s.message)}}}function zT(i){return`${i.name}!${i.options.appId}`}const $C=1024,XC=30;class JC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>XC){const o=eN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=EE(),{heartbeatsToSend:n,unsentEntries:s}=ZC(this._heartbeatsCache.heartbeats),o=sf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qr.warn(e),""}}}function EE(){return new Date().toISOString().substring(0,10)}function ZC(i,e=$C){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),bE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),bE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class WC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bE(i){return sf(JSON.stringify({version:2,heartbeats:i})).length}function eN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function tN(i){mr(new zi("platform-logger",e=>new dC(e),"PRIVATE")),mr(new zi("heartbeat",e=>new JC(e),"PRIVATE")),xi(Op,yE,i),xi(Op,yE,"esm2020"),xi("fire-js","")}tN("");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ls,qT;(function(){var i;function e(C,x){function D(){}D.prototype=x.prototype,C.F=x.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(S,I,V){for(var N=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)N[Se-2]=arguments[Se];return x.prototype[I].apply(S,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,D){D||(D=0);const S=Array(16);if(typeof x=="string")for(var I=0;I<16;++I)S[I]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(I=0;I<16;++I)S[I]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=C.g[0],D=C.g[1],I=C.g[2];let V=C.g[3],N;N=x+(V^D&(I^V))+S[0]+3614090360&4294967295,x=D+(N<<7&4294967295|N>>>25),N=V+(I^x&(D^I))+S[1]+3905402710&4294967295,V=x+(N<<12&4294967295|N>>>20),N=I+(D^V&(x^D))+S[2]+606105819&4294967295,I=V+(N<<17&4294967295|N>>>15),N=D+(x^I&(V^x))+S[3]+3250441966&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(V^D&(I^V))+S[4]+4118548399&4294967295,x=D+(N<<7&4294967295|N>>>25),N=V+(I^x&(D^I))+S[5]+1200080426&4294967295,V=x+(N<<12&4294967295|N>>>20),N=I+(D^V&(x^D))+S[6]+2821735955&4294967295,I=V+(N<<17&4294967295|N>>>15),N=D+(x^I&(V^x))+S[7]+4249261313&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(V^D&(I^V))+S[8]+1770035416&4294967295,x=D+(N<<7&4294967295|N>>>25),N=V+(I^x&(D^I))+S[9]+2336552879&4294967295,V=x+(N<<12&4294967295|N>>>20),N=I+(D^V&(x^D))+S[10]+4294925233&4294967295,I=V+(N<<17&4294967295|N>>>15),N=D+(x^I&(V^x))+S[11]+2304563134&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(V^D&(I^V))+S[12]+1804603682&4294967295,x=D+(N<<7&4294967295|N>>>25),N=V+(I^x&(D^I))+S[13]+4254626195&4294967295,V=x+(N<<12&4294967295|N>>>20),N=I+(D^V&(x^D))+S[14]+2792965006&4294967295,I=V+(N<<17&4294967295|N>>>15),N=D+(x^I&(V^x))+S[15]+1236535329&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(I^V&(D^I))+S[1]+4129170786&4294967295,x=D+(N<<5&4294967295|N>>>27),N=V+(D^I&(x^D))+S[6]+3225465664&4294967295,V=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(V^x))+S[11]+643717713&4294967295,I=V+(N<<14&4294967295|N>>>18),N=D+(V^x&(I^V))+S[0]+3921069994&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(I^V&(D^I))+S[5]+3593408605&4294967295,x=D+(N<<5&4294967295|N>>>27),N=V+(D^I&(x^D))+S[10]+38016083&4294967295,V=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(V^x))+S[15]+3634488961&4294967295,I=V+(N<<14&4294967295|N>>>18),N=D+(V^x&(I^V))+S[4]+3889429448&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(I^V&(D^I))+S[9]+568446438&4294967295,x=D+(N<<5&4294967295|N>>>27),N=V+(D^I&(x^D))+S[14]+3275163606&4294967295,V=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(V^x))+S[3]+4107603335&4294967295,I=V+(N<<14&4294967295|N>>>18),N=D+(V^x&(I^V))+S[8]+1163531501&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(I^V&(D^I))+S[13]+2850285829&4294967295,x=D+(N<<5&4294967295|N>>>27),N=V+(D^I&(x^D))+S[2]+4243563512&4294967295,V=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(V^x))+S[7]+1735328473&4294967295,I=V+(N<<14&4294967295|N>>>18),N=D+(V^x&(I^V))+S[12]+2368359562&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(D^I^V)+S[5]+4294588738&4294967295,x=D+(N<<4&4294967295|N>>>28),N=V+(x^D^I)+S[8]+2272392833&4294967295,V=x+(N<<11&4294967295|N>>>21),N=I+(V^x^D)+S[11]+1839030562&4294967295,I=V+(N<<16&4294967295|N>>>16),N=D+(I^V^x)+S[14]+4259657740&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(D^I^V)+S[1]+2763975236&4294967295,x=D+(N<<4&4294967295|N>>>28),N=V+(x^D^I)+S[4]+1272893353&4294967295,V=x+(N<<11&4294967295|N>>>21),N=I+(V^x^D)+S[7]+4139469664&4294967295,I=V+(N<<16&4294967295|N>>>16),N=D+(I^V^x)+S[10]+3200236656&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(D^I^V)+S[13]+681279174&4294967295,x=D+(N<<4&4294967295|N>>>28),N=V+(x^D^I)+S[0]+3936430074&4294967295,V=x+(N<<11&4294967295|N>>>21),N=I+(V^x^D)+S[3]+3572445317&4294967295,I=V+(N<<16&4294967295|N>>>16),N=D+(I^V^x)+S[6]+76029189&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(D^I^V)+S[9]+3654602809&4294967295,x=D+(N<<4&4294967295|N>>>28),N=V+(x^D^I)+S[12]+3873151461&4294967295,V=x+(N<<11&4294967295|N>>>21),N=I+(V^x^D)+S[15]+530742520&4294967295,I=V+(N<<16&4294967295|N>>>16),N=D+(I^V^x)+S[2]+3299628645&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(I^(D|~V))+S[0]+4096336452&4294967295,x=D+(N<<6&4294967295|N>>>26),N=V+(D^(x|~I))+S[7]+1126891415&4294967295,V=x+(N<<10&4294967295|N>>>22),N=I+(x^(V|~D))+S[14]+2878612391&4294967295,I=V+(N<<15&4294967295|N>>>17),N=D+(V^(I|~x))+S[5]+4237533241&4294967295,D=I+(N<<21&4294967295|N>>>11),N=x+(I^(D|~V))+S[12]+1700485571&4294967295,x=D+(N<<6&4294967295|N>>>26),N=V+(D^(x|~I))+S[3]+2399980690&4294967295,V=x+(N<<10&4294967295|N>>>22),N=I+(x^(V|~D))+S[10]+4293915773&4294967295,I=V+(N<<15&4294967295|N>>>17),N=D+(V^(I|~x))+S[1]+2240044497&4294967295,D=I+(N<<21&4294967295|N>>>11),N=x+(I^(D|~V))+S[8]+1873313359&4294967295,x=D+(N<<6&4294967295|N>>>26),N=V+(D^(x|~I))+S[15]+4264355552&4294967295,V=x+(N<<10&4294967295|N>>>22),N=I+(x^(V|~D))+S[6]+2734768916&4294967295,I=V+(N<<15&4294967295|N>>>17),N=D+(V^(I|~x))+S[13]+1309151649&4294967295,D=I+(N<<21&4294967295|N>>>11),N=x+(I^(D|~V))+S[4]+4149444226&4294967295,x=D+(N<<6&4294967295|N>>>26),N=V+(D^(x|~I))+S[11]+3174756917&4294967295,V=x+(N<<10&4294967295|N>>>22),N=I+(x^(V|~D))+S[2]+718787259&4294967295,I=V+(N<<15&4294967295|N>>>17),N=D+(V^(I|~x))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+V&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const D=x-this.blockSize,S=this.C;let I=this.h,V=0;for(;V<x;){if(I==0)for(;V<=D;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<x;)if(S[I++]=C.charCodeAt(V++),I==this.blockSize){o(this,S),I=0;break}}else for(;V<x;)if(S[I++]=C[V++],I==this.blockSize){o(this,S),I=0;break}}this.h=I,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,D=0;D<4;++D)for(let S=0;S<32;S+=8)C[x++]=this.g[D]>>>S&255;return C};function u(C,x){var D=m;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=x(C)}function f(C,x){this.h=x;const D=[];let S=!0;for(let I=C.length-1;I>=0;I--){const V=C[I]|0;S&&V==x||(D[I]=V,S=!1)}this.g=D}var m={};function g(C){return-128<=C&&C<128?u(C,function(x){return new f([x|0],x<0?-1:0)}):new f([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return Y(p(-C));const x=[];let D=1;for(let S=0;C>=D;S++)x[S]=C/D|0,D*=4294967296;return new f(x,0)}function E(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return Y(E(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(x,8));let S=T;for(let V=0;V<C.length;V+=8){var I=Math.min(8,C.length-V);const N=parseInt(C.substring(V,V+I),x);I<8?(I=p(Math.pow(x,I)),S=S.j(I).add(p(N))):(S=S.j(D),S=S.add(p(N)))}return S}var T=g(0),R=g(1),P=g(16777216);i=f.prototype,i.m=function(){if(L(this))return-Y(this).m();let C=0,x=1;for(let D=0;D<this.g.length;D++){const S=this.i(D);C+=(S>=0?S:4294967296+S)*x,x*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(L(this))return"-"+Y(this).toString(C);const x=p(Math.pow(C,6));var D=this;let S="";for(;;){const I=de(D,x).g;D=ie(D,I.j(x));let V=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=I,X(D))return V+S;for(;V.length<6;)V="0"+V;S=V+S}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function L(C){return C.h==-1}i.l=function(C){return C=ie(this,C),L(C)?-1:X(C)?0:1};function Y(C){const x=C.g.length,D=[];for(let S=0;S<x;S++)D[S]=~C.g[S];return new f(D,~C.h).add(R)}i.abs=function(){return L(this)?Y(this):this},i.add=function(C){const x=Math.max(this.g.length,C.g.length),D=[];let S=0;for(let I=0;I<=x;I++){let V=S+(this.i(I)&65535)+(C.i(I)&65535),N=(V>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);S=N>>>16,V&=65535,N&=65535,D[I]=N<<16|V}return new f(D,D[D.length-1]&-2147483648?-1:0)};function ie(C,x){return C.add(Y(x))}i.j=function(C){if(X(this)||X(C))return T;if(L(this))return L(C)?Y(this).j(Y(C)):Y(Y(this).j(C));if(L(C))return Y(this.j(Y(C)));if(this.l(P)<0&&C.l(P)<0)return p(this.m()*C.m());const x=this.g.length+C.g.length,D=[];for(var S=0;S<2*x;S++)D[S]=0;for(S=0;S<this.g.length;S++)for(let I=0;I<C.g.length;I++){const V=this.i(S)>>>16,N=this.i(S)&65535,Se=C.i(I)>>>16,Me=C.i(I)&65535;D[2*S+2*I]+=N*Me,ae(D,2*S+2*I),D[2*S+2*I+1]+=V*Me,ae(D,2*S+2*I+1),D[2*S+2*I+1]+=N*Se,ae(D,2*S+2*I+1),D[2*S+2*I+2]+=V*Se,ae(D,2*S+2*I+2)}for(C=0;C<x;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=x;C<2*x;C++)D[C]=0;return new f(D,0)};function ae(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function ne(C,x){this.g=C,this.h=x}function de(C,x){if(X(x))throw Error("division by zero");if(X(C))return new ne(T,T);if(L(C))return x=de(Y(C),x),new ne(Y(x.g),Y(x.h));if(L(x))return x=de(C,Y(x)),new ne(Y(x.g),x.h);if(C.g.length>30){if(L(C)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var D=R,S=x;S.l(C)<=0;)D=pe(D),S=pe(S);var I=he(D,1),V=he(S,1);for(S=he(S,2),D=he(D,2);!X(S);){var N=V.add(S);N.l(C)<=0&&(I=I.add(D),V=N),S=he(S,1),D=he(D,1)}return x=ie(C,I.j(x)),new ne(I,x)}for(I=T;C.l(x)>=0;){for(D=Math.max(1,Math.floor(C.m()/x.m())),S=Math.ceil(Math.log(D)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),V=p(D),N=V.j(x);L(N)||N.l(C)>0;)D-=S,V=p(D),N=V.j(x);X(V)&&(V=R),I=I.add(V),C=ie(C,N)}return new ne(I,C)}i.B=function(C){return de(this,C).h},i.and=function(C){const x=Math.max(this.g.length,C.g.length),D=[];for(let S=0;S<x;S++)D[S]=this.i(S)&C.i(S);return new f(D,this.h&C.h)},i.or=function(C){const x=Math.max(this.g.length,C.g.length),D=[];for(let S=0;S<x;S++)D[S]=this.i(S)|C.i(S);return new f(D,this.h|C.h)},i.xor=function(C){const x=Math.max(this.g.length,C.g.length),D=[];for(let S=0;S<x;S++)D[S]=this.i(S)^C.i(S);return new f(D,this.h^C.h)};function pe(C){const x=C.g.length+1,D=[];for(let S=0;S<x;S++)D[S]=C.i(S)<<1|C.i(S-1)>>>31;return new f(D,C.h)}function he(C,x){const D=x>>5;x%=32;const S=C.g.length-D,I=[];for(let V=0;V<S;V++)I[V]=x>0?C.i(V+D)>>>x|C.i(V+D+1)<<32-x:C.i(V+D);return new f(I,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Ls=f}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BT,pu,HT,Hh,kp,FT,GT,QT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break e;_=_[j]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&_.push([A,y[A]]);return _}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,j,G){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return y.prototype[j].apply(A,se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function X(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var _=typeof j;if(_=_!="object"?_:j?Array.isArray(j)?"array":_:"null",_=="array"||_=="object"&&typeof j.length=="number"){_=c.length||0;const G=j.length||0;c.length=_+G;for(let se=0;se<G;se++)c[_+se]=j[se]}else c.push(j)}}class L{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ae{constructor(){this.h=this.g=null}add(y,_){const A=ne.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new L(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,he=!1,C=new ae,x=()=>{const c=Promise.resolve(void 0);pe=()=>{c.then(D)}};function D(){for(var c;c=ie();){try{c.h.call(c.g)}catch(_){Y(_)}var y=ne;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}he=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Se(c,y){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Se,I),Se.prototype.init=function(c,y){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(c,y,_,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=j,this.key=++F,this.da=this.fa=!1}function oe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ge(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function Ae(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function M(c){const y={};for(const _ in c)y[_]=c[_];return y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,y){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let G=0;G<K.length;G++)_=K[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,y,_,A,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=_e(c,y,A,j);return se>-1?(y=c[se],_||(y.fa=!1)):(y=new te(y,this.src,G,!!A,j),y.fa=_,c.push(y)),y};function Ee(c,y){const _=y.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,y,void 0),G;(G=j>=0)&&Array.prototype.splice.call(A,j,1),G&&(oe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function _e(c,y,_,A){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==A)return j}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),nt={};function Ge(c,y,_,A,j){if(Array.isArray(y)){for(let G=0;G<y.length;G++)Ge(c,y[G],_,A,j);return null}return _=Jr(_),c&&c[Me]?c.J(y,_,m(A)?!!A.capture:!1,j):Ue(c,y,_,!1,A,j)}function Ue(c,y,_,A,j,G){if(!y)throw Error("Invalid event type");const se=m(j)?!!j.capture:!!j;let Ce=Cn(c);if(Ce||(c[Oe]=Ce=new le(c)),_=Ce.add(y,_,A,se,G),_.proxy)return _;if(A=oi(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)V||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(Dt(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function oi(){function c(_){return y.call(c.src,c.listener,_)}const y=li;return c}function tn(c,y,_,A,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)tn(c,y[G],_,A,j);else A=m(A)?!!A.capture:!!A,_=Jr(_),c&&c[Me]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],_=_e(y,_,A,j),_>-1&&(oe(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Cn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=_e(y,_,A,j)),(_=c>-1?y[c]:null)&&Hn(_))}function Hn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Me])Ee(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Dt(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Cn(y))?(Ee(_,c),_.h==0&&(_.src=null,y[Oe]=null)):oe(c)}}}function Dt(c){return c in nt?nt[c]:nt[c]="on"+c}function li(c,y){if(c.da)c=!0;else{y=new Se(y,this);const _=c.listener,A=c.ha||c.src;c.fa&&Hn(c),c=_.call(A,y)}return c}function Cn(c){return c=c[Oe],c instanceof le?c:null}var Xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jr(c){return typeof c=="function"?c:(c[Xr]||(c[Xr]=function(y){return c.handleEvent(y)}),c[Xr])}function pt(){S.call(this),this.i=new le(this),this.M=this,this.G=null}T(pt,S),pt.prototype[Me]=!0,pt.prototype.removeEventListener=function(c,y,_,A){tn(this,c,y,_,A)};function it(c,y){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new I(y,c);else if(y instanceof I)y.target=y.target||c;else{var j=y;y=new I(A,c),re(y,j)}j=!0;let G,se;if(_)for(se=_.length-1;se>=0;se--)G=y.g=_[se],j=Fn(G,A,!0,y)&&j;if(G=y.g=c,j=Fn(G,A,!0,y)&&j,j=Fn(G,A,!1,y)&&j,_)for(se=0;se<_.length;se++)G=y.g=_[se],j=Fn(G,A,!1,y)&&j}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let A=0;A<_.length;A++)oe(_[A]);delete c.g[y],c.h--}}this.G=null},pt.prototype.J=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},pt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Fn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let G=0;G<y.length;++G){const se=y[G];if(se&&!se.da&&se.capture==_){const Ce=se.listener,Rt=se.ha||se.src;se.fa&&Ee(c.i,se),j=Ce.call(Rt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Zr(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Zs(c){c.g=Zr(()=>{c.g=null,c.i&&(c.i=!1,Zs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Yt extends S{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Zs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(c){S.call(this),this.h=c,this.g={}}T(yr,S);var Ws=[];function ui(c){ge(c.g,function(y,_){this.g.hasOwnProperty(_)&&Hn(y)},c),c.g={}}yr.prototype.N=function(){yr.Z.N.call(this),ui(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=f.JSON.stringify,vr=f.JSON.parse,ea=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Gn(){}function ta(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){I.call(this,"d")}T(Ft,I);function fn(){I.call(this,"c")}T(fn,I);var gt={},Ga=null;function _r(){return Ga=Ga||new pt}gt.Ia="serverreachability";function Qa(c){I.call(this,gt.Ia,c)}T(Qa,I);function ci(c){const y=_r();it(y,new Qa(y))}gt.STAT_EVENT="statevent";function Er(c,y){I.call(this,gt.STAT_EVENT,c),this.stat=y}T(Er,I);function Ve(c){const y=_r();it(y,new Er(y,c))}gt.Ja="timingevent";function yt(c,y){I.call(this,gt.Ja,c),this.size=y}T(yt,I);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Ot(){this.g=!0}Ot.prototype.ua=function(){this.g=!1};function dn(c,y,_,A,j,G){c.info(function(){if(c.g)if(G){var se="",Ce=G.split("&");for(let $e=0;$e<Ce.length;$e++){var Rt=Ce[$e].split("=");if(Rt.length>1){const _t=Rt[0];Rt=Rt[1];const mi=_t.split("_");se=mi.length>=2&&mi[1]=="type"?se+(_t+"="+Rt+"&"):se+(_t+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+_+`
`+se})}function $t(c,y,_,A,j,G,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+_+`
`+G+" "+se})}function St(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+At(c,_)+(A?" "+A:"")})}function Nn(c,y){c.info(function(){return"TIMEOUT: "+y})}Ot.prototype.info=function(){};function At(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var _=G[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return bn(G)}catch{return y}}var mn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tn;function Kn(){}T(Kn,Gn),Kn.prototype.g=function(){return new XMLHttpRequest},Tn=new Kn;function wn(c){return encodeURIComponent(String(c))}function Yn(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function nn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.S=A||1,this.V=new yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}var Mt={},Xt={};function Hi(c,y,_){c.M=1,c.A=na(kt(y)),c.u=_,c.R=!0,Ka(c,null)}function Ka(c,y){c.F=Date.now(),Fi(c),c.B=kt(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ja(_.i,"t",A),c.C=0,_=c.j.L,c.h=new Sn,c.g=Ac(c.j,_?y:null,!c.u),c.P>0&&(c.O=new Yt(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ws[0]=j.toString()),j=Ws);for(let G=0;G<j.length;G++){const se=Ge(_,j[G],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ci(),dn(c.i,c.v,c.B,c.l,c.S,c.u)}nn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Di(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Di(this.g),Rt=this.g.ya(),$e=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Ce!=4||Rt==7||(Rt==8||$e<=0?ci(3):ci(2)),Gi(this);var y=this.g.ca();this.X=y;var _=ed(this);if(this.o=y==200,$t(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var G=A;break t}}G=null}if(c=G)St(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qi(this,c);else{this.o=!1,this.m=3,Ve(12),$n(this),hi(this);break e}}if(this.R){c=!0;let _t;for(;!this.K&&this.C<_.length;)if(_t=fc(this,_),_t==Xt){Ce==4&&(this.m=4,Ve(14),c=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Mt){this.m=4,Ve(15),St(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else St(this.i,this.l,_t,null),Qi(this,_t);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||_.length!=0||this.h.h||(this.m=1,Ve(16),c=!1),this.o=this.o&&c,!c)St(this.i,this.l,_,"[Invalid Chunked Response]"),$n(this),hi(this);else if(_.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Sl(se),se.P=!0,Ve(11))}}else St(this.i,this.l,_,null),Qi(this,_);Ce==4&&$n(this),this.o&&!this.K&&(Ce==4?bc(this.j,this):(this.o=!1,Fi(this)))}else Tr(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),$n(this),hi(this)}}}catch{}};function ed(c){if(!hc(c))return c.g.la();const y=rn(c.g);if(y==="")return"";let _="";const A=y.length,j=Di(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return $n(c),hi(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,_+=c.h.i.decode(y[G],{stream:!(j&&G==A-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function hc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fc(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Xt:(_=Number(y.substring(_,A)),isNaN(_)?Mt:(A+=1,A+_>y.length?Xt:(y=y.slice(A,A+_),c.C=A+_,y)))}nn.prototype.cancel=function(){this.K=!0,$n(this)};function Fi(c){c.T=Date.now()+c.H,Ya(c,c.H)}function Ya(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=vt(p(c.aa,c),y)}function Gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}nn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Nn(this.i,this.B),this.M!=2&&(ci(),Ve(17)),$n(this),this.m=2,hi(this)):Ya(this,this.T-c)};function hi(c){c.j.I==0||c.K||bc(c.j,c)}function $n(c){Gi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ui(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Qi(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||Yi(_.h,c))){if(!c.L&&Yi(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)no(_),as(_);else break e;ua(_),Ve(18)}}else _.xa=j[1],0<_.xa-_.K&&j[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=vt(p(_.Va,_),6e3));Ki(_.h)<=1&&_.ta&&(_.ta=void 0)}else er(_,11)}else if((c.L||_.g==c)&&no(_),!N(y))for(j=_.Ba.g.parse(y),y=0;y<j.length;y++){let $e=j[y];const _t=$e[0];if(!(_t<=_.K))if(_.K=_t,$e=$e[1],_.I==2)if($e[0]=="c"){_.M=$e[1],_.ba=$e[2];const mi=$e[3];mi!=null&&(_.ka=mi,_.j.info("VER="+_.ka));const tr=$e[4];tr!=null&&(_.za=tr,_.j.info("SVER="+_.za));const Oi=$e[5];Oi!=null&&typeof Oi=="number"&&Oi>0&&(A=1.5*Oi,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Mi=c.g;if(Mi){const ca=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var G=A.h;G.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(fl(G,G.h),G.h=null))}if(A.G){const io=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(A.wa=io,Ze(A.J,A.G,io))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var se=c;if(A.na=Sc(A,A.L?A.ba:null,A.W),se.L){dl(A.h,se);var Ce=se,Rt=A.O;Rt&&(Ce.H=Rt),Ce.D&&(Gi(Ce),Fi(Ce)),A.g=se}else _c(A);_.i.length>0&&Wi(_)}else $e[0]!="stop"&&$e[0]!="close"||er(_,7);else _.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?er(_,7):Tl(_):$e[0]!="noop"&&_.l&&_.l.qa($e),_.A=0)}}ci(4)}catch{}}var Vt=class{constructor(c,y){this.g=c,this.map=y}};function cl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ki(c){return c.h?1:c.g?c.g.size:0}function Yi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fl(c,y){c.g?c.g.add(y):c.h=y}function dl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}cl.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ml(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return P(c.i)}var dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let j,G=null;A>=0?(j=c[_].substring(0,A),G=c[_].substring(A+1)):j=c[_],y(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Xn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Xn?(this.l=c.l,Jt(this,c.j),this.o=c.o,this.g=c.g,Wr(this,c.u),this.h=c.h,pl(this,yc(c.i)),this.m=c.m):c&&(y=String(c).match(dc))?(this.l=!1,Jt(this,y[1]||"",!0),this.o=$i(y[2]||""),this.g=$i(y[3]||"",!0),Wr(this,y[4]),this.h=$i(y[5]||"",!0),pl(this,y[6]||"",!0),this.m=$i(y[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}Xn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ia(y,Xa,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ia(y,Xa,!0),"@"),c.push(wn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ia(_,_.charAt(0)=="/"?gl:mc,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ia(_,pc)),c.join("")},Xn.prototype.resolve=function(c){const y=kt(this);let _=!!c.j;_?Jt(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var A=c.h;if(_)Wr(y,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let se=0;se<j.length;){const Ce=j[se++];Ce=="."?A&&se==j.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&se==j.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=j}return _?y.h=A:_=c.i.toString()!=="",_?pl(y,yc(c.i)):_=!!c.m,_&&(y.m=c.m),y};function kt(c){return new Xn(c)}function Jt(c,y,_){c.j=_?$i(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Wr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function pl(c,y,_){y instanceof ts?(c.i=y,Za(c.i,c.l)):(_||(y=ia(y,es)),c.i=new ts(y,c.l))}function Ze(c,y,_){c.i.set(y,_)}function na(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function $i(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ia(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Dn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xa=/[#\/\?@]/g,mc=/[#\?:]/g,gl=/[#\?]/g,es=/[#\?@]/g,pc=/#/g;function ts(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&$a(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ts.prototype,i.add=function(c,y){On(this),this.i=null,c=ns(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function gc(c,y){On(c),y=ns(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function yl(c,y){return On(c),y=ns(c,y),c.g.has(y)}i.forEach=function(c,y){On(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(y,j,A,this)},this)},this)};function vl(c,y){On(c);let _=[];if(typeof y=="string")yl(c,y)&&(_=_.concat(c.g.get(ns(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}i.set=function(c,y){return On(this),this.i=null,c=ns(this,c),yl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=vl(this,c),c.length>0?String(c[0]):y):y};function Ja(c,y,_){gc(c,y),_.length>0&&(c.i=null,c.g.set(ns(c,y),P(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var _=y[A];const j=wn(_);_=vl(this,_);for(let G=0;G<_.length;G++){let se=j;_[G]!==""&&(se+="="+wn(_[G])),c.push(se)}}return this.i=c.join("&")};function yc(c){const y=new ts;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function ns(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Za(c,y){y&&!c.j&&(On(c),c.i=null,c.g.forEach(function(_,A){const j=A.toLowerCase();A!=j&&(gc(this,A),Ja(this,j,_))},c)),c.j=y}function Ci(c,y){const _=new Ot;if(f.Image){const A=new Image;A.onload=E(fi,_,"TestLoadImage: loaded",!0,y,A),A.onerror=E(fi,_,"TestLoadImage: error",!1,y,A),A.onabort=E(fi,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(fi,_,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function _l(c,y){const _=new Ot,A=new AbortController,j=setTimeout(()=>{A.abort(),fi(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(j),G.ok?fi(_,"TestPingServer: ok",!0,y):fi(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),fi(_,"TestPingServer: error",!1,y)})}function fi(c,y,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function is(){this.g=new ea}function Xi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Xi,Gn),Xi.prototype.g=function(){return new ra(this.i,this.h)};function ra(c,y){pt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ra,pt),i=ra.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ni(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?rs(this):Ni(this),this.readyState==3&&Wa(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,rs(this))},i.Na=function(c){this.g&&(this.response=c,rs(this))},i.ga=function(){this.g&&rs(this)};function rs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ni(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function di(c){let y="";return ge(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function sa(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=di(_),typeof c=="string"?_!=null&&wn(_):Ze(c,y,_))}function rt(c){pt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(rt,pt);var Ji=/^https?$/i,El=["POST","PUT"];i=rt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tn.g(),this.g.onreadystatechange=R(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){aa(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(El,y,void 0)>=0)||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of _)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){aa(this,G)}};function aa(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,bl(c),br(c)}function bl(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,it(this,"complete"),it(this,"abort"),br(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),rt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},i.Xa=function(){oa(this)};function oa(c){if(c.h&&typeof u<"u"){if(c.v&&Di(c)==4)setTimeout(c.Ca.bind(c),0);else if(it(c,"readystatechange"),Di(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=G===0){let se=String(c.D).match(dc)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!Ji.test(se?se.toLowerCase():"")}_=A}if(_)it(c,"complete"),it(c,"success");else{c.o=6;try{var j=Di(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",bl(c)}}finally{br(c)}}}}function br(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||it(c,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Di(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Di(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),vr(y)}};function rn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Tr(c){const y={};c=(c.g&&Di(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var _=Yn(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[j]||[];y[j]=G,G.push(_)}Ae(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ss(c){this.za=0,this.i=[],this.j=new Ot,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zi("baseRetryDelayMs",5e3,c),this.Za=Zi("retryDelaySeedMs",1e4,c),this.Ta=Zi("forwardChannelMaxRetries",2,c),this.va=Zi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(c&&c.concurrentRequestLimit),this.Ba=new is,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ss.prototype,i.ka=8,i.I=1,i.connect=function(c,y,_,A){Ve(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=Sc(this,null,this.W),Wi(this)};function Tl(c){if(eo(c),c.I==3){var y=c.V++,_=kt(c.J);if(Ze(_,"SID",c.M),Ze(_,"RID",y),Ze(_,"TYPE","terminate"),la(c,_),y=new nn(c,c.j,y),y.M=2,y.A=na(kt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Ac(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Fi(y)}wc(c)}function as(c){c.g&&(Sl(c),c.g.cancel(),c.g=null)}function eo(c){as(c),c.v&&(f.clearTimeout(c.v),c.v=null),no(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Wi(c){if(!hl(c.h)&&!c.m){c.m=!0;var y=c.Ea;pe||x(),he||(pe(),he=!0),C.add(y,c),c.D=0}}function to(c,y){return Ki(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=vt(p(c.Ea,c,y),Tc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new nn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=M(G),re(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=vc(this,j,y),_=kt(this.J),Ze(_,"RID",c),Ze(_,"CVER",22),this.G&&Ze(_,"X-HTTP-Session-Id",this.G),la(this,_),G&&(this.R?y="headers="+wn(di(G))+"&"+y:this.u&&sa(_,this.u,G)),fl(this.h,j),this.Ra&&Ze(_,"TYPE","init"),this.S?(Ze(_,"$req",y),Ze(_,"SID","null"),j.U=!0,Hi(j,_,null)):Hi(j,_,y),this.I=2}}else this.I==3&&(c?wl(this,c):this.i.length==0||hl(this.h)||wl(this))};function wl(c,y){var _;y?_=y.l:_=c.V++;const A=kt(c.J);Ze(A,"SID",c.M),Ze(A,"RID",_),Ze(A,"AID",c.K),la(c,A),c.u&&c.o&&sa(A,c.u,c.o),_=new nn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=vc(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),fl(c.h,_),Hi(_,A,y)}function la(c,y){c.H&&ge(c.H,function(_,A){Ze(y,A,_)}),c.l&&ge({},function(_,A){Ze(y,A,_)})}function vc(c,y,_){_=Math.min(c.i.length,_);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ce=-1;for(;;){const Rt=["count="+_];Ce==-1?_>0?(Ce=j[0].g,Rt.push("ofs="+Ce)):Ce=0:Rt.push("ofs="+Ce);let $e=!0;for(let _t=0;_t<_;_t++){var G=j[_t].g;const mi=j[_t].map;if(G-=Ce,G<0)Ce=Math.max(0,j[_t].g-100),$e=!1;else try{G="req"+G+"_"||"";try{var se=mi instanceof Map?mi:Object.entries(mi);for(const[tr,Oi]of se){let Mi=Oi;m(Oi)&&(Mi=bn(Oi)),Rt.push(G+tr+"="+encodeURIComponent(Mi))}}catch(tr){throw Rt.push(G+"type="+encodeURIComponent("_badmap")),tr}}catch{A&&A(mi)}}if($e){se=Rt.join("&");break e}}se=void 0}return c=c.i.splice(0,_),y.G=c,se}function _c(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;pe||x(),he||(pe(),he=!0),C.add(y,c),c.A=0}}function ua(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=vt(p(c.Da,c),Tc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=vt(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),as(this),Ec(this))};function Sl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ec(c){c.g=new nn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=kt(c.na);Ze(y,"RID","rpc"),Ze(y,"SID",c.M),Ze(y,"AID",c.K),Ze(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(y,"TO",c.ia),Ze(y,"TYPE","xmlhttp"),la(c,y),c.u&&c.o&&sa(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=na(kt(y)),_.u=null,_.R=!0,Ka(_,c)}i.Va=function(){this.C!=null&&(this.C=null,as(this),ua(this),Ve(19))};function no(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function bc(c,y){var _=null;if(c.g==y){no(c),Sl(c),c.g=null;var A=2}else if(Yi(c.h,y))_=y.G,dl(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=_r(),it(A,new yt(A,_)),Wi(c)}else _c(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&to(c,y)||A==2&&ua(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),j){case 1:er(c,5);break;case 4:er(c,10);break;case 3:er(c,6);break;default:er(c,2)}}}function Tc(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function er(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),A=c.Ua;const j=!A;A=new Xn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Jt(A,"https"),na(A),j?Ci(A.toString(),_):_l(A.toString(),_)}else Ve(2);c.I=0,c.l&&c.l.pa(y),wc(c),eo(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function wc(c){if(c.I=0,c.ja=[],c.l){const y=ml(c.h);(y.length!=0||c.i.length!=0)&&(X(c.ja,y),X(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Sc(c,y,_){var A=_ instanceof Xn?kt(_):new Xn(_);if(A.g!="")y&&(A.g=y+"."+A.g),Wr(A,A.u);else{var j=f.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const G=new Xn(null);A&&Jt(G,A),y&&(G.g=y),j&&Wr(G,j),_&&(G.h=_),A=G}return _=c.G,y=c.wa,_&&y&&Ze(A,_,y),Ze(A,"VER",c.ka),la(c,A),A}function Ac(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new rt(new Xi({ab:_})):new rt(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}i=Rc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function os(){}os.prototype.g=function(c,y){return new An(c,y)};function An(c,y){pt.call(this),this.g=new ss(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new wr(this)}T(An,pt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Tl(this.g)},An.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=bn(c),c=_);y.i.push(new Vt(y.Ya++,c)),y.I==3&&Wi(y)},An.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,An.Z.N.call(this)};function xc(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(xc,Ft);function Ic(){fn.call(this),this.status=1}T(Ic,fn);function wr(c){this.g=c}T(wr,Rc),wr.prototype.ra=function(){it(this.g,"a")},wr.prototype.qa=function(c){it(this.g,new xc(c))},wr.prototype.pa=function(c){it(this.g,new Ic)},wr.prototype.oa=function(){it(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,QT=function(){return new os},GT=function(){return _r()},FT=gt,kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,Hh=mn,pn.COMPLETE="complete",HT=pn,ta.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",pt.prototype.listen=pt.prototype.J,pu=ta,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,BT=rt}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});const wE="@firebase/firestore",SE="4.9.3";class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let rl="12.7.0";const ka=new mg("@firebase/firestore");function ko(){return ka.logLevel}function ce(i,...e){if(ka.logLevel<=ze.DEBUG){const n=e.map(yg);ka.debug(`Firestore (${rl}): ${i}`,...n)}}function Kr(i,...e){if(ka.logLevel<=ze.ERROR){const n=e.map(yg);ka.error(`Firestore (${rl}): ${i}`,...n)}}function Qo(i,...e){if(ka.logLevel<=ze.WARN){const n=e.map(yg);ka.warn(`Firestore (${rl}): ${i}`,...n)}}function yg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function we(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,KT(i,s,n)}function KT(i,e,n){let s=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Kr(s),new Error(s)}function Je(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||KT(e,o,s)}function Ie(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class YT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class iN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rN{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new YT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class sN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new sN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class vg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function qe(i,e){return i<e?-1:i>e?1:0}function Pp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return cp(o)===cp(u)?qe(o,u):cp(o)?1:-1}return qe(i.length,e.length)}const uN=55296,cN=57343;function cp(i){const e=i.charCodeAt(0);return e>=uN&&e<=cN}function Ko(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const RE="__name__";class ar{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ar.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return qe(e.length,n.length)}static compareSegments(e,n){const s=ar.isNumericId(e),o=ar.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ar.extractNumericId(e).compare(ar.extractNumericId(n)):Pp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class ut extends ar{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const hN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends ar{construct(e,n,s){return new cn(e,n,s)}static isValidIdentifier(e){return hN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new cn([RE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ut.fromString(e))}static fromName(e){return new ve(ut.fromString(e).popFirst(5))}static empty(){return new ve(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ut(e.slice()))}}function $T(i,e,n){if(!n)throw new ue(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function fN(i,e,n,s){if(e===!0&&s===!0)throw new ue(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function xE(i){if(!ve.isDocumentKey(i))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function IE(i){if(ve.isDocumentKey(i))throw new ue(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function XT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function Ii(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nf(i);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Bt(i,e){const n={typeString:i};return e&&(n.value=e),n}function ec(i,e){if(!XT(i))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(Z.INVALID_ARGUMENT,n);return!0}const CE=-62135596800,NE=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*NE);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Bt("string",mt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new mt(0,0))}static max(){return new Re(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uu=-1;function dN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new zs(o,ve.empty(),e)}function mN(i){return new zs(i.readTime,i.key,Uu)}class zs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new zs(Re.min(),ve.empty(),Uu)}static max(){return new zs(Re.max(),ve.empty(),Uu)}}function pN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:qe(i.largestBatchId,e.largestBatchId))}const gN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function sl(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==gN)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function vN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(i){return i.name==="IndexedDbTransactionError"}class Df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Df.ce=-1;const _g=-1;function Of(i){return i==null}function of(i){return i===0&&1/i==-1/0}function _N(i){return typeof i=="number"&&Number.isInteger(i)&&!of(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const JT="";function EN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=DE(e)),e=bN(i.get(n),e);return DE(e)}function bN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case JT:n+="";break;default:n+=u}}return n}function DE(i){return i+JT+""}function OE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ks(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ZT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new un(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new ai([])}unionWith(e){let n=new Kt(cn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new WT("Invalid base64 string: "+u):u}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const TN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(i){if(Je(!!i,39018),typeof i=="string"){let e=0;const n=TN.exec(i);if(Je(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Bs(i){return typeof i=="string"?hn.fromBase64String(i):hn.fromUint8Array(i)}const ew="server_timestamp",tw="__type__",nw="__previous_value__",iw="__local_write_time__";function Eg(i){return(i?.mapValue?.fields||{})[tw]?.stringValue===ew}function Mf(i){const e=i.mapValue.fields[nw];return Eg(e)?Mf(e):e}function Lu(i){const e=qs(i.mapValue.fields[iw].timestampValue);return new mt(e.seconds,e.nanos)}class wN{constructor(e,n,s,o,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const lf="(default)";class ju{constructor(e,n){this.projectId=e,this.database=n||lf}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}const rw="__type__",SN="__max__",Ph={mapValue:{}},sw="__vector__",uf="value";function Hs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Eg(i)?4:RN(i)?9007199254740991:AN(i)?10:11:we(28295,{value:i})}function pr(i,e){if(i===e)return!0;const n=Hs(i);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Lu(i).isEqual(Lu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qs(o.timestampValue),m=qs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Bs(o.bytesValue).isEqual(Bs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ct(o.doubleValue),m=Ct(u.doubleValue);return f===m?of(f)===of(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return Ko(i.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(OE(f)!==OE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!pr(f[g],m[g])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function zu(i,e){return(i.values||[]).find((n=>pr(n,e)))!==void 0}function Yo(i,e){if(i===e)return 0;const n=Hs(i),s=Hs(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Ct(u.integerValue||u.doubleValue),g=Ct(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return VE(i.timestampValue,e.timestampValue);case 4:return VE(Lu(i),Lu(e));case 5:return Pp(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=Bs(u),g=Bs(f);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=qe(m[p],g[p]);if(E!==0)return E}return qe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=qe(Ct(u.latitude),Ct(f.latitude));return m!==0?m:qe(Ct(u.longitude),Ct(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return kE(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[uf]?.arrayValue,E=g[uf]?.arrayValue,T=qe(p?.values?.length||0,E?.values?.length||0);return T!==0?T:kE(p,E)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Ph.mapValue&&f===Ph.mapValue)return 0;if(u===Ph.mapValue)return 1;if(f===Ph.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const R=Pp(g[T],E[T]);if(R!==0)return R;const P=Yo(m[g[T]],p[E[T]]);if(P!==0)return P}return qe(g.length,E.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function VE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return qe(i,e);const n=qs(i),s=qs(e),o=qe(n.seconds,s.seconds);return o!==0?o:qe(n.nanos,s.nanos)}function kE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Yo(n[o],s[o]);if(u)return u}return qe(n.length,s.length)}function $o(i){return Up(i)}function Up(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=qs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Bs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ve.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Up(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Up(n.fields[f])}`;return o+"}"})(i.mapValue):we(61005,{value:i})}function Fh(i){switch(Hs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mf(i);return e?16+Fh(e):16;case 5:return 2*i.stringValue.length;case 6:return Bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Fh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ks(s.fields,((u,f)=>{o+=u.length+Fh(f)})),o})(i.mapValue);default:throw we(13486,{value:i})}}function PE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Lp(i){return!!i&&"integerValue"in i}function bg(i){return!!i&&"arrayValue"in i}function UE(i){return!!i&&"nullValue"in i}function LE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Gh(i){return!!i&&"mapValue"in i}function AN(i){return(i?.mapValue?.fields||{})[rw]?.stringValue===sw}function xu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ks(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=xu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xu(i.arrayValue.values[n]);return e}return{...i}}function RN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===SN}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(n)}setAll(e){let n=cn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=xu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ks(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new qn(xu(this.value))}}function aw(i){const e=[];return Ks(i.fields,((n,s)=>{const o=new cn([n]);if(Gh(s)){const u=aw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ai(e)}class _n{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Re.min(),Re.min(),Re.min(),qn.empty(),0)}static newFoundDocument(e,n,s,o){return new _n(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new _n(e,2,n,Re.min(),Re.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Re.min(),Re.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cf{constructor(e,n){this.position=e,this.inclusive=n}}function jE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=Yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function zE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!pr(i.position[n],e.position[n]))return!1;return!0}class qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function xN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ow{}class qt extends ow{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new CN(e,n,s):n==="array-contains"?new ON(e,s):n==="in"?new MN(e,s):n==="not-in"?new VN(e,s):n==="array-contains-any"?new kN(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new NN(e,s):new DN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yo(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends ow{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qi(e,n)}matches(e){return lw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lw(i){return i.op==="and"}function uw(i){return IN(i)&&lw(i)}function IN(i){for(const e of i.filters)if(e instanceof qi)return!1;return!0}function jp(i){if(i instanceof qt)return i.field.canonicalString()+i.op.toString()+$o(i.value);if(uw(i))return i.filters.map((e=>jp(e))).join(",");{const e=i.filters.map((n=>jp(n))).join(",");return`${i.op}(${e})`}}function cw(i,e){return i instanceof qt?(function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&pr(s.value,o.value)})(i,e):i instanceof qi?(function(s,o){return o instanceof qi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&cw(f,o.filters[m])),!0):!1})(i,e):void we(19439)}function hw(i){return i instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`})(i):i instanceof qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(hw).join(" ,")+"}"})(i):"Filter"}class CN extends qt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class NN extends qt{constructor(e,n){super(e,"in",n),this.keys=fw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class DN extends qt{constructor(e,n){super(e,"not-in",n),this.keys=fw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fw(i,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class ON extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bg(n)&&zu(n.arrayValue,this.value)}}class MN extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class VN extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zu(this.value.arrayValue,n)}}class kN extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>zu(this.value.arrayValue,s)))}}class PN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function qE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new PN(i,e,n,s,o,u,f)}function Tg(i){const e=Ie(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>jp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>$o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>$o(s))).join(",")),e.Te=n}return e.Te}function wg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!xN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!cw(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!zE(i.startAt,e.startAt)&&zE(i.endAt,e.endAt)}function zp(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ol{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UN(i,e,n,s,o,u,f,m){return new ol(i,e,n,s,o,u,f,m)}function Vf(i){return new ol(i)}function BE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function dw(i){return i.collectionGroup!==null}function Iu(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Kt(cn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new qu(u,s))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new qu(cn.keyField(),s))}return e.Ie}function or(i){const e=Ie(i);return e.Ee||(e.Ee=LN(e,Iu(i))),e.Ee}function LN(i,e){if(i.limitType==="F")return qE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new qu(o.field,u)}));const n=i.endAt?new cf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new cf(i.startAt.position,i.startAt.inclusive):null;return qE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function qp(i,e){const n=i.filters.concat([e]);return new ol(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Bp(i,e,n){return new ol(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function kf(i,e){return wg(or(i),or(e))&&i.limitType===e.limitType}function mw(i){return`${Tg(or(i))}|lt:${i.limitType}`}function Po(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>hw(o))).join(", ")}]`),Of(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>$o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>$o(o))).join(",")),`Target(${s})`})(or(i))}; limitType=${i.limitType})`}function Pf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=jE(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Iu(s),o)||s.endAt&&!(function(f,m,g){const p=jE(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Iu(s),o))})(i,e)}function jN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function pw(i){return(e,n)=>{let s=!1;for(const o of Iu(i)){const u=zN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function zN(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Yo(g,p):we(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}class Ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}const qN=new bt(ve.comparator);function Yr(){return qN}const gw=new bt(ve.comparator);function gu(...i){let e=gw;for(const n of i)e=e.insert(n.key,n);return e}function yw(i){let e=gw;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Na(){return Cu()}function vw(){return Cu()}function Cu(){return new Ba((i=>i.toString()),((i,e)=>i.isEqual(e)))}const BN=new bt(ve.comparator),HN=new Kt(ve.comparator);function Be(...i){let e=HN;for(const n of i)e=e.add(n);return e}const FN=new Kt(qe);function GN(){return FN}function Sg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function _w(i){return{integerValue:""+i}}function Ew(i,e){return _N(e)?_w(e):Sg(i,e)}class Uf{constructor(){this._=void 0}}function QN(i,e,n){return i instanceof Bu?(function(o,u){const f={fields:{[tw]:{stringValue:ew},[iw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Eg(u)&&(u=Mf(u)),u&&(f.fields[nw]=u),{mapValue:f}})(n,e):i instanceof Hu?Tw(i,e):i instanceof Fu?ww(i,e):(function(o,u){const f=bw(o,u),m=HE(f)+HE(o.Ae);return Lp(f)&&Lp(o.Ae)?_w(m):Sg(o.serializer,m)})(i,e)}function KN(i,e,n){return i instanceof Hu?Tw(i,e):i instanceof Fu?ww(i,e):n}function bw(i,e){return i instanceof Gu?(function(s){return Lp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Bu extends Uf{}class Hu extends Uf{constructor(e){super(),this.elements=e}}function Tw(i,e){const n=Sw(e);for(const s of i.elements)n.some((o=>pr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Fu extends Uf{constructor(e){super(),this.elements=e}}function ww(i,e){let n=Sw(e);for(const s of i.elements)n=n.filter((o=>!pr(o,s)));return{arrayValue:{values:n}}}class Gu extends Uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function HE(i){return Ct(i.integerValue||i.doubleValue)}function Sw(i){return bg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Aw{constructor(e,n){this.field=e,this.transform=n}}function YN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Hu&&o instanceof Hu||s instanceof Fu&&o instanceof Fu?Ko(s.elements,o.elements,pr):s instanceof Gu&&o instanceof Gu?pr(s.Ae,o.Ae):s instanceof Bu&&o instanceof Bu})(i.transform,e.transform)}class $N{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Lf{}function Rw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ag(i.key,Li.none()):new tc(i.key,i.data,Li.none());{const n=i.data,s=qn.empty();let o=new Kt(cn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ys(i.key,s,new ai(o.toArray()),Li.none())}}function XN(i,e,n){i instanceof tc?(function(o,u,f){const m=o.value.clone(),g=GE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ys?(function(o,u,f){if(!Qh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=GE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(xw(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Nu(i,e,n,s){return i instanceof tc?(function(u,f,m,g){if(!Qh(u.precondition,f))return m;const p=u.value.clone(),E=QE(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ys?(function(u,f,m,g){if(!Qh(u.precondition,f))return m;const p=QE(u.fieldTransforms,g,f),E=f.data;return E.setAll(xw(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,f,m){return Qh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function JN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=bw(s.transform,o||null);u!=null&&(n===null&&(n=qn.empty()),n.set(s.field,u))}return n||null}function FE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ko(s,o,((u,f)=>YN(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class tc extends Lf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends Lf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function GE(i,e,n){const s=new Map;Je(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,KN(f,m,n[o]))}return s}function QE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,QN(u,f,e))}return s}class Ag extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZN extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&XN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vw();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=Rw(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((n,s)=>FE(n,s)))&&Ko(this.baseMutations,e.baseMutations,((n,s)=>FE(n,s)))}}class Rg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return BN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Rg(e,n,s,o)}}class e2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class t2{constructor(e,n){this.count=e,this.unchangedNames=n}}var zt,Qe;function n2(i){switch(i){case Z.OK:return we(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function Iw(i){if(i===void 0)return Kr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case zt.OK:return Z.OK;case zt.CANCELLED:return Z.CANCELLED;case zt.UNKNOWN:return Z.UNKNOWN;case zt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case zt.INTERNAL:return Z.INTERNAL;case zt.UNAVAILABLE:return Z.UNAVAILABLE;case zt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case zt.NOT_FOUND:return Z.NOT_FOUND;case zt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case zt.ABORTED:return Z.ABORTED;case zt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case zt.DATA_LOSS:return Z.DATA_LOSS;default:return we(39323,{code:i})}}(Qe=zt||(zt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function i2(){return new TextEncoder}const r2=new Ls([4294967295,4294967295],0);function KE(i){const e=i2().encode(i),n=new qT;return n.update(e),new Uint8Array(n.digest())}function YE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ls([n,s],0),new Ls([o,u],0)]}class xg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ls.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ls.fromNumber(s)));return o.compare(r2)===1&&(o=new Ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KE(e),[s,o]=YE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new xg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=KE(e),[s,o]=YE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jf(Re.min(),o,new bt(qe),Yr(),Be())}}class nc{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new nc(s,n,Be(),Be(),Be())}}class Kh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Cw{constructor(e,n){this.targetId=e,this.Ce=n}}class Nw{constructor(e,n,s=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class $E{constructor(){this.ve=0,this.Fe=XE(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}})),new nc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=XE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class s2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=Uh(),this.He=Uh(),this.Ye=new bt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zp(u))if(s===0){const f=new ve(u.path);this.et(n,f,_n.newNoDocument(f,Re.min()))}else Je(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Bs(s).toUint8Array()}catch(g){if(g instanceof WT)return Qo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new xg(f,o,u)}catch(g){return Qo(g instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&zp(m.target)){const g=new ve(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,_n.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Be();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new jf(e,n,this.Ye,this.je,s);return this.je=Yr(),this.Je=Uh(),this.He=Uh(),this.Ye=new bt(qe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $E,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $E),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Uh(){return new bt(ve.comparator)}function XE(){return new bt(ve.comparator)}const a2={asc:"ASCENDING",desc:"DESCENDING"},o2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l2={and:"AND",or:"OR"};class u2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hp(i,e){return i.useProto3Json||Of(e)?e:{value:e}}function hf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function c2(i,e){return hf(i,e.toTimestamp())}function lr(i){return Je(!!i,49232),Re.fromTimestamp((function(n){const s=qs(n);return new mt(s.seconds,s.nanos)})(i))}function Ig(i,e){return Fp(i,e).canonicalString()}function Fp(i,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Ow(i){const e=ut.fromString(i);return Je(Uw(e),10190,{key:e.toString()}),e}function Gp(i,e){return Ig(i.databaseId,e.path)}function hp(i,e){const n=Ow(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(Vw(n))}function Mw(i,e){return Ig(i.databaseId,e)}function h2(i){const e=Ow(i);return e.length===4?ut.emptyPath():Vw(e)}function Qp(i){return new ut(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Vw(i){return Je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function JE(i,e,n){return{name:Gp(i,e),fields:n.value.mapValue.fields}}function f2(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Je(E===void 0||typeof E=="string",58123),hn.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),hn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?Z.UNKNOWN:Iw(p.code);return new ue(E,p.message||"")})(f);n=new Nw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=hp(i,s.document.name),u=lr(s.document.updateTime),f=s.document.createTime?lr(s.document.createTime):Re.min(),m=new qn({mapValue:{fields:s.document.fields}}),g=_n.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new Kh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=hp(i,s.document),u=s.readTime?lr(s.readTime):Re.min(),f=_n.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Kh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=hp(i,s.document),u=s.removedTargetIds||[];n=new Kh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new t2(o,u),m=s.targetId;n=new Cw(m,f)}}return n}function d2(i,e){let n;if(e instanceof tc)n={update:JE(i,e.key,e.value)};else if(e instanceof Ag)n={delete:Gp(i,e.key)};else if(e instanceof Ys)n={update:JE(i,e.key,e.data),updateMask:T2(e.fieldMask)};else{if(!(e instanceof ZN))return we(16599,{Vt:e.type});n={verify:Gp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Bu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Hu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gu)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:c2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(i,e.precondition)),n}function m2(i,e){return i&&i.length>0?(Je(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?lr(o.updateTime):lr(u);return f.isEqual(Re.min())&&(f=lr(u)),new $N(f,o.transformResults||[])})(n,e)))):[]}function p2(i,e){return{documents:[Mw(i,e.path)]}}function g2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Mw(i,o);const u=(function(p){if(p.length!==0)return Pw(qi.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(R){return{field:Uo(R.field),direction:_2(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Hp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function y2(i){let e=h2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=kw(T);return R instanceof qi&&uw(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(X){return new qu(Lo(X.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,Of(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(T){const R=!!T.before,P=T.values||[];return new cf(P,R)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const R=!T.before,P=T.values||[];return new cf(P,R)})(n.endAt)),UN(e,o,f,u,m,"F",g,p)}function v2(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Lo(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Lo(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Lo(n.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Lo(n.unaryFilter.field);return qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(n){return qt.create(Lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return qi.create(n.compositeFilter.filters.map((s=>kw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(i):we(30097,{filter:i})}function _2(i){return a2[i]}function E2(i){return o2[i]}function b2(i){return l2[i]}function Uo(i){return{fieldPath:i.canonicalString()}}function Lo(i){return cn.fromServerFormat(i.fieldPath)}function Pw(i){return i instanceof qt?(function(n){if(n.op==="=="){if(LE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(UE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(UE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:E2(n.op),value:n.value}}})(i):i instanceof qi?(function(n){const s=n.getFilters().map((o=>Pw(o)));return s.length===1?s[0]:{compositeFilter:{op:b2(n.op),filters:s}}})(i):we(54877,{filter:i})}function T2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Uw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Ps{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=hn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w2{constructor(e){this.yt=e}}function S2(i){const e=y2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Bp(e,e.limit,"L"):e}class A2{constructor(){this.Cn=new R2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(zs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class R2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Kt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(ut.comparator)).toArray()}}const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lw=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(Lw,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}const WE="LruGarbageCollector",x2=1048576;function eb([i,e],[n,s]){const o=qe(i,n);return o===0?qe(e,s):o}class I2{constructor(e){this.Ir=e,this.buffer=new Kt(eb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();eb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(WE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?ce(WE,"Ignoring IndexedDB error during garbage collection: ",n):await sl(n)}await this.Vr(3e5)}))}}class N2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Df.ce);const s=new I2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(ZE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),ko()<=ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function D2(i,e){return new N2(i,e)}class O2{constructor(){this.changes=new Ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class M2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class V2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Nu(s.mutation,o,ai.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const o=Na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=gu();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Yr();const f=Cu(),m=(function(){return Cu()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Ys)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Nu(E.mutation,p,E.mutation.getFieldMask(),mt.now())):f.set(p.key,ai.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new M2(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Cu();let o=new bt(((f,m)=>f-m)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||ai.empty();E=m.applyToLocalView(p,E),s.set(g,E);const T=(o.get(m.batchId)||Be()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,T=vw();E.forEach((R=>{if(!u.has(R)){const P=Rw(n.get(R),s.get(R));P!==null&&T.set(R,P),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Na());let m=Uu,g=u;return f.next((p=>ee.forEach(p,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Be()))).next((E=>({batchId:m,changes:yw(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=gu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=gu();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(g=>{const p=(function(T,R){return new ol(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,_n.newInvalidDocument(E)))}));let m=gu();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Nu(E.mutation,p,ai.empty(),mt.now()),Pf(n,p)&&(m=m.insert(g,p))})),m}))}}class k2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:lr(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:S2(o.bundledQuery),readTime:lr(o.readTime)}})(n)),ee.resolve()}}class P2{constructor(){this.overlays=new bt(ve.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Na();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Na(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new bt(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Na(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Na(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new e2(n,s));let u=this.qr.get(n);u===void 0&&(u=Be(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class U2{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Cg{constructor(){this.Qr=new Kt(Wt.$r),this.Ur=new Kt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new ut([])),s=new Wt(n,e),o=new Wt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new ut([])),s=new Wt(n,e),o=new Wt(n,e+1);let u=Be();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class L2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Wt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new WN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?_g:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),o=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Kt(qe);return n.forEach((o=>{const u=new Wt(o,0),f=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Wt(new ve(u),0);let m=new Kt(qe);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Wt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class j2{constructor(e){this.ri=e,this.docs=(function(){return new bt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let s=Yr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Yr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||pN(mN(E),s)<=0||(o.has(E.key)||Pf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new z2(this)}getSize(e){return ee.resolve(this.size)}}class z2 extends O2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class q2{constructor(e){this.persistence=e,this.si=new Ba((n=>Tg(n)),wg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Cg,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class jw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new U2,this.referenceDelegate=e(this),this.Pi=new q2(this),this.indexManager=new A2,this.remoteDocumentCache=(function(o){return new j2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new w2(n),this.Ii=new k2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new L2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new B2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class B2 extends yN{constructor(e){super(),this.currentSequenceNumber=e}}class Ng{constructor(e){this.persistence=e,this.Ri=new Cg,this.Vi=null}static mi(e){return new Ng(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=ve.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ff{constructor(e,n){this.persistence=e,this.pi=new Ba((s=>EN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=D2(this,n)}static mi(e,n){return new ff(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Dg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dg(e,n.fromCache,s,o)}}class H2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zI()?8:vN(En())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new H2;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ko()<=ze.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(ko()<=ze.DEBUG&&ce("QueryEngine","Query:",Po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ko()<=ze.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):ee.resolve())}ys(e,n){if(BE(n))return ee.resolve(null);let s=or(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Bp(n,null,"F"),s=or(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Be(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,Bp(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return BE(n)||o.isEqual(Re.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(ko()<=ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Po(n)),this.vs(e,f,n,dN(o,Uu)).next((m=>m)))}))}Ds(e,n){let s=new Kt(pw(e));return n.forEach(((o,u)=>{Pf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ko()<=ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ps.getDocumentsMatchingQuery(e,n,zs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Og="LocalStore",G2=3e8;class Q2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new bt(qe),this.xs=new Ba((u=>Tg(u)),wg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function K2(i,e,n,s){return new Q2(i,e,n,s)}async function zw(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Be();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function Y2(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const T=p.batch,R=T.keys();let P=ee.resolve();return R.forEach((X=>{P=P.next((()=>E.getEntry(g,X))).next((L=>{const Y=p.docVersions.get(X);Je(Y!==null,48541),L.version.compareTo(Y)<0&&(T.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),E.addEntry(L)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Be();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function qw(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $2(i,e){const n=Ie(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let P=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(hn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),(function(L,Y,ie){return L.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=G2?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(R,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let g=Yr(),p=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(X2(u,f,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!s.isEqual(Re.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function X2(i,e,n){let s=Be(),o=Be();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=Yr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(Og,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function J2(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_g),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Z2(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Ps(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Kp(i,e,n){const s=Ie(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!al(f))throw f;ce(Og,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function tb(i,e,n){const s=Ie(i);let o=Re.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const T=Ie(g),R=T.xs.get(E);return R!==void 0?ee.resolve(T.Ms.get(R)):T.Pi.getTargetData(p,E)})(s,f,or(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Be()))).next((m=>(W2(s,jN(e),m),{documents:m,Qs:u})))))}function W2(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class nb{constructor(){this.activeTargetIds=GN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eD{constructor(){this.Mo=new nb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tD{Oo(e){}shutdown(){}}const ib="ConnectivityMonitor";class rb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(ib,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(ib,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lh=null;function Yp(){return Lh===null?Lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lh++,"0x"+Lh.toString(16)}const fp="RestConnection",nD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===lf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Yp(),m=this.zo(e,n.toUriEncodedString());ce(fp,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=tl(p);return this.Jo(e,m,g,s,E).then((T=>(ce(fp,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Qo(fp,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=nD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class rD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class sD extends iD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Yp();return new Promise(((m,g)=>{const p=new BT;p.setWithCredentials(!0),p.listenOnce(HT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Hh.NO_ERROR:const T=p.getResponseJson();ce(yn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case Hh.TIMEOUT:ce(yn,`RPC '${e}' ${f} timed out`),g(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const R=p.getStatus();if(ce(yn,`RPC '${e}' ${f} failed with status:`,R,"response text:",p.getResponseText()),R>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const X=P?.error;if(X&&X.status&&X.message){const L=(function(ie){const ae=ie.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ae)>=0?ae:Z.UNKNOWN})(X.status);g(new ue(L,X.message))}else g(new ue(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(yn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(yn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Yp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=QT(),m=GT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ce(yn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=f.createWebChannel(E,g);this.I_(T);let R=!1,P=!1;const X=new rD({Yo:Y=>{P?ce(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(R||(ce(yn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),ce(yn,`RPC '${e}' stream ${o} sending:`,Y),T.send(Y))},Zo:()=>T.close()}),L=(Y,ie,ae)=>{Y.listen(ie,(ne=>{try{ae(ne)}catch(de){setTimeout((()=>{throw de}),0)}}))};return L(T,pu.EventType.OPEN,(()=>{P||(ce(yn,`RPC '${e}' stream ${o} transport opened.`),X.o_())})),L(T,pu.EventType.CLOSE,(()=>{P||(P=!0,ce(yn,`RPC '${e}' stream ${o} transport closed`),X.a_(),this.E_(T))})),L(T,pu.EventType.ERROR,(Y=>{P||(P=!0,Qo(yn,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),X.a_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),L(T,pu.EventType.MESSAGE,(Y=>{if(!P){const ie=Y.data[0];Je(!!ie,16349);const ae=ie,ne=ae?.error||ae[0]?.error;if(ne){ce(yn,`RPC '${e}' stream ${o} received error:`,ne);const de=ne.status;let pe=(function(x){const D=zt[x];if(D!==void 0)return Iw(D)})(de),he=ne.message;pe===void 0&&(pe=Z.INTERNAL,he="Unknown error status: "+de+" with message "+ne.message),P=!0,X.a_(new ue(pe,he)),T.close()}else ce(yn,`RPC '${e}' stream ${o} received:`,ie),X.u_(ie)}})),L(m,FT.STAT_EVENT,(Y=>{Y.stat===kp.PROXY?ce(yn,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===kp.NOPROXY&&ce(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function dp(){return typeof document<"u"?document:null}function zf(i){return new u2(i,!0)}class Bw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sb="PersistentStream";class Hw{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(sb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(sb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aD extends Hw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?lr(f.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qp(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=zp(g)?{documents:p2(u,g)}:{query:g2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Dw(u,f.resumeToken);const p=Hp(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=hf(u,f.snapshotVersion.toTimestamp());const p=Hp(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=v2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qp(this.serializer),n.removeTarget=e,this.q_(n)}}class oD extends Hw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=m2(e.writeResults,e.commitTime),s=lr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>d2(this.serializer,s)))};this.q_(n)}}class lD{}class uD extends lD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Fp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Fp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pa="RemoteStore";class hD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ha(this)&&(ce(Pa,"Restarting streams for network reachability change."),await(async function(g){const p=Ie(g);p.Ea.add(4),await ic(p),p.Ra.set("Unknown"),p.Ea.delete(4),await qf(p)})(this))}))})),this.Ra=new cD(s,o)}}async function qf(i){if(Ha(i))for(const e of i.da)await e(!0)}async function ic(i){for(const e of i.da)await e(!1)}function Fw(i,e){const n=Ie(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pg(n)?kg(n):ll(n).O_()&&Vg(n,e))}function Mg(i,e){const n=Ie(i),s=ll(n);n.Ia.delete(e),s.O_()&&Gw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ha(n)&&n.Ra.set("Unknown"))}function Vg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(i).Y_(e)}function Gw(i,e){i.Va.Ue(e),ll(i).Z_(e)}function kg(i){i.Va=new s2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ll(i).start(),i.Ra.ua()}function Pg(i){return Ha(i)&&!ll(i).x_()&&i.Ia.size>0}function Ha(i){return Ie(i).Ea.size===0}function Qw(i){i.Va=void 0}async function fD(i){i.Ra.set("Online")}async function dD(i){i.Ia.forEach(((e,n)=>{Vg(i,e)}))}async function mD(i,e){Qw(i),Pg(i)?(i.Ra.ha(e),kg(i)):i.Ra.set("Unknown")}async function pD(i,e,n){if(i.Ra.set("Online"),e instanceof Nw&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ce(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await df(i,s)}else if(e instanceof Kh?i.Va.Ze(e):e instanceof Cw?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await qw(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(hn.EMPTY_BYTE_STRING,E.snapshotVersion)),Gw(u,g);const T=new Ps(E.target,g,p,E.sequenceNumber);Vg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ce(Pa,"Failed to raise snapshot:",s),await df(i,s)}}async function df(i,e,n){if(!al(e))throw e;i.Ea.add(1),await ic(i),i.Ra.set("Offline"),n||(n=()=>qw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(Pa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await qf(i)}))}function Kw(i,e){return e().catch((n=>df(i,n,e)))}async function Bf(i){const e=Ie(i),n=Fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_g;for(;gD(e);)try{const o=await J2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,yD(e,o)}catch(o){await df(e,o)}Yw(e)&&$w(e)}function gD(i){return Ha(i)&&i.Ta.length<10}function yD(i,e){i.Ta.push(e);const n=Fs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Yw(i){return Ha(i)&&!Fs(i).x_()&&i.Ta.length>0}function $w(i){Fs(i).start()}async function vD(i){Fs(i).ra()}async function _D(i){const e=Fs(i);for(const n of i.Ta)e.ea(n.mutations)}async function ED(i,e,n){const s=i.Ta.shift(),o=Rg.from(s,e,n);await Kw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Bf(i)}async function bD(i,e){e&&Fs(i).X_&&await(async function(s,o){if((function(f){return n2(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();Fs(s).B_(),await Kw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Bf(s)}})(i,e),Yw(i)&&$w(i)}async function ab(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),ce(Pa,"RemoteStore received new credentials");const s=Ha(n);n.Ea.add(3),await ic(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qf(n)}async function TD(i,e){const n=Ie(i);e?(n.Ea.delete(2),await qf(n)):e||(n.Ea.add(2),await ic(n),n.Ra.set("Unknown"))}function ll(i){return i.ma||(i.ma=(function(n,s,o){const u=Ie(n);return u.sa(),new aD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:fD.bind(null,i),t_:dD.bind(null,i),r_:mD.bind(null,i),H_:pD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Pg(i)?kg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Qw(i))}))),i.ma}function Fs(i){return i.fa||(i.fa=(function(n,s,o){const u=Ie(n);return u.sa(),new oD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:vD.bind(null,i),r_:bD.bind(null,i),ta:_D.bind(null,i),na:ED.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Bf(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(Pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Ug{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ug(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(i,e){if(Kr("AsyncQueue",`${e}: ${i}`),al(i))return new ue(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=gu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ob{constructor(){this.ga=new bt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Jo{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Jo(e,n,Bo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class wD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SD{constructor(){this.queries=lb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=lb(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function lb(){return new Ba((i=>mw(i)),kf)}async function jg(i,e){const n=Ie(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new wD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Lg(f,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&qg(n)}async function zg(i,e){const n=Ie(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function AD(i,e){const n=Ie(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&qg(n)}function RD(i,e,n){const s=Ie(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function qg(i){i.Ca.forEach((e=>{e.next()}))}var $p,ub;(ub=$p||($p={})).Ma="default",ub.Cache="cache";class Bg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$p.Cache}}class Xw{constructor(e){this.key=e}}class Jw{constructor(e){this.key=e}}class xD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=pw(e),this.tu=new Bo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ob,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),P=Pf(this.query,T)?T:null,X=!!R&&this.mutatedKeys.has(R.key),L=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Y=!1;R&&P?R.data.isEqual(P.data)?X!==L&&(s.track({type:3,doc:P}),Y=!0):this.su(R,P)||(s.track({type:2,doc:P}),Y=!0,(g&&this.eu(P,g)>0||p&&this.eu(P,p)<0)&&(m=!0)):!R&&P?(s.track({type:0,doc:P}),Y=!0):R&&!P&&(s.track({type:1,doc:R}),Y=!0,(g||p)&&(m=!0)),Y&&(P?(f=f.add(P),u=L?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(P,X){const L=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:Y})}};return L(P)-L(X)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new Jo(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ob,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Jw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Xw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class ID{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class CD{constructor(e){this.key=e,this.hu=!1}}class ND{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ba((m=>mw(m)),kf),this.Iu=new Map,this.Eu=new Set,this.du=new bt(ve.comparator),this.Au=new Map,this.Ru=new Cg,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DD(i,e,n=!0){const s=iS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Zw(s,e,n,!0),o}async function OD(i,e){const n=iS(i);await Zw(n,e,!0,!1)}async function Zw(i,e,n,s){const o=await Z2(i.localStore,or(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await MD(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Fw(i.remoteStore,o),m}async function MD(i,e,n,s,o){i.pu=(T,R,P)=>(async function(L,Y,ie,ae){let ne=Y.view.ru(ie);ne.Cs&&(ne=await tb(L.localStore,Y.query,!1).then((({documents:C})=>Y.view.ru(C,ne))));const de=ae&&ae.targetChanges.get(Y.targetId),pe=ae&&ae.targetMismatches.get(Y.targetId)!=null,he=Y.view.applyChanges(ne,L.isPrimaryClient,de,pe);return hb(L,Y.targetId,he.au),he.snapshot})(i,T,R,P);const u=await tb(i.localStore,e,!0),f=new xD(e,u.Qs),m=f.ru(u.documents),g=nc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=f.applyChanges(m,i.isPrimaryClient,g);hb(i,n,p.au);const E=new ID(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function VD(i,e,n){const s=Ie(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!kf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Kp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Mg(s.remoteStore,o.targetId),Xp(s,o.targetId)})).catch(sl)):(Xp(s,o.targetId),await Kp(s.localStore,o.targetId,!0))}async function kD(i,e){const n=Ie(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Mg(n.remoteStore,s.targetId))}async function PD(i,e,n){const s=HD(i);try{const o=await(function(f,m){const g=Ie(f),p=mt.now(),E=m.reduce(((P,X)=>P.add(X.key)),Be());let T,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let X=Yr(),L=Be();return g.Ns.getEntries(P,E).next((Y=>{X=Y,X.forEach(((ie,ae)=>{ae.isValidDocument()||(L=L.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,X))).next((Y=>{T=Y;const ie=[];for(const ae of m){const ne=JN(ae,T.get(ae.key).overlayedDocument);ne!=null&&ie.push(new Ys(ae.key,ne,aw(ne.value.mapValue),Li.exists(!0)))}return g.mutationQueue.addMutationBatch(P,p,ie,m)})).next((Y=>{R=Y;const ie=Y.applyToLocalDocumentSet(T,L);return g.documentOverlayCache.saveOverlays(P,Y.batchId,ie)}))})).then((()=>({batchId:R.batchId,changes:yw(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new bt(qe)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await rc(s,o.changes),await Bf(s.remoteStore)}catch(o){const u=Lg(o,"Failed to persist write");n.reject(u)}}async function Ww(i,e){const n=Ie(i);try{const s=await $2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Je(f.hu,14607):o.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await rc(n,s,e)}catch(s){await sl(s)}}function cb(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ie(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(m)&&(p=!0)})),p&&qg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UD(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new bt(ve.comparator);f=f.insert(u,_n.newNoDocument(u,Re.min()));const m=Be().add(u),g=new jf(Re.min(),new Map,new bt(qe),f,m);await Ww(s,g),s.du=s.du.remove(u),s.Au.delete(e),Fg(s)}else await Kp(s.localStore,e,!1).then((()=>Xp(s,e,n))).catch(sl)}async function LD(i,e){const n=Ie(i),s=e.batch.batchId;try{const o=await Y2(n.localStore,e);tS(n,s,null),eS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rc(n,o)}catch(o){await sl(o)}}async function jD(i,e,n){const s=Ie(i);try{const o=await(function(f,m){const g=Ie(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(Je(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);tS(s,e,n),eS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await rc(s,o)}catch(o){await sl(o)}}function eS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function tS(i,e,n){const s=Ie(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Xp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||nS(i,s)}))}function nS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Mg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Fg(i))}function hb(i,e,n){for(const s of n)s instanceof Xw?(i.Ru.addReference(s.key,e),zD(i,s)):s instanceof Jw?(ce(Hg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||nS(i,s.key)):we(19791,{wu:s})}function zD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ce(Hg,"New document in limbo: "+n),i.Eu.add(s),Fg(i))}function Fg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ve(ut.fromString(e)),s=i.fu.next();i.Au.set(s,new CD(n)),i.du=i.du.insert(n,s),Fw(i.remoteStore,new Ps(or(Vf(n.path)),s,"TargetPurposeLimboResolution",Df.ce))}}async function rc(i,e,n){const s=Ie(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Dg.As(g.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,p){const E=Ie(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(p,(R=>ee.forEach(R.Es,(P=>E.persistence.referenceDelegate.addReference(T,R.targetId,P))).next((()=>ee.forEach(R.ds,(P=>E.persistence.referenceDelegate.removeReference(T,R.targetId,P)))))))))}catch(T){if(!al(T))throw T;ce(Og,"Failed to update sequence numbers: "+T)}for(const T of p){const R=T.targetId;if(!T.fromCache){const P=E.Ms.get(R),X=P.snapshotVersion,L=P.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(R,L)}}})(s.localStore,u))}async function qD(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){ce(Hg,"User change. New user:",e.toKey());const s=await zw(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await rc(n,s.Ls)}}function BD(i,e){const n=Ie(i),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function iS(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UD.bind(null,e),e.Pu.H_=AD.bind(null,e.eventManager),e.Pu.yu=RD.bind(null,e.eventManager),e}function HD(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jD.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return K2(this.persistence,new F2,e.initialUser,this.serializer)}Cu(e){return new jw(Ng.mi,this.serializer)}Du(e){return new eD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class FD extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof ff,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new C2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new jw((s=>ff.mi(s,n)),this.serializer)}}class Jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qD.bind(null,this.syncEngine),await TD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SD})()}createDatastore(e){const n=zf(e.databaseInfo.databaseId),s=(function(u){return new sD(u)})(e.databaseInfo);return(function(u,f,m,g){return new uD(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new hD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>cb(this.syncEngine,n,0)),(function(){return rb.v()?new rb:new tD})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,E){const T=new ND(o,u,f,m,g,p);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);ce(Pa,"RemoteStore shutting down."),s.Ea.add(5),await ic(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jp.provider={build:()=>new Jp};class Gg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Gs="FirestoreClient";class GD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(Gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(Gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function mp(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Gs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await zw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function fb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await QD(i);ce(Gs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>ab(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>ab(e.remoteStore,o))),i._onlineComponents=e}async function QD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Gs,"Using user provided OfflineComponentProvider");try{await mp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await mp(i,new mf)}}else ce(Gs,"Using default OfflineComponentProvider"),await mp(i,new FD(void 0));return i._offlineComponents}async function rS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Gs,"Using user provided OnlineComponentProvider"),await fb(i,i._uninitializedComponentsProvider._online)):(ce(Gs,"Using default OnlineComponentProvider"),await fb(i,new Jp))),i._onlineComponents}function KD(i){return rS(i).then((e=>e.syncEngine))}async function pf(i){const e=await rS(i),n=e.eventManager;return n.onListen=DD.bind(null,e.syncEngine),n.onUnlisten=VD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kD.bind(null,e.syncEngine),n}function YD(i,e,n={}){const s=new Fr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new Gg({next:R=>{E.Nu(),f.enqueueAndForget((()=>zg(u,T)));const P=R.docs.has(m);!P&&R.fromCache?p.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&R.fromCache&&g&&g.source==="server"?p.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),T=new Bg(Vf(m.path),E,{includeMetadataChanges:!0,qa:!0});return jg(u,T)})(await pf(i),i.asyncQueue,e,n,s))),s.promise}function $D(i,e,n={}){const s=new Fr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new Gg({next:R=>{E.Nu(),f.enqueueAndForget((()=>zg(u,T))),R.fromCache&&g.source==="server"?p.reject(new ue(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(R)},error:R=>p.reject(R)}),T=new Bg(m,E,{includeMetadataChanges:!0,qa:!0});return jg(u,T)})(await pf(i),i.asyncQueue,e,n,s))),s.promise}function sS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const db=new Map;const aS="firestore.googleapis.com",mb=!0;class pb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aS,this.ssl=mb}else this.host=e.host,this.ssl=e.ssl??mb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x2)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nN;switch(s.type){case"firstParty":return new aN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=db.get(n);s&&(ce("ComponentProvider","Removing Datastore"),db.delete(n),s.terminate())})(this),Promise.resolve()}}function XD(i,e,n,s={}){i=Ii(i,Hf);const o=tl(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(OT(`https://${m}`),MT("Firestore",!0)),u.host!==aS&&u.host!==m&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Va(g,f)&&(i._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=vn.MOCK_USER;else{p=DI(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new vn(T)}i._authCredentials=new iN(new YT(p,E))}}class $s{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ec(n,Nt._jsonSchema))return new Nt(e,s||null,new ve(ut.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Bt("string",Nt._jsonSchemaVersion),referencePath:Bt("string")};class js extends $s{constructor(e,n,s){super(e,n,Vf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ve(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function Ln(i,e,...n){if(i=Ht(i),$T("collection","path",e),i instanceof Hf){const s=ut.fromString(e,...n);return IE(s),new js(i,null,s)}{if(!(i instanceof Nt||i instanceof js))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ut.fromString(e,...n));return IE(s),new js(i.firestore,null,s)}}function wi(i,e,...n){if(i=Ht(i),arguments.length===1&&(e=vg.newId()),$T("doc","path",e),i instanceof Hf){const s=ut.fromString(e,...n);return xE(s),new Nt(i,null,new ve(s))}{if(!(i instanceof Nt||i instanceof js))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ut.fromString(e,...n));return xE(s),new Nt(i.firestore,i instanceof js?i.converter:null,new ve(s))}}const gb="AsyncQueue";class yb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bw(this,"async_queue_retry"),this._c=()=>{const s=dp();s&&ce(gb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;ce(gb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Kr("INTERNAL UNHANDLED ERROR: ",vb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ug.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:vb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function _b(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Qs extends Hf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new yb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yb(e),this._firestoreClient=void 0,await e}}}function JD(i,e){const n=typeof i=="object"?i:gg(),s=typeof i=="string"?i:lf,o=nl(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=CI("firestore");u&&XD(o,...u)}return o}function Ff(i){if(i._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ZD(i),i._firestoreClient}function ZD(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new wN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,sS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new GD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(hn.fromBase64String(e))}catch(n){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:Bt("string",Ri._jsonSchemaVersion),bytes:Bt("string")};class Gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sc{constructor(e){this._methodName=e}}class ur{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(e){if(ec(e,ur._jsonSchema))return new ur(e.latitude,e.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:Bt("string",ur._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class cr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new cr(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:Bt("string",cr._jsonSchemaVersion),vectorValues:Bt("object")};const WD=/^__.*__$/;class eO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new tc(e,this.data,n,this.fieldTransforms)}}class oS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:i})}}class Qg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lS(this.Ac)&&WD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zf(e)}Cc(e,n,s,o=!1){return new Qg({Ac:e,methodName:n,Dc:s,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kg(i){const e=i._freezeSettings(),n=zf(i._databaseId);return new tO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function nO(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Xg("Data must be an object, but it was:",f,s);const m=uS(s,f);let g,p;if(u.merge)g=new ai(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=Zp(e,T,n);if(!f.contains(R))throw new ue(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);hS(E,R)||E.push(R)}g=new ai(E),p=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=f.fieldTransforms;return new eO(new qn(m),g,p)}class Qf extends sc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}class Yg extends sc{_toFieldTransform(e){return new Aw(e.path,new Bu)}isEqual(e){return e instanceof Yg}}class $g extends sc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Gu(e.serializer,Ew(e.serializer,this.Fc));return new Aw(e.path,n)}isEqual(e){return e instanceof $g&&this.Fc===e.Fc}}function iO(i,e,n,s){const o=i.Cc(1,e,n);Xg("Data must be an object, but it was:",o,s);const u=[],f=qn.empty();Ks(s,((g,p)=>{const E=Jg(e,g,n);p=Ht(p);const T=o.yc(E);if(p instanceof Qf)u.push(E);else{const R=ac(p,T);R!=null&&(u.push(E),f.set(E,R))}}));const m=new ai(u);return new oS(f,m,o.fieldTransforms)}function rO(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[Zp(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Zp(e,u[R])),g.push(u[R+1]);const p=[],E=qn.empty();for(let R=m.length-1;R>=0;--R)if(!hS(p,m[R])){const P=m[R];let X=g[R];X=Ht(X);const L=f.yc(P);if(X instanceof Qf)p.push(P);else{const Y=ac(X,L);Y!=null&&(p.push(P),E.set(P,Y))}}const T=new ai(p);return new oS(E,T,f.fieldTransforms)}function sO(i,e,n,s=!1){return ac(n,i.Cc(s?4:3,e))}function ac(i,e){if(cS(i=Ht(i)))return Xg("Unsupported field value:",e,i),uS(i,e);if(i instanceof sc)return(function(s,o){if(!lS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=ac(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ew(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=mt.fromDate(s);return{timestampValue:hf(o.serializer,u)}}if(s instanceof mt){const u=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hf(o.serializer,u)}}if(s instanceof ur)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ri)return{bytesValue:Dw(o.serializer,s._byteString)};if(s instanceof Nt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ig(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cr)return(function(f,m){return{mapValue:{fields:{[rw]:{stringValue:sw},[uf]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Sg(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Nf(s)}`)})(i,e)}function uS(i,e){const n={};return ZT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(i,((s,o)=>{const u=ac(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function cS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof ur||i instanceof Ri||i instanceof Nt||i instanceof sc||i instanceof cr)}function Xg(i,e,n){if(!cS(n)||!XT(n)){const s=Nf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Zp(i,e,n){if((e=Ht(e))instanceof Gf)return e._internalPath;if(typeof e=="string")return Jg(i,e);throw gf("Field path arguments must be of type string or ",i,!1,void 0,n)}const aO=new RegExp("[~\\*/\\[\\]]");function Jg(i,e,n){if(e.search(aO)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Gf(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function gf(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ue(Z.INVALID_ARGUMENT,m+i+g)}function hS(i,e){return i.some((n=>n.isEqual(e)))}class fS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oO extends fS{data(){return super.data()}}function Kf(i,e){return typeof e=="string"?Jg(i,e):e instanceof Gf?e._internalPath:e._delegate._internalPath}function dS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}class mS extends Zg{}function Ia(i,e,...n){let s=[];e instanceof Zg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Wg)).length,m=u.filter((g=>g instanceof Yf)).length;if(f>1||f>0&&m>0)throw new ue(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Yf extends mS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Yf(e,n,s)}_apply(e){const n=this._parse(e);return pS(e._query,n),new $s(e.firestore,e.converter,qp(e._query,n))}_parse(e){const n=Kg(e.firestore);return(function(u,f,m,g,p,E,T){let R;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Tb(T,E);const X=[];for(const L of T)X.push(bb(g,u,L));R={arrayValue:{values:X}}}else R=bb(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Tb(T,E),R=sO(m,f,T,E==="in"||E==="not-in");return qt.create(p,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vu(i,e,n){const s=e,o=Kf("where",i);return Yf._create(o,s,n)}class Wg extends Zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)pS(f,g),f=qp(f,g)})(e._query,n),new $s(e.firestore,e.converter,qp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ey extends mS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ey(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qu(u,f)})(e._query,this._field,this._direction);return new $s(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new ol(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Eb(i,e="asc"){const n=e,s=Kf("orderBy",i);return ey._create(s,n)}function bb(i,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new ue(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dw(e)&&n.indexOf("/")!==-1)throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!ve.isDocumentKey(s))throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return PE(i,new ve(s))}if(n instanceof Nt)return PE(i,n._key);throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nf(n)}.`)}function Tb(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pS(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lO{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ks(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[uf].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new cr(n)}convertGeoPoint(e){return new ur(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=qs(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);Je(Uw(s),9688,{name:e});const o=new ju(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||Kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function uO(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends fS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Kf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:Bt("string",Oa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Yh extends Oa{data(e={}){return super.data(e)}}class Ma{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new _u(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Yh(this._firestore,this._userDataWriter,s.key,s,new _u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _u(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _u(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:cO(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}function jh(i){i=Ii(i,Nt);const e=Ii(i.firestore,Qs);return YD(Ff(e),i._key).then((n=>gS(e,i,n)))}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:Bt("string",Ma._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class ty extends lO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function $h(i){i=Ii(i,$s);const e=Ii(i.firestore,Qs),n=Ff(e),s=new ty(e);return dS(i._query),$D(n,i._query).then((o=>new Ma(e,s,i,o)))}function uu(i,e,n,...s){i=Ii(i,Nt);const o=Ii(i.firestore,Qs),u=Kg(o);let f;return f=typeof(e=Ht(e))=="string"||e instanceof Gf?rO(u,"updateDoc",i._key,e,n,s):iO(u,"updateDoc",i._key,e),ny(o,[f.toMutation(i._key,Li.exists(!0))])}function pp(i){return ny(Ii(i.firestore,Qs),[new Ag(i._key,Li.none())])}function Ca(i,e){const n=Ii(i.firestore,Qs),s=wi(i),o=uO(i.converter,e);return ny(n,[nO(Kg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Li.exists(!1))]).then((()=>s))}function gp(i,...e){i=Ht(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||_b(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_b(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,m;if(i instanceof Nt)f=Ii(i.firestore,Qs),m=Vf(i._key.path),u={next:g=>{e[s]&&e[s](gS(f,i,g))},error:e[s+1],complete:e[s+2]};else{const g=Ii(i,$s);f=Ii(g.firestore,Qs),m=g._query;const p=new ty(f);u={next:E=>{e[s]&&e[s](new Ma(f,p,g,E))},error:e[s+1],complete:e[s+2]},dS(i._query)}return(function(p,E,T,R){const P=new Gg(R),X=new Bg(E,P,T);return p.asyncQueue.enqueueAndForget((async()=>jg(await pf(p),X))),()=>{P.Nu(),p.asyncQueue.enqueueAndForget((async()=>zg(await pf(p),X)))}})(Ff(f),m,o,u)}function ny(i,e){return(function(s,o){const u=new Fr;return s.asyncQueue.enqueueAndForget((async()=>PD(await KD(s),o,u))),u.promise})(Ff(i),e)}function gS(i,e,n){const s=n.docs.get(e._key),o=new ty(i);return new Oa(i,o,e._key,s,new _u(n.hasPendingWrites,n.fromCache),e.converter)}function ri(){return new Yg("serverTimestamp")}function hO(i){return new $g("increment",i)}(function(e,n=!0){(function(o){rl=o})(il),mr(new zi("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Qs(new rN(s.getProvider("auth-internal")),new oN(f,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),xi(wE,SE,e),xi(wE,SE,"esm2020")})();function yS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fO=yS,vS=new qa("auth","Firebase",yS());const yf=new mg("@firebase/auth");function dO(i,...e){yf.logLevel<=ze.WARN&&yf.warn(`Auth (${il}): ${i}`,...e)}function Xh(i,...e){yf.logLevel<=ze.ERROR&&yf.error(`Auth (${il}): ${i}`,...e)}function Bi(i,...e){throw iy(i,...e)}function hr(i,...e){return iy(i,...e)}function _S(i,e,n){const s={...fO(),[e]:n};return new qa("auth","Firebase",s).create(e,{appName:i.name})}function Gr(i){return _S(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iy(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return vS.create(i,...e)}function Te(i,e,...n){if(!i)throw iy(e,...n)}function qr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Xh(e),new Error(e)}function $r(i,e){i||qr(e)}function Wp(){return typeof self<"u"&&self.location?.href||""}function mO(){return wb()==="http:"||wb()==="https:"}function wb(){return typeof self<"u"&&self.location?.protocol||null}function pO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mO()||UI()||"connection"in navigator)?navigator.onLine:!0}function gO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=VI()||LI()}get(){return pO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ry(i,e){$r(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ES{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_O=new oc(3e4,6e4);function Xs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Js(i,e,n,s,o={}){return bS(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Wu({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return PI()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&tl(i.emulatorConfig.host)&&(p.credentials="include"),ES.fetch()(await TS(i,i.config.apiHost,n,m),p)})}async function bS(i,e,n){i._canInitEmulator=!1;const s={...yO,...e};try{const o=new bO(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw zh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw zh(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw zh(i,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _S(i,E,p);Bi(i,E)}}catch(o){if(o instanceof gr)throw o;Bi(i,"network-request-failed",{message:String(o)})}}async function lc(i,e,n,s,o={}){const u=await Js(i,e,n,s,o);return"mfaPendingCredential"in u&&Bi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function TS(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?ry(i.config,o):`${i.config.apiScheme}://${o}`;return vO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function EO(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hr(this.auth,"network-request-failed")),_O.get())})}}function zh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hr(i,e,s);return o.customData._tokenResponse=n,o}function Sb(i){return i!==void 0&&i.enterprise!==void 0}class TO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wO(i,e){return Js(i,"GET","/v2/recaptchaConfig",Xs(i,e))}async function SO(i,e){return Js(i,"POST","/v1/accounts:delete",e)}async function vf(i,e){return Js(i,"POST","/v1/accounts:lookup",e)}function Du(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AO(i,e=!1){const n=Ht(i),s=await n.getIdToken(e),o=sy(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Du(yp(o.auth_time)),issuedAtTime:Du(yp(o.iat)),expirationTime:Du(yp(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function yp(i){return Number(i)*1e3}function sy(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=IT(n);return o?JSON.parse(o):(Xh("Failed to decode base64 JWT payload"),null)}catch(o){return Xh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ab(i){const e=sy(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gr&&RO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function RO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class xO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _f(i){const e=i.auth,n=await i.getIdToken(),s=await Qu(i,vf(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?wS(o.providerUserInfo):[],f=CO(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function IO(i){const e=Ht(i);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CO(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function wS(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function NO(i,e){const n=await bS(i,{},async()=>{const s=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await TS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&tl(i.emulatorConfig.host)&&(g.credentials="include"),ES.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DO(i,e){return Js(i,"POST","/v2/accounts:revokeToken",Xs(i,e))}class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Ab(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await NO(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ho;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return qr("not implemented")}}function Ns(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ui{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new xO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AO(this,e)}reload(){return IO(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _f(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await Qu(this,SO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:P,providerData:X,stsTokenManager:L}=n;Te(T&&L,e,"internal-error");const Y=Ho.fromJSON(this.name,L);Te(typeof T=="string",e,"internal-error"),Ns(s,e.name),Ns(o,e.name),Te(typeof R=="boolean",e,"internal-error"),Te(typeof P=="boolean",e,"internal-error"),Ns(u,e.name),Ns(f,e.name),Ns(m,e.name),Ns(g,e.name),Ns(p,e.name),Ns(E,e.name);const ie=new Ui({uid:T,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Y,createdAt:p,lastLoginAt:E});return X&&Array.isArray(X)&&(ie.providerData=X.map(ae=>({...ae}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ho;o.updateFromServerResponse(n);const u=new Ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await _f(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?wS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ho;m.updateFromIdToken(s);const g=new Ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const Rb=new Map;function Br(i){$r(i instanceof Function,"Expected a class definition");let e=Rb.get(i);return e?($r(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Rb.set(i,e),e)}class SS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SS.type="NONE";const xb=SS;function Jh(i,e,n){return`firebase:${i}:${e}:${n}`}class Fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vf(this.auth,{idToken:e}).catch(()=>{});return n?Ui._fromGetAccountInfoResponse(this.auth,n,e):null}return Ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fo(Br(xb),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Br(xb);const f=Jh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let T;if(typeof E=="string"){const R=await vf(e,{idToken:E}).catch(()=>{});if(!R)break;T=await Ui._fromGetAccountInfoResponse(e,R,E)}else T=Ui._fromJSON(e,E);p!==u&&(m=T),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Fo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Fo(u,e,s))}}function Ib(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NS(e))return"Blackberry";if(DS(e))return"Webos";if(RS(e))return"Safari";if((e.includes("chrome/")||xS(e))&&!e.includes("edge/"))return"Chrome";if(CS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function AS(i=En()){return/firefox\//i.test(i)}function RS(i=En()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xS(i=En()){return/crios\//i.test(i)}function IS(i=En()){return/iemobile/i.test(i)}function CS(i=En()){return/android/i.test(i)}function NS(i=En()){return/blackberry/i.test(i)}function DS(i=En()){return/webos/i.test(i)}function ay(i=En()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function OO(i=En()){return ay(i)&&!!window.navigator?.standalone}function MO(){return jI()&&document.documentMode===10}function OS(i=En()){return ay(i)||CS(i)||DS(i)||NS(i)||/windows phone/i.test(i)||IS(i)}function MS(i,e=[]){let n;switch(i){case"Browser":n=Ib(En());break;case"Worker":n=`${Ib(En())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${s}`}class VO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function kO(i,e={}){return Js(i,"GET","/v2/passwordPolicy",Xs(i,e))}const PO=6;class UO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class LO{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cb(this),this.idTokenSubscription=new Cb(this),this.beforeStateQueue=new VO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vf(this,{idToken:e}),s=await Ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ai(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(Gr(this));const n=e?Ht(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kO(this),n=new UO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fa(i){return Ht(i)}class Cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=QI(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jO(i){$f=i}function VS(i){return $f.loadJS(i)}function zO(){return $f.recaptchaEnterpriseScript}function qO(){return $f.gapiScript}function BO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class HO{constructor(){this.enterprise=new FO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GO="recaptcha-enterprise",kS="NO_RECAPTCHA";class QO{constructor(e){this.type=GO,this.auth=Fa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{wO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new TO(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Sb(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(kS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HO().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Sb(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=zO();g.length!==0&&(g+=m),VS(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function Nb(i,e,n,s=!1,o=!1){const u=new QO(i);let f;if(o)f=kS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function tg(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Nb(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Nb(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}function KO(i,e){const n=nl(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Va(u,e??{}))return o;Bi(o,"already-initialized")}return n.initialize({options:e})}function YO(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Br);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function $O(i,e,n){const s=Fa(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=PS(e),{host:f,port:m}=XO(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Va(p,s.config.emulator)&&Va(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,tl(f)?(OT(`${u}//${f}${g}`),MT("Auth",!0)):JO()}function PS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function XO(i){const e=PS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Db(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Db(f)}}}function Db(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function JO(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class oy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function ZO(i,e){return Js(i,"POST","/v1/accounts:signUp",e)}async function WO(i,e){return lc(i,"POST","/v1/accounts:signInWithPassword",Xs(i,e))}async function eM(i,e){return lc(i,"POST","/v1/accounts:signInWithEmailLink",Xs(i,e))}async function tM(i,e){return lc(i,"POST","/v1/accounts:signInWithEmailLink",Xs(i,e))}class Ku extends oy{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ku(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,n,"signInWithPassword",WO);case"emailLink":return eM(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,s,"signUpPassword",ZO);case"emailLink":return tM(e,{idToken:n,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Go(i,e){return lc(i,"POST","/v1/accounts:signInWithIdp",Xs(i,e))}const nM="http://localhost";class Ua extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ua(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:nM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}function iM(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rM(i){const e=du(mu(i)).link,n=e?du(mu(e)).deep_link_id:null,s=du(mu(i)).deep_link_id;return(s?du(mu(s)).link:null)||s||n||e||i}class ly{constructor(e){const n=du(mu(e)),s=n.apiKey??null,o=n.oobCode??null,u=iM(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rM(e);try{return new ly(n)}catch{return null}}}class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ly.parseLink(n);return Te(s,"argument-error"),Ku._fromEmailAndCode(e,s.code,s.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class US{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uc extends US{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Os extends uc{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";class Ms extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ua._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ms.credential(n,s)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";class Vs extends uc{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";class ks extends uc{constructor(){super("twitter.com")}static credential(e,n){return Ua._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ks.credential(n,s)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";async function sM(i,e){return lc(i,"POST","/v1/accounts:signUp",Xs(i,e))}class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ui._fromIdTokenResponse(e,s,o),f=Ob(s);return new La({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Ob(s);return new La({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Ob(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Ef extends gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ef(e,n,s,o)}}function LS(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(i,u,e,s):u})}async function aM(i,e,n=!1){const s=await Qu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return La._forOperation(i,"link",s)}async function oM(i,e,n=!1){const{auth:s}=i;if(Ai(s.app))return Promise.reject(Gr(s));const o="reauthenticate";try{const u=await Qu(i,LS(s,o,e,i),n);Te(u.idToken,s,"internal-error");const f=sy(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(i.uid===m,s,"user-mismatch"),La._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Bi(s,"user-mismatch"),u}}async function jS(i,e,n=!1){if(Ai(i.app))return Promise.reject(Gr(i));const s="signIn",o=await LS(i,s,e),u=await La._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function lM(i,e){return jS(Fa(i),e)}async function zS(i){const e=Fa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uM(i,e,n){if(Ai(i.app))return Promise.reject(Gr(i));const s=Fa(i),f=await tg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sM).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&zS(i),g}),m=await La._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function cM(i,e,n){return Ai(i.app)?Promise.reject(Gr(i)):lM(Ht(i),ul.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&zS(i),s})}function hM(i,e,n,s){return Ht(i).onIdTokenChanged(e,n,s)}function fM(i,e,n){return Ht(i).beforeAuthStateChanged(e,n)}function dM(i,e,n,s){return Ht(i).onAuthStateChanged(e,n,s)}function Mb(i){return Ht(i).signOut()}const bf="__sak";class qS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const mM=1e3,pM=10;class BS extends qS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);MO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pM):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BS.type="LOCAL";const gM=BS;class HS extends qS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HS.type="SESSION";const FS=HS;function yM(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await yM(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xf.receivers=[];function uy(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class vM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=uy("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===p)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function fr(){return window}function _M(i){fr().location.href=i}function GS(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function EM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bM(){return navigator?.serviceWorker?.controller||null}function TM(){return GS()?self:null}const QS="firebaseLocalStorageDb",wM=1,Tf="firebaseLocalStorage",KS="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(i,e){return i.transaction([Tf],e?"readwrite":"readonly").objectStore(Tf)}function SM(){const i=indexedDB.deleteDatabase(QS);return new cc(i).toPromise()}function ng(){const i=indexedDB.open(QS,wM);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Tf,{keyPath:KS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Tf)?e(s):(s.close(),await SM(),e(await ng()))})})}async function Vb(i,e,n){const s=Jf(i,!0).put({[KS]:e,value:n});return new cc(s).toPromise()}async function AM(i,e){const n=Jf(i,!1).get(e),s=await new cc(n).toPromise();return s===void 0?null:s.value}function kb(i,e){const n=Jf(i,!0).delete(e);return new cc(n).toPromise()}const RM=800,xM=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>xM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xf._getInstance(TM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EM(),!this.activeServiceWorker)return;this.sender=new vM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await Vb(e,bf,"1"),await kb(e,bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Vb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>AM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jf(o,!1).getAll();return new cc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const IM=YS;new oc(3e4,6e4);function CM(i,e){return e?Br(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class cy extends oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NM(i){return jS(i.auth,new cy(i),i.bypassAuthState)}function DM(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),oM(n,new cy(i),i.bypassAuthState)}async function OM(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),aM(n,new cy(i),i.bypassAuthState)}class $S{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NM;case"linkViaPopup":case"linkViaRedirect":return OM;case"reauthViaPopup":case"reauthViaRedirect":return DM;default:Bi(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const MM=new oc(2e3,1e4);class zo extends $S{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MM.get())};e()}}zo.currentPopupAction=null;const VM="pendingRedirect",Zh=new Map;class kM extends $S{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zh.get(this.auth._key());if(!e){try{const s=await PM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zh.set(this.auth._key(),e)}return this.bypassAuthState||Zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PM(i,e){const n=jM(e),s=LM(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function UM(i,e){Zh.set(i._key(),e)}function LM(i){return Br(i._redirectPersistence)}function jM(i){return Jh(VM,i.config.apiKey,i.name)}async function zM(i,e,n=!1){if(Ai(i.app))return Promise.reject(Gr(i));const s=Fa(i),o=CM(s,e),f=await new kM(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const qM=600*1e3;class BM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!XS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pb(e))}saveEventToCache(e){this.cachedEventUids.add(Pb(e)),this.lastProcessedEventTime=Date.now()}}function Pb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function XS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function HM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XS(i);default:return!1}}async function FM(i,e={}){return Js(i,"GET","/v1/projects",e)}const GM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QM=/^https?/;async function KM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await FM(i);for(const n of e)try{if(YM(n))return}catch{}Bi(i,"unauthorized-domain")}function YM(i){const e=Wp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!QM.test(n))return!1;if(GM.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const $M=new oc(3e4,6e4);function Ub(){const i=fr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function XM(i){return new Promise((e,n)=>{function s(){Ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ub(),n(hr(i,"network-request-failed"))},timeout:$M.get()})}if(fr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fr().gapi?.load)s();else{const o=BO("iframefcb");return fr()[o]=()=>{gapi.load?s():n(hr(i,"network-request-failed"))},VS(`${qO()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Wh=null,e})}let Wh=null;function JM(i){return Wh=Wh||XM(i),Wh}const ZM=new oc(5e3,15e3),WM="__/auth/iframe",e4="emulator/auth/iframe",t4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i4(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?ry(e,e4):`https://${i.config.authDomain}/${WM}`,s={apiKey:e.apiKey,appName:i.name,v:il},o=n4.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Wu(s).slice(1)}`}async function r4(i){const e=await JM(i),n=fr().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:i4(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hr(i,"network-request-failed"),m=fr().setTimeout(()=>{u(f)},ZM.get());function g(){fr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const s4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a4=500,o4=600,l4="_blank",u4="http://localhost";class Lb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c4(i,e,n,s=a4,o=o4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...s4,width:s.toString(),height:o.toString(),top:u,left:f},p=En().toLowerCase();n&&(m=xS(p)?l4:n),AS(p)&&(e=e||u4,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[P,X])=>`${R}${P}=${X},`,"");if(OO(p)&&m!=="_self")return h4(e||"",m),new Lb(null);const T=window.open(e||"",m,E);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new Lb(T)}function h4(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const f4="__/auth/handler",d4="emulator/auth/handler",m4=encodeURIComponent("fac");async function jb(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:il,eventId:o};if(e instanceof US){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",GI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof uc){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${m4}=${encodeURIComponent(g)}`:"";return`${p4(i)}?${Wu(m).slice(1)}${p}`}function p4({config:i}){return i.emulator?ry(i,d4):`https://${i.authDomain}/${f4}`}const vp="webStorageSupport";class g4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FS,this._completeRedirectFn=zM,this._overrideRedirectResult=UM}async _openPopup(e,n,s,o){$r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await jb(e,n,s,Wp(),o);return c4(e,u,uy())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await jb(e,n,s,Wp(),o);return _M(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):($r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await r4(e),s=new BM(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vp,{type:vp},o=>{const u=o?.[0]?.[vp];u!==void 0&&n(!!u),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OS()||RS()||ay()}}const y4=g4;var zb="@firebase/auth",qb="1.12.0";class v4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _4(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E4(i){mr(new zi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(i)},p=new LO(s,o,u,g);return YO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mr(new zi("auth-internal",e=>{const n=Fa(e.getProvider("auth").getImmediate());return(s=>new v4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(zb,qb,_4(i)),xi(zb,qb,"esm2020")}const b4=300,T4=DT("authIdTokenMaxAge")||b4;let Bb=null;const w4=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>T4)return;const o=n?.token;Bb!==o&&(Bb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function S4(i=gg()){const e=nl(i,"auth");if(e.isInitialized())return e.getImmediate();const n=KO(i,{popupRedirectResolver:y4,persistence:[IM,gM,FS]}),s=DT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=w4(u.toString());fM(n,f,()=>f(n.currentUser)),hM(n,m=>f(m))}}const o=CT("auth");return o&&$O(n,`http://${o}`),n}function A4(){return document.getElementsByTagName("head")?.[0]??document}jO({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=hr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",A4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E4("Browser");var R4="firebase",x4="12.7.0";xi(R4,x4,"app");const JS="@firebase/installations",hy="0.6.19";const ZS=1e4,WS=`w:${hy}`,eA="FIS_v2",I4="https://firebaseinstallations.googleapis.com/v1",C4=3600*1e3,N4="installations",D4="Installations";const O4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ja=new qa(N4,D4,O4);function tA(i){return i instanceof gr&&i.code.includes("request-failed")}function nA({projectId:i}){return`${I4}/projects/${i}/installations`}function iA(i){return{token:i.token,requestStatus:2,expiresIn:V4(i.expiresIn),creationTime:Date.now()}}async function rA(i,e){const s=(await e.json()).error;return ja.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function sA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function M4(i,{refreshToken:e}){const n=sA(i);return n.append("Authorization",k4(e)),n}async function aA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function V4(i){return Number(i.replace("s","000"))}function k4(i){return`${eA} ${i}`}async function P4({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=nA(i),o=sA(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:n,authVersion:eA,appId:i.appId,sdkVersion:WS},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await aA(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:iA(p.authToken)}}else throw await rA("Create Installation",g)}function oA(i){return new Promise(e=>{setTimeout(e,i)})}function U4(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const L4=/^[cdef][\w-]{21}$/,ig="";function j4(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=z4(i);return L4.test(n)?n:ig}catch{return ig}}function z4(i){return U4(i).substr(0,22)}function Zf(i){return`${i.appName}!${i.appId}`}const lA=new Map;function uA(i,e){const n=Zf(i);cA(n,e),q4(n,e)}function cA(i,e){const n=lA.get(i);if(n)for(const s of n)s(e)}function q4(i,e){const n=B4();n&&n.postMessage({key:i,fid:e}),H4()}let Da=null;function B4(){return!Da&&"BroadcastChannel"in self&&(Da=new BroadcastChannel("[Firebase] FID Change"),Da.onmessage=i=>{cA(i.data.key,i.data.fid)}),Da}function H4(){lA.size===0&&Da&&(Da.close(),Da=null)}const F4="firebase-installations-database",G4=1,za="firebase-installations-store";let _p=null;function fy(){return _p||(_p=Cf(F4,G4,{upgrade:(i,e)=>{e===0&&i.createObjectStore(za)}})),_p}async function wf(i,e){const n=Zf(i),o=(await fy()).transaction(za,"readwrite"),u=o.objectStore(za),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&uA(i,e.fid),e}async function hA(i){const e=Zf(i),s=(await fy()).transaction(za,"readwrite");await s.objectStore(za).delete(e),await s.done}async function Wf(i,e){const n=Zf(i),o=(await fy()).transaction(za,"readwrite"),u=o.objectStore(za),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&uA(i,m.fid),m}async function dy(i){let e;const n=await Wf(i.appConfig,s=>{const o=Q4(s),u=K4(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===ig?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Q4(i){const e=i||{fid:j4(),registrationStatus:0};return fA(e)}function K4(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ja.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Y4(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$4(i)}:{installationEntry:e}}async function Y4(i,e){try{const n=await P4(i,e);return wf(i.appConfig,n)}catch(n){throw tA(n)&&n.customData.serverCode===409?await hA(i.appConfig):await wf(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $4(i){let e=await Hb(i.appConfig);for(;e.registrationStatus===1;)await oA(100),e=await Hb(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await dy(i);return s||n}return e}function Hb(i){return Wf(i,e=>{if(!e)throw ja.create("installation-not-found");return fA(e)})}function fA(i){return X4(i)?{fid:i.fid,registrationStatus:0}:i}function X4(i){return i.registrationStatus===1&&i.registrationTime+ZS<Date.now()}async function J4({appConfig:i,heartbeatServiceProvider:e},n){const s=Z4(i,n),o=M4(i,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:WS,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await aA(()=>fetch(s,m));if(g.ok){const p=await g.json();return iA(p)}else throw await rA("Generate Auth Token",g)}function Z4(i,{fid:e}){return`${nA(i)}/${e}/authTokens:generate`}async function my(i,e=!1){let n;const s=await Wf(i.appConfig,u=>{if(!dA(u))throw ja.create("not-registered");const f=u.authToken;if(!e&&tV(f))return u;if(f.requestStatus===1)return n=W4(i,e),u;{if(!navigator.onLine)throw ja.create("app-offline");const m=iV(u);return n=eV(i,m),m}});return n?await n:s.authToken}async function W4(i,e){let n=await Fb(i.appConfig);for(;n.authToken.requestStatus===1;)await oA(100),n=await Fb(i.appConfig);const s=n.authToken;return s.requestStatus===0?my(i,e):s}function Fb(i){return Wf(i,e=>{if(!dA(e))throw ja.create("not-registered");const n=e.authToken;return rV(n)?{...e,authToken:{requestStatus:0}}:e})}async function eV(i,e){try{const n=await J4(i,e),s={...e,authToken:n};return await wf(i.appConfig,s),n}catch(n){if(tA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hA(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await wf(i.appConfig,s)}throw n}}function dA(i){return i!==void 0&&i.registrationStatus===2}function tV(i){return i.requestStatus===2&&!nV(i)}function nV(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+C4}function iV(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function rV(i){return i.requestStatus===1&&i.requestTime+ZS<Date.now()}async function sV(i){const e=i,{installationEntry:n,registrationPromise:s}=await dy(e);return s?s.catch(console.error):my(e).catch(console.error),n.fid}async function aV(i,e=!1){const n=i;return await oV(n),(await my(n,e)).token}async function oV(i){const{registrationPromise:e}=await dy(i);e&&await e}function lV(i){if(!i||!i.options)throw Ep("App Configuration");if(!i.name)throw Ep("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Ep(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Ep(i){return ja.create("missing-app-config-values",{valueName:i})}const mA="installations",uV="installations-internal",cV=i=>{const e=i.getProvider("app").getImmediate(),n=lV(e),s=nl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},hV=i=>{const e=i.getProvider("app").getImmediate(),n=nl(e,mA).getImmediate();return{getId:()=>sV(n),getToken:o=>aV(n,o)}};function fV(){mr(new zi(mA,cV,"PUBLIC")),mr(new zi(uV,hV,"PRIVATE"))}fV();xi(JS,hy);xi(JS,hy,"esm2020");const dV="/firebase-messaging-sw.js",mV="/firebase-cloud-messaging-push-scope",pA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pV="https://fcmregistrations.googleapis.com/v1",gA="google.c.a.c_id",gV="google.c.a.c_l",yV="google.c.a.ts",vV="google.c.a.e",Gb=1e4;var Qb;(function(i){i[i.DATA_MESSAGE=1]="DATA_MESSAGE",i[i.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Qb||(Qb={}));var Yu;(function(i){i.PUSH_RECEIVED="push-received",i.NOTIFICATION_CLICKED="notification-clicked"})(Yu||(Yu={}));function jr(i){const e=new Uint8Array(i);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _V(i){const e="=".repeat((4-i.length%4)%4),n=(i+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),o=new Uint8Array(s.length);for(let u=0;u<s.length;++u)o[u]=s.charCodeAt(u);return o}const bp="fcm_token_details_db",EV=5,Kb="fcm_token_object_Store";async function bV(i){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(bp))return null;let e=null;return(await Cf(bp,EV,{upgrade:async(s,o,u,f)=>{if(o<2||!s.objectStoreNames.contains(Kb))return;const m=f.objectStore(Kb),g=await m.index("fcmSenderId").get(i);if(await m.clear(),!!g){if(o===2){const p=g;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:jr(p.vapidKey)}}}else if(o===3){const p=g;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:jr(p.auth),p256dh:jr(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:jr(p.vapidKey)}}}else if(o===4){const p=g;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:jr(p.auth),p256dh:jr(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:jr(p.vapidKey)}}}}}})).close(),await op(bp),await op("fcm_vapid_details_db"),await op("undefined"),TV(e)?e:null}function TV(i){if(!i||!i.subscriptionOptions)return!1;const{subscriptionOptions:e}=i;return typeof i.createTime=="number"&&i.createTime>0&&typeof i.token=="string"&&i.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const wV="firebase-messaging-database",SV=1,$u="firebase-messaging-store";let Tp=null;function yA(){return Tp||(Tp=Cf(wV,SV,{upgrade:(i,e)=>{e===0&&i.createObjectStore($u)}})),Tp}async function AV(i){const e=vA(i),s=await(await yA()).transaction($u).objectStore($u).get(e);if(s)return s;{const o=await bV(i.appConfig.senderId);if(o)return await py(i,o),o}}async function py(i,e){const n=vA(i),o=(await yA()).transaction($u,"readwrite");return await o.objectStore($u).put(e,n),await o.done,e}function vA({appConfig:i}){return i.appId}const RV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},xn=new qa("messaging","Messaging",RV);async function xV(i,e){const n=await yy(i),s=_A(e),o={method:"POST",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(gy(i.appConfig),o)).json()}catch(f){throw xn.create("token-subscribe-failed",{errorInfo:f?.toString()})}if(u.error){const f=u.error.message;throw xn.create("token-subscribe-failed",{errorInfo:f})}if(!u.token)throw xn.create("token-subscribe-no-token");return u.token}async function IV(i,e){const n=await yy(i),s=_A(e.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(`${gy(i.appConfig)}/${e.token}`,o)).json()}catch(f){throw xn.create("token-update-failed",{errorInfo:f?.toString()})}if(u.error){const f=u.error.message;throw xn.create("token-update-failed",{errorInfo:f})}if(!u.token)throw xn.create("token-update-no-token");return u.token}async function CV(i,e){const s={method:"DELETE",headers:await yy(i)};try{const u=await(await fetch(`${gy(i.appConfig)}/${e}`,s)).json();if(u.error){const f=u.error.message;throw xn.create("token-unsubscribe-failed",{errorInfo:f})}}catch(o){throw xn.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function gy({projectId:i}){return`${pV}/projects/${i}/registrations`}async function yy({appConfig:i,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function _A({p256dh:i,auth:e,endpoint:n,vapidKey:s}){const o={web:{endpoint:n,auth:e,p256dh:i}};return s!==pA&&(o.web.applicationPubKey=s),o}const NV=10080*60*1e3;async function DV(i){const e=await MV(i.swRegistration,i.vapidKey),n={vapidKey:i.vapidKey,swScope:i.swRegistration.scope,endpoint:e.endpoint,auth:jr(e.getKey("auth")),p256dh:jr(e.getKey("p256dh"))},s=await AV(i.firebaseDependencies);if(s){if(VV(s.subscriptionOptions,n))return Date.now()>=s.createTime+NV?OV(i,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await CV(i.firebaseDependencies,s.token)}catch(o){console.warn(o)}return Yb(i.firebaseDependencies,n)}else return Yb(i.firebaseDependencies,n)}async function OV(i,e){try{const n=await IV(i.firebaseDependencies,e),s={...e,token:n,createTime:Date.now()};return await py(i.firebaseDependencies,s),n}catch(n){throw n}}async function Yb(i,e){const s={token:await xV(i,e),createTime:Date.now(),subscriptionOptions:e};return await py(i,s),s.token}async function MV(i,e){const n=await i.pushManager.getSubscription();return n||i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_V(e)})}function VV(i,e){const n=e.vapidKey===i.vapidKey,s=e.endpoint===i.endpoint,o=e.auth===i.auth,u=e.p256dh===i.p256dh;return n&&s&&o&&u}function $b(i){const e={from:i.from,collapseKey:i.collapse_key,messageId:i.fcmMessageId};return kV(e,i),PV(e,i),UV(e,i),e}function kV(i,e){if(!e.notification)return;i.notification={};const n=e.notification.title;n&&(i.notification.title=n);const s=e.notification.body;s&&(i.notification.body=s);const o=e.notification.image;o&&(i.notification.image=o);const u=e.notification.icon;u&&(i.notification.icon=u)}function PV(i,e){e.data&&(i.data=e.data)}function UV(i,e){if(!e.fcmOptions&&!e.notification?.click_action)return;i.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(i.fcmOptions.link=n);const s=e.fcmOptions?.analytics_label;s&&(i.fcmOptions.analyticsLabel=s)}function LV(i){return typeof i=="object"&&!!i&&gA in i}function jV(i){if(!i||!i.options)throw wp("App Configuration Object");if(!i.name)throw wp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=i;for(const s of e)if(!n[s])throw wp(s);return{appName:i.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function wp(i){return xn.create("missing-app-config-values",{valueName:i})}class zV{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=jV(e);this.firebaseDependencies={app:e,appConfig:o,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function qV(i){try{i.swRegistration=await navigator.serviceWorker.register(dV,{scope:mV}),i.swRegistration.update().catch(()=>{}),await BV(i.swRegistration)}catch(e){throw xn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function BV(i){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${Gb} ms`)),Gb),o=i.installing||i.waiting;i.active?(clearTimeout(s),e()):o?o.onstatechange=u=>{u.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}async function HV(i,e){if(!e&&!i.swRegistration&&await qV(i),!(!e&&i.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");i.swRegistration=e}}async function FV(i,e){e?i.vapidKey=e:i.vapidKey||(i.vapidKey=pA)}async function GV(i,e){if(!navigator)throw xn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw xn.create("permission-blocked");return await FV(i,e?.vapidKey),await HV(i,e?.serviceWorkerRegistration),DV(i)}async function QV(i,e,n){const s=KV(e);(await i.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[gA],message_name:n[gV],message_time:n[yV],message_device_time:Math.floor(Date.now()/1e3)})}function KV(i){switch(i){case Yu.NOTIFICATION_CLICKED:return"notification_open";case Yu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function YV(i,e){const n=e.data;if(!n.isFirebaseMessaging)return;i.onMessageHandler&&n.messageType===Yu.PUSH_RECEIVED&&(typeof i.onMessageHandler=="function"?i.onMessageHandler($b(n)):i.onMessageHandler.next($b(n)));const s=n.data;LV(s)&&s[vV]==="1"&&await QV(i,n.messageType,s)}const Xb="@firebase/messaging",Jb="0.12.23";const $V=i=>{const e=new zV(i.getProvider("app").getImmediate(),i.getProvider("installations-internal").getImmediate(),i.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>YV(e,n)),e},XV=i=>{const e=i.getProvider("messaging").getImmediate();return{getToken:s=>GV(e,s)}};function JV(){mr(new zi("messaging",$V,"PUBLIC")),mr(new zi("messaging-internal",XV,"PRIVATE")),xi(Xb,Jb),xi(Xb,Jb,"esm2020")}async function ZV(){try{await kT()}catch{return!1}return typeof window<"u"&&VT()&&qI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function WV(i=gg()){return ZV().then(e=>{if(!e)throw xn.create("unsupported-browser")},e=>{throw xn.create("indexed-db-unsupported")}),nl(Ht(i),"messaging").getImmediate()}JV();const e3={apiKey:"AIzaSyB5i9OCUpp-VQ9MR4fk01zsP743UuHSVWw",authDomain:"omega-cf92a.firebaseapp.com",projectId:"omega-cf92a",storageBucket:"omega-cf92a.firebasestorage.app",messagingSenderId:"187395193452",appId:"1:187395193452:web:5c0f4aefb2407478687649",measurementId:"G-5114W3WLXR"},vy=LT(e3),ft=JD(vy),zr=S4(vy);WV(vy);const dt={QUEUE:"queue",PENDING_REQUESTS:"pendingRequests",NOTIFICATIONS:"notifications",ACTIVITY_LOGS:"activityLogs",USERS:"users",SETTINGS:"settings"},tt={PENDING:"pending",QUEUED:"queued",SUMMONED:"summoned",STAGING:"staging",LOADING:"loading",COMPLETED:"completed",EXPIRED:"expired"},si={SHIPPING_ADMIN:"shipping_admin",ORDER_DESK_ADMIN:"order_desk_admin"},jo={async signIn(i,e){try{let n,s;try{n=await cM(zr,i,e),s=n.user}catch(u){if(u.code==="auth/invalid-credential"&&this.isKnownAdminEmail(i))console.log("Creating new admin account..."),n=await uM(zr,i,e),s=n.user;else throw u}let o=await this.getUserProfile(s.uid);if(!o&&this.isKnownAdminEmail(i)&&(console.log("Creating admin profile..."),o=await this.createAdminProfile(s)),!o||!Object.values(si).includes(o.role))throw await Mb(zr),new Error("Access denied. Admin account required.");return s}catch(n){throw console.error("Sign in error:",n),new Error(`Sign in failed: ${n.message}`)}},getAdminRole(i){return{"admin@omega.com":si.SHIPPING_ADMIN,"shipping@omega.com":si.SHIPPING_ADMIN,"shipping@omegaproducts.com":si.SHIPPING_ADMIN,"orders@omega.com":si.ORDER_DESK_ADMIN,"orders@omegaproducts.com":si.ORDER_DESK_ADMIN,"orderdesk@omega.com":si.ORDER_DESK_ADMIN}[i.toLowerCase()]||null},isKnownAdminEmail(i){return this.getAdminRole(i)!==null},async createAdminProfile(i){try{const e=this.getAdminRole(i.email);if(!e)throw new Error("Unknown admin email");const n={uid:i.uid,email:i.email,role:e,driverName:"",createdAt:ri(),isActive:!0};return{id:(await Ca(Ln(ft,dt.USERS),n)).id,...n}}catch(e){throw console.error("Failed to create admin profile:",e),new Error("Failed to create admin profile")}},async signOut(){try{await Mb(zr)}catch(i){throw new Error(`Sign out failed: ${i.message}`)}},onAuthStateChange(i){return dM(zr,i)},getCurrentUser(){return zr.currentUser},async getUserProfile(i){try{const e=Ia(Ln(ft,dt.USERS),vu("uid","==",i)),n=await $h(e);return n.empty?null:{id:n.docs[0].id,...n.docs[0].data()}}catch(e){if(e.code==="permission-denied")return console.warn("Permission denied accessing user profile, user may not exist yet"),null;throw new Error(`Failed to get user profile: ${e.message}`)}}},Vo={async approveRequest(i){try{const e=await jh(wi(ft,dt.PENDING_REQUESTS,i));if(!e.exists())throw new Error("Request not found");const n=e.data(),o=(await $h(Ia(Ln(ft,dt.QUEUE),vu("status","==",tt.QUEUED)))).size+1,u=await Ca(Ln(ft,dt.QUEUE),{...n,status:tt.QUEUED,position:o,joinedAt:ri(),approvedBy:zr.currentUser?.uid});return await pp(wi(ft,dt.PENDING_REQUESTS,i)),await this.sendNotification(n.userId||"anonymous","success",`Request approved - joined queue at position ${o}`,n.poNumber),await this.logActivity("request_approved",`Request approved for ${n.driverName}`,n.poNumber),u.id}catch(e){throw new Error(`Failed to approve request: ${e.message}`)}},async rejectRequest(i,e){try{const n=await jh(wi(ft,dt.PENDING_REQUESTS,i));if(!n.exists())throw new Error("Request not found");const s=n.data();await pp(wi(ft,dt.PENDING_REQUESTS,i)),await this.sendNotification(s.userId||"anonymous","error",`Request rejected: ${e}`,s.poNumber),await this.logActivity("request_rejected",`Request rejected for ${s.driverName}: ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to reject request: ${n.message}`)}},async updateQueuePositions(i){try{const e=[];for(let n=0;n<i.length;n++){const s=i[n];e.push(uu(wi(ft,dt.QUEUE,s.id),{position:n+1,updatedAt:ri()}))}await Promise.all(e),await this.logActivity("queue_reordered","Queue positions updated by admin")}catch(e){throw new Error(`Failed to update queue positions: ${e.message}`)}},async removeFromQueue(i,e="Removed by admin"){try{const n=await jh(wi(ft,dt.QUEUE,i));if(!n.exists())throw new Error("Queue item not found");const s=n.data();await pp(wi(ft,dt.QUEUE,i));const o=await $h(Ia(Ln(ft,dt.QUEUE),vu("position",">",s.position))),u=[];o.forEach(f=>{u.push(uu(f.ref,{position:hO(-1),updatedAt:ri()}))}),await Promise.all(u),await this.sendNotification(s.userId||"anonymous","admin_action",`Removed from queue: ${e}`,s.poNumber),await this.logActivity("removed_from_queue",`${s.driverName} removed from queue: ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to remove from queue: ${n.message}`)}},async updateQueueStatus(i,e){try{await uu(wi(ft,dt.QUEUE,i),{status:e,updatedAt:ri()});const s=(await jh(wi(ft,dt.QUEUE,i))).data();let o="";switch(e){case tt.SUMMONED:o="You are summoned! Please proceed to the staging area.";break;case tt.STAGING:o="You are now in the staging area.";break;case tt.LOADING:o="You are now in the loading bay.";break;case tt.COMPLETED:o="Loading completed. Thank you!";break;default:o=`Status updated to ${e}`}await this.sendNotification(s.userId||"anonymous","status_update",o,s.poNumber),await this.logActivity("status_updated",`${s.driverName} status updated to ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to update status: ${n.message}`)}},async updateQueuePosition(i,e){try{await uu(wi(ft,dt.QUEUE,i),{position:e,updatedAt:ri()})}catch(n){throw new Error(`Failed to update queue position: ${n.message}`)}},async sendNotification(i,e,n,s=null){try{await Ca(Ln(ft,dt.NOTIFICATIONS),{userId:i,type:e,message:n,poNumber:s,timestamp:ri(),read:!1})}catch(o){console.error("Failed to send notification:",o)}},async logActivity(i,e,n=null){try{await Ca(Ln(ft,dt.ACTIVITY_LOGS),{type:i,message:e,poNumber:n,timestamp:ri(),userId:zr.currentUser?.uid||null,userEmail:zr.currentUser?.email||null})}catch(s){console.error("Failed to log activity:",s)}},onPendingRequestsChange(i,e){const n=Ia(Ln(ft,dt.PENDING_REQUESTS),Eb("requestedAt","desc"));return gp(n,i,e||(s=>{console.error("Pending requests subscription error:",s)}))},onQueueChange(i,e){const n=Ia(Ln(ft,dt.QUEUE),vu("status","in",[tt.QUEUED,tt.SUMMONED]));return gp(n,s=>{const o={...s,docs:[...s.docs].sort((u,f)=>{const m=u.data().position||0,g=f.data().position||0;return m-g})};i(o)},e||(s=>{console.error("Queue subscription error:",s)}))},onActivityLogsChange(i,e){const n=Ia(Ln(ft,dt.ACTIVITY_LOGS),Eb("timestamp","desc"));return gp(n,i,e||(s=>{console.error("Activity logs subscription error:",s)}))},async validatePO(i,e,n=""){try{const s=wi(ft,dt.QUEUE,i);await uu(s,{poValidated:e,poValidationReason:n,poValidatedAt:ri()}),await Ca(Ln(ft,dt.ACTIVITY_LOGS),{type:"admin_action",action:e?"po_validated":"po_invalidated",message:`PO ${e?"validated":"invalidated"} by order desk admin${n?": "+n:""}`,queueId:i,timestamp:ri()})}catch(s){throw new Error(`Failed to ${e?"validate":"invalidate"} PO: ${s.message}`)}},async createManualTicket(i){try{const n=(await $h(Ia(Ln(ft,dt.QUEUE),vu("status","in",[tt.QUEUED,tt.SUMMONED])))).docs.map(u=>u.data()).sort((u,f)=>(u.position||0)-(f.position||0));let s=1;for(const u of n)if(u.position===s)s++;else break;const o=await Ca(Ln(ft,dt.QUEUE),{...i,status:tt.QUEUED,position:s,joinedAt:ri(),requestedAt:ri(),userId:"manual_admin_entry",sessionId:"admin_"+Date.now(),poValidated:!0,createdByAdmin:!0});return await Ca(Ln(ft,dt.ACTIVITY_LOGS),{type:"admin_action",action:"manual_ticket_created",message:`Manual ticket created by order desk admin for PO ${i.poNumber}`,poNumber:i.poNumber,queueId:o.id,position:s,timestamp:ri()}),{id:o.id,position:s}}catch(e){throw new Error(`Failed to create manual ticket: ${e.message}`)}}},Eu=i=>{const e=new Date,n=new Date(i),s=Math.floor((e-n)/(1e3*60));if(s<1)return"Just now";if(s<60)return`${s}m ago`;const o=Math.floor(s/60);return o<24?`${o}h ago`:`${Math.floor(o/24)}d ago`},t3=({ticket:i,stagingZones:e,onSummon:n})=>{const{attributes:s,listeners:o,setNodeRef:u,transform:f,transition:m,isDragging:g}=gI({id:i.id}),p={transform:Vu.Transform.toString(f),transition:m,opacity:g?.5:1},E=Object.values(e).filter(T=>T.status==="available").length;return b.jsxs("tr",{ref:u,style:p,className:`hover:bg-gray-50 transition-colors ${g?"shadow-lg":""}`,children:[b.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-gray-500",children:b.jsxs("div",{children:[b.jsx("div",{className:"font-medium",children:Eu(i.joinedAt)}),b.jsx("div",{children:new Date(i.joinedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{className:"cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600",...s,...o,children:b.jsx(bR,{className:"w-4 h-4"})}),b.jsx("span",{className:"font-bold text-gray-900 text-sm",children:i.poNumber})]})}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[b.jsx(Sp,{className:"w-3 h-3"}),b.jsx("span",{children:i.confirmCode})]})}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-1",children:[i.type==="pickup"?b.jsx(hu,{className:"w-3 h-3 text-blue-600"}):b.jsx(cu,{className:"w-3 h-3 text-green-600"}),b.jsx("span",{className:"text-xs text-gray-600 capitalize",children:i.type||"pickup"})]})}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.jsx("div",{className:"flex items-center gap-2",children:i.poValidated===!0?b.jsxs(b.Fragment,{children:[b.jsx(Tu,{className:"w-4 h-4 text-green-500"}),b.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Validated"})]}):i.poValidated===!1?b.jsxs(b.Fragment,{children:[b.jsx(qh,{className:"w-4 h-4 text-red-500"}),b.jsx("span",{className:"text-xs text-red-700 font-medium",children:"Invalid"})]}):b.jsxs(b.Fragment,{children:[b.jsx(bu,{className:"w-4 h-4 text-yellow-500"}),b.jsx("span",{className:"text-xs text-yellow-700 font-medium",children:"Pending"})]})})}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.jsx("button",{onClick:()=>n(i),disabled:E===0,className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${E===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,title:E===0?"Both staging zones are occupied":"Summon driver",children:E===0?"Zones Full":"Summon "})})]})},EA=()=>b.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),Zb=({selectedTicket:i,onClose:e,onConfirm:n})=>{const[s,o]=H.useState(""),u=i?.poValidated===!0,f=i?.poValidated===!1;return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(Tu,{className:"w-6 h-6 text-blue-500"}),b.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"PO Validation"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsxs("p",{className:"text-gray-600 mb-3",children:["Update validation for PO ",b.jsx("strong",{children:i?.poNumber})]}),u&&b.jsx("div",{className:"mb-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:b.jsx("p",{className:"text-sm text-green-700",children:"Currently:  Valid"})}),f&&b.jsx("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:b.jsx("p",{className:"text-sm text-red-700",children:"Currently:  Invalid"})}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional):"}),b.jsx("textarea",{value:s,onChange:m=>o(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter validation notes..."})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:e,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>n(i.id,!1,s),disabled:f,className:`flex-1 font-medium py-3 rounded-lg transition-colors ${f?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 hover:bg-red-600 text-white"}`,children:"Invalidate"}),b.jsx("button",{onClick:()=>n(i.id,!0,s),disabled:u,className:`flex-1 font-medium py-3 rounded-lg transition-colors ${u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white"}`,children:"Validate"})]})]})})},Wb=({onClose:i,onConfirm:e})=>{const[n,s]=H.useState({poNumber:"",phoneNumber:"",type:"pickup"}),[o,u]=H.useState(!1),f=async m=>{if(m.preventDefault(),!n.poNumber||!n.phoneNumber)return;if(!/^\d{7}$/.test(n.poNumber)){alert("PO number must be exactly 7 digits");return}if(n.phoneNumber.replace(/\D/g,"").length!==10){alert("Please enter a valid US phone number (10 digits)");return}u(!0);try{const p={...n,confirmCode:n.phoneNumber};delete p.phoneNumber,await e(p),i()}catch(p){console.error("Error creating manual ticket:",p)}finally{u(!1)}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(Ra,{className:"w-6 h-6 text-blue-500"}),b.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Create Manual Ticket"})]}),b.jsxs("form",{onSubmit:f,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Number"}),b.jsx("input",{type:"text",value:n.poNumber,onChange:m=>{const g=m.target.value.replace(/\D/g,"").slice(0,7);s(p=>({...p,poNumber:g}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1234567",maxLength:"7",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),b.jsx("input",{type:"tel",value:n.phoneNumber,onChange:m=>{const g=m.target.value.replace(/\D/g,"");let p=g;g.length>=6?p=`(${g.slice(0,3)}) ${g.slice(3,6)}-${g.slice(6,10)}`:g.length>=3&&(p=`(${g.slice(0,3)}) ${g.slice(3)}`),s(E=>({...E,phoneNumber:p}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(555) 123-4567",maxLength:"14",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type"}),b.jsxs("select",{value:n.type,onChange:m=>s(g=>({...g,type:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[b.jsx("option",{value:"pickup",children:"Pickup"}),b.jsx("option",{value:"delivery",children:"Delivery"})]})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:i,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white font-medium py-3 rounded-lg transition-colors",children:o?"Creating...":"Create Ticket"})]})]})]})})},eT=({selectedTicket:i,newStatus:e,stagingZones:n,onClose:s,onConfirm:o,loading:u})=>{const f=e===tt.SUMMONED,m=Object.entries(n||{}).filter(([T,R])=>R.status==="available"),g=!f||m.length>0,p=()=>f?"Summon Driver?":e===tt.COMPLETED?"Mark as Resolved?":e===tt.QUEUED?"Move Back to Queue?":"Update Status?",E=()=>f?`Summon PO ${i?.poNumber}? They will be assigned to an available staging zone.`:e===tt.COMPLETED?`Mark PO ${i?.poNumber} as resolved? They have completed loading.`:e===tt.QUEUED?`Move PO ${i?.poNumber} back to the queue?`:`Update status for PO ${i?.poNumber}?`;return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(bu,{className:"w-6 h-6 text-blue-500"}),b.jsx("h3",{className:"text-xl font-bold text-gray-800",children:p()})]}),b.jsx("div",{className:"mb-6",children:b.jsx("p",{className:"text-gray-600",children:E()})}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:s,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>o(i.id,e),disabled:u||!g,className:`flex-1 font-medium py-3 rounded-lg transition-colors ${g?f?"bg-blue-500 hover:bg-blue-600 text-white":e===tt.COMPLETED?"bg-green-500 hover:bg-green-600 text-white":"bg-orange-500 hover:bg-orange-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"} ${u?"opacity-50 cursor-not-allowed":""}`,children:u?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2 inline-block"}),"Updating..."]}):"Confirm"})]})]})})},n3=({onLogin:i,loading:e,error:n})=>{const[s,o]=H.useState({email:"",password:""}),[u,f]=H.useState(!1),m=E=>{E.preventDefault(),i(s.email,s.password)},g=()=>{o({email:"shipping@omega.com",password:"shipping123"})},p=()=>{o({email:"orders@omega.com",password:"orders123"})};return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:b.jsx(DR,{className:"w-8 h-8 text-blue-600"})}),b.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),b.jsx("p",{className:"text-gray-600",children:"Omega Products Truck Queue"})]}),b.jsxs("form",{onSubmit:m,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),b.jsx("input",{type:"email",value:s.email,onChange:E=>o(T=>({...T,email:E.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@omega.com",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:u?"text":"password",value:s.password,onChange:E=>o(T=>({...T,password:E.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password",required:!0}),b.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?b.jsx(yR,{className:"w-5 h-5"}):b.jsx(_R,{className:"w-5 h-5"})})]})]}),n&&b.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:b.jsx("p",{className:"text-red-800 text-sm",children:n})}),b.jsx("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 rounded-lg transition-colors flex items-center justify-center",children:e?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing In..."]}):"Sign In"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{type:"button",onClick:g,className:"bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium py-3 rounded-lg transition-colors text-sm",children:"Shipping Admin Demo"}),b.jsx("button",{type:"button",onClick:p,className:"bg-purple-100 hover:bg-purple-200 text-purple-700 font-medium py-3 rounded-lg transition-colors text-sm",children:"Order Desk Demo"})]})]})]})})},i3=({userRole:i})=>{const[e,n]=H.useState("dashboard"),[s,o]=H.useState([]),[u,f]=H.useState([]),[m,g]=H.useState(!0),[p,E]=H.useState({show:!1,ticket:null,newStatus:null,loading:!1}),[T,R]=H.useState({show:!1,ticket:null}),[P,X]=H.useState({show:!1}),[L,Y]=H.useState({zone1:{ticket:null,status:"available"},zone2:{ticket:null,status:"available"}}),ie=YR(Z0(fg),Z0(cg,{coordinateGetter:_I}));H.useEffect(()=>{let S=[],I;I=setTimeout(()=>{console.log("Loading timeout reached, setting loading to false"),g(!1)},5e3);try{const V=Vo.onQueueChange(Se=>{try{console.log("Queue data received:",Se.size,"documents");const Me=Se.docs.map(te=>({id:te.id,...te.data(),joinedAt:te.data().joinedAt?.toDate?.()?.toISOString()||new Date().toISOString(),requestedAt:te.data().requestedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));o(Me);const F=Me.filter(te=>te.status===tt.SUMMONED);Y(te=>{const oe={...te};return Object.keys(oe).forEach(ge=>{const Ae=oe[ge];Ae.ticket&&(F.find(K=>K.id===Ae.ticket.id)||(oe[ge]={ticket:null,status:"available"}))}),F.forEach(ge=>{if(!Object.values(oe).some(M=>M.ticket&&M.ticket.id===ge.id)){const M=Object.keys(oe).find(K=>oe[K].status==="available");M&&(oe[M]={ticket:ge,status:"pending"})}}),oe}),I&&(clearTimeout(I),I=null),g(!1)}catch(Me){console.error("Error processing queue data:",Me),g(!1)}},Se=>{console.error("Queue subscription error:",Se),g(!1)});S.push(V);const N=Vo.onActivityLogsChange(Se=>{try{console.log("Activity logs data received:",Se.size,"documents");const Me=Se.docs.map(F=>({id:F.id,...F.data(),timestamp:F.data().timestamp?.toDate?.()?.toISOString()||new Date().toISOString()}));f(Me)}catch(Me){console.error("Error processing activity logs:",Me)}},Se=>{console.error("Activity logs subscription error:",Se)});S.push(N)}catch(V){console.error("Error setting up subscriptions:",V),g(!1)}return()=>{I&&clearTimeout(I),S.forEach(V=>{try{V()}catch(N){console.error("Error unsubscribing:",N)}})}},[]);const ae=async(S,I)=>{try{E(V=>({...V,loading:!0})),await Vo.updateQueueStatus(S,I),E({show:!1,ticket:null,newStatus:null,loading:!1})}catch(V){console.error("Error updating status:",V),alert("Failed to update status"),E(N=>({...N,loading:!1}))}},ne=(S,I)=>{E({show:!0,ticket:S,newStatus:I})},de=()=>{E({show:!1,ticket:null,newStatus:null,loading:!1})},pe=async(S,I,V)=>{try{await Vo.validatePO(S,I,V),R({show:!1,ticket:null})}catch(N){console.error("Error validating PO:",N),alert("Failed to validate PO")}},he=async S=>{try{await Vo.createManualTicket(S),X({show:!1})}catch(I){console.error("Error creating manual ticket:",I),alert("Failed to create manual ticket")}},C=async S=>{const{active:I,over:V}=S;if(I.id!==V.id){const N=s.filter(F=>F.status===tt.QUEUED).sort((F,te)=>F.position-te.position),Se=N.findIndex(F=>F.id===I.id),Me=N.findIndex(F=>F.id===V.id);if(Se!==-1&&Me!==-1){const F=dg(N,Se,Me),te=s.map(oe=>{if(oe.status===tt.QUEUED){const ge=F.findIndex(Ae=>Ae.id===oe.id)+1;return{...oe,position:ge}}return oe});o(te);try{await Promise.all(F.map((oe,ge)=>Vo.updateQueuePosition(oe.id,ge+1)))}catch(oe){console.error("Error updating queue order:",oe);const ge=s.map(Ae=>{const M=N.find(K=>K.id===Ae.id);return M?{...Ae,position:M.position}:Ae});o(ge),alert("Failed to update queue order")}}}},x=S=>{Y(I=>({...I,[S]:{...I[S],status:"occupied"}}))},D=async()=>{try{await jo.signOut()}catch(S){console.error("Error signing out:",S)}};return m?b.jsx(EA,{}):b.jsxs("div",{className:"min-h-screen bg-gray-100",children:[p.show&&b.jsx(eT,{selectedTicket:p.ticket,newStatus:p.newStatus,onClose:de,onConfirm:ae}),T.show&&b.jsx(Zb,{selectedTicket:T.ticket,onClose:()=>R({show:!1,ticket:null}),onConfirm:pe}),P.show&&b.jsx(Wb,{onClose:()=>X({show:!1}),onConfirm:he}),b.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:i===si.SHIPPING_ADMIN?"Shipping Admin Portal":"Order Desk Admin Portal"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Omega Products Truck Queue Management"})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("nav",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>n("dashboard"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="dashboard"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:i===si.SHIPPING_ADMIN?"Queue Management":"PO Management"}),b.jsx("button",{onClick:()=>n("history"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="history"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:"History"})]}),i===si.ORDER_DESK_ADMIN&&b.jsxs("button",{onClick:()=>X({show:!0}),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[b.jsx(Ra,{className:"w-4 h-4"}),"Create Ticket"]}),b.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[b.jsx(AR,{className:"w-4 h-4"}),"Sign Out"]})]})]})})}),b.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e==="dashboard"&&i===si.SHIPPING_ADMIN&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden ${L.zone1.status==="occupied"?"border-l-4 border-red-500":L.zone1.status==="pending"?"border-l-4 border-yellow-500":"border-l-4 border-green-500"}`,children:[b.jsx("div",{className:`px-4 py-3 ${L.zone1.status==="occupied"?"bg-red-50":L.zone1.status==="pending"?"bg-yellow-50":"bg-green-50"}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`w-3 h-3 rounded-full ${L.zone1.status==="occupied"?"bg-red-500":L.zone1.status==="pending"?"bg-yellow-500":"bg-green-500"}`}),b.jsx("h3",{className:"font-bold text-gray-800",children:"Staging Zone 1"})]}),b.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${L.zone1.status==="occupied"?"bg-red-200 text-red-800":L.zone1.status==="pending"?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:L.zone1.status==="occupied"?"Occupied":L.zone1.status==="pending"?"Pending":"Available"})]})}),b.jsx("div",{className:"p-4 min-h-[120px]",children:L.zone1.ticket?b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-bold text-gray-900 text-sm",children:L.zone1.ticket.poNumber}),b.jsx("div",{className:"flex items-center gap-1",children:L.zone1.ticket.poValidated===!0?b.jsxs(b.Fragment,{children:[b.jsx(Tu,{className:"w-3 h-3 text-green-500"}),b.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Valid"})]}):L.zone1.ticket.poValidated===!1?b.jsxs(b.Fragment,{children:[b.jsx(qh,{className:"w-3 h-3 text-red-500"}),b.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Invalid"})]}):b.jsxs(b.Fragment,{children:[b.jsx(bu,{className:"w-3 h-3 text-yellow-500"}),b.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Pending Validation"})]})})]}),b.jsx("span",{className:"text-xs text-gray-500 font-medium",children:Eu(L.zone1.ticket.joinedAt)})]}),b.jsx("div",{className:"flex items-center justify-between mb-3",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[b.jsx(Sp,{className:"w-3 h-3"}),b.jsx("span",{children:L.zone1.ticket.confirmCode})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[L.zone1.ticket.type==="pickup"?b.jsx(hu,{className:"w-3 h-3 text-blue-600"}):b.jsx(cu,{className:"w-3 h-3 text-green-600"}),b.jsx("span",{className:"text-xs text-gray-600 capitalize",children:L.zone1.ticket.type||"pickup"})]})]})}),b.jsxs("div",{className:"flex gap-2",children:[L.zone1.status==="pending"?b.jsx("button",{onClick:()=>x("zone1"),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium py-2 rounded-md transition-colors",children:" Mark Occupied"}):L.zone1.status==="occupied"?b.jsx("button",{onClick:()=>ne(L.zone1.ticket,tt.COMPLETED),className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-xs font-medium py-2 rounded-md transition-colors",children:"Complete "}):null,b.jsx("button",{onClick:()=>ne(L.zone1.ticket,tt.QUEUED),className:"flex-1 bg-gray-400 hover:bg-gray-500 text-white text-xs font-medium py-2 rounded-md transition-colors",children:" Move Back to Queue"})]})]}):b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[b.jsx("div",{className:"bg-green-100 rounded-full p-3 mb-3",children:b.jsx(Ra,{className:"w-6 h-6 text-green-600"})}),b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Zone Available"}),b.jsx("p",{className:"text-xs text-gray-500",children:"Ready for next driver"})]})})]}),b.jsxs("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden ${L.zone2.status==="occupied"?"border-l-4 border-red-500":L.zone2.status==="pending"?"border-l-4 border-yellow-500":"border-l-4 border-green-500"}`,children:[b.jsx("div",{className:`px-4 py-3 ${L.zone2.status==="occupied"?"bg-red-50":L.zone2.status==="pending"?"bg-yellow-50":"bg-green-50"}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`w-3 h-3 rounded-full ${L.zone2.status==="occupied"?"bg-red-500":L.zone2.status==="pending"?"bg-yellow-500":"bg-green-500"}`}),b.jsx("h3",{className:"font-bold text-gray-800",children:"Staging Zone 2"})]}),b.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${L.zone2.status==="occupied"?"bg-red-200 text-red-800":L.zone2.status==="pending"?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:L.zone2.status==="occupied"?"Occupied":L.zone2.status==="pending"?"Pending":"Available"})]})}),b.jsx("div",{className:"p-4 min-h-[120px]",children:L.zone2.ticket?b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-bold text-gray-900 text-sm",children:L.zone2.ticket.poNumber}),b.jsx("div",{className:"flex items-center gap-1",children:L.zone2.ticket.poValidated===!0?b.jsxs(b.Fragment,{children:[b.jsx(Tu,{className:"w-3 h-3 text-green-500"}),b.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Valid"})]}):L.zone2.ticket.poValidated===!1?b.jsxs(b.Fragment,{children:[b.jsx(qh,{className:"w-3 h-3 text-red-500"}),b.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Invalid"})]}):b.jsxs(b.Fragment,{children:[b.jsx(bu,{className:"w-3 h-3 text-yellow-500"}),b.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Pending Validation"})]})})]}),b.jsx("span",{className:"text-xs text-gray-500 font-medium",children:Eu(L.zone2.ticket.joinedAt)})]}),b.jsx("div",{className:"flex items-center justify-between mb-3",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[b.jsx(Sp,{className:"w-3 h-3"}),b.jsx("span",{children:L.zone2.ticket.confirmCode})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[L.zone2.ticket.type==="pickup"?b.jsx(hu,{className:"w-3 h-3 text-blue-600"}):b.jsx(cu,{className:"w-3 h-3 text-green-600"}),b.jsx("span",{className:"text-xs text-gray-600 capitalize",children:L.zone2.ticket.type||"pickup"})]})]})}),b.jsxs("div",{className:"flex gap-2",children:[L.zone2.status==="pending"?b.jsx("button",{onClick:()=>x("zone2"),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium py-2 rounded-md transition-colors",children:" Mark Occupied"}):L.zone2.status==="occupied"?b.jsx("button",{onClick:()=>ne(L.zone2.ticket,tt.COMPLETED),className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-xs font-medium py-2 rounded-md transition-colors",children:"Complete "}):null,b.jsx("button",{onClick:()=>ne(L.zone2.ticket,tt.QUEUED),className:"flex-1 bg-gray-400 hover:bg-gray-500 text-white text-xs font-medium py-2 rounded-md transition-colors",children:" Move Back to Queue"})]})]}):b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[b.jsx("div",{className:"bg-green-100 rounded-full p-3 mb-3",children:b.jsx(Ra,{className:"w-6 h-6 text-green-600"})}),b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Zone Available"}),b.jsx("p",{className:"text-xs text-gray-500",children:"Ready for next driver"})]})})]})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3",children:b.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[b.jsx(X0,{className:"w-5 h-5"}),"Queue (",s.filter(S=>S.status===tt.QUEUED).length,")"]})}),b.jsx("div",{className:"max-h-80 overflow-y-auto",children:s.filter(S=>S.status===tt.QUEUED).length===0?b.jsxs("div",{className:"p-6 text-center text-gray-500",children:[b.jsx(X0,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),b.jsx("p",{className:"text-sm",children:"No drivers in queue"})]}):b.jsx(Xx,{sensors:ie,collisionDetection:XR,onDragEnd:C,children:b.jsxs("table",{className:"min-w-full",children:[b.jsx("thead",{className:"bg-gray-50 border-b",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),b.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),b.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),b.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),b.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Validation Status"}),b.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.jsx(uI,{items:s.filter(S=>S.status===tt.QUEUED).sort((S,I)=>S.position-I.position).map(S=>S.id),strategy:oI,children:s.filter(S=>S.status===tt.QUEUED).sort((S,I)=>S.position-I.position).map(S=>b.jsx(t3,{ticket:S,stagingZones:L,onSummon:I=>ne(I,tt.SUMMONED)},S.id))})})]})})})]})]}),e==="dashboard"&&i===si.ORDER_DESK_ADMIN&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4",children:b.jsx("h2",{className:"text-xl font-bold text-white",children:"Today's Tickets"})}),b.jsx("div",{className:"overflow-hidden",children:s.filter(S=>new Date(S.joinedAt).toDateString()===new Date().toDateString()).length===0?b.jsxs("div",{className:"text-center py-12 text-gray-500",children:[b.jsx(Ra,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),b.jsx("p",{children:"No tickets today"})]}):b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Validation"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(S=>new Date(S.joinedAt).toDateString()===new Date().toDateString()).sort((S,I)=>new Date(I.joinedAt)-new Date(S.joinedAt)).map(S=>b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"text-sm text-gray-900",children:[b.jsx("div",{className:"font-medium",children:Eu(S.joinedAt)}),b.jsx("div",{className:"text-xs text-gray-500",children:new Date(S.joinedAt).toLocaleTimeString()})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ra,{className:"w-4 h-4 text-gray-400"}),b.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.poNumber}),S.createdByAdmin&&b.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"Manual"})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.phoneNumber||S.confirmCode}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"flex items-center gap-1",children:(()=>{const I=S.type||S.orderType||S.deliveryType||"",V=I.toLowerCase().trim();return V==="pickup"||V.includes("pickup")?b.jsxs(b.Fragment,{children:[b.jsx(hu,{className:"w-4 h-4 text-blue-600"}),b.jsx("span",{className:"text-sm text-gray-900 capitalize",children:"Pickup"})]}):V==="delivery"||V.includes("delivery")?b.jsxs(b.Fragment,{children:[b.jsx(cu,{className:"w-4 h-4 text-green-600"}),b.jsx("span",{className:"text-sm text-gray-900 capitalize",children:"Delivery"})]}):b.jsx("span",{className:"text-sm text-gray-400",children:I||"Pickup (default)"})})()})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.poValidated!==void 0?b.jsxs("div",{children:[b.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S.poValidated?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.poValidated?" Valid":" Invalid"}),S.poValidationReason&&b.jsx("div",{className:"text-xs text-gray-500 mt-1 max-w-xs truncate",title:S.poValidationReason,children:S.poValidationReason})]}):b.jsx("span",{className:"text-xs text-gray-400",children:"Not validated"})}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[S.poValidated===void 0&&b.jsx("button",{onClick:()=>R({show:!0,ticket:S}),className:"text-purple-600 hover:text-purple-900 bg-purple-50 hover:bg-purple-100 px-3 py-1 rounded-md transition-colors",children:"Validate"}),S.poValidated===!1&&b.jsx("button",{onClick:()=>R({show:!0,ticket:S}),className:"text-purple-600 hover:text-purple-900 bg-purple-50 hover:bg-purple-100 px-3 py-1 rounded-md transition-colors",children:"Update"}),S.poValidated===!0&&b.jsx("button",{onClick:()=>R({show:!0,ticket:S}),className:"text-purple-600 hover:text-purple-900 bg-purple-50 hover:bg-purple-100 px-3 py-1 rounded-md transition-colors",children:"Update"})]})]},S.id))})]})})})]}),s.filter(S=>new Date(S.joinedAt).toDateString()!==new Date().toDateString()).length>0&&b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsxs("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 px-6 py-4",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:"Previous Days' Tickets"}),b.jsx("p",{className:"text-gray-100 text-sm",children:"Historical tickets from previous days"})]}),b.jsx("div",{className:"overflow-hidden",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Validation"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(S=>new Date(S.joinedAt).toDateString()!==new Date().toDateString()).sort((S,I)=>new Date(I.joinedAt)-new Date(S.joinedAt)).map(S=>b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"text-sm text-gray-900",children:[b.jsx("div",{className:"font-medium",children:Eu(S.joinedAt)}),b.jsx("div",{className:"text-xs text-gray-500",children:new Date(S.joinedAt).toLocaleDateString()})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ra,{className:"w-4 h-4 text-gray-400"}),b.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.poNumber}),S.createdByAdmin&&b.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"Manual"})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.phoneNumber||S.confirmCode}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"flex items-center gap-1",children:(()=>{const I=S.type||S.orderType||S.deliveryType||"",V=I.toLowerCase().trim();return V==="pickup"||V.includes("pickup")?b.jsxs(b.Fragment,{children:[b.jsx(hu,{className:"w-4 h-4 text-blue-600"}),b.jsx("span",{className:"text-sm text-gray-900 capitalize",children:"Pickup"})]}):V==="delivery"||V.includes("delivery")?b.jsxs(b.Fragment,{children:[b.jsx(cu,{className:"w-4 h-4 text-green-600"}),b.jsx("span",{className:"text-sm text-gray-900 capitalize",children:"Delivery"})]}):b.jsx("span",{className:"text-sm text-gray-400",children:I||"Pickup (default)"})})()})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.poValidated!==void 0?b.jsxs("div",{children:[b.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S.poValidated?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.poValidated?" Valid":" Invalid"}),S.poValidationReason&&b.jsx("div",{className:"text-xs text-gray-500 mt-1 max-w-xs truncate",title:S.poValidationReason,children:S.poValidationReason})]}):b.jsx("span",{className:"text-xs text-gray-400",children:"Not validated"})}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[S.poValidated===void 0&&b.jsx("button",{onClick:()=>R({show:!0,ticket:S}),className:"text-purple-600 hover:text-purple-900 bg-purple-50 hover:bg-purple-100 px-3 py-1 rounded-md transition-colors",children:"Validate"}),S.poValidated===!1&&b.jsx("button",{onClick:()=>R({show:!0,ticket:S}),className:"text-purple-600 hover:text-purple-900 bg-purple-50 hover:bg-purple-100 px-3 py-1 rounded-md transition-colors",children:"Update"}),S.poValidated===!0&&b.jsx("button",{onClick:()=>R({show:!0,ticket:S}),className:"text-purple-600 hover:text-purple-900 bg-purple-50 hover:bg-purple-100 px-3 py-1 rounded-md transition-colors",children:"Update"})]})]},S.id))})]})})})]})]}),e==="history"&&b.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Activity History"}),b.jsxs("div",{className:"space-y-3",children:[u.map(S=>b.jsx("div",{className:"border-l-4 border-blue-500 bg-gray-50 rounded-r-lg p-4",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsxs("div",{className:"flex-shrink-0 mt-1",children:[(S.type==="success"||S.type==="queue_joined"||S.type==="request_approved")&&b.jsx(Tu,{className:"w-5 h-5 text-green-500"}),(S.type==="error"||S.type==="request_rejected")&&b.jsx(qh,{className:"w-5 h-5 text-red-500"}),S.type==="pending"&&b.jsx(bu,{className:"w-5 h-5 text-yellow-500"}),(S.type==="admin_action"||S.type==="removed_from_queue"||S.type==="queue_reordered"||S.type==="status_updated")&&b.jsx(CR,{className:"w-5 h-5 text-blue-500"})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-medium text-gray-800",children:S.message}),b.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[S.poNumber&&b.jsx("p",{className:"text-xs text-gray-600",children:S.poNumber}),b.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.timestamp).toLocaleString()}),S.userEmail&&b.jsxs("p",{className:"text-xs text-gray-500",children:["by ",S.userEmail]})]})]})]})},S.id)),u.length===0&&b.jsxs("div",{className:"text-center py-12 text-gray-500",children:[b.jsx(wR,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),b.jsx("p",{children:"No activity logs yet"})]})]})]}),p.show&&b.jsx(eT,{selectedTicket:p.ticket,newStatus:p.newStatus,stagingZones:L,onClose:de,onConfirm:ae,loading:p.loading}),T.show&&b.jsx(Zb,{selectedTicket:T.ticket,onClose:()=>R({show:!1,ticket:null}),onConfirm:pe}),P.show&&b.jsx(Wb,{onClose:()=>X({show:!1}),onConfirm:he})]})]})},r3=()=>{const[i,e]=H.useState(null),[n,s]=H.useState(null),[o,u]=H.useState(!0),[f,m]=H.useState(!1),[g,p]=H.useState("");H.useEffect(()=>{const T=jo.onAuthStateChange(async R=>{if(console.log("Auth state changed:",R?R.email:"signed out"),R)try{const P=await jo.getUserProfile(R.uid);console.log("User profile:",P),P&&Object.values(si).includes(P.role)?(e(R),s(P),p("")):(console.log("User is not an admin or profile not found"),p("Access denied. Admin account required."),m(!1),await jo.signOut())}catch(P){console.error("Error getting user profile:",P),p("Failed to verify admin access. Please try again."),m(!1),await jo.signOut()}else e(null),s(null);u(!1)});return()=>T()},[]);const E=async(T,R)=>{m(!0),p("");try{console.log("Attempting login with:",T),await jo.signIn(T,R)}catch(P){console.error("Login error:",P),p(`Sign in failed: ${P.message}`)}finally{m(!1)}};return o?b.jsx(EA,{}):i?b.jsx(i3,{userRole:n?.role}):b.jsx(n3,{onLogin:E,loading:f,error:g})};aR.createRoot(document.getElementById("root")).render(b.jsx(H.StrictMode,{children:b.jsx(r3,{})}));
