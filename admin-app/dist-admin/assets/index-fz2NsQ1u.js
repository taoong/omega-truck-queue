(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var lm={exports:{}},Vl={};var Vv;function ow(){if(Vv)return Vl;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var kv;function lw(){return kv||(kv=1,lm.exports=ow()),lm.exports}var R=lw(),um={exports:{}},Te={};var Pv;function uw(){if(Pv)return Te;Pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,W={};function de(M,$,ie){this.props=M,this.context=$,this.refs=W,this.updater=ie||Z}de.prototype.isReactComponent={},de.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},de.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ee(){}Ee.prototype=de.prototype;function pe(M,$,ie){this.props=M,this.context=$,this.refs=W,this.updater=ie||Z}var He=pe.prototype=new Ee;He.constructor=pe,te(He,de.prototype),He.isPureReactComponent=!0;var G=Array.isArray;function fe(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(M,$,ie){var ae=ie.ref;return{$$typeof:r,type:M,key:$,ref:ae!==void 0?ae:null,props:ie}}function V(M,$){return w(M.type,$,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return $[ie]})}var I=/\/+/g;function st(M,$){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):$.toString(36)}function Mt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(fe,fe):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,$,ie,ae,_e){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(we){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case r:case e:ke=!0;break;case A:return ke=M._init,Q(ke(M._payload),$,ie,ae,_e)}}if(ke)return _e=_e(M),ke=ae===""?"."+st(M,0):ae,G(_e)?(ie="",ke!=null&&(ie=ke.replace(I,"$&/")+"/"),Q(_e,$,ie,"",function(vs){return vs})):_e!=null&&(O(_e)&&(_e=V(_e,ie+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+ke)),$.push(_e)),1;ke=0;var Vt=ae===""?".":ae+":";if(G(M))for(var at=0;at<M.length;at++)ae=M[at],we=Vt+st(ae,at),ke+=Q(ae,$,ie,we,_e);else if(at=H(M),typeof at=="function")for(M=at.call(M),at=0;!(ae=M.next()).done;)ae=ae.value,we=Vt+st(ae,at++),ke+=Q(ae,$,ie,we,_e);else if(we==="object"){if(typeof M.then=="function")return Q(Mt(M),$,ie,ae,_e);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ne(M,$,ie){if(M==null)return M;var ae=[],_e=0;return Q(M,ae,"","",function(we){return $.call(ie,we,_e++)}),ae}function he(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var Le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ne,forEach:function(M,$,ie){ne(M,function(){$.apply(this,arguments)},ie)},count:function(M){var $=0;return ne(M,function(){$++}),$},toArray:function(M){return ne(M,function($){return $})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Te.Activity=S,Te.Children=Ge,Te.Component=de,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=pe,Te.StrictMode=s,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(M,$,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=te({},M.props),_e=M.key;if($!=null)for(we in $.key!==void 0&&(_e=""+$.key),$)!b.call($,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&$.ref===void 0||(ae[we]=$[we]);var we=arguments.length-2;if(we===1)ae.children=ie;else if(1<we){for(var ke=Array(we),Vt=0;Vt<we;Vt++)ke[Vt]=arguments[Vt+2];ae.children=ke}return w(M.type,_e,ae)},Te.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Te.createElement=function(M,$,ie){var ae,_e={},we=null;if($!=null)for(ae in $.key!==void 0&&(we=""+$.key),$)b.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=$[ae]);var ke=arguments.length-2;if(ke===1)_e.children=ie;else if(1<ke){for(var Vt=Array(ke),at=0;at<ke;at++)Vt[at]=arguments[at+2];_e.children=Vt}if(M&&M.defaultProps)for(ae in ke=M.defaultProps,ke)_e[ae]===void 0&&(_e[ae]=ke[ae]);return w(M,we,_e)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:p,render:M}},Te.isValidElement=O,Te.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:he}},Te.memo=function(M,$){return{$$typeof:g,type:M,compare:$===void 0?null:$}},Te.startTransition=function(M){var $=N.T,ie={};N.T=ie;try{var ae=M(),_e=N.S;_e!==null&&_e(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(fe,Le)}catch(we){Le(we)}finally{$!==null&&ie.types!==null&&($.types=ie.types),N.T=$}},Te.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Te.use=function(M){return N.H.use(M)},Te.useActionState=function(M,$,ie){return N.H.useActionState(M,$,ie)},Te.useCallback=function(M,$){return N.H.useCallback(M,$)},Te.useContext=function(M){return N.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,$){return N.H.useDeferredValue(M,$)},Te.useEffect=function(M,$){return N.H.useEffect(M,$)},Te.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Te.useId=function(){return N.H.useId()},Te.useImperativeHandle=function(M,$,ie){return N.H.useImperativeHandle(M,$,ie)},Te.useInsertionEffect=function(M,$){return N.H.useInsertionEffect(M,$)},Te.useLayoutEffect=function(M,$){return N.H.useLayoutEffect(M,$)},Te.useMemo=function(M,$){return N.H.useMemo(M,$)},Te.useOptimistic=function(M,$){return N.H.useOptimistic(M,$)},Te.useReducer=function(M,$,ie){return N.H.useReducer(M,$,ie)},Te.useRef=function(M){return N.H.useRef(M)},Te.useState=function(M){return N.H.useState(M)},Te.useSyncExternalStore=function(M,$,ie){return N.H.useSyncExternalStore(M,$,ie)},Te.useTransition=function(){return N.H.useTransition()},Te.version="19.2.3",Te}var Uv;function lp(){return Uv||(Uv=1,um.exports=uw()),um.exports}var it=lp(),cm={exports:{}},kl={},hm={exports:{}},fm={};var Lv;function cw(){return Lv||(Lv=1,(function(r){function e(Q,ne){var he=Q.length;Q.push(ne);e:for(;0<he;){var Le=he-1>>>1,Ge=Q[Le];if(0<l(Ge,ne))Q[Le]=ne,Q[he]=Ge,he=Le;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ne=Q[0],he=Q.pop();if(he!==ne){Q[0]=he;e:for(var Le=0,Ge=Q.length,M=Ge>>>1;Le<M;){var $=2*(Le+1)-1,ie=Q[$],ae=$+1,_e=Q[ae];if(0>l(ie,he))ae<Ge&&0>l(_e,ie)?(Q[Le]=_e,Q[ae]=he,Le=ae):(Q[Le]=ie,Q[$]=he,Le=$);else if(ae<Ge&&0>l(_e,he))Q[Le]=_e,Q[ae]=he,Le=ae;else break e}}return ne}function l(Q,ne){var he=Q.sortIndex-ne.sortIndex;return he!==0?he:Q.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],g=[],A=1,S=null,D=3,H=!1,Z=!1,te=!1,W=!1,de=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function He(Q){for(var ne=n(g);ne!==null;){if(ne.callback===null)s(g);else if(ne.startTime<=Q)s(g),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=n(g)}}function G(Q){if(te=!1,He(Q),!Z)if(n(y)!==null)Z=!0,fe||(fe=!0,P());else{var ne=n(g);ne!==null&&Mt(G,ne.startTime-Q)}}var fe=!1,N=-1,b=5,w=-1;function V(){return W?!0:!(r.unstable_now()-w<b)}function O(){if(W=!1,fe){var Q=r.unstable_now();w=Q;var ne=!0;try{e:{Z=!1,te&&(te=!1,Ee(N),N=-1),H=!0;var he=D;try{t:{for(He(Q),S=n(y);S!==null&&!(S.expirationTime>Q&&V());){var Le=S.callback;if(typeof Le=="function"){S.callback=null,D=S.priorityLevel;var Ge=Le(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ge=="function"){S.callback=Ge,He(Q),ne=!0;break t}S===n(y)&&s(y),He(Q)}else s(y);S=n(y)}if(S!==null)ne=!0;else{var M=n(g);M!==null&&Mt(G,M.startTime-Q),ne=!1}}break e}finally{S=null,D=he,H=!1}ne=void 0}}finally{ne?P():fe=!1}}}var P;if(typeof pe=="function")P=function(){pe(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,st=I.port2;I.port1.onmessage=O,P=function(){st.postMessage(null)}}else P=function(){de(O,0)};function Mt(Q,ne){N=de(function(){Q(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(Q){switch(D){case 1:case 2:case 3:var ne=3;break;default:ne=D}var he=D;D=ne;try{return Q()}finally{D=he}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=D;D=Q;try{return ne()}finally{D=he}},r.unstable_scheduleCallback=function(Q,ne,he){var Le=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Le+he:Le):he=Le,Q){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=he+Ge,Q={id:A++,callback:ne,priorityLevel:Q,startTime:he,expirationTime:Ge,sortIndex:-1},he>Le?(Q.sortIndex=he,e(g,Q),n(y)===null&&Q===n(g)&&(te?(Ee(N),N=-1):te=!0,Mt(G,he-Le))):(Q.sortIndex=Ge,e(y,Q),Z||H||(Z=!0,fe||(fe=!0,P()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var ne=D;return function(){var he=D;D=ne;try{return Q.apply(this,arguments)}finally{D=he}}}})(fm)),fm}var jv;function hw(){return jv||(jv=1,hm.exports=cw()),hm.exports}var dm={exports:{}},Jt={};var zv;function fw(){if(zv)return Jt;zv=1;var r=lp();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)g+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:g,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(y,g){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,A)},Jt.flushSync=function(y){var g=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=g,s.p=A,s.d.f()}},Jt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Jt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Jt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var A=g.as,S=p(A,g.crossOrigin),D=typeof g.integrity=="string"?g.integrity:void 0,H=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;A==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:H}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:H,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var A=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Jt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var A=g.as,S=p(A,g.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(y,g){if(typeof y=="string")if(g){var A=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Jt.requestFormReset=function(y){s.d.r(y)},Jt.unstable_batchedUpdates=function(y,g){return y(g)},Jt.useFormState=function(y,g,A){return d.H.useFormState(y,g,A)},Jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var qv;function dw(){if(qv)return dm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=fw(),dm.exports}var Bv;function mw(){if(Bv)return kl;Bv=1;var r=hw(),e=lp(),n=dw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function A(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=A(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case de:return"Profiler";case W:return"StrictMode";case G:return"Suspense";case fe:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case pe:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case He:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var Mt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Le=[],Ge=-1;function M(t){return{current:t}}function $(t){0>Ge||(t.current=Le[Ge],Le[Ge]=null,Ge--)}function ie(t,i){Ge++,Le[Ge]=t.current,t.current=i}var ae=M(null),_e=M(null),we=M(null),ke=M(null);function Vt(t,i){switch(ie(we,i),ie(_e,t),ie(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ae),ie(ae,t)}function at(){$(ae),$(_e),$(we)}function vs(t){t.memoizedState!==null&&ie(ke,t);var i=ae.current,a=rv(i,t.type);i!==a&&(ie(_e,t),ie(ae,a))}function ma(t){_e.current===t&&($(ae),$(_e)),ke.current===t&&($(ke),Dl._currentValue=he)}var pa,ga;function hi(t){if(pa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);pa=i&&i[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+t+ga}var Do=!1;function Es(t,i){if(!t||Do)return"";Do=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(t,[],X)}else{try{X.call()}catch(B){z=B}t.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var C=_.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Do=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Oo(t,i){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return hi("Activity");default:return""}}function xo(t){try{var i="",a=null;do i+=Oo(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,kt=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,cf=r.unstable_shouldYield,bu=r.unstable_requestPaint,nn=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,Vo=r.unstable_UserBlockingPriority,Er=r.unstable_NormalPriority,hf=r.unstable_LowPriority,wu=r.unstable_IdlePriority,Ru=r.log,Iu=r.unstable_setDisableYieldValue,Kn=null,Bt=null;function Cn(t){if(typeof Ru=="function"&&Iu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Kn,t)}catch{}}var mt=Math.clz32?Math.clz32:Nu,Cu=Math.log,ya=Math.LN2;function Nu(t){return t>>>=0,t===0?32:31-(Cu(t)/ya|0)|0}var fi=256,As=262144,Tt=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=di(o):(_&=E,_!==0?h=di(_):a||(a=E&~t,a!==0&&(h=di(a))))):(E=o&~f,E!==0?h=di(E):_!==0?h=di(_):a||(a=o&~t,a!==0&&(h=di(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Yn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ff(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ss(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function df(t,i,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var F=31-mt(a),X=1<<F;E[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var B=z[F];B!==null&&(B.lane&=-536870913)}a&=~X}o!==0&&bs(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function bs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-mt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-mt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Po(t,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(t.suspendedLanes|i))!==0?0:a}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:Iv(t.type))}function Xn(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var $n=Math.random().toString(36).slice(2),At="__reactFiber$"+$n,Lt="__reactProps$"+$n,gi="__reactContainer$"+$n,_a="__reactEvents$"+$n,mf="__reactListeners$"+$n,xu="__reactHandles$"+$n,Mu="__reactResources$"+$n,yi="__reactMarker$"+$n;function va(t){delete t[At],delete t[Lt],delete t[_a],delete t[mf],delete t[xu]}function _i(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=hv(t);t!==null;){if(a=t[At])return a;t=hv(t)}return i}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[At]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vi(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[yi]=!0}var Uo=new Set,Lo={};function Ei(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Lo[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},qo={};function Vu(t){return Et.call(qo,t)?!0:Et.call(zo,t)?!1:jo.test(t)?qo[t]=!0:(zo[t]=!0,!1)}function Ea(t,i,a){if(Vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=Tr(t)?"checked":"value";t._valueTracker=Bo(t,i,""+t[i])}}function Rs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Tr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Is=/[\n"\\]/g;function on(t){return t.replace(Is,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(t,i,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ho(t,_,jt(i)):a!=null?Ho(t,_,jt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+jt(E):t.removeAttribute("name")}function ku(t,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Ho(t,i,a){i==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Pu(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Sr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Mt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Uu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Fo(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Fo(t,f,i[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Qo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,Si=null;function Cs(t){var i=Nn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(s(90));Ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Rs(o)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ar(t,!!a.multiple,i,!1)}}}var ba=!1;function Rr(t,i,a){if(ba)return t(i,a);ba=!0;try{var o=t(i);return o}finally{if(ba=!1,(wr!==null||Si!==null)&&(Oc(),wr&&(i=wr,t=Si,Si=wr=null,Cs(i),t)))for(i=0;i<t.length;i++)Cs(t[i])}}function Zn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Lt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(On)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ns=!1}var bi=null,Ko=null,Ds=null;function Yo(){if(Ds)return Ds;var t,i=Ko,a=i.length,o,h="value"in bi?bi.value:bi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Ds=h.slice(t,1<o?1-o:void 0)}function Os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function Wn(){return!1}function Ht(t){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:Wn,this.isPropagationStopped=Wn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Ht(Gi),Ir=S({},Gi,{view:0,detail:0}),Xo=Ht(Ir),Cr,wa,Ri,Ra=S({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Cr=t.screenX-Ri.screenX,wa=t.screenY-Ri.screenY):wa=Cr=0,Ri=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),$o=Ht(Ra),xs=S({},Ra,{dataTransfer:0}),ju=Ht(xs),zu=S({},Ir,{relatedTarget:0}),Ms=Ht(zu),Jo=S({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=Ht(Jo),Ia=S({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=Ht(Ia),Hu=S({},Gi,{data:0}),Ii=Ht(Hu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Qu[t])?!!i[t]:!1}function Nr(){return Ku}var rn=S({},Ir,{key:function(t){if(t.key){var i=Fu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yu=Ht(rn),Xu=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ht(Xu),c=S({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),m=Ht(c),v=S({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ht(v),U=S({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ht(U),ee=S({},Gi,{newState:0,oldState:0}),Se=Ht(ee),pt=[9,13,27,32],qe=On&&"CompositionEvent"in window,ot=null;On&&"documentMode"in document&&(ot=document.documentMode);var xn=On&&"TextEvent"in window&&!ot,Ci=On&&(!qe||ot&&8<ot&&11>=ot),ei=" ",ti=!1;function Vs(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function OS(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(ti=!0,ei);case"textInput":return t=i.data,t===ei&&ti?null:t;default:return null}}function xS(t,i){if(Na)return t==="compositionend"||!qe&&Vs(t,i)?(t=Yo(),Ds=Ko=bi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!MS[t.type]:i==="textarea"}function pg(t,i,a,o){wr?Si?Si.push(o):Si=[o]:wr=o,i=Lc(i,"onChange"),0<i.length&&(a=new wi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Zo=null,Wo=null;function VS(t){J_(t,0)}function $u(t){var i=yn(t);if(Rs(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(On){var pf;if(On){var gf="oninput"in document;if(!gf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),gf=typeof _g.oninput=="function"}pf=gf}else pf=!1;yg=pf&&(!document.documentMode||9<document.documentMode)}function vg(){Zo&&(Zo.detachEvent("onpropertychange",Eg),Wo=Zo=null)}function Eg(t){if(t.propertyName==="value"&&$u(Wo)){var i=[];pg(i,Wo,t,Dn(t)),Rr(VS,i)}}function kS(t,i,a){t==="focusin"?(vg(),Zo=i,Wo=a,Zo.attachEvent("onpropertychange",Eg)):t==="focusout"&&vg()}function PS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(Wo)}function US(t,i){if(t==="click")return $u(i)}function LS(t,i){if(t==="input"||t==="change")return $u(i)}function jS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:jS;function el(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Et.call(i,h)||!vn(t[h],i[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,i){var a=Tg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ai(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ai(t.document)}return i}function yf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var zS=On&&"documentMode"in document&&11>=document.documentMode,Da=null,_f=null,tl=null,vf=!1;function wg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Da==null||Da!==Ai(o)||(o=Da,"selectionStart"in o&&yf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),tl&&el(tl,o)||(tl=o,o=Lc(_f,"onSelect"),0<o.length&&(i=new wi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Da)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Oa={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Ef={},Rg={};On&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Ps(t){if(Ef[t])return Ef[t];if(!Oa[t])return t;var i=Oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rg)return Ef[t]=i[a];return t}var Ig=Ps("animationend"),Cg=Ps("animationiteration"),Ng=Ps("animationstart"),qS=Ps("transitionrun"),BS=Ps("transitionstart"),HS=Ps("transitioncancel"),Dg=Ps("transitionend"),Og=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function ni(t,i){Og.set(t,i),Ei(i,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],xa=0,Af=0;function Zu(){for(var t=xa,i=Af=xa=0;i<t;){var a=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var f=Mn[i];if(Mn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&xg(a,h,f)}}function Wu(t,i,a,o){Mn[xa++]=t,Mn[xa++]=i,Mn[xa++]=a,Mn[xa++]=o,Af|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Sf(t,i,a,o){return Wu(t,i,a,o),ec(t)}function Us(t,i){return Wu(t,null,null,i),ec(t)}function xg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-mt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function ec(t){if(50<Sl)throw Sl=0,xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={};function FS(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,o){return new FS(t,i,a,o)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,a,o,h,f){var _=0;if(o=t,typeof t=="function")bf(t)&&(_=1);else if(typeof t=="string")_=Xb(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=En(31,a,i,h),t.elementType=w,t.lanes=f,t;case te:return Ls(a.children,h,f,i);case W:_=8,h|=24;break;case de:return t=En(12,a,i,h|2),t.elementType=de,t.lanes=f,t;case G:return t=En(13,a,i,h),t.elementType=G,t.lanes=f,t;case fe:return t=En(19,a,i,h),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:_=10;break e;case Ee:_=9;break e;case He:_=11;break e;case N:_=14;break e;case b:_=16,o=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=En(_,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Ls(t,i,a,o){return t=En(7,t,o,i),t.lanes=a,t}function wf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function Vg(t){var i=En(18,null,null,0);return i.stateNode=t,i}function Rf(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var kg=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=kg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:xo(i)},kg.set(t,i),i)}return{value:t,source:i,stack:xo(i)}}var Va=[],ka=0,nc=null,nl=0,kn=[],Pn=0,Dr=null,Ni=1,Di="";function Yi(t,i){Va[ka++]=nl,Va[ka++]=nc,nc=t,nl=i}function Pg(t,i,a){kn[Pn++]=Ni,kn[Pn++]=Di,kn[Pn++]=Dr,Dr=t;var o=Ni;t=Di;var h=32-mt(o)-1;o&=~(1<<h),a+=1;var f=32-mt(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ni=1<<32-mt(i)+h|a<<h|o,Di=f+t}else Ni=1<<f|a<<h|o,Di=t}function If(t){t.return!==null&&(Yi(t,1),Pg(t,1,0))}function Cf(t){for(;t===nc;)nc=Va[--ka],Va[ka]=null,nl=Va[--ka],Va[ka]=null;for(;t===Dr;)Dr=kn[--Pn],kn[Pn]=null,Di=kn[--Pn],kn[Pn]=null,Ni=kn[--Pn],kn[Pn]=null}function Ug(t,i){kn[Pn++]=Ni,kn[Pn++]=Di,kn[Pn++]=Dr,Ni=i.id,Di=i.overflow,Dr=t}var Ft=null,tt=null,Ve=!1,Or=null,Un=!1,Nf=Error(s(519));function xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Vn(i,t)),Nf}function Lg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[At]=t,i[Lt]=o,a){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(a=0;a<wl.length;a++)Ce(wl[a],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),ku(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),Sr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||tv(i.textContent,a)?(o.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),o.onScroll!=null&&Ce("scroll",i),o.onScrollEnd!=null&&Ce("scrollend",i),o.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||xr(t,!0)}function jg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ft=Ft.return}}function Pa(t){if(t!==Ft)return!1;if(!Ve)return jg(t),Ve=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&tt&&xr(t),jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=cv(t)}else i===27?(i=tt,Qr(t.type)?(t=Zd,Zd=null,tt=t):tt=i):tt=Ft?jn(t.stateNode.nextSibling):null;return!0}function js(){tt=Ft=null,Ve=!1}function Df(){var t=Or;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Or=null),t}function il(t){Or===null?Or=[t]:Or.push(t)}var Of=M(null),zs=null,Xi=null;function Mr(t,i,a){ie(Of,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Of.current,$(Of)}function xf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Mf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),xf(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),xf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ua(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;vn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&Mf(i,t,a,o),i.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){zs=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return zg(zs,t)}function rc(t,i){return zs===null&&qs(t),zg(t,i)}function zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(s(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return a}var GS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},QS=r.unstable_scheduleCallback,KS=r.unstable_NormalPriority,wt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new GS,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&QS(KS,function(){t.controller.abort()})}var sl=null,kf=0,La=0,ja=null;function YS(t,i){if(sl===null){var a=sl=[];kf=0,La=Ld(),ja={status:"pending",value:void 0,then:function(o){a.push(o)}}}return kf++,i.then(qg,qg),i}function qg(){if(--kf===0&&sl!==null){ja!==null&&(ja.status="fulfilled");var t=sl;sl=null,La=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function XS(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Bg=Q.S;Q.S=function(t,i){w_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&YS(t,i),Bg!==null&&Bg(t,i)};var Bs=M(null);function Pf(){var t=Bs.current;return t!==null?t:We.pooledCache}function sc(t,i){i===null?ie(Bs,Bs.current):ie(Bs,i.pool)}function Hg(){var t=Pf();return t===null?null:{parent:wt._currentValue,pool:t}}var za=Error(s(460)),Uf=Error(s(474)),ac=Error(s(542)),oc={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Jn,Jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw Fs=i,za}}function Hs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,za):a}}var Fs=null;function Qg(){if(Fs===null)throw Error(s(459));var t=Fs;return Fs=null,t}function Kg(t){if(t===za||t===ac)throw Error(s(483))}var qa=null,al=0;function lc(t){var i=al;return al+=1,qa===null&&(qa=[]),Gg(qa,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Yg(t){function i(k,x){if(t){var L=k.deletions;L===null?(k.deletions=[x],k.flags|=16):L.push(x)}}function a(k,x){if(!t)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Ki(k,x),k.index=0,k.sibling=null,k}function f(k,x,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<x?(k.flags|=67108866,x):L):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,L,K){return x===null||x.tag!==6?(x=wf(L,k.mode,K),x.return=k,x):(x=h(x,L),x.return=k,x)}function C(k,x,L,K){var ue=L.type;return ue===te?F(k,x,L.props.children,K,L.key):x!==null&&(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===b&&Hs(ue)===x.type)?(x=h(x,L.props),ol(x,L),x.return=k,x):(x=tc(L.type,L.key,L.props,null,k.mode,K),ol(x,L),x.return=k,x)}function j(k,x,L,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=Rf(L,k.mode,K),x.return=k,x):(x=h(x,L.children||[]),x.return=k,x)}function F(k,x,L,K,ue){return x===null||x.tag!==7?(x=Ls(L,k.mode,K,ue),x.return=k,x):(x=h(x,L),x.return=k,x)}function X(k,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=wf(""+x,k.mode,L),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return L=tc(x.type,x.key,x.props,null,k.mode,L),ol(L,x),L.return=k,L;case Z:return x=Rf(x,k.mode,L),x.return=k,x;case b:return x=Hs(x),X(k,x,L)}if(Mt(x)||P(x))return x=Ls(x,k.mode,L,null),x.return=k,x;if(typeof x.then=="function")return X(k,lc(x),L);if(x.$$typeof===pe)return X(k,rc(k,x),L);uc(k,x)}return null}function z(k,x,L,K){var ue=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ue!==null?null:E(k,x,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ue?C(k,x,L,K):null;case Z:return L.key===ue?j(k,x,L,K):null;case b:return L=Hs(L),z(k,x,L,K)}if(Mt(L)||P(L))return ue!==null?null:F(k,x,L,K,null);if(typeof L.then=="function")return z(k,x,lc(L),K);if(L.$$typeof===pe)return z(k,x,rc(k,L),K);uc(k,L)}return null}function B(k,x,L,K,ue){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,E(x,k,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return k=k.get(K.key===null?L:K.key)||null,C(x,k,K,ue);case Z:return k=k.get(K.key===null?L:K.key)||null,j(x,k,K,ue);case b:return K=Hs(K),B(k,x,L,K,ue)}if(Mt(K)||P(K))return k=k.get(L)||null,F(x,k,K,ue,null);if(typeof K.then=="function")return B(k,x,L,lc(K),ue);if(K.$$typeof===pe)return B(k,x,L,rc(x,K),ue);uc(x,K)}return null}function oe(k,x,L,K){for(var ue=null,je=null,le=x,Re=x=0,De=null;le!==null&&Re<L.length;Re++){le.index>Re?(De=le,le=null):De=le.sibling;var ze=z(k,le,L[Re],K);if(ze===null){le===null&&(le=De);break}t&&le&&ze.alternate===null&&i(k,le),x=f(ze,x,Re),je===null?ue=ze:je.sibling=ze,je=ze,le=De}if(Re===L.length)return a(k,le),Ve&&Yi(k,Re),ue;if(le===null){for(;Re<L.length;Re++)le=X(k,L[Re],K),le!==null&&(x=f(le,x,Re),je===null?ue=le:je.sibling=le,je=le);return Ve&&Yi(k,Re),ue}for(le=o(le);Re<L.length;Re++)De=B(le,k,Re,L[Re],K),De!==null&&(t&&De.alternate!==null&&le.delete(De.key===null?Re:De.key),x=f(De,x,Re),je===null?ue=De:je.sibling=De,je=De);return t&&le.forEach(function(Jr){return i(k,Jr)}),Ve&&Yi(k,Re),ue}function me(k,x,L,K){if(L==null)throw Error(s(151));for(var ue=null,je=null,le=x,Re=x=0,De=null,ze=L.next();le!==null&&!ze.done;Re++,ze=L.next()){le.index>Re?(De=le,le=null):De=le.sibling;var Jr=z(k,le,ze.value,K);if(Jr===null){le===null&&(le=De);break}t&&le&&Jr.alternate===null&&i(k,le),x=f(Jr,x,Re),je===null?ue=Jr:je.sibling=Jr,je=Jr,le=De}if(ze.done)return a(k,le),Ve&&Yi(k,Re),ue;if(le===null){for(;!ze.done;Re++,ze=L.next())ze=X(k,ze.value,K),ze!==null&&(x=f(ze,x,Re),je===null?ue=ze:je.sibling=ze,je=ze);return Ve&&Yi(k,Re),ue}for(le=o(le);!ze.done;Re++,ze=L.next())ze=B(le,k,Re,ze.value,K),ze!==null&&(t&&ze.alternate!==null&&le.delete(ze.key===null?Re:ze.key),x=f(ze,x,Re),je===null?ue=ze:je.sibling=ze,je=ze);return t&&le.forEach(function(aw){return i(k,aw)}),Ve&&Yi(k,Re),ue}function Ze(k,x,L,K){if(typeof L=="object"&&L!==null&&L.type===te&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:e:{for(var ue=L.key;x!==null;){if(x.key===ue){if(ue=L.type,ue===te){if(x.tag===7){a(k,x.sibling),K=h(x,L.props.children),K.return=k,k=K;break e}}else if(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===b&&Hs(ue)===x.type){a(k,x.sibling),K=h(x,L.props),ol(K,L),K.return=k,k=K;break e}a(k,x);break}else i(k,x);x=x.sibling}L.type===te?(K=Ls(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=tc(L.type,L.key,L.props,null,k.mode,K),ol(K,L),K.return=k,k=K)}return _(k);case Z:e:{for(ue=L.key;x!==null;){if(x.key===ue)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(k,x.sibling),K=h(x,L.children||[]),K.return=k,k=K;break e}else{a(k,x);break}else i(k,x);x=x.sibling}K=Rf(L,k.mode,K),K.return=k,k=K}return _(k);case b:return L=Hs(L),Ze(k,x,L,K)}if(Mt(L))return oe(k,x,L,K);if(P(L)){if(ue=P(L),typeof ue!="function")throw Error(s(150));return L=ue.call(L),me(k,x,L,K)}if(typeof L.then=="function")return Ze(k,x,lc(L),K);if(L.$$typeof===pe)return Ze(k,x,rc(k,L),K);uc(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(k,x.sibling),K=h(x,L),K.return=k,k=K):(a(k,x),K=wf(L,k.mode,K),K.return=k,k=K),_(k)):a(k,x)}return function(k,x,L,K){try{al=0;var ue=Ze(k,x,L,K);return qa=null,ue}catch(le){if(le===za||le===ac)throw le;var je=En(29,le,null,k.mode);return je.lanes=K,je.return=k,je}}}var Gs=Yg(!0),Xg=Yg(!1),Vr=!1;function Lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Be&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=ec(t),xg(t,null,a),i}return Wu(t,o,i,a),ec(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ko(t,a)}}function zf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var qf=!1;function ul(){if(qf){var t=ja;if(t!==null)throw t}}function cl(t,i,a,o){qf=!1;var h=t.updateQueue;Vr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,_===null?f=j:_.next=j,_=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==_&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;_=0,F=j=C=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ne&z)===z:(o&z)===z){z!==0&&z===La&&(qf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,me=E;z=i;var Ze=a;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){X=oe.call(Ze,X,z);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,z=typeof oe=="function"?oe.call(Ze,X,z):oe,z==null)break e;X=S({},X,z);break e;case 2:Vr=!0}}z=E.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=B,C=X):F=F.next=B,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),qr|=_,t.lanes=_,t.memoizedState=X}}function $g(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],i)}var Ba=M(null),cc=M(0);function Zg(t,i){t=sr,ie(cc,t),ie(Ba,i),sr=t|i.baseLanes}function Bf(){ie(cc,sr),ie(Ba,Ba.current)}function Hf(){sr=cc.current,$(Ba),$(cc)}var Tn=M(null),Ln=null;function Ur(t){var i=t.alternate;ie(gt,gt.current&1),ie(Tn,t),Ln===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(Ln=t)}function Ff(t){ie(gt,gt.current),ie(Tn,t),Ln===null&&(Ln=t)}function Wg(t){t.tag===22?(ie(gt,gt.current),ie(Tn,t),Ln===null&&(Ln=t)):Lr()}function Lr(){ie(gt,gt.current),ie(Tn,Tn.current)}function An(t){$(Tn),Ln===t&&(Ln=null),$(gt)}var gt=M(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$d(a)||Jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,be=null,$e=null,Rt=null,fc=!1,Ha=!1,Qs=!1,dc=0,hl=0,Fa=null,$S=0;function ft(){throw Error(s(321))}function Gf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!vn(t[a],i[a]))return!1;return!0}function Qf(t,i,a,o,h,f){return Ji=f,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Py:od,Qs=!1,f=a(o,h),Qs=!1,Ha&&(f=ty(i,a,o,h)),ey(t),f}function ey(t){Q.H=ml;var i=$e!==null&&$e.next!==null;if(Ji=0,Rt=$e=be=null,fc=!1,hl=0,Fa=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&ic(t)&&(It=!0))}function ty(t,i,a,o){be=t;var h=0;do{if(Ha&&(Fa=null),hl=0,Ha=!1,25<=h)throw Error(s(301));if(h+=1,Rt=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Uy,f=i(a,o)}while(Ha);return f}function JS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(be.flags|=1024),i}function Kf(){var t=dc!==0;return dc=0,t}function Yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Xf(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}Ji=0,Rt=$e=be=null,Ha=!1,hl=dc=0,Fa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?be.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if($e===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=Rt===null?be.memoizedState:Rt.next;if(i!==null)Rt=i,$e=t;else{if(t===null)throw be.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Rt===null?be.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,Fa===null&&(Fa=[]),t=Gg(Fa,t,i),i=be,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Py:od),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===pe)return Gt(t)}throw Error(s(438,String(t)))}function $f(t){var i=null,a=be.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=be.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),be.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function gc(t){var i=yt();return Jf(i,$e,t)}function Jf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var E=_=null,C=null,j=i,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Ne&X)===X:(Ji&X)===X){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===La&&(F=!0);else if((Ji&z)===z){j=j.next,z===La&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=X,_=f):C=C.next=X,be.lanes|=z,qr|=z;X=j.action,Qs&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=z,_=f):C=C.next=z,be.lanes|=X,qr|=X;j=j.next}while(j!==null&&j!==i);if(C===null?_=f:C.next=E,!vn(f,t.memoizedState)&&(It=!0,F&&(a=ja,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Zf(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);vn(f,i.memoizedState)||(It=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function ny(t,i,a){var o=be,h=yt(),f=Ve;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,td(sy.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,Ga(9,{destroy:void 0},ry.bind(null,o,h,a,i),null),We===null)throw Error(s(349));f||(Ji&127)!==0||iy(o,i,a)}return a}function iy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=be.updateQueue,i===null?(i=mc(),be.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,o){i.value=a,i.getSnapshot=o,ay(i)&&oy(t)}function sy(t,i,a){return a(function(){ay(i)&&oy(t)})}function ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!vn(t,a)}catch{return!0}}function oy(t){var i=Us(t,2);i!==null&&dn(i,t,2)}function Wf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Qs){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function ly(t,i,a,o){return t.baseState=a,Jf(t,$e,typeof o=="function"?o:Zi)}function ZS(t,i,a,o,h){if(vc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,uy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function uy(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=Q.T,_={};Q.T=_;try{var E=a(h,o),C=Q.S;C!==null&&C(_,E),cy(t,i,E)}catch(j){ed(t,i,j)}finally{f!==null&&_.types!==null&&(f.types=_.types),Q.T=f}}else try{f=a(h,o),cy(t,i,f)}catch(j){ed(t,i,j)}}function cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){hy(t,i,o)},function(o){return ed(t,i,o)}):hy(t,i,a)}function hy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,uy(t,a)))}function ed(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==o)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dy(t,i){return i}function my(t,i){if(Ve){var a=We.formState;if(a!==null){e:{var o=be;if(Ve){if(tt){t:{for(var h=tt,f=Un;h.nodeType!==8;){if(!f){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){tt=jn(h.nextSibling),o=h.data==="F!";break e}}xr(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=o,a=My.bind(null,be,o),o.dispatch=a,o=Wf(!1),f=ad.bind(null,be,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=ZS.bind(null,be,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function py(t){var i=yt();return gy(i,$e,t)}function gy(t,i,a){if(i=Jf(t,i,dy)[0],t=gc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=fl(i)}catch(_){throw _===za?ac:_}else o=i;i=yt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(be.flags|=2048,Ga(9,{destroy:void 0},WS.bind(null,h,a),null)),[o,f,t]}function WS(t,i){t.action=i}function yy(t){var i=yt(),a=$e;if(a!==null)return gy(i,a,t);yt(),i=i.memoizedState,a=yt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ga(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=be.updateQueue,i===null&&(i=mc(),be.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function _y(){return yt().memoizedState}function yc(t,i,a,o){var h=sn();be.flags|=t,h.memoizedState=Ga(1|i,{destroy:void 0},a,o===void 0?null:o)}function _c(t,i,a,o){var h=yt();o=o===void 0?null:o;var f=h.memoizedState.inst;$e!==null&&o!==null&&Gf(o,$e.memoizedState.deps)?h.memoizedState=Ga(i,f,a,o):(be.flags|=t,h.memoizedState=Ga(1|i,f,a,o))}function vy(t,i){yc(8390656,8,t,i)}function td(t,i){_c(2048,8,t,i)}function eb(t){be.flags|=4;var i=be.updateQueue;if(i===null)i=mc(),be.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ey(t){var i=yt().memoizedState;return eb({ref:i,nextImpl:t}),function(){if((Be&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(t,i){return _c(4,2,t,i)}function Ay(t,i){return _c(4,4,t,i)}function Sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function by(t,i,a){a=a!=null?a.concat([t]):null,_c(4,4,Sy.bind(null,i,t),a)}function nd(){}function wy(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Gf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Ry(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Gf(i,o[1]))return o[0];if(o=t(),Qs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[o,i],o}function id(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=I_(),be.lanes|=t,qr|=t,a)}function Iy(t,i,a,o){return vn(a,i)?a:Ba.current!==null?(t=id(t,a,o),vn(t,i)||(It=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Ne&261930)===0?(It=!0,t.memoizedState=a):(t=I_(),be.lanes|=t,qr|=t,i)}function Cy(t,i,a,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var _=Q.T,E={};Q.T=E,ad(t,!1,i,a);try{var C=h(),j=Q.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=XS(C,o);dl(t,i,F,wn(t))}else dl(t,i,o,wn(t))}catch(X){dl(t,i,{then:function(){},status:"rejected",reason:X},wn())}finally{ne.p=f,_!==null&&E.types!==null&&(_.types=E.types),Q.T=_}}function tb(){}function rd(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Ny(t).queue;Cy(t,h,i,he,a===null?tb:function(){return Dy(t),a(o)})}function Ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dy(t){var i=Ny(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},wn())}function sd(){return Gt(Dl)}function Oy(){return yt().memoizedState}function xy(){return yt().memoizedState}function nb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=kr(a);var o=Pr(i,t,a);o!==null&&(dn(o,i,a),ll(o,i,a)),i={cache:Vf()},t.payload=i;return}i=i.return}}function ib(t,i,a){var o=wn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?Vy(i,a):(a=Sf(t,i,a,o),a!==null&&(dn(a,t,o),ky(a,i,o)))}function My(t,i,a){var o=wn();dl(t,i,a,o)}function dl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))Vy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,vn(E,_))return Wu(t,i,h,0),We===null&&Zu(),!1}catch{}if(a=Sf(t,i,h,o),a!==null)return dn(a,t,o),ky(a,i,o),!0}return!1}function ad(t,i,a,o){if(o={lane:2,revertLane:Ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(s(479))}else i=Sf(t,a,o,2),i!==null&&dn(i,t,2)}function vc(t){var i=t.alternate;return t===be||i!==null&&i===be}function Vy(t,i){Ha=fc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ky(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ko(t,a)}}var ml={readContext:Gt,use:pc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};ml.useEffectEvent=ft;var Py={readContext:Gt,use:pc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,Sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(Qs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Qs){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=ib.bind(null,be,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Wf(t);var i=t.queue,a=My.bind(null,be,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(t,i){var a=sn();return id(a,t,i)},useTransition:function(){var t=Wf(!1);return t=Cy.bind(null,be,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=be,h=sn();if(Ve){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(Ne&127)!==0||iy(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,vy(sy.bind(null,o,f,t),[t]),o.flags|=2048,Ga(9,{destroy:void 0},ry.bind(null,o,f,a,i),null),a},useId:function(){var t=sn(),i=We.identifierPrefix;if(Ve){var a=Di,o=Ni;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$S++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:sd,useFormState:my,useActionState:my,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ad.bind(null,be,!0,a),a.dispatch=i,[t,i]},useMemoCache:$f,useCacheRefresh:function(){return sn().memoizedState=nb.bind(null,be)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Be&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},od={readContext:Gt,use:pc,useCallback:wy,useContext:Gt,useEffect:td,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Ay,useMemo:Ry,useReducer:gc,useRef:_y,useState:function(){return gc(Zi)},useDebugValue:nd,useDeferredValue:function(t,i){var a=yt();return Iy(a,$e.memoizedState,t,i)},useTransition:function(){var t=gc(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:ny,useId:Oy,useHostTransitionStatus:sd,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=yt();return ly(a,$e,t,i)},useMemoCache:$f,useCacheRefresh:xy};od.useEffectEvent=Ey;var Uy={readContext:Gt,use:pc,useCallback:wy,useContext:Gt,useEffect:td,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Ay,useMemo:Ry,useReducer:Zf,useRef:_y,useState:function(){return Zf(Zi)},useDebugValue:nd,useDeferredValue:function(t,i){var a=yt();return $e===null?id(a,t,i):Iy(a,$e.memoizedState,t,i)},useTransition:function(){var t=Zf(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:ny,useId:Oy,useHostTransitionStatus:sd,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=yt();return $e!==null?ly(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:$f,useCacheRefresh:xy};Uy.useEffectEvent=Ey;function ld(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ud={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=wn(),h=kr(o);h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,o),i!==null&&(dn(i,t,o),ll(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=wn(),h=kr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,o),i!==null&&(dn(i,t,o),ll(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),o=kr(a);o.tag=2,i!=null&&(o.callback=i),i=Pr(t,o,a),i!==null&&(dn(i,t,a),ll(i,t,a))}};function Ly(t,i,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,o)||!el(h,f):!0}function jy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&ud.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function zy(t){Ju(t)}function qy(t){console.error(t)}function By(t){Ju(t)}function Ec(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Hy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cd(t,i,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,i)},a}function Fy(t){return t=kr(t),t.tag=3,t}function Gy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Hy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Hy(i,a,o),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function rb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ua(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?xc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),kd(t,o,h)),!1;case 22:return a.flags|=65536,o===oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),kd(t,o,h)),!1}throw Error(s(435,a.tag))}return kd(t,o,h),xc(),!1}if(Ve)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Nf&&(t=Error(s(422),{cause:o}),il(Vn(t,a)))):(o!==Nf&&(i=Error(s(423),{cause:o}),il(Vn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Vn(o,a),h=cd(t.stateNode,o,h),zf(t,h),dt!==4&&(dt=2)),!1;var f=Error(s(520),{cause:o});if(f=Vn(f,a),Al===null?Al=[f]:Al.push(f),dt!==4&&(dt=2),i===null)return!0;o=Vn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cd(a.stateNode,o,t),zf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Br===null||!Br.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,t,a,o),zf(a,h),!1}a=a.return}while(a!==null);return!1}var hd=Error(s(461)),It=!1;function Qt(t,i,a,o){i.child=t===null?Xg(i,null,a,o):Gs(i,t.child,a,o)}function Qy(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return qs(i),o=Qf(t,i,a,_,f,h),E=Kf(),t!==null&&!It?(Yf(t,i,h),Wi(t,i,h)):(Ve&&E&&If(i),i.flags|=1,Qt(t,i,o,h),i.child)}function Ky(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!bf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Yy(t,i,f,o,h)):(t=tc(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!vd(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,o)&&t.ref===i.ref)return Wi(t,i,h)}return i.flags|=1,t=Ki(f,o),t.ref=i.ref,t.return=i,i.child=t}function Yy(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(el(f,o)&&t.ref===i.ref)if(It=!1,i.pendingProps=o=f,vd(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Wi(t,i,h)}return fd(t,i,a,o,h)}function Xy(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return $y(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(i,f!==null?f.cachePool:null),f!==null?Zg(i,f):Bf(),Wg(i);else return o=i.lanes=536870912,$y(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(sc(i,f.cachePool),Zg(i,f),Lr(),i.memoizedState=null):(t!==null&&sc(i,null),Bf(),Lr());return Qt(t,i,h,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $y(t,i,a,o,h){var f=Pf();return f=f===null?null:{parent:wt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&sc(i,null),Bf(),Wg(i),t!==null&&Ua(t,i,o,!0),i.childLanes=h,null}function Tc(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return Gs(i,t.child,null,a),t=Tc(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function sb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ve){if(o.mode==="hidden")return t=Tc(i,o),i.lanes=536870912,pl(null,t);if(Ff(i),(t=tt)?(t=uv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Ft=i,tt=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return Tc(i,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Ff(i),h)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Ua(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(o=We,o!==null&&(_=Po(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Us(t,_),dn(o,t,_),hd;xc(),i=Jy(t,i,a)}else t=f.treeContext,tt=jn(_.nextSibling),Ft=i,Ve=!0,Or=null,Un=!1,t!==null&&Ug(i,t),i=Tc(i,o),i.flags|=4096;return i}return t=Ki(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function fd(t,i,a,o,h){return qs(i),a=Qf(t,i,a,o,void 0,h),o=Kf(),t!==null&&!It?(Yf(t,i,h),Wi(t,i,h)):(Ve&&o&&If(i),i.flags|=1,Qt(t,i,a,h),i.child)}function Zy(t,i,a,o,h,f){return qs(i),i.updateQueue=null,a=ty(i,o,a,h),ey(t),o=Kf(),t!==null&&!It?(Yf(t,i,f),Wi(t,i,f)):(Ve&&o&&If(i),i.flags|=1,Qt(t,i,a,f),i.child)}function Wy(t,i,a,o,h){if(qs(i),i.stateNode===null){var f=Ma,_=a.contextType;typeof _=="object"&&_!==null&&(f=Gt(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ud,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Lf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Gt(_):Ma,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ld(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&ud.enqueueReplaceState(f,f.state,null),cl(i,o,f,h),ul(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var E=i.memoizedProps,C=Ks(a,E);f.props=C;var j=f.context,F=a.contextType;_=Ma,typeof F=="object"&&F!==null&&(_=Gt(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==_)&&jy(i,f,o,_),Vr=!1;var z=i.memoizedState;f.state=z,cl(i,o,f,h),ul(),j=i.memoizedState,E||z!==j||Vr?(typeof X=="function"&&(ld(i,a,X,o),j=i.memoizedState),(C=Vr||Ly(i,a,C,o,z,j,_))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,jf(t,i),_=i.memoizedProps,F=Ks(a,_),f.props=F,X=i.pendingProps,z=f.context,j=a.contextType,C=Ma,typeof j=="object"&&j!==null&&(C=Gt(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||z!==C)&&jy(i,f,o,C),Vr=!1,z=i.memoizedState,f.state=z,cl(i,o,f,h),ul();var B=i.memoizedState;_!==X||z!==B||Vr||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof E=="function"&&(ld(i,a,E,o),B=i.memoizedState),(F=Vr||Ly(i,a,F,o,z,B,C)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,Ac(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Gs(i,t.child,null,h),i.child=Gs(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=Wi(t,i,h),t}function e_(t,i,a,o){return js(),i.flags|=256,Qt(t,i,a,o),i.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:Hg()}}function pd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function t_(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ve){if(h?Ur(i):Lr(),(t=tt)?(t=uv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Ft=i,tt=null)):t=null,t===null)throw xr(i);return Jd(t)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Lr(),h=i.mode,E=Sc({mode:"hidden",children:E},h),o=Ls(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=md(a),o.childLanes=pd(t,_,a),i.memoizedState=dd,pl(null,o)):(Ur(i),gd(i,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)i.flags&256?(Ur(i),i.flags&=-257,i=yd(t,i,a)):i.memoizedState!==null?(Lr(),i.child=t.child,i.flags|=128,i=null):(Lr(),E=o.fallback,h=i.mode,o=Sc({mode:"visible",children:o.children},h),E=Ls(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Gs(i,t.child,null,a),o=i.child,o.memoizedState=md(a),o.childLanes=pd(t,_,a),i.memoizedState=dd,i=pl(null,o));else if(Ur(i),Jd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(s(419)),o.stack="",o.digest=_,il({value:o,source:null,stack:null}),i=yd(t,i,a)}else if(It||Ua(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=We,_!==null&&(o=Po(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Us(t,o),dn(_,t,o),hd;$d(E)||xc(),i=yd(t,i,a)}else $d(E)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,tt=jn(E.nextSibling),Ft=i,Ve=!0,Or=null,Un=!1,t!==null&&Ug(i,t),i=gd(i,o.children),i.flags|=4096);return i}return h?(Lr(),E=o.fallback,h=i.mode,C=t.child,j=C.sibling,o=Ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=Ki(j,E):(E=Ls(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,pl(null,o),o=i.child,E=t.child.memoizedState,E===null?E=md(a):(h=E.cachePool,h!==null?(C=wt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Hg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=pd(t,_,a),i.memoizedState=dd,pl(t.child,o)):(Ur(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function gd(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=En(22,t,null,i),t.lanes=0,t}function yd(t,i,a){return Gs(i,t.child,null,a),t=gd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function n_(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),xf(t.return,i,a)}function _d(t,i,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function i_(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=gt.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,ie(gt,_),Qt(t,i,o,a),o=Ve?nl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,i);else if(t.tag===19)n_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),_d(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_d(i,!0,a,null,f,o);break;case"together":_d(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ua(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function ab(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),Mr(i,wt,t.memoizedState.cache),js();break;case 27:case 5:vs(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ff(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(t,i,a):(Ur(i),t=Wi(t,i,a),t!==null?t.sibling:null);Ur(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ua(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return i_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(gt,gt.current),o)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:Mr(i,wt,t.memoizedState.cache)}return Wi(t,i,a)}function r_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!vd(t,a)&&(i.flags&128)===0)return It=!1,ab(t,i,a);It=(t.flags&131072)!==0}else It=!1,Ve&&(i.flags&1048576)!==0&&Pg(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Hs(i.elementType),i.type=t,typeof t=="function")bf(t)?(o=Ks(t,o),i.tag=1,i=Wy(null,i,t,o,a)):(i.tag=0,i=fd(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===He){i.tag=11,i=Qy(null,i,t,o,a);break e}else if(h===N){i.tag=14,i=Ky(null,i,t,o,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return fd(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ks(o,i.pendingProps),Wy(t,i,o,h,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,jf(t,i),cl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Mr(i,wt,o),o!==f.cache&&Mf(i,[wt],a,!0),ul(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=e_(t,i,o,a);break e}else if(o!==h){h=Vn(Error(s(424)),i),il(h),i=e_(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=jn(t.firstChild),Ft=i,Ve=!0,Or=null,Un=!0,a=Xg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),o===h){i=Wi(t,i,a);break e}Qt(t,i,o,a)}i=i.child}return i;case 26:return Ac(t,i),t===null?(a=pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ve||(a=i.type,t=i.pendingProps,o=jc(we.current).createElement(a),o[At]=i,o[Lt]=t,Kt(o,a,t),St(o),i.stateNode=o):i.memoizedState=pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return vs(i),t===null&&Ve&&(o=i.stateNode=fv(i.type,i.pendingProps,we.current),Ft=i,Un=!0,h=tt,Qr(i.type)?(Zd=h,tt=jn(o.firstChild)):tt=h),Qt(t,i,i.pendingProps.children,a),Ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ve&&((h=o=tt)&&(o=Pb(o,i.type,i.pendingProps,Un),o!==null?(i.stateNode=o,Ft=i,tt=jn(o.firstChild),Un=!1,h=!0):h=!1),h||xr(i)),vs(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Kd(h,f)?o=null:_!==null&&Kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Qf(t,i,JS,null,null,a),Dl._currentValue=h),Ac(t,i),Qt(t,i,o,a),i.child;case 6:return t===null&&Ve&&((t=a=tt)&&(a=Ub(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ft=i,tt=null,t=!0):t=!1),t||xr(i)),null;case 13:return t_(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Gs(i,null,o,a):Qt(t,i,o,a),i.child;case 11:return Qy(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Mr(i,i.type,o.value),Qt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,qs(i),h=Gt(h),o=o(h),i.flags|=1,Qt(t,i,o,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Yy(t,i,i.type,i.pendingProps,a);case 19:return i_(t,i,a);case 31:return sb(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return qs(i),o=Gt(wt),t===null?(h=Pf(),h===null&&(h=We,f=Vf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Lf(i),Mr(i,wt,h)):((t.lanes&a)!==0&&(jf(t,i),cl(i,null,null,a),ul()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,wt,o)):(o=f.cache,Mr(i,wt,o),o!==h.cache&&Mf(i,[wt],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function er(t){t.flags|=4}function Ed(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(O_())t.flags|=8192;else throw Fs=oc,Uf}else t.flags&=-16777217}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i))if(O_())t.flags|=8192;else throw Fs=oc,Uf}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Du():536870912,t.lanes|=i,Xa|=i)}function gl(t,i){if(!Ve)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function ob(t,i,a){var o=i.pendingProps;switch(Cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),$i(wt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(i)?er(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Df())),nt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(er(i),f!==null?(nt(i),s_(i,f)):(nt(i),Ed(i,h,null,o,a))):f?f!==t.memoizedState?(er(i),nt(i),s_(i,f)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&er(i),nt(i),Ed(i,h,t,o,a)),null;case 27:if(ma(i),a=we.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&er(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ae.current,Pa(i)?Lg(i):(t=fv(h,o,a),i.stateNode=t,er(i))}return nt(i),null;case 5:if(ma(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&er(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(f=ae.current,Pa(i))Lg(i);else{var _=jc(we.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[At]=i,f[Lt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Kt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&er(i)}}return nt(i),Ed(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&er(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,Pa(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||xr(i,!0)}else t=jc(t).createTextNode(o),t[At]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Pa(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pa(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=Df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),nt(i),null);case 4:return at(),t===null&&Bd(i.stateNode.containerInfo),nt(i),null;case 10:return $i(i.type),nt(i),null;case 19:if($(gt),o=i.memoizedState,o===null)return nt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)gl(o,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=hc(t),f!==null){for(i.flags|=128,gl(o,!1),t=f.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return ie(gt,gt.current&1|2),Ve&&Yi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&nn()>Nc&&(i.flags|=128,h=!0,gl(o,!1),i.lanes=4194304)}else{if(!h)if(t=hc(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ve)return nt(i),null}else 2*nn()-o.renderingStartTime>Nc&&a!==536870912&&(i.flags|=128,h=!0,gl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=gt.current,ie(gt,h?a&1|2:a&1),Ve&&Yi(i,o.treeForkCount),t):(nt(i),null);case 22:case 23:return An(i),Hf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&$(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(wt),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lb(t,i){switch(Cf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(wt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ma(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(gt),null;case 4:return at(),null;case 10:return $i(i.type),null;case 22:case 23:return An(i),Hf(),t!==null&&$(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(wt),null;case 25:return null;default:return null}}function a_(t,i){switch(Cf(i),i.tag){case 3:$i(wt),at();break;case 26:case 27:case 5:ma(i);break;case 4:at();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:$(gt);break;case 10:$i(i.type);break;case 22:case 23:An(i),Hf(),t!==null&&$(Bs);break;case 24:$i(wt)}}function yl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Ye(i,i.return,E)}}function jr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var C=a,j=E;try{j()}catch(F){Ye(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Ye(i,i.return,F)}}function o_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(o){Ye(t,t.return,o)}}}function l_(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ye(t,i,o)}}function _l(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ye(t,i,h)}}function Oi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function u_(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Td(t,i,a){try{var o=t.stateNode;Db(o,t.type,a,i),o[Lt]=i}catch(h){Ye(t,t.return,h)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qr(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jn));else if(o!==4&&(o===27&&Qr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Sd(t,i,a),t=t.sibling;t!==null;)Sd(t,i,a),t=t.sibling}function wc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,i,a),t=t.sibling;t!==null;)wc(t,i,a),t=t.sibling}function h_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,o,a),i[At]=t,i[Lt]=a}catch(f){Ye(t,t.return,f)}}var tr=!1,Ct=!1,bd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function ub(t,i){if(t=t.containerInfo,Gd=Qc,t=bg(t),yf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,C=-1,j=0,F=0,X=t,z=null;t:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(E=_+h),X!==f||o!==0&&X.nodeType!==3||(C=_+o),X.nodeType===3&&(_+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===t)break t;if(z===a&&++j===h&&(E=_),z===f&&++F===o&&(C=_),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:t,selectionRange:a},Qc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=Ks(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(me){Ye(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function d_(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),o&4&&yl(5,a);break;case 1:if(ir(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}o&64&&o_(a),o&512&&_l(a,a.return);break;case 3:if(ir(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&o&4&&h_(a);case 26:case 5:ir(t,a),i===null&&o&4&&u_(a),o&512&&_l(a,a.return);break;case 12:ir(t,a);break;case 31:ir(t,a),o&4&&g_(t,a);break;case 13:ir(t,a),o&4&&y_(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_b.bind(null,a),Lb(t,a))));break;case 22:if(o=a.memoizedState!==null||tr,!o){i=i!==null&&i.memoizedState!==null||Ct,h=tr;var f=Ct;tr=o,(Ct=i)&&!f?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),tr=h,Ct=f}break;case 30:break;default:ir(t,a)}}function m_(t){var i=t.alternate;i!==null&&(t.alternate=null,m_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function nr(t,i,a){for(a=a.child;a!==null;)p_(t,i,a),a=a.sibling}function p_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Ct||Oi(a,i),nr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Oi(a,i);var o=lt,h=un;Qr(a.type)&&(lt=a.stateNode,un=!1),nr(t,i,a),Il(a.stateNode),lt=o,un=h;break;case 5:Ct||Oi(a,i);case 6:if(o=lt,h=un,lt=null,nr(t,i,a),lt=o,un=h,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Ye(a,i,f)}else try{lt.removeChild(a.stateNode)}catch(f){Ye(a,i,f)}break;case 18:lt!==null&&(un?(t=lt,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):ov(lt,a.stateNode));break;case 4:o=lt,h=un,lt=a.stateNode.containerInfo,un=!0,nr(t,i,a),lt=o,un=h;break;case 0:case 11:case 14:case 15:jr(2,a,i),Ct||jr(4,a,i),nr(t,i,a);break;case 1:Ct||(Oi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&l_(a,i,o)),nr(t,i,a);break;case 21:nr(t,i,a);break;case 22:Ct=(o=Ct)||a.memoizedState!==null,nr(t,i,a),Ct=o;break;default:nr(t,i,a)}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){Ye(i,i.return,a)}}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){Ye(i,i.return,a)}}function cb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f_),i;default:throw Error(s(435,t.tag))}}function Rc(t,i){var a=cb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=vb.bind(null,t,o);o.then(h,h)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Qr(E.type)){lt=E.stateNode,un=!1;break e}break;case 5:lt=E.stateNode,un=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(lt===null)throw Error(s(160));p_(f,_,h),lt=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,t),i=i.sibling}var ii=null;function __(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),o&4&&(jr(3,t,t.return),yl(3,t),jr(5,t,t.return));break;case 1:cn(i,t),hn(t),o&512&&(Ct||a===null||Oi(a,a.return)),o&64&&tr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ii;if(cn(i,t),hn(t),o&512&&(Ct||a===null||Oi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[At]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Kt(f,o,a),f[At]=t,St(f),o=f;break e;case"link":var _=_v("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=_v("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[At]=t,St(f),o=f}t.stateNode=o}else vv(h,t.type,t.stateNode);else t.stateNode=yv(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?vv(h,t.type,t.stateNode):yv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Td(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),o&512&&(Ct||a===null||Oi(a,a.return)),a!==null&&o&4&&Td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),o&512&&(Ct||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(oe){Ye(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Td(t,h,a!==null?a.memoizedProps:h)),o&1024&&(bd=!0);break;case 6:if(cn(i,t),hn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){Ye(t,t.return,oe)}}break;case 3:if(Bc=null,h=ii,ii=zc(i.containerInfo),cn(i,t),ii=h,hn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(oe){Ye(t,t.return,oe)}bd&&(bd=!1,v_(t));break;case 4:o=ii,ii=zc(t.stateNode.containerInfo),cn(i,t),hn(t),ii=o;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Rc(t,o)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Rc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=tr,F=Ct;if(tr=j||h,Ct=F||C,cn(i,t),Ct=F,tr=j,hn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||tr||Ct||Ys(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){Ye(C,C.return,oe)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){Ye(C,C.return,oe)}}}else if(i.tag===18){if(a===null){C=i;try{var B=C.stateNode;h?lv(B,!0):lv(C.stateNode,!1)}catch(oe){Ye(C,C.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Rc(t,a))));break;case 19:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Rc(t,o)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(c_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Ad(t);wc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var E=Ad(t);wc(t,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Ad(t);Sd(t,j,C);break;default:throw Error(s(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function v_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ir(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(t,i.alternate,i),i=i.sibling}function Ys(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),Ys(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),Ys(i);break;case 27:Il(i.stateNode);case 26:case 5:Oi(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}t=t.sibling}}function rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:rr(h,f,a),yl(4,f);break;case 1:if(rr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ye(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)$g(C[h],E)}catch(j){Ye(o,o.return,j)}}a&&_&64&&o_(f),_l(f,f.return);break;case 27:h_(f);case 26:case 5:rr(h,f,a),a&&o===null&&_&4&&u_(f),_l(f,f.return);break;case 12:rr(h,f,a);break;case 31:rr(h,f,a),a&&_&4&&g_(h,f);break;case 13:rr(h,f,a),a&&_&4&&y_(h,f);break;case 22:f.memoizedState===null&&rr(h,f,a),_l(f,f.return);break;case 30:break;default:rr(h,f,a)}i=i.sibling}}function wd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Rd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function ri(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(t,i,a,o),i=i.sibling}function E_(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,o),h&2048&&yl(9,i);break;case 1:ri(t,i,a,o);break;case 3:ri(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){ri(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(i,i.return,C)}}else ri(t,i,a,o);break;case 31:ri(t,i,a,o);break;case 13:ri(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?ri(t,i,a,o):vl(t,i):f._visibility&2?ri(t,i,a,o):(f._visibility|=2,Qa(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&wd(_,i);break;case 24:ri(t,i,a,o),h&2048&&Rd(i.alternate,i);break;default:ri(t,i,a,o)}}function Qa(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,E=a,C=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:Qa(f,_,E,C,h),yl(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Qa(f,_,E,C,h):vl(f,_):(F._visibility|=2,Qa(f,_,E,C,h)),h&&j&2048&&wd(_.alternate,_);break;case 24:Qa(f,_,E,C,h),h&&j&2048&&Rd(_.alternate,_);break;default:Qa(f,_,E,C,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:vl(a,o),h&2048&&wd(o.alternate,o);break;case 24:vl(a,o),h&2048&&Rd(o.alternate,o);break;default:vl(a,o)}i=i.sibling}}var El=8192;function Ka(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)T_(t,i,a),t=t.sibling}function T_(t,i,a){switch(t.tag){case 26:Ka(t,i,a),t.flags&El&&t.memoizedState!==null&&$b(a,ii,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,i,a);break;case 3:case 4:var o=ii;ii=zc(t.stateNode.containerInfo),Ka(t,i,a),ii=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=El,El=16777216,Ka(t,i,a),El=o):Ka(t,i,a));break;default:Ka(t,i,a)}}function A_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];zt=o,b_(o,t)}A_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&jr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ic(t)):Tl(t);break;default:Tl(t)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];zt=o,b_(o,t)}A_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:jr(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(i));break;default:Ic(i)}t=t.sibling}}function b_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:rl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,zt=o;else e:for(a=t;zt!==null;){o=zt;var h=o.sibling,f=o.return;if(m_(o),o===a){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var hb={getCacheForType:function(t){var i=Gt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(wt).controller.signal}},fb=typeof WeakMap=="function"?WeakMap:Map,Be=0,We=null,Ie=null,Ne=0,Ke=0,Sn=null,zr=!1,Ya=!1,Id=!1,sr=0,dt=0,qr=0,Xs=0,Cd=0,bn=0,Xa=0,Al=null,fn=null,Nd=!1,Cc=0,w_=0,Nc=1/0,Dc=null,Br=null,Pt=0,Hr=null,$a=null,ar=0,Dd=0,Od=null,R_=null,Sl=0,xd=null;function wn(){return(Be&2)!==0&&Ne!==0?Ne&-Ne:Q.T!==null?Ld():Ou()}function I_(){if(bn===0)if((Ne&536870912)===0||Ve){var t=As;As<<=1,(As&3932160)===0&&(As=262144),bn=t}else bn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),bn}function dn(t,i,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Fr(t,Ne,bn,!1)),Ss(t,a),((Be&2)===0||t!==We)&&(t===We&&((Be&2)===0&&(Xs|=a),dt===4&&Fr(t,Ne,bn,!1)),xi(t))}function C_(t,i,a){if((Be&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yn(t,i),h=o?pb(t,i):Vd(t,i,!0),f=o;do{if(h===0){Ya&&!o&&Fr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!db(a)){h=Vd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=t;h=Al;var C=E.current.memoizedState.isDehydrated;if(C&&(Ja(E,_).flags|=256),_=Vd(E,_,!1),_!==2){if(Id&&!C){E.errorRecoveryDisabledLanes|=f,Xs|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),Fr(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fr(o,i,bn,!zr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cc+300-nn(),10<h)){if(Fr(o,i,bn,!zr),mi(o,0,!0)!==0)break e;ar=i,o.timeoutHandle=sv(N_.bind(null,o,a,fn,Dc,Nd,i,bn,Xs,Xa,zr,f,"Throttled",-0,0),h);break e}N_(o,a,fn,Dc,Nd,i,bn,Xs,Xa,zr,f,null,-0,0)}}break}while(!0);xi(t)}function N_(t,i,a,o,h,f,_,E,C,j,F,X,z,B){if(t.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},T_(i,f,X);var oe=(f&62914560)===f?Cc-nn():(f&4194048)===f?w_-nn():0;if(oe=Jb(X,oe),oe!==null){ar=f,t.cancelPendingCommit=oe(U_.bind(null,t,i,f,a,o,h,_,E,C,F,X,null,z,B)),Fr(t,f,_,!j);return}}U_(t,i,f,a,o,h,_,E,C)}function db(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fr(t,i,a,o){i&=~Cd,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-mt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&bs(t,a,i)}function Oc(){return(Be&6)===0?(bl(0),!1):!0}function Md(){if(Ie!==null){if(Ke===0)var t=Ie.return;else t=Ie,Xi=zs=null,Xf(t),qa=null,al=0,t=Ie;for(;t!==null;)a_(t.alternate,t),t=t.return;Ie=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Mb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ar=0,Md(),We=t,Ie=a=Ki(t.current,null),Ne=i,Ke=0,Sn=null,zr=!1,Ya=Yn(t,i),Id=!1,Xa=bn=Cd=Xs=qr=dt=0,fn=Al=null,Nd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-mt(o),f=1<<h;i|=t[h],o&=~f}return sr=i,Zu(),a}function D_(t,i){be=null,Q.H=ml,i===za||i===ac?(i=Qg(),Ke=3):i===Uf?(i=Qg(),Ke=4):Ke=i===hd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ie===null&&(dt=1,Ec(t,Vn(i,t.current)))}function O_(){var t=Tn.current;return t===null?!0:(Ne&4194048)===Ne?Ln===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===Ln:!1}function x_(){var t=Q.H;return Q.H=ml,t===null?ml:t}function M_(){var t=Q.A;return Q.A=hb,t}function xc(){dt=4,zr||(Ne&4194048)!==Ne&&Tn.current!==null||(Ya=!0),(qr&134217727)===0&&(Xs&134217727)===0||We===null||Fr(We,Ne,bn,!1)}function Vd(t,i,a){var o=Be;Be|=2;var h=x_(),f=M_();(We!==t||Ne!==i)&&(Dc=null,Ja(t,i)),i=!1;var _=dt;e:do try{if(Ke!==0&&Ie!==null){var E=Ie,C=Sn;switch(Ke){case 8:Md(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var j=Ke;if(Ke=0,Sn=null,Za(t,E,C,j),a&&Ya){_=0;break e}break;default:j=Ke,Ke=0,Sn=null,Za(t,E,C,j)}}mb(),_=dt;break}catch(F){D_(t,F)}while(!0);return i&&t.shellSuspendCounter++,Xi=zs=null,Be=o,Q.H=h,Q.A=f,Ie===null&&(We=null,Ne=0,Zu()),_}function mb(){for(;Ie!==null;)V_(Ie)}function pb(t,i){var a=Be;Be|=2;var o=x_(),h=M_();We!==t||Ne!==i?(Dc=null,Nc=nn()+500,Ja(t,i)):Ya=Yn(t,i);e:do try{if(Ke!==0&&Ie!==null){i=Ie;var f=Sn;t:switch(Ke){case 1:Ke=0,Sn=null,Za(t,i,f,1);break;case 2:case 9:if(Fg(f)){Ke=0,Sn=null,k_(i);break}i=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),xi(t)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Fg(f)?(Ke=0,Sn=null,k_(i)):(Ke=0,Sn=null,Za(t,i,f,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var E=Ie;if(_?Ev(_):E.stateNode.complete){Ke=0,Sn=null;var C=E.sibling;if(C!==null)Ie=C;else{var j=E.return;j!==null?(Ie=j,Mc(j)):Ie=null}break t}}Ke=0,Sn=null,Za(t,i,f,5);break;case 6:Ke=0,Sn=null,Za(t,i,f,6);break;case 8:Md(),dt=6;break e;default:throw Error(s(462))}}gb();break}catch(F){D_(t,F)}while(!0);return Xi=zs=null,Q.H=o,Q.A=h,Be=a,Ie!==null?0:(We=null,Ne=0,Zu(),dt)}function gb(){for(;Ie!==null&&!cf();)V_(Ie)}function V_(t){var i=r_(t.alternate,t,sr);t.memoizedProps=t.pendingProps,i===null?Mc(t):Ie=i}function k_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,Ne);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,Ne);break;case 5:Xf(i);default:a_(a,i),i=Ie=Mg(i,sr),i=r_(a,i,sr)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Ie=i}function Za(t,i,a,o){Xi=zs=null,Xf(i),qa=null,al=0;var h=i.return;try{if(rb(t,h,i,a,Ne)){dt=1,Ec(t,Vn(a,t.current)),Ie=null;return}}catch(f){if(h!==null)throw Ie=h,f;dt=1,Ec(t,Vn(a,t.current)),Ie=null;return}i.flags&32768?(Ve||o===1?t=!0:Ya||(Ne&536870912)!==0?t=!1:(zr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),P_(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){P_(i,zr);return}t=i.return;var a=ob(i.alternate,i,sr);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);dt===0&&(dt=5)}function P_(t,i){do{var a=lb(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);dt=6,Ie=null}function U_(t,i,a,o,h,f,_,E,C){t.cancelPendingCommit=null;do Vc();while(Pt!==0);if((Be&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Af,df(t,a,f,_,E,C),t===We&&(Ie=We=null,Ne=0),$a=i,Hr=t,ar=a,Dd=f,Od=h,R_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Eb(Er,function(){return B_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ne.p,ne.p=2,_=Be,Be|=4;try{ub(t,i,a)}finally{Be=_,ne.p=h,Q.T=o}}Pt=1,L_(),j_(),z_()}}function L_(){if(Pt===1){Pt=0;var t=Hr,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=ne.p;ne.p=2;var h=Be;Be|=4;try{__(i,t);var f=Qd,_=bg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Sg(E.ownerDocument.documentElement,E)){if(C!==null&&yf(E)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),oe=E.textContent.length,me=Math.min(C.start,oe),Ze=C.end===void 0?me:Math.min(C.end,oe);!B.extend&&me>Ze&&(_=Ze,Ze=me,me=_);var k=Ag(E,me),x=Ag(E,Ze);if(k&&x&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==x.node||B.focusOffset!==x.offset)){var L=X.createRange();L.setStart(k.node,k.offset),B.removeAllRanges(),me>Ze?(B.addRange(L),B.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),B.addRange(L))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Qc=!!Gd,Qd=Gd=null}finally{Be=h,ne.p=o,Q.T=a}}t.current=i,Pt=2}}function j_(){if(Pt===2){Pt=0;var t=Hr,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=ne.p;ne.p=2;var h=Be;Be|=4;try{d_(t,i.alternate,i)}finally{Be=h,ne.p=o,Q.T=a}}Pt=3}}function z_(){if(Pt===4||Pt===3){Pt=0,bu();var t=Hr,i=$a,a=ar,o=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,$a=Hr=null,q_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),Hi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Q.T,h=ne.p,ne.p=2,Q.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{Q.T=i,ne.p=h}}(ar&3)!==0&&Vc(),xi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===xd?Sl++:(Sl=0,xd=t):Sl=0,bl(0)}}function q_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function Vc(){return L_(),j_(),z_(),B_()}function B_(){if(Pt!==5)return!1;var t=Hr,i=Dd;Dd=0;var a=Hi(ar),o=Q.T,h=ne.p;try{ne.p=32>a?32:a,Q.T=null,a=Od,Od=null;var f=Hr,_=ar;if(Pt=0,$a=Hr=null,ar=0,(Be&6)!==0)throw Error(s(331));var E=Be;if(Be|=4,S_(f.current),E_(f,f.current,_,a),Be=E,bl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Kn,f)}catch{}return!0}finally{ne.p=h,Q.T=o,q_(t,i)}}function H_(t,i,a){i=Vn(a,i),i=cd(t.stateNode,i,2),t=Pr(t,i,2),t!==null&&(Ss(t,2),xi(t))}function Ye(t,i,a){if(t.tag===3)H_(t,t,a);else for(;i!==null;){if(i.tag===3){H_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Br===null||!Br.has(o))){t=Vn(a,t),a=Fy(2),o=Pr(i,a,2),o!==null&&(Gy(a,o,i,t),Ss(o,2),xi(o));break}}i=i.return}}function kd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new fb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Id=!0,h.add(a),t=yb.bind(null,t,i,a),i.then(t,t))}function yb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Ne&a)===a&&(dt===4||dt===3&&(Ne&62914560)===Ne&&300>nn()-Cc?(Be&2)===0&&Ja(t,0):Cd|=a,Xa===Ne&&(Xa=0)),xi(t)}function F_(t,i){i===0&&(i=Du()),t=Us(t,i),t!==null&&(Ss(t,i),xi(t))}function _b(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(t,a)}function vb(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),F_(t,a)}function Eb(t,i){return kt(t,i)}var kc=null,Wa=null,Pd=!1,Pc=!1,Ud=!1,Gr=0;function xi(t){t!==Wa&&t.next===null&&(Wa===null?kc=Wa=t:Wa=Wa.next=t),Pc=!0,Pd||(Pd=!0,Ab())}function bl(t,i){if(!Ud&&Pc){Ud=!0;do for(var a=!1,o=kc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Y_(o,f))}else f=Ne,f=mi(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yn(o,f)||(a=!0,Y_(o,f));o=o.next}while(a);Ud=!1}}function Tb(){G_()}function G_(){Pc=Pd=!1;var t=0;Gr!==0&&xb()&&(t=Gr);for(var i=nn(),a=null,o=kc;o!==null;){var h=o.next,f=Q_(o,i);f===0?(o.next=null,a===null?kc=h:a.next=h,h===null&&(Wa=a)):(a=o,(t!==0||(f&3)!==0)&&(Pc=!0)),o=h}Pt!==0&&Pt!==5||bl(t),Gr!==0&&(Gr=0)}function Q_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-mt(f),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&o)!==0)&&(h[_]=ff(E,i)):C<=i&&(t.expiredLanes|=E),f&=~E}if(i=We,a=Ne,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&vr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&vr(o),Hi(a)){case 2:case 8:a=Vo;break;case 32:a=Er;break;case 268435456:a=wu;break;default:a=Er}return o=K_.bind(null,t),a=kt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&vr(o),t.callbackPriority=2,t.callbackNode=null,2}function K_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var o=Ne;return o=mi(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(C_(t,o,i),Q_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?K_.bind(null,t):null)}function Y_(t,i){if(Vc())return null;C_(t,i,!0)}function Ab(){Vb(function(){(Be&6)!==0?kt(Mo,Tb):G_()})}function Ld(){if(Gr===0){var t=La;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Gr=t}return Gr}function X_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function $_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Sb(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=X_((h[Lt]||null).action),_=o.submitter;_&&(i=(i=_[Lt]||null)?X_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new wi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gr!==0){var C=_?$_(h,_):new FormData(h);rd(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=_?$_(h,_):new FormData(h),rd(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var jd=0;jd<Tf.length;jd++){var zd=Tf[jd],bb=zd.toLowerCase(),wb=zd[0].toUpperCase()+zd.slice(1);ni(bb,"on"+wb)}ni(Ig,"onAnimationEnd"),ni(Cg,"onAnimationIteration"),ni(Ng,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(qS,"onTransitionRun"),ni(BS,"onTransitionStart"),ni(HS,"onTransitionCancel"),ni(Dg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function J_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){Ju(F)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){Ju(F)}h.currentTarget=null,f=C}}}}function Ce(t,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var o=t+"__bubble";a.has(o)||(Z_(i,t,2,!1),a.add(o))}function qd(t,i,a){var o=0;i&&(o|=4),Z_(a,t,o,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Uc]){t[Uc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(Rb.has(a)||qd(a,!1,t),qd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,qd("selectionchange",!1,i))}}function Z_(t,i,a,o){switch(Iv(i)){case 2:var h=ew;break;case 8:h=tw;break;default:h=im}a=h.bind(null,i,a,t),h=void 0,!Ns||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Hd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=_i(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue e}E=E.parentNode}}o=o.return}Rr(function(){var j=f,F=Dn(a),X=[];e:{var z=Og.get(t);if(z!==void 0){var B=wi,oe=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":B=Yu;break;case"focusin":oe="focus",B=Ms;break;case"focusout":oe="blur",B=Ms;break;case"beforeblur":case"afterblur":B=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case Ig:case Cg:case Ng:B=qu;break;case Dg:B=T;break;case"scroll":case"scrollend":B=Xo;break;case"wheel":B=q;break;case"copy":case"cut":case"paste":B=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Qi;break;case"toggle":case"beforetoggle":B=Se}var me=(i&4)!==0,Ze=!me&&(t==="scroll"||t==="scrollend"),k=me?z!==null?z+"Capture":null:z;me=[];for(var x=j,L;x!==null;){var K=x;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=Zn(x,k),K!=null&&me.push(Rl(x,K,L))),Ze)break;x=x.return}0<me.length&&(z=new B(z,oe,null,a,F),X.push({event:z,listeners:me}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&a!==Qo&&(oe=a.relatedTarget||a.fromElement)&&(_i(oe)||oe[gi]))break e;if((B||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,B?(oe=a.relatedTarget||a.toElement,B=j,oe=oe?_i(oe):null,oe!==null&&(Ze=u(oe),me=oe.tag,oe!==Ze||me!==5&&me!==27&&me!==6)&&(oe=null)):(B=null,oe=j),B!==oe)){if(me=$o,K="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(me=Qi,K="onPointerLeave",k="onPointerEnter",x="pointer"),Ze=B==null?z:yn(B),L=oe==null?z:yn(oe),z=new me(K,x+"leave",B,a,F),z.target=Ze,z.relatedTarget=L,K=null,_i(F)===j&&(me=new me(k,x+"enter",oe,a,F),me.target=L,me.relatedTarget=Ze,K=me),Ze=K,B&&oe)t:{for(me=Ib,k=B,x=oe,L=0,K=k;K;K=me(K))L++;K=0;for(var ue=x;ue;ue=me(ue))K++;for(;0<L-K;)k=me(k),L--;for(;0<K-L;)x=me(x),K--;for(;L--;){if(k===x||x!==null&&k===x.alternate){me=k;break t}k=me(k),x=me(x)}me=null}else me=null;B!==null&&W_(X,z,B,me,!1),oe!==null&&Ze!==null&&W_(X,Ze,oe,me,!0)}}e:{if(z=j?yn(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var je=gg;else if(mg(z))if(yg)je=LS;else{je=PS;var le=kS}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Aa(j.elementType)&&(je=gg):je=US;if(je&&(je=je(t,j))){pg(X,je,a,F);break e}le&&le(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Ho(z,"number",z.value)}switch(le=j?yn(j):window,t){case"focusin":(mg(le)||le.contentEditable==="true")&&(Da=le,_f=j,tl=null);break;case"focusout":tl=_f=Da=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,wg(X,a,F);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":wg(X,a,F)}var Re;if(qe)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Na?Vs(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(Ci&&a.locale!=="ko"&&(Na||De!=="onCompositionStart"?De==="onCompositionEnd"&&Na&&(Re=Yo()):(bi=F,Ko="value"in bi?bi.value:bi.textContent,Na=!0)),le=Lc(j,De),0<le.length&&(De=new Ii(De,t,null,a,F),X.push({event:De,listeners:le}),Re?De.data=Re:(Re=Ca(a),Re!==null&&(De.data=Re)))),(Re=xn?OS(t,a):xS(t,a))&&(De=Lc(j,"onBeforeInput"),0<De.length&&(le=new Ii("onBeforeInput","beforeinput",null,a,F),X.push({event:le,listeners:De}),le.data=Re)),Sb(X,t,j,a,F)}J_(X,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Lc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(t,a),h!=null&&o.unshift(Rl(t,h,f)),h=Zn(t,i),h!=null&&o.push(Rl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Ib(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function W_(t,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Zn(a,f),j!=null&&_.unshift(Rl(a,j,C))):h||(j=Zn(a,f),j!=null&&_.push(Rl(a,j,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Cb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(Cb,`
`).replace(Nb,"")}function tv(t,i){return i=ev(i),ev(t)===i}function Je(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(t,""+o);break;case"className":_n(t,"class",o);break;case"tabIndex":_n(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,o);break;case"style":Go(t,o,f);break;case"data":if(i!=="object"){_n(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Sa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Sa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Jn);break;case"onScroll":o!=null&&Ce("scroll",t);break;case"onScrollEnd":o!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),Ea(t,"popover",o);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ea(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lu.get(a)||a,Ea(t,a,o))}}function Fd(t,i,a,o,h,f){switch(a){case"style":Go(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&Ce("scroll",t);break;case"onScrollEnd":o!=null&&Ce("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Lt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ea(t,a,o)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,f,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),o&&Je(t,i,"src",a.src,a,null);return;case"input":Ce("invalid",t);var E=f=_=h=null,C=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":_=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(t,i,o,F,a,null)}}ku(t,f,E,C,j,_,h,!1);return;case"select":Ce("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Je(t,i,h,E,a,null)}i=f,a=_,t.multiple=!!o,i!=null?Ar(t,!!o,i,!1):a!=null&&Ar(t,!!o,a,!0);return;case"textarea":Ce("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Je(t,i,_,E,a,null)}Sr(t,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Je(t,i,C,o,a,null));return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(o=0;o<wl.length;o++)Ce(wl[o],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,j,o,a,null)}return;default:if(Aa(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Fd(t,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Je(t,i,E,o,a,null))}function Db(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,C=null,j=null,F=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(B)||Je(t,i,B,null,o,X)}}for(var z in o){var B=o[z];if(X=a[z],o.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":F=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&Je(t,i,z,B,o,X)}}Ta(t,_,E,C,j,F,f,h);return;case"select":B=_=E=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":B=C;default:o.hasOwnProperty(f)||Je(t,i,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==C&&Je(t,i,h,f,o,C)}i=E,a=_,o=B,z!=null?Ar(t,!!a,z,!1):!!o!=!!a&&(i!=null?Ar(t,!!a,i,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(t,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Je(t,i,_,h,o,f)}Pu(t,z,B);return;case"option":for(var oe in a)z=a[oe],a.hasOwnProperty(oe)&&z!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:Je(t,i,oe,null,o,z));for(C in o)z=o[C],B=a[C],o.hasOwnProperty(C)&&z!==B&&(z!=null||B!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":Je(t,i,C,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)z=a[me],a.hasOwnProperty(me)&&z!=null&&!o.hasOwnProperty(me)&&Je(t,i,me,null,o,z);for(j in o)if(z=o[j],B=a[j],o.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Je(t,i,j,z,o,B)}return;default:if(Aa(i)){for(var Ze in a)z=a[Ze],a.hasOwnProperty(Ze)&&z!==void 0&&!o.hasOwnProperty(Ze)&&Fd(t,i,Ze,void 0,o,z);for(F in o)z=o[F],B=a[F],!o.hasOwnProperty(F)||z===B||z===void 0&&B===void 0||Fd(t,i,F,z,o,B);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Je(t,i,k,null,o,z);for(X in o)z=o[X],B=a[X],!o.hasOwnProperty(X)||z===B||z==null&&B==null||Je(t,i,X,z,o,B)}function nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ob(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&nv(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],j=C.startTime;if(j>E)break;var F=C.transferSize,X=C.initiatorType;F&&nv(X)&&(C=C.responseEnd,_+=F*(C<E?1:(E-j)/(C-j)))}if(--o,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Qd=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yd=null;function xb(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(kb)}:sv;function kb(t){setTimeout(function(){throw t})}function Qr(t){return t==="head"}function ov(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),io(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Il(t.ownerDocument.body);a=h}while(a);io(i)}function lv(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Xd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Pb(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function Ub(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function uv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Zd=null;function cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return jn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fv(t,i,a){switch(i=jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var zn=new Map,dv=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=ne.d;ne.d={f:jb,r:zb,D:qb,C:Bb,L:Hb,m:Fb,X:Qb,S:Gb,M:Kb};function jb(){var t=or.f(),i=Oc();return t||i}function zb(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?Dy(i):or.r(t)}var eo=typeof document>"u"?null:document;function mv(t,i,a){var o=eo;if(o&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Kt(i,"link",t),St(i),o.head.appendChild(i)))}}function qb(t){or.D(t),mv("dns-prefetch",t,null)}function Bb(t,i){or.C(t,i),mv("preconnect",t,i)}function Hb(t,i,a){or.L(t,i,a);var o=eo;if(o&&t&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var f=h;switch(i){case"style":f=to(t);break;case"script":f=no(t)}zn.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Cl(f))||i==="script"&&o.querySelector(Nl(f))||(i=o.createElement("link"),Kt(i,"link",t),St(i),o.head.appendChild(i)))}}function Fb(t,i){or.m(t,i);var a=eo;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=no(t)}if(!zn.has(f)&&(t=S({rel:"modulepreload",href:t},i),zn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}o=a.createElement("link"),Kt(o,"link",t),St(o),a.head.appendChild(o)}}}function Gb(t,i,a){or.S(t,i,a);var o=eo;if(o&&t){var h=vi(o).hoistableStyles,f=to(t);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Cl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(f))&&Wd(t,a);var C=_=o.createElement("link");St(C),Kt(C,"link",t),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,qc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function Qb(t,i){or.X(t,i);var a=eo;if(a&&t){var o=vi(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(t=S({src:t,async:!0},i),(i=zn.get(h))&&em(t,i),f=a.createElement("script"),St(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Kb(t,i){or.M(t,i);var a=eo;if(a&&t){var o=vi(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=zn.get(h))&&em(t,i),f=a.createElement("script"),St(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pv(t,i,a,o){var h=(h=we.current)?zc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=vi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var f=vi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Cl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),f||Yb(h,t,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=vi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function to(t){return'href="'+on(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Yb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Kt(i,"link",a),St(i),t.head.appendChild(i))}function no(t){return'[src="'+on(t)+'"]'}function Nl(t){return"script[async]"+t}function yv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return i.instance=o,St(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),St(o),Kt(o,"style",h),qc(o,a.precedence,t),i.instance=o;case"stylesheet":h=to(a.href);var f=t.querySelector(Cl(h));if(f)return i.state.loading|=4,i.instance=f,St(f),f;o=gv(a),(h=zn.get(h))&&Wd(o,h),f=(t.ownerDocument||t).createElement("link"),St(f);var _=f;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Kt(f,"link",o),i.state.loading|=4,qc(f,a.precedence,t),i.instance=f;case"script":return f=no(a.src),(h=t.querySelector(Nl(f)))?(i.instance=h,St(h),h):(o=a,(h=zn.get(f))&&(o=S({},a),em(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Kt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,qc(o,a.precedence,t));return i.instance}function qc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function _v(t,i,a){if(Bc===null){var o=new Map,h=Bc=new Map;h.set(a,o)}else h=Bc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[yi]||f[At]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function vv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Xb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $b(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=to(o.href),f=i.querySelector(Cl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Hc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,St(f);return}f=i.ownerDocument||i,o=gv(o),(h=zn.get(h))&&Wd(o,h),f=f.createElement("link"),St(f);var _=f;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Kt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var tm=0;function Jb(t,i){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&tm===0&&(tm=62500*Ob());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>tm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function Gc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,i.forEach(Zb,t),Fc=null,Hc.call(t))}function Zb(t,i){if(!(i.state.loading&4)){var a=Fc.get(t);if(a)var o=a.get(null);else{a=new Map,Fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:pe,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Wb(t,i,a,o,h,f,_,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Tv(t,i,a,o,h,f,_,E,C,j,F,X){return t=new Wb(t,i,a,_,C,j,F,X,E),i=1,f===!0&&(i|=24),f=En(3,null,null,i),t.current=f,f.stateNode=t,i=Vf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Lf(f),t}function Av(t){return t?(t=Ma,t):Ma}function Sv(t,i,a,o,h,f){h=Av(h),o.context===null?o.context=h:o.pendingContext=h,o=kr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Pr(t,o,i),a!==null&&(dn(a,t,i),ll(a,t,i))}function bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function nm(t,i){bv(t,i),(t=t.alternate)&&bv(t,i)}function wv(t){if(t.tag===13||t.tag===31){var i=Us(t,67108864);i!==null&&dn(i,t,67108864),nm(t,67108864)}}function Rv(t){if(t.tag===13||t.tag===31){var i=wn();i=ws(i);var a=Us(t,i);a!==null&&dn(a,t,i),nm(t,i)}}var Qc=!0;function ew(t,i,a,o){var h=Q.T;Q.T=null;var f=ne.p;try{ne.p=2,im(t,i,a,o)}finally{ne.p=f,Q.T=h}}function tw(t,i,a,o){var h=Q.T;Q.T=null;var f=ne.p;try{ne.p=8,im(t,i,a,o)}finally{ne.p=f,Q.T=h}}function im(t,i,a,o){if(Qc){var h=rm(o);if(h===null)Hd(t,i,o,Kc,a),Cv(t,o);else if(iw(h,t,i,a,o))o.stopPropagation();else if(Cv(t,o),i&4&&-1<nw.indexOf(t)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=di(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-mt(_);E.entanglements[1]|=C,_&=~C}xi(f),(Be&6)===0&&(Nc=nn()+500,bl(0))}}break;case 31:case 13:E=Us(f,2),E!==null&&dn(E,f,2),Oc(),nm(f,2)}if(f=rm(o),f===null&&Hd(t,i,o,Kc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Hd(t,i,o,null,a)}}function rm(t){return t=Dn(t),sm(t)}var Kc=null;function sm(t){if(Kc=null,t=_i(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function Iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case Mo:return 2;case Vo:return 8;case Er:case hf:return 32;case wu:return 268435456;default:return 32}default:return 32}}var am=!1,Kr=null,Yr=null,Xr=null,Ol=new Map,xl=new Map,$r=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Ml(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&wv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function iw(t,i,a,o,h){switch(i){case"focusin":return Kr=Ml(Kr,t,i,a,o,h),!0;case"dragenter":return Yr=Ml(Yr,t,i,a,o,h),!0;case"mouseover":return Xr=Ml(Xr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Ol.set(f,Ml(Ol.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,xl.set(f,Ml(xl.get(f)||null,t,i,a,o,h)),!0}return!1}function Nv(t){var i=_i(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){Rv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){Rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Qo=o,a.target.dispatchEvent(o),Qo=null}else return i=Nn(a),i!==null&&wv(i),t.blockedOn=a,!1;i.shift()}return!0}function Dv(t,i,a){Yc(t)&&a.delete(i)}function rw(){am=!1,Kr!==null&&Yc(Kr)&&(Kr=null),Yr!==null&&Yc(Yr)&&(Yr=null),Xr!==null&&Yc(Xr)&&(Xr=null),Ol.forEach(Dv),xl.forEach(Dv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,am||(am=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rw)))}var $c=null;function Ov(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(sm(o||a)===null)continue;break}var f=Nn(a);f!==null&&(t.splice(i,3),i-=3,rd(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function io(t){function i(C){return Xc(C,t)}Kr!==null&&Xc(Kr,t),Yr!==null&&Xc(Yr,t),Xr!==null&&Xc(Xr,t),Ol.forEach(i),xl.forEach(i);for(var a=0;a<$r.length;a++){var o=$r[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Lt]||null;if(typeof f=="function")_||Ov(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Lt]||null)E=_.formAction;else if(sm(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Ov(a)}}}function xv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function om(t){this._internalRoot=t}Jc.prototype.render=om.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=wn();Sv(a,o,t,i,null,null)},Jc.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Sv(t.current,2,null,t,null,null),Oc(),i[gi]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ou();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&Nv(t)}};var Mv=e.version;if(Mv!=="19.2.3")throw Error(s(527,Mv,"19.2.3"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var sw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Kn=Zc.inject(sw),Bt=Zc}catch{}}return kl.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=zy,f=qy,_=By;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Tv(t,1,!1,null,null,a,o,null,h,f,_,xv),t[gi]=i.current,Bd(t),new om(i)},kl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=zy,_=qy,E=By,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Tv(t,1,!0,i,a??null,o,h,C,f,_,E,xv),i.context=Av(null),a=i.current,o=wn(),o=ws(o),h=kr(o),h.callback=null,Pr(a,h,o),a=o,i.current.lanes=a,Ss(i,a),xi(i),t[gi]=i.current,Bd(t),new Jc(i)},kl.version="19.2.3",kl}var Hv;function pw(){if(Hv)return cm.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=mw(),cm.exports}var gw=pw();const yw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_w=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Fv=r=>{const e=_w(r);return e.charAt(0).toUpperCase()+e.slice(1)},V0=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),vw=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Ew={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tw=it.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...p},y)=>it.createElement("svg",{ref:y,...Ew,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:V0("lucide",l),...!u&&!vw(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,A])=>it.createElement(g,A)),...Array.isArray(u)?u:[u]]));const Qn=(r,e)=>{const n=it.forwardRef(({className:s,...l},u)=>it.createElement(Tw,{ref:u,iconNode:e,className:V0(`lucide-${yw(Fv(r))}`,`lucide-${r}`,s),...l}));return n.displayName=Fv(r),n};const Aw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],k0=Qn("circle-alert",Aw);const Sw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ul=Qn("circle-check-big",Sw);const bw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ww=Qn("circle-x",bw);const Rw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gv=Qn("clock",Rw);const Iw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Cw=Qn("eye-off",Iw);const Nw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dw=Qn("eye",Nw);const Ow=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xw=Qn("history",Ow);const Mw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vw=Qn("log-out",Mw);const kw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pw=Qn("settings",kw);const Uw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Lw=Qn("shield",Uw);const jw=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ll=Qn("truck",jw);const zw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qv=Qn("users",zw),qw=()=>{};var Kv={};const P0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Bw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],p=r[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,g=y?r[l+2]:0,A=u>>2,S=(u&3)<<4|p>>4;let D=(p&15)<<2|g>>6,H=g&63;y||(H=64,d||(D=64)),s.push(n[A],n[S],n[D],n[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(P0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Bw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const g=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||g==null||S==null)throw new Hw;const D=u<<2|p>>4;if(s.push(D),g!==64){const H=p<<4&240|g>>2;if(s.push(H),S!==64){const Z=g<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Hw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fw=function(r){const e=P0(r);return U0.encodeByteArray(e,!0)},_h=function(r){return Fw(r).replace(/\./g,"")},L0=function(r){try{return U0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Qw=()=>Gw().__FIREBASE_DEFAULTS__,Kw=()=>{if(typeof process>"u"||typeof Kv>"u")return;const r=Kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Yw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&L0(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return qw()||Qw()||Kw()||Yw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>Uh()?.emulatorHosts?.[r],Xw=r=>{const e=j0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},z0=()=>Uh()?.config,q0=r=>Uh()?.[`_${r}`];class $w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(r){return(await fetch(r,{credentials:"include"})).ok}function Jw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_h(JSON.stringify(n)),_h(JSON.stringify(d)),""].join(".")}const Ql={};function Zw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function Ww(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Yv=!1;function H0(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Ql[r]===e||Ql[r]||Yv)return;Ql[r]=e;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=Zw().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function g(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Yv=!0,d()},D}function A(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=Ww(s),H=n("text"),Z=document.getElementById(H)||document.createElement("span"),te=n("learnmore"),W=document.getElementById(te)||document.createElement("a"),de=n("preprendIcon"),Ee=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const pe=D.element;p(pe),A(W,te);const He=g();y(Ee,de),pe.append(Ee,Z,W,He),document.body.appendChild(pe)}u?(Z.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function t1(){const r=Uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function r1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s1(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function a1(){return!t1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F0(){try{return typeof indexedDB=="object"}catch{return!1}}function G0(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}function o1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const l1="FirebaseError";class Bi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=l1,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}}class ca{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?u1(u,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Bi(l,p,s)}}function u1(r,e){return r.replace(c1,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const c1=/\{\$([^}]+)}/g;function h1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ia(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=e[l];if(Xv(u)&&Xv(d)){if(!ia(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Xv(r){return r!==null&&typeof r=="object"}function fu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function f1(r,e){const n=new d1(r,e);return n.subscribe.bind(n)}class d1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");m1(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=mm),l.error===void 0&&(l.error=mm),l.complete===void 0&&(l.complete=mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function mm(){}function xt(r){return r&&r._delegate?r._delegate:r}class li{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class p1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $w;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y1(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:g1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(r){return r===$s?void 0:r}function y1(r){return r.instantiationMode==="EAGER"}class _1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const v1={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},E1=Oe.INFO,T1={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},A1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=T1[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=E1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const S1=(r,e)=>e.some(n=>r instanceof n);let $v,Jv;function b1(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w1(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,Vm=new WeakMap,K0=new WeakMap,pm=new WeakMap,cp=new WeakMap;function R1(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(fr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Q0.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function I1(r){if(Vm.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Vm.set(r,e)}let km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Vm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||K0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function C1(r){km=r(km)}function N1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(gm(this),e,...n);return K0.set(s,e.sort?e.sort():[e]),fr(s)}:w1().includes(r)?function(...e){return r.apply(gm(this),e),fr(Q0.get(this))}:function(...e){return fr(r.apply(gm(this),e))}}function D1(r){return typeof r=="function"?N1(r):(r instanceof IDBTransaction&&I1(r),S1(r,b1())?new Proxy(r,km):r)}function fr(r){if(r instanceof IDBRequest)return R1(r);if(pm.has(r))return pm.get(r);const e=D1(r);return e!==r&&(pm.set(r,e),cp.set(e,r)),e}const gm=r=>cp.get(r);function Lh(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),p=fr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(fr(d.result),y.oldVersion,y.newVersion,fr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}function ym(r,{blocked:e}={}){const n=indexedDB.deleteDatabase(r);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),fr(n).then(()=>{})}const O1=["get","getKey","getAll","getAllKeys","count"],x1=["put","add","delete","clear"],_m=new Map;function Zv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=x1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||O1.includes(n)))return;const u=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),l&&y.done]))[0]};return _m.set(e,u),u}C1(r=>({...r,get:(e,n,s)=>Zv(e,n)||r.get(e,n,s),has:(e,n)=>!!Zv(e,n)||r.has(e,n)}));class M1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function V1(r){return r.getComponent()?.type==="VERSION"}const Pm="@firebase/app",Wv="0.14.6";const pr=new up("@firebase/app"),k1="@firebase/app-compat",P1="@firebase/analytics-compat",U1="@firebase/analytics",L1="@firebase/app-check-compat",j1="@firebase/app-check",z1="@firebase/auth",q1="@firebase/auth-compat",B1="@firebase/database",H1="@firebase/data-connect",F1="@firebase/database-compat",G1="@firebase/functions",Q1="@firebase/functions-compat",K1="@firebase/installations",Y1="@firebase/installations-compat",X1="@firebase/messaging",$1="@firebase/messaging-compat",J1="@firebase/performance",Z1="@firebase/performance-compat",W1="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",nR="@firebase/storage-compat",iR="@firebase/firestore",rR="@firebase/ai",sR="@firebase/firestore-compat",aR="firebase",oR="12.6.0";const Um="[DEFAULT]",lR={[Pm]:"fire-core",[k1]:"fire-core-compat",[U1]:"fire-analytics",[P1]:"fire-analytics-compat",[j1]:"fire-app-check",[L1]:"fire-app-check-compat",[z1]:"fire-auth",[q1]:"fire-auth-compat",[B1]:"fire-rtdb",[H1]:"fire-data-connect",[F1]:"fire-rtdb-compat",[G1]:"fire-fn",[Q1]:"fire-fn-compat",[K1]:"fire-iid",[Y1]:"fire-iid-compat",[X1]:"fire-fcm",[$1]:"fire-fcm-compat",[J1]:"fire-perf",[Z1]:"fire-perf-compat",[W1]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[nR]:"fire-gcs-compat",[iR]:"fire-fst",[sR]:"fire-fst-compat",[rR]:"fire-vertex","fire-js":"fire-js",[aR]:"fire-js-all"};const vh=new Map,uR=new Map,Lm=new Map;function eE(r,e){try{r.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function zi(r){const e=r.name;if(Lm.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,r);for(const n of vh.values())eE(n,r);for(const n of uR.values())eE(n,r);return!0}function Ao(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new ca("app","Firebase",cR);class hR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const So=oR;function Y0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Um,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw rs.create("bad-app-name",{appName:String(l)});if(n||(n=z0()),!n)throw rs.create("no-options");const u=vh.get(l);if(u){if(ia(n,u.options)&&ia(s,u.config))return u;throw rs.create("duplicate-app",{appName:l})}const d=new _1(l);for(const y of Lm.values())d.addComponent(y);const p=new hR(n,s,d);return vh.set(l,p),p}function hp(r=Um){const e=vh.get(r);if(!e&&r===Um&&z0())return Y0();if(!e)throw rs.create("no-app",{appName:r});return e}function Fn(r,e,n){let s=lR[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(d.join(" "));return}zi(new li(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const fR="firebase-heartbeat-database",dR=1,Zl="firebase-heartbeat-store";let vm=null;function X0(){return vm||(vm=Lh(fR,dR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),vm}async function mR(r){try{const n=(await X0()).transaction(Zl),s=await n.objectStore(Zl).get($0(r));return await n.done,s}catch(e){if(e instanceof Bi)pr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});pr.warn(n.message)}}}async function tE(r,e){try{const s=(await X0()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,$0(r)),await s.done}catch(n){if(n instanceof Bi)pr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});pr.warn(s.message)}}}function $0(r){return`${r.name}!${r.options.appId}`}const pR=1024,gR=30;class yR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gR){const l=ER(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nE(),{heartbeatsToSend:n,unsentEntries:s}=_R(this._heartbeatsCache.heartbeats),l=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return pr.warn(e),""}}}function nE(){return new Date().toISOString().substring(0,10)}function _R(r,e=pR){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),iE(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),iE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F0()?G0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iE(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function ER(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function TR(r){zi(new li("platform-logger",e=>new M1(e),"PRIVATE")),zi(new li("heartbeat",e=>new yR(e),"PRIVATE")),Fn(Pm,Wv,r),Fn(Pm,Wv,"esm2020"),Fn("fire-js","")}TR("");var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,J0;(function(){var r;function e(N,b){function w(){}w.prototype=b.prototype,N.F=b.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(V,O,P){for(var I=Array(arguments.length-2),st=2;st<arguments.length;st++)I[st-2]=arguments[st];return b.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,w){w||(w=0);const V=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)V[O]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(O=0;O<16;++O)V[O]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=N.g[0],w=N.g[1],O=N.g[2];let P=N.g[3],I;I=b+(P^w&(O^P))+V[0]+3614090360&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(O^b&(w^O))+V[1]+3905402710&4294967295,P=b+(I<<12&4294967295|I>>>20),I=O+(w^P&(b^w))+V[2]+606105819&4294967295,O=P+(I<<17&4294967295|I>>>15),I=w+(b^O&(P^b))+V[3]+3250441966&4294967295,w=O+(I<<22&4294967295|I>>>10),I=b+(P^w&(O^P))+V[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(O^b&(w^O))+V[5]+1200080426&4294967295,P=b+(I<<12&4294967295|I>>>20),I=O+(w^P&(b^w))+V[6]+2821735955&4294967295,O=P+(I<<17&4294967295|I>>>15),I=w+(b^O&(P^b))+V[7]+4249261313&4294967295,w=O+(I<<22&4294967295|I>>>10),I=b+(P^w&(O^P))+V[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(O^b&(w^O))+V[9]+2336552879&4294967295,P=b+(I<<12&4294967295|I>>>20),I=O+(w^P&(b^w))+V[10]+4294925233&4294967295,O=P+(I<<17&4294967295|I>>>15),I=w+(b^O&(P^b))+V[11]+2304563134&4294967295,w=O+(I<<22&4294967295|I>>>10),I=b+(P^w&(O^P))+V[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(O^b&(w^O))+V[13]+4254626195&4294967295,P=b+(I<<12&4294967295|I>>>20),I=O+(w^P&(b^w))+V[14]+2792965006&4294967295,O=P+(I<<17&4294967295|I>>>15),I=w+(b^O&(P^b))+V[15]+1236535329&4294967295,w=O+(I<<22&4294967295|I>>>10),I=b+(O^P&(w^O))+V[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^O&(b^w))+V[6]+3225465664&4294967295,P=b+(I<<9&4294967295|I>>>23),I=O+(b^w&(P^b))+V[11]+643717713&4294967295,O=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(O^P))+V[0]+3921069994&4294967295,w=O+(I<<20&4294967295|I>>>12),I=b+(O^P&(w^O))+V[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^O&(b^w))+V[10]+38016083&4294967295,P=b+(I<<9&4294967295|I>>>23),I=O+(b^w&(P^b))+V[15]+3634488961&4294967295,O=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(O^P))+V[4]+3889429448&4294967295,w=O+(I<<20&4294967295|I>>>12),I=b+(O^P&(w^O))+V[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^O&(b^w))+V[14]+3275163606&4294967295,P=b+(I<<9&4294967295|I>>>23),I=O+(b^w&(P^b))+V[3]+4107603335&4294967295,O=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(O^P))+V[8]+1163531501&4294967295,w=O+(I<<20&4294967295|I>>>12),I=b+(O^P&(w^O))+V[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^O&(b^w))+V[2]+4243563512&4294967295,P=b+(I<<9&4294967295|I>>>23),I=O+(b^w&(P^b))+V[7]+1735328473&4294967295,O=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(O^P))+V[12]+2368359562&4294967295,w=O+(I<<20&4294967295|I>>>12),I=b+(w^O^P)+V[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^O)+V[8]+2272392833&4294967295,P=b+(I<<11&4294967295|I>>>21),I=O+(P^b^w)+V[11]+1839030562&4294967295,O=P+(I<<16&4294967295|I>>>16),I=w+(O^P^b)+V[14]+4259657740&4294967295,w=O+(I<<23&4294967295|I>>>9),I=b+(w^O^P)+V[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^O)+V[4]+1272893353&4294967295,P=b+(I<<11&4294967295|I>>>21),I=O+(P^b^w)+V[7]+4139469664&4294967295,O=P+(I<<16&4294967295|I>>>16),I=w+(O^P^b)+V[10]+3200236656&4294967295,w=O+(I<<23&4294967295|I>>>9),I=b+(w^O^P)+V[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^O)+V[0]+3936430074&4294967295,P=b+(I<<11&4294967295|I>>>21),I=O+(P^b^w)+V[3]+3572445317&4294967295,O=P+(I<<16&4294967295|I>>>16),I=w+(O^P^b)+V[6]+76029189&4294967295,w=O+(I<<23&4294967295|I>>>9),I=b+(w^O^P)+V[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^O)+V[12]+3873151461&4294967295,P=b+(I<<11&4294967295|I>>>21),I=O+(P^b^w)+V[15]+530742520&4294967295,O=P+(I<<16&4294967295|I>>>16),I=w+(O^P^b)+V[2]+3299628645&4294967295,w=O+(I<<23&4294967295|I>>>9),I=b+(O^(w|~P))+V[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~O))+V[7]+1126891415&4294967295,P=b+(I<<10&4294967295|I>>>22),I=O+(b^(P|~w))+V[14]+2878612391&4294967295,O=P+(I<<15&4294967295|I>>>17),I=w+(P^(O|~b))+V[5]+4237533241&4294967295,w=O+(I<<21&4294967295|I>>>11),I=b+(O^(w|~P))+V[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~O))+V[3]+2399980690&4294967295,P=b+(I<<10&4294967295|I>>>22),I=O+(b^(P|~w))+V[10]+4293915773&4294967295,O=P+(I<<15&4294967295|I>>>17),I=w+(P^(O|~b))+V[1]+2240044497&4294967295,w=O+(I<<21&4294967295|I>>>11),I=b+(O^(w|~P))+V[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~O))+V[15]+4264355552&4294967295,P=b+(I<<10&4294967295|I>>>22),I=O+(b^(P|~w))+V[6]+2734768916&4294967295,O=P+(I<<15&4294967295|I>>>17),I=w+(P^(O|~b))+V[13]+1309151649&4294967295,w=O+(I<<21&4294967295|I>>>11),I=b+(O^(w|~P))+V[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~O))+V[11]+3174756917&4294967295,P=b+(I<<10&4294967295|I>>>22),I=O+(b^(P|~w))+V[2]+718787259&4294967295,O=P+(I<<15&4294967295|I>>>17),I=w+(P^(O|~b))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.v=function(N,b){b===void 0&&(b=N.length);const w=b-this.blockSize,V=this.C;let O=this.h,P=0;for(;P<b;){if(O==0)for(;P<=w;)l(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<b;)if(V[O++]=N.charCodeAt(P++),O==this.blockSize){l(this,V),O=0;break}}else for(;P<b;)if(V[O++]=N[P++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)N[b++]=this.g[w]>>>V&255;return N};function u(N,b){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=b(N)}function d(N,b){this.h=b;const w=[];let V=!0;for(let O=N.length-1;O>=0;O--){const P=N[O]|0;V&&P==b||(w[O]=P,V=!1)}this.g=w}var p={};function y(N){return-128<=N&&N<128?u(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(g(-N));const b=[];let w=1;for(let V=0;N>=w;V++)b[V]=N/w|0,w*=4294967296;return new d(b,0)}function A(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return W(A(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=g(Math.pow(b,8));let V=S;for(let P=0;P<N.length;P+=8){var O=Math.min(8,N.length-P);const I=parseInt(N.substring(P,P+O),b);O<8?(O=g(Math.pow(b,O)),V=V.j(O).add(g(I))):(V=V.j(w),V=V.add(g(I)))}return V}var S=y(0),D=y(1),H=y(16777216);r=d.prototype,r.m=function(){if(te(this))return-W(this).m();let N=0,b=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);N+=(V>=0?V:4294967296+V)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(te(this))return"-"+W(this).toString(N);const b=g(Math.pow(N,6));var w=this;let V="";for(;;){const O=He(w,b).g;w=de(w,O.j(b));let P=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=O,Z(w))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function te(N){return N.h==-1}r.l=function(N){return N=de(this,N),te(N)?-1:Z(N)?0:1};function W(N){const b=N.g.length,w=[];for(let V=0;V<b;V++)w[V]=~N.g[V];return new d(w,~N.h).add(D)}r.abs=function(){return te(this)?W(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),w=[];let V=0;for(let O=0;O<=b;O++){let P=V+(this.i(O)&65535)+(N.i(O)&65535),I=(P>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=I>>>16,P&=65535,I&=65535,w[O]=I<<16|P}return new d(w,w[w.length-1]&-2147483648?-1:0)};function de(N,b){return N.add(W(b))}r.j=function(N){if(Z(this)||Z(N))return S;if(te(this))return te(N)?W(this).j(W(N)):W(W(this).j(N));if(te(N))return W(this.j(W(N)));if(this.l(H)<0&&N.l(H)<0)return g(this.m()*N.m());const b=this.g.length+N.g.length,w=[];for(var V=0;V<2*b;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const P=this.i(V)>>>16,I=this.i(V)&65535,st=N.i(O)>>>16,Mt=N.i(O)&65535;w[2*V+2*O]+=I*Mt,Ee(w,2*V+2*O),w[2*V+2*O+1]+=P*Mt,Ee(w,2*V+2*O+1),w[2*V+2*O+1]+=I*st,Ee(w,2*V+2*O+1),w[2*V+2*O+2]+=P*st,Ee(w,2*V+2*O+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new d(w,0)};function Ee(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function pe(N,b){this.g=N,this.h=b}function He(N,b){if(Z(b))throw Error("division by zero");if(Z(N))return new pe(S,S);if(te(N))return b=He(W(N),b),new pe(W(b.g),W(b.h));if(te(b))return b=He(N,W(b)),new pe(W(b.g),b.h);if(N.g.length>30){if(te(N)||te(b))throw Error("slowDivide_ only works with positive integers.");for(var w=D,V=b;V.l(N)<=0;)w=G(w),V=G(V);var O=fe(w,1),P=fe(V,1);for(V=fe(V,2),w=fe(w,2);!Z(V);){var I=P.add(V);I.l(N)<=0&&(O=O.add(w),P=I),V=fe(V,1),w=fe(w,1)}return b=de(N,O.j(b)),new pe(O,b)}for(O=S;N.l(b)>=0;){for(w=Math.max(1,Math.floor(N.m()/b.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=g(w),I=P.j(b);te(I)||I.l(N)>0;)w-=V,P=g(w),I=P.j(b);Z(P)&&(P=D),O=O.add(P),N=de(N,I)}return new pe(O,N)}r.B=function(N){return He(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function G(N){const b=N.g.length+1,w=[];for(let V=0;V<b;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function fe(N,b){const w=b>>5;b%=32;const V=N.g.length-w,O=[];for(let P=0;P<V;P++)O[P]=b>0?N.i(P+w)>>>b|N.i(P+w+1)<<32-b:N.i(P+w);return new d(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,J0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=A,ss=d}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z0,ql,W0,oh,jm,eT,tT,nT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)e:{var v=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var U=c[T];if(!(U in v))break e;v=v[U]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function g(c,m,v){return g=y,g.apply(null,arguments)}function A(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(T,U,q){for(var ee=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ee[Se-2]=arguments[Se];return m.prototype[U].apply(T,ee)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const m=c.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function Z(c,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let ee=0;ee<q;ee++)c[v+ee]=U[ee]}else c.push(U)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){d.setTimeout(()=>{throw c},0)}function de(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const T=pe.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pe=new te(()=>new He,c=>c.reset());class He{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let G,fe=!1,N=new Ee,b=()=>{const c=Promise.resolve(void 0);G=()=>{c.then(w)}};function w(){for(var c;c=de();){try{c.h.call(c.g)}catch(v){W(v)}var m=pe;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function st(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(st,O),st.prototype.init=function(c,m){const v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ne(c,m,v,T,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++Q,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function Ge(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)c[v]=T[v];for(let q=0;q<$.length;q++)v=$[q],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,v,T,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ee=we(c,m,T,U);return ee>-1?(m=c[ee],v||(m.fa=!1)):(m=new ne(m,this.src,q,!!T,U),m.fa=v,c.push(m)),m};function _e(c,m){const v=m.type;if(v in c.g){var T=c.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(he(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function we(c,m,v,T){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Vt={};function at(c,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)at(c,m[q],v,T,U);return null}return v=xo(v),c&&c[Mt]?c.J(m,v,p(T)?!!T.capture:!1,U):vs(c,m,v,!1,T,U)}function vs(c,m,v,T,U,q){if(!m)throw Error("Invalid event type");const ee=p(U)?!!U.capture:!!U;let Se=Es(c);if(Se||(c[ke]=Se=new ae(c)),v=Se.add(m,v,T,ee,q),v.proxy)return v;if(T=ma(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)P||(U=ee),U===void 0&&(U=!1),c.addEventListener(m.toString(),T,U);else if(c.attachEvent)c.attachEvent(hi(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ma(){function c(v){return m.call(c.src,c.listener,v)}const m=Do;return c}function pa(c,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)pa(c,m[q],v,T,U);else T=p(T)?!!T.capture:!!T,v=xo(v),c&&c[Mt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=we(m,v,T,U),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=Es(c))&&(m=c.g[m.toString()],c=-1,m&&(c=we(m,v,T,U)),(v=c>-1?m[c]:null)&&ga(v))}function ga(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Mt])_e(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(hi(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Es(m))?(_e(v,c),v.h==0&&(v.src=null,m[ke]=null)):he(c)}}}function hi(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function Do(c,m){if(c.da)c=!0;else{m=new st(m,this);const v=c.listener,T=c.ha||c.src;c.fa&&ga(c),c=v.call(T,m)}return c}function Es(c){return c=c[ke],c instanceof ae?c:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function xo(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(m){return c.handleEvent(m)}),c[Oo])}function Et(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}S(Et,V),Et.prototype[Mt]=!0,Et.prototype.removeEventListener=function(c,m,v,T){pa(this,c,m,v,T)};function kt(c,m){var v,T=c.G;if(T)for(v=[];T;T=T.G)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var U=m;m=new O(T,c),ie(m,U)}U=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],U=vr(q,T,!0,m)&&U;if(q=m.g=c,U=vr(q,T,!0,m)&&U,U=vr(q,T,!1,m)&&U,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],U=vr(q,T,!1,m)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let T=0;T<v.length;T++)he(v[T]);delete c.g[m],c.h--}}this.G=null},Et.prototype.J=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},Et.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function vr(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const Se=ee.listener,pt=ee.ha||ee.src;ee.fa&&_e(c.i,ee),U=Se.call(pt,T)!==!1&&U}}return U&&!T.defaultPrevented}function cf(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function bu(c){c.g=cf(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){V.call(this),this.h=c,this.g={}}S(Ts,V);var Mo=[];function Vo(c){Le(c.g,function(m,v){this.g.hasOwnProperty(v)&&ga(m)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),Vo(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=d.JSON.stringify,hf=d.JSON.parse,wu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ru(){}function Iu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}S(Bt,O);function Cn(){O.call(this,"c")}S(Cn,O);var mt={},Cu=null;function ya(){return Cu=Cu||new Et}mt.Ia="serverreachability";function Nu(c){O.call(this,mt.Ia,c)}S(Nu,O);function fi(c){const m=ya();kt(m,new Nu(m))}mt.STAT_EVENT="statevent";function As(c,m){O.call(this,mt.STAT_EVENT,c),this.stat=m}S(As,O);function Tt(c){const m=ya();kt(m,new As(m,c))}mt.Ja="timingevent";function di(c,m){O.call(this,mt.Ja,c),this.size=m}S(di,O);function mi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function ff(c,m,v,T,U,q){c.info(function(){if(c.g)if(q){var ee="",Se=q.split("&");for(let qe=0;qe<Se.length;qe++){var pt=Se[qe].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const xn=ot.split("_");ee=xn.length>=2&&xn[1]=="type"?ee+(ot+"="+pt+"&"):ee+(ot+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+ee})}function Du(c,m,v,T,U,q,ee){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+ee})}function pi(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+df(c,v)+(T?" "+T:"")})}function Ss(c,m){c.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function df(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return Er(q)}catch{return m}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function ws(){}S(ws,Ru),ws.prototype.g=function(){return new XMLHttpRequest},Po=new ws;function Hi(c){return encodeURIComponent(String(c))}function Ou(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Xn(c,m,v,T){this.j=c,this.i=m,this.l=v,this.S=T||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var At={},Lt={};function gi(c,m,v){c.M=1,c.A=Rs(bt(m)),c.u=v,c.R=!0,_a(c,null)}function _a(c,m){c.F=Date.now(),yi(c),c.B=bt(c.A);var v=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Aa(v.i,"t",T),c.C=0,v=c.j.L,c.h=new $n,c.g=Qu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),m=c.V,v=c.g,T=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Mo[0]=U.toString()),U=Mo);for(let q=0;q<U.length;q++){const ee=at(v,U[q],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),fi(),ff(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Wn(c)==3?m.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Wn(this.g),pt=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Se!=4||pt==7||(pt==8||qe<=0?fi(3):fi(2)),_i(this);var m=this.g.ca();this.X=m;var v=mf(this);if(this.o=m==200,Du(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var q=T;break t}}q=null}if(c=q)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,Tt(12),yn(this),Nn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Mu(this,v),ot==Lt){Se==4&&(this.m=4,Tt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==At){this.m=4,Tt(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,ot,null),vi(this,ot);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(ee),ee.P=!0,Tt(11))}}else pi(this.i,this.l,v,null),vi(this,v);Se==4&&yn(this),this.o&&!this.K&&(Se==4?Bu(this.j,this):(this.o=!1,yi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),yn(this),Nn(this)}}}catch{}};function mf(c){if(!xu(c))return c.g.la();const m=Ht(c.g);if(m==="")return"";let v="";const T=m.length,U=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),Nn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?Lt:(v=Number(m.substring(v,T)),isNaN(v)?At:(T+=1,T+v>m.length?Lt:(m=m.slice(T,T+v),c.C=T+v,m)))}Xn.prototype.cancel=function(){this.K=!0,yn(this)};function yi(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(g(c.aa,c),m)}function _i(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(fi(),Tt(17)),yn(this),this.m=2,Nn(this)):va(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Bu(c.j,c)}function yn(c){_i(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Vo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function vi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ia(v),Cr(v);else break e;Ms(v),Tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(g(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&Ia(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let qe=U[m];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const xn=qe[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const Ci=qe[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ei=qe[5];ei!=null&&typeof ei=="number"&&ei>0&&(T=1.5*ei,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=c.g;if(ti){const Vs=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var q=T.h;q.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(jo(q,q.h),q.h=null))}if(T.G){const Ca=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(T.wa=Ca,Qe(T.J,T.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ee=c;if(T.na=Gu(T,T.L?T.ba:null,T.W),ee.L){zo(T.h,ee);var Se=ee,pt=T.O;pt&&(Se.H=pt),Se.D&&(_i(Se),yi(Se)),T.g=ee}else zu(T);v.i.length>0&&Ri(v)}else qe[0]!="stop"&&qe[0]!="close"||Ii(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ii(v,7):Xo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}fi(4)}catch{}}var St=class{constructor(c,m){this.g=c,this.map=m}};function Uo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function jo(c,m){c.g?c.g.add(m):c.h=m}function zo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return H(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const T=c[v].indexOf("=");let U,q=null;T>=0?(U=c[v].substring(0,T),q=c[v].substring(T+1)):U=c[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof _n?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.u),this.h=c.h,Bo(this,Lu(c.i)),this.m=c.m):c&&(m=String(c).match(Vu))?(this.l=!1,jt(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),Tr(this,m[4]),this.h=Ai(m[5]||"",!0),Bo(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}_n.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Is(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Is(m,Ta,!0),"@"),c.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?Ho:ku,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Pu)),c.join("")},_n.prototype.resolve=function(c){const m=bt(this);let v=!!c.j;v?jt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var T=c.h;if(v)Tr(m,c.u);else if(v=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ee=0;ee<U.length;){const Se=U[ee++];Se=="."?T&&ee==U.length&&q.push(""):Se==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ee==U.length&&q.push("")):(q.push(Se),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=c.i.toString()!=="",v?Bo(m,Lu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function bt(c){return new _n(c)}function jt(c,m,v){c.j=v?Ai(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Bo(c,m,v){m instanceof Sr?(c.i=m,Sa(c.i,c.l)):(v||(m=Is(m,Ar)),c.i=new Sr(m,c.l))}function Qe(c,m,v){c.i.set(m,v)}function Rs(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,ku=/[#\?:]/g,Ho=/[#\?]/g,Ar=/[#\?@]/g,Pu=/#/g;function Sr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Sr.prototype,r.add=function(c,m){ln(this),this.i=null,c=br(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Uu(c,m){ln(c),m=br(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Fo(c,m){return ln(c),m=br(c,m),c.g.has(m)}r.forEach=function(c,m){ln(this),this.g.forEach(function(v,T){v.forEach(function(U){c.call(m,U,T,this)},this)},this)};function Go(c,m){ln(c);let v=[];if(typeof m=="string")Fo(c,m)&&(v=v.concat(c.g.get(br(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return ln(this),this.i=null,c=br(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Go(this,c),c.length>0?String(c[0]):m):m};function Aa(c,m,v){Uu(c,m),v.length>0&&(c.i=null,c.g.set(br(c,m),H(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Hi(v);v=Go(this,v);for(let q=0;q<v.length;q++){let ee=U;v[q]!==""&&(ee+="="+Hi(v[q])),c.push(ee)}}return this.i=c.join("&")};function Lu(c){const m=new Sr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function br(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Sa(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(Uu(this,T),Aa(this,U,v))},c)),c.j=m}function Jn(c,m){const v=new Yn;if(d.Image){const T=new Image;T.onload=A(Dn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Dn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Dn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Dn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function Qo(c,m){const v=new Yn,T=new AbortController,U=setTimeout(()=>{T.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Dn(v,"TestPingServer: error",!1,m)})}function Dn(c,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function wr(){this.g=new wu}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Si,Ru),Si.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,m){Et.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cs,Et),r=Cs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Rr(this):Zn(this),this.readyState==3&&ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Rr(this))},r.Na=function(c){this.g&&(this.response=c,Rr(this))},r.ga=function(){this.g&&Rr(this)};function Rr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let m="";return Le(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ns(c,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=On(v),typeof c=="string"?v!=null&&Hi(v):Qe(c,m,v))}function Xe(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xe,Et);var bi=/^https?$/i,Ko=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=D(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Ds(this,q);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ko,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ds(this,q)}};function Ds(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Yo(c),Fi(c)}function Yo(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let ee=String(c.D).match(Vu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!bi.test(ee?ee.toLowerCase():"")}v=T}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var U=Wn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Yo(c)}}finally{Fi(c)}}}}function Fi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),hf(m)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const m={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(I(c[T]))continue;var v=Ou(c[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Ge(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ir(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ir.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,T){Tt(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Gu(this,null,this.W),Ri(this)};function Xo(c){if(wa(c),c.I==3){var m=c.V++,v=bt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),xs(c,v),m=new Xn(c,c.j,m),m.M=2,m.A=Rs(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Qu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}Fu(c)}function Cr(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function wa(c){Cr(c),c.v&&(d.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Lo(c.h)&&!c.m){c.m=!0;var m=c.Ea;G||b(),fe||(G(),fe=!0),N.add(m,c),c.D=0}}function Ra(c,m){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(g(c.Ea,c,m),Hu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Xn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ju(this,U,m),v=bt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),xs(this,v),q&&(this.R?m="headers="+Hi(On(q))+"&"+m:this.u&&Ns(v,this.u,q)),jo(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),U.U=!0,gi(U,v,null)):gi(U,v,m),this.I=2}}else this.I==3&&(c?$o(this,c):this.i.length==0||Lo(this.h)||$o(this))};function $o(c,m){var v;m?v=m.l:v=c.V++;const T=bt(c.J);Qe(T,"SID",c.M),Qe(T,"RID",v),Qe(T,"AID",c.K),xs(c,T),c.u&&c.o&&Ns(T,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=ju(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),gi(v,T,m)}function xs(c,m){c.H&&Le(c.H,function(v,T){Qe(m,T,v)}),c.l&&Le({},function(v,T){Qe(m,T,v)})}function ju(c,m,v){v=Math.min(c.i.length,v);const T=c.l?g(c.l.Ka,c.l,c):null;e:{var U=c.i;let Se=-1;for(;;){const pt=["count="+v];Se==-1?v>0?(Se=U[0].g,pt.push("ofs="+Se)):Se=0:pt.push("ofs="+Se);let qe=!0;for(let ot=0;ot<v;ot++){var q=U[ot].g;const xn=U[ot].map;if(q-=Se,q<0)Se=Math.max(0,U[ot].g-100),qe=!1;else try{q="req"+q+"_"||"";try{var ee=xn instanceof Map?xn:Object.entries(xn);for(const[Ci,ei]of ee){let ti=ei;p(ei)&&(ti=Er(ei)),pt.push(q+Ci+"="+encodeURIComponent(ti))}}catch(Ci){throw pt.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{T&&T(xn)}}if(qe){ee=pt.join("&");break e}}ee=void 0}return c=c.i.splice(0,v),m.G=c,ee}function zu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;G||b(),fe||(G(),fe=!0),N.add(m,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(g(c.Da,c),Hu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Cr(this),qu(this))};function Jo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=bt(c.na);Qe(m,"RID","rpc"),Qe(m,"SID",c.M),Qe(m,"AID",c.K),Qe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(m,"TO",c.ia),Qe(m,"TYPE","xmlhttp"),xs(c,m),c.u&&c.o&&Ns(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rs(bt(m)),v.u=null,v.R=!0,_a(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Cr(this),Ms(this),Tt(19))};function Ia(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Bu(c,m){var v=null;if(c.g==m){Ia(c),Jo(c),c.g=null;var T=2}else if(Ti(c.h,m))v=m.G,zo(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;T=ya(),kt(T,new di(T,v)),Ri(c)}else zu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Ra(c,m)||T==2&&Ms(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Hu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ii(c,m){if(c.j.info("Error code "+m),m==2){var v=g(c.bb,c),T=c.Ua;const U=!T;T=new _n(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jt(T,"https"),Rs(T),U?Jn(T.toString(),v):Qo(T.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(m),Fu(c),wa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Fu(c){if(c.I=0,c.ja=[],c.l){const m=qo(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function Gu(c,m,v){var T=v instanceof _n?bt(v):new _n(v);if(T.g!="")m&&(T.g=m+"."+T.g),Tr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new _n(null);T&&jt(q,T),m&&(q.g=m),U&&Tr(q,U),v&&(q.h=v),T=q}return v=c.G,m=c.wa,v&&m&&Qe(T,v,m),Qe(T,"VER",c.ka),xs(c,T),T}function Qu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xe(new Si({ab:v})):new Xe(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Nr(){}Nr.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){Et.call(this),this.g=new Ir(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Qi(this)}S(rn,Et),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Xo(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Er(c),c=v);m.i.push(new St(m.Ya++,c)),m.I==3&&Ri(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,rn.Z.N.call(this)};function Yu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Yu,Bt);function Xu(){Cn.call(this),this.status=1}S(Xu,Cn);function Qi(c){this.g=c}S(Qi,Ku),Qi.prototype.ra=function(){kt(this.g,"a")},Qi.prototype.qa=function(c){kt(this.g,new Yu(c))},Qi.prototype.pa=function(c){kt(this.g,new Xu)},Qi.prototype.oa=function(){kt(this.g,"b")},Nr.prototype.createWebChannel=Nr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,nT=function(){return new Nr},tT=function(){return ya()},eT=mt,jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,oh=bs,ko.COMPLETE="complete",W0=ko,Iu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,ql=Iu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,Z0=Xe}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",aE="4.9.3";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let bo="12.7.0";const ra=new up("@firebase/firestore");function ro(){return ra.logLevel}function se(r,...e){if(ra.logLevel<=Oe.DEBUG){const n=e.map(fp);ra.debug(`Firestore (${bo}): ${r}`,...n)}}function gr(r,...e){if(ra.logLevel<=Oe.ERROR){const n=e.map(fp);ra.error(`Firestore (${bo}): ${r}`,...n)}}function po(r,...e){if(ra.logLevel<=Oe.WARN){const n=e.map(fp);ra.warn(`Firestore (${bo}): ${r}`,...n)}}function fp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,iT(r,s,n)}function iT(r,e,n){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function Fe(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||iT(e,l,s)}function Ae(r,e){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class SR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new dr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new dr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new rT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class wR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new wR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=CR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function zm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=e.charAt(s);if(l!==u)return Em(l)===Em(u)?xe(l,u):Em(l)?1:-1}return xe(r.length,e.length)}const NR=55296,DR=57343;function Em(r){const e=r.charCodeAt(0);return e>=NR&&e<=DR}function go(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}const lE="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Mi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),l=Mi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class et extends Mi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new re(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const OR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Mi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return OR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Xt([lE])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new re(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new re(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(u(),l++)}if(u(),d)throw new re(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(et.fromString(e))}static fromName(e){return new ce(et.fromString(e).popFirst(5))}static empty(){return new ce(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new et(e.slice()))}}function sT(r,e,n){if(!n)throw new re(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function xR(r,e,n,s){if(e===!0&&s===!0)throw new re(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function uE(r){if(!ce.isDocumentKey(r))throw new re(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cE(r){if(ce.isDocumentKey(r))throw new re(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function aT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Gn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new re(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(r);throw new re(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function du(r,e){if(!aT(r))throw new re(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new re(Y.INVALID_ARGUMENT,n);return!0}const hE=-62135596800,fE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*fE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hE)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ot("string",rt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new rt(0,0))}static max(){return new ve(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function MR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new os(l,ce.empty(),e)}function VR(r){return new os(r.readTime,r.key,Wl)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(ve.min(),ce.empty(),Wl)}static max(){return new os(ve.max(),ce.empty(),Wl)}}function kR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}const PR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==PR)throw r;se("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,s)=>{n(e)}))}static reject(e){return new J(((n,s)=>{s(e)}))}static waitFor(e){return new J(((n,s)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(y=>s(y)))})),d=!0,u===l&&n()}))}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next((l=>l?J.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new J(((s,l)=>{const u=e.length,d=new Array(u);let p=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next((A=>{d[g]=A,++p,p===u&&s(d)}),(A=>l(A)))}}))}static doWhile(e,n){return new J(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function LR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;const mp=-1;function qh(r){return r==null}function Eh(r){return r===0&&1/r==-1/0}function jR(r){return typeof r=="number"&&Number.isInteger(r)&&!Eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const oT="";function zR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=dE(e)),e=qR(r.get(n),e);return dE(e)}function qR(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case oT:n+="";break;default:n+=u}}return n}function dE(r){return r+oT+""}function mE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ms(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function lT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=l??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Yt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Ut(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class uT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uT("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const BR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=BR.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const cT="server_timestamp",hT="__type__",fT="__previous_value__",dT="__local_write_time__";function pp(r){return(r?.mapValue?.fields||{})[hT]?.stringValue===cT}function Bh(r){const e=r.mapValue.fields[fT];return pp(e)?Bh(e):e}function eu(r){const e=ls(r.mapValue.fields[dT].timestampValue);return new rt(e.seconds,e.nanos)}class HR{constructor(e,n,s,l,u,d,p,y,g,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=A}}const Th="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const mT="__type__",FR="__max__",th={mapValue:{}},pT="__vector__",Ah="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pp(r)?4:QR(r)?9007199254740991:GR(r)?10:11:ye(28295,{value:r})}function qi(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=ls(l.timestampValue),p=ls(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return us(l.bytesValue).isEqual(us(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return _t(l.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(l.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return _t(l.integerValue)===_t(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=_t(l.doubleValue),p=_t(u.doubleValue);return d===p?Eh(d)===Eh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(mE(d)!==mE(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!qi(d[y],p[y])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function nu(r,e){return(r.values||[]).find((n=>qi(n,e)))!==void 0}function yo(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=_t(u.integerValue||u.doubleValue),y=_t(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return gE(r.timestampValue,e.timestampValue);case 4:return gE(eu(r),eu(e));case 5:return zm(r.stringValue,e.stringValue);case 6:return(function(u,d){const p=us(u),y=us(d);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const A=xe(p[g],y[g]);if(A!==0)return A}return xe(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=xe(_t(u.latitude),_t(d.latitude));return p!==0?p:xe(_t(u.longitude),_t(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return yE(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},y=d.fields||{},g=p[Ah]?.arrayValue,A=y[Ah]?.arrayValue,S=xe(g?.values?.length||0,A?.values?.length||0);return S!==0?S:yE(g,A)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===th.mapValue&&d===th.mapValue)return 0;if(u===th.mapValue)return 1;if(d===th.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),g=d.fields||{},A=Object.keys(g);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const D=zm(y[S],A[S]);if(D!==0)return D;const H=yo(p[y[S]],g[A[S]]);if(H!==0)return H}return xe(y.length,A.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function gE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=ls(r),s=ls(e),l=xe(n.seconds,s.seconds);return l!==0?l:xe(n.nanos,s.nanos)}function yE(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=yo(n[l],s[l]);if(u)return u}return xe(n.length,s.length)}function _o(r){return qm(r)}function qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ce.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=qm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${qm(n.fields[d])}`;return l+"}"})(r.mapValue):ye(61005,{value:r})}function lh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ms(s.fields,((u,d)=>{l+=u.length+lh(d)})),l})(r.mapValue);default:throw ye(13486,{value:r})}}function _E(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Bm(r){return!!r&&"integerValue"in r}function gp(r){return!!r&&"arrayValue"in r}function vE(r){return!!r&&"nullValue"in r}function EE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function GR(r){return(r?.mapValue?.fields||{})[mT]?.stringValue===pT}function Kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ms(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Kl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(r.arrayValue.values[n]);return e}return{...r}}function QR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===FR}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Xt.emptyPath(),s={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=Kl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];uh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){ms(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new gn(Kl(this.value))}}function gT(r){const e=[];return ms(r.fields,((n,s)=>{const l=new Xt([n]);if(uh(s)){const u=gT(s.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new In(e)}class en{constructor(e,n,s,l,u,d,p){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new en(e,0,ve.min(),ve.min(),ve.min(),gn.empty(),0)}static newFoundDocument(e,n,s,l){return new en(e,1,n,ve.min(),s,l,0)}static newNoDocument(e,n){return new en(e,2,n,ve.min(),ve.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ve.min(),ve.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function TE(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?s=ce.comparator(ce.fromName(d.referenceValue),n.key):s=yo(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function AE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qi(r.position[n],e.position[n]))return!1;return!0}class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function KR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class yT{}class Dt extends yT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new XR(e,n,s):n==="array-contains"?new ZR(e,s):n==="in"?new WR(e,s):n==="not-in"?new eI(e,s):n==="array-contains-any"?new tI(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $R(e,s):new JR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends yT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return _T(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _T(r){return r.op==="and"}function vT(r){return YR(r)&&_T(r)}function YR(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function Hm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(vT(r))return r.filters.map((e=>Hm(e))).join(",");{const e=r.filters.map((n=>Hm(n))).join(",");return`${r.op}(${e})`}}function ET(r,e){return r instanceof Dt?(function(s,l){return l instanceof Dt&&s.op===l.op&&s.field.isEqual(l.field)&&qi(s.value,l.value)})(r,e):r instanceof ui?(function(s,l){return l instanceof ui&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,p)=>u&&ET(d,l.filters[p])),!0):!1})(r,e):void ye(19439)}function TT(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(r):r instanceof ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"})(r):"Filter"}class XR extends Dt{constructor(e,n,s){super(e,n,s),this.key=ce.fromName(s.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class $R extends Dt{constructor(e,n){super(e,"in",n),this.keys=AT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JR extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=AT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function AT(r,e){return(e.arrayValue?.values||[]).map((n=>ce.fromName(n.referenceValue)))}class ZR extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gp(n)&&nu(n.arrayValue,this.value)}}class WR extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class eI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class tI extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class nI{constructor(e,n=null,s=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function SE(r,e=null,n=[],s=[],l=null,u=null,d=null){return new nI(r,e,n,s,l,u,d)}function yp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Hm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function _p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!KR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ET(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!AE(r.startAt,e.startAt)&&AE(r.endAt,e.endAt)}function Fm(r){return ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Io{constructor(e,n=null,s=[],l=[],u=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iI(r,e,n,s,l,u,d,p){return new Io(r,e,n,s,l,u,d,p)}function Hh(r){return new Io(r)}function bE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ST(r){return r.collectionGroup!==null}function Yl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ut(Xt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new iu(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new iu(Xt.keyField(),s))}return e.Ie}function Vi(r){const e=Ae(r);return e.Ee||(e.Ee=rI(e,Yl(r))),e.Ee}function rI(r,e){if(r.limitType==="F")return SE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new iu(l.field,u)}));const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return SE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Gm(r,e){const n=r.filters.concat([e]);return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Qm(r,e,n){return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Fh(r,e){return _p(Vi(r),Vi(e))&&r.limitType===e.limitType}function bT(r){return`${yp(Vi(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>TT(l))).join(", ")}]`),qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>_o(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>_o(l))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function Gh(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ce.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Yl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const g=TE(d,p,y);return d.inclusive?g<=0:g<0})(s.startAt,Yl(s),l)||s.endAt&&!(function(d,p,y){const g=TE(d,p,y);return d.inclusive?g>=0:g>0})(s.endAt,Yl(s),l))})(r,e)}function sI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wT(r){return(e,n)=>{let s=!1;for(const l of Yl(r)){const u=aI(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function aI(r,e,n){const s=r.field.isKeyField()?ce.comparator(e.key,n.key):(function(u,d,p){const y=d.data.field(u),g=p.data.field(u);return y!==null&&g!==null?yo(y,g):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return lT(this.inner)}size(){return this.innerSize}}const oI=new ht(ce.comparator);function yr(){return oI}const RT=new ht(ce.comparator);function Bl(...r){let e=RT;for(const n of r)e=e.insert(n.key,n);return e}function IT(r){let e=RT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ws(){return Xl()}function CT(){return Xl()}function Xl(){return new ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const lI=new ht(ce.comparator),uI=new Ut(ce.comparator);function Me(...r){let e=uI;for(const n of r)e=e.add(n);return e}const cI=new Ut(xe);function hI(){return cI}function vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function NT(r){return{integerValue:""+r}}function DT(r,e){return jR(e)?NT(e):vp(r,e)}class Qh{constructor(){this._=void 0}}function fI(r,e,n){return r instanceof ru?(function(l,u){const d={fields:{[hT]:{stringValue:cT},[dT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&pp(u)&&(u=Bh(u)),u&&(d.fields[fT]=u),{mapValue:d}})(n,e):r instanceof su?xT(r,e):r instanceof au?MT(r,e):(function(l,u){const d=OT(l,u),p=wE(d)+wE(l.Ae);return Bm(d)&&Bm(l.Ae)?NT(p):vp(l.serializer,p)})(r,e)}function dI(r,e,n){return r instanceof su?xT(r,e):r instanceof au?MT(r,e):n}function OT(r,e){return r instanceof ou?(function(s){return Bm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ru extends Qh{}class su extends Qh{constructor(e){super(),this.elements=e}}function xT(r,e){const n=VT(e);for(const s of r.elements)n.some((l=>qi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends Qh{constructor(e){super(),this.elements=e}}function MT(r,e){let n=VT(e);for(const s of r.elements)n=n.filter((l=>!qi(l,s)));return{arrayValue:{values:n}}}class ou extends Qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wE(r){return _t(r.integerValue||r.doubleValue)}function VT(r){return gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class kT{constructor(e,n){this.field=e,this.transform=n}}function mI(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof su&&l instanceof su||s instanceof au&&l instanceof au?go(s.elements,l.elements,qi):s instanceof ou&&l instanceof ou?qi(s.Ae,l.Ae):s instanceof ru&&l instanceof ru})(r.transform,e.transform)}class pI{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kh{}function PT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ep(r.key,oi.none()):new mu(r.key,r.data,oi.none());{const n=r.data,s=gn.empty();let l=new Ut(Xt.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ps(r.key,s,new In(l.toArray()),oi.none())}}function gI(r,e,n){r instanceof mu?(function(l,u,d){const p=l.value.clone(),y=IE(l.fieldTransforms,u,d.transformResults);p.setAll(y),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,n):r instanceof ps?(function(l,u,d){if(!ch(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=IE(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(UT(l)),y.setAll(p),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function $l(r,e,n,s){return r instanceof mu?(function(u,d,p,y){if(!ch(u.precondition,d))return p;const g=u.value.clone(),A=CE(u.fieldTransforms,y,d);return g.setAll(A),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ps?(function(u,d,p,y){if(!ch(u.precondition,d))return p;const g=CE(u.fieldTransforms,y,d),A=d.data;return A.setAll(UT(u)),A.setAll(g),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,d,p){return ch(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,n)}function yI(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=OT(s.transform,l||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function RE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&go(s,l,((u,d)=>mI(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Kh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ps extends Kh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function UT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function IE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,p=e.data.field(u.field);s.set(u.field,dI(d,p,n[l]))}return s}function CE(r,e,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,fI(u,d,e))}return s}class Ep extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vI{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&gI(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=CT();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const y=PT(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>RE(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>RE(n,s)))}}class Tp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return lI})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new Tp(e,n,s,l)}}class EI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,Pe;function AI(r){switch(r){case Y.OK:return ye(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function LT(r){if(r===void 0)return gr("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Nt.OK:return Y.OK;case Nt.CANCELLED:return Y.CANCELLED;case Nt.UNKNOWN:return Y.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Y.INTERNAL;case Nt.UNAVAILABLE:return Y.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Y.NOT_FOUND;case Nt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Nt.ABORTED:return Y.ABORTED;case Nt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Nt.DATA_LOSS:return Y.DATA_LOSS;default:return ye(39323,{code:r})}}(Pe=Nt||(Nt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function SI(){return new TextEncoder}const bI=new ss([4294967295,4294967295],0);function NE(r){const e=SI().encode(r),n=new J0;return n.update(e),new Uint8Array(n.digest())}function DE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([l,u],0)]}class Ap{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(ss.fromNumber(s)));return l.compare(bI)===1&&(l=new ss([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NE(e),[s,l]=DE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Ap(u,l,n);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=NE(e),[s,l]=DE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(ve.min(),l,new ht(xe),yr(),Me())}}class pu{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Me(),Me(),Me())}}class hh{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class jT{constructor(e,n){this.targetId=e,this.Ce=n}}class zT{constructor(e,n,s=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class OE{constructor(){this.ve=0,this.Fe=xE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:ye(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=xE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wI{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=nh(),this.He=nh(),this.Ye=new ht(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Fm(u))if(s===0){const d=new ce(u.path);this.et(n,d,en.newNoDocument(d,ve.min()))}else Fe(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=us(s).toUint8Array()}catch(y){if(y instanceof uT)return po("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Ap(d,l,u)}catch(y){return po(y instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Fm(p.target)){const y=new ce(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,en.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=Me();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Yh(e,n,this.Ye,this.je,s);return this.je=yr(),this.Je=nh(),this.He=nh(),this.Ye=new ht(xe),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new OE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ht(ce.comparator)}function xE(){return new ht(ce.comparator)}const RI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CI={and:"AND",or:"OR"};class NI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(r,e){return r.useProto3Json||qh(e)?e:{value:e}}function bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function DI(r,e){return bh(r,e.toTimestamp())}function ki(r){return Fe(!!r,49232),ve.fromTimestamp((function(n){const s=ls(n);return new rt(s.seconds,s.nanos)})(r))}function Sp(r,e){return Ym(r,e).canonicalString()}function Ym(r,e){const n=(function(l){return new et(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function BT(r){const e=et.fromString(r);return Fe(KT(e),10190,{key:e.toString()}),e}function Xm(r,e){return Sp(r.databaseId,e.path)}function Tm(r,e){const n=BT(e);if(n.get(1)!==r.databaseId.projectId)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ce(FT(n))}function HT(r,e){return Sp(r.databaseId,e)}function OI(r){const e=BT(r);return e.length===4?et.emptyPath():FT(e)}function $m(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ME(r,e,n){return{name:Xm(r,e),fields:n.value.mapValue.fields}}function xI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(g,A){return g.useProto3Json?(Fe(A===void 0||typeof A=="string",58123),$t.fromBase64String(A||"")):(Fe(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),$t.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(g){const A=g.code===void 0?Y.UNKNOWN:LT(g.code);return new re(A,g.message||"")})(d);n=new zT(s,l,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Tm(r,s.document.name),u=ki(s.document.updateTime),d=s.document.createTime?ki(s.document.createTime):ve.min(),p=new gn({mapValue:{fields:s.document.fields}}),y=en.newFoundDocument(l,u,d,p),g=s.targetIds||[],A=s.removedTargetIds||[];n=new hh(g,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Tm(r,s.document),u=s.readTime?ki(s.readTime):ve.min(),d=en.newNoDocument(l,u),p=s.removedTargetIds||[];n=new hh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Tm(r,s.document),u=s.removedTargetIds||[];n=new hh([],u,l,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new TI(l,u),p=s.targetId;n=new jT(p,d)}}return n}function MI(r,e){let n;if(e instanceof mu)n={update:ME(r,e.key,e.value)};else if(e instanceof Ep)n={delete:Xm(r,e.key)};else if(e instanceof ps)n={update:ME(r,e.key,e.data),updateMask:BI(e.fieldMask)};else{if(!(e instanceof _I))return ye(16599,{Vt:e.type});n={verify:Xm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof ru)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof au)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ou)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ye(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:DI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function VI(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?ki(l.updateTime):ki(u);return d.isEqual(ve.min())&&(d=ki(u)),new pI(d,l.transformResults||[])})(n,e)))):[]}function kI(r,e){return{documents:[HT(r,e.path)]}}function PI(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=HT(r,l);const u=(function(g){if(g.length!==0)return QT(ui.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(g){if(g.length!==0)return g.map((A=>(function(D){return{field:ao(D.field),direction:jI(D.dir)}})(A)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Km(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:l}}function UI(r){let e=OI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Fe(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let u=[];n.where&&(u=(function(S){const D=GT(S);return D instanceof ui&&vT(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((D=>(function(Z){return new iu(oo(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,qh(D)?null:D})(n.limit));let y=null;n.startAt&&(y=(function(S){const D=!!S.before,H=S.values||[];return new Sh(H,D)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const D=!S.before,H=S.values||[];return new Sh(H,D)})(n.endAt)),iI(e,l,d,u,p,"F",y,g)}function LI(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(n.unaryFilter.field);return Dt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(n.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(oo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ui.create(n.compositeFilter.filters.map((s=>GT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function jI(r){return RI[r]}function zI(r){return II[r]}function qI(r){return CI[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return Xt.fromServerFormat(r.fieldPath)}function QT(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(vE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(vE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:zI(n.op),value:n.value}}})(r):r instanceof ui?(function(n){const s=n.getFilters().map((l=>QT(l)));return s.length===1?s[0]:{compositeFilter:{op:qI(n.op),filters:s}}})(r):ye(54877,{filter:r})}function BI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class is{constructor(e,n,s,l,u=ve.min(),d=ve.min(),p=$t.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HI{constructor(e){this.yt=e}}function FI(r){const e=UI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qm(e,e.limit,"L"):e}class GI{constructor(){this.Cn=new QI}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(os.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class QI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Ut(et.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ut(et.comparator)).toArray()}}const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(YT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}const kE="LruGarbageCollector",KI=1048576;function PE([r,e],[n,s]){const l=xe(r,n);return l===0?xe(e,s):l}class YI{constructor(e){this.Ir=e,this.buffer=new Ut(PE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();PE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(kE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?se(kE,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class $I{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(zh.ce);const s=new YI(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(VE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,d,p,y,g;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),ro()<=Oe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function JI(r,e){return new $I(r,e)}class ZI{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class eC{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&$l(s.mutation,l,In.empty(),rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Me()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Me()){const l=Ws();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let d=Bl();return u.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Ws();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Me())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,s,l){let u=yr();const d=Xl(),p=(function(){return Xl()})();return n.forEach(((y,g)=>{const A=s.get(g.key);l.has(g.key)&&(A===void 0||A.mutation instanceof ps)?u=u.insert(g.key,g):A!==void 0?(d.set(g.key,A.mutation.getFieldMask()),$l(A.mutation,g,A.mutation.getFieldMask(),rt.now())):d.set(g.key,In.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,A)=>d.set(g,A))),n.forEach(((g,A)=>p.set(g,new WI(A,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Xl();let l=new ht(((d,p)=>d-p)),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let A=s.get(y)||In.empty();A=p.applyToLocalView(g,A),s.set(y,A);const S=(l.get(p.batchId)||Me()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,A=y.value,S=CT();A.forEach((D=>{if(!u.has(D)){const H=PT(n.get(D),s.get(D));H!==null&&S.set(D,H),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,S))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(d){return ce.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ST(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):J.resolve(Ws());let p=Wl,y=u;return d.next((g=>J.forEach(g,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((D=>{y=y.insert(A,D)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,Me()))).next((A=>({batchId:p,changes:IT(A)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next((s=>{let l=Bl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,u).next((p=>J.forEach(p,(y=>{const g=(function(S,D){return new Io(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,l).next((A=>{A.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((d=>{u.forEach(((y,g)=>{const A=g.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))}));let p=Bl();return d.forEach(((y,g)=>{const A=u.get(y);A!==void 0&&$l(A.mutation,g,In.empty(),rt.now()),Gh(n,g)&&(p=p.insert(y,g))})),p}))}}class tC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ki(l.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:FI(l.bundledQuery),readTime:ki(l.readTime)}})(n)),J.resolve()}}class nC{constructor(){this.overlays=new ht(ce.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ws();return J.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const l=Ws(),u=n.length+1,d=new ce(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ht(((g,A)=>g-A));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let A=u.get(g.largestBatchId);A===null&&(A=Ws(),u=u.insert(g.largestBatchId,A)),A.set(g.getKey(),g)}}const p=Ws(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,A)=>p.set(g,A))),!(p.size()>=l)););return J.resolve(p)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new EI(n,s));let u=this.qr.get(n);u===void 0&&(u=Me(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class iC{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}class bp{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ce(new et([])),s=new qt(n,e),l=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ce(new et([])),s=new qt(n,e),l=new qt(n,e+1);let u=Me();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ce.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||ce.comparator(e.key,n.key)}}class rC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vI(u,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new qt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?mp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),l=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(xe);return n.forEach((l=>{const u=new qt(l,0),d=new qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{s=s.add(p.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;ce.isDocumentKey(u)||(u=u.child(""));const d=new qt(new ce(u),0);let p=new Ut(xe);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===l&&(p=p.add(y.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(l=>{const u=new qt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),l=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sC{constructor(e){this.ri=e,this.docs=(function(){return new ht(ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=yr();const d=n.path,p=new ce(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:A}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||kR(VR(A),s)<=0||(l.has(A.key)||Gh(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,l){ye(9500)}ii(e,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new aC(this)}getSize(e){return J.resolve(this.size)}}class aC extends ZI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class oC{constructor(e){this.persistence=e,this.si=new ha((n=>yp(n)),_p),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new bp,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}class XT{constructor(e,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new iC,this.referenceDelegate=e(this),this.Pi=new oC(this),this.indexManager=new GI,this.remoteDocumentCache=(function(l){return new sC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new HI(n),this.Ii=new tC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new rC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const l=new lC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class lC extends UR{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Ri=new bp,this.Vi=null}static mi(e){return new wp(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const l=ce.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.pi=new ha((s=>zR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=JI(this,n)}static mi(e,n){return new wh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?J.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(s++,u.removeEntry(d,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Rp{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Me(),l=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Rp(e,n.fromCache,s,l)}}class uC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return a1()?8:LR(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new uC;return this.Ss(e,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(ro()<=Oe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(ro()<=Oe.DEBUG&&se("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(ro()<=Oe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):J.resolve())}ys(e,n){if(bE(n))return J.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Qm(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=Me(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((y=>{const g=this.Ds(n,p);return this.Cs(n,g,d,y.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,g,n,y)}))))})))))}ws(e,n,s,l){return bE(n)||l.isEqual(ve.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,l)?J.resolve(null):(ro()<=Oe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),so(n)),this.vs(e,d,n,MR(l,Wl)).next((p=>p)))}))}Ds(e,n){let s=new Ut(wT(e));return n.forEach(((l,u)=>{Gh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return ro()<=Oe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,os.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Ip="LocalStore",hC=3e8;class fC{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ht(xe),this.xs=new ha((u=>yp(u)),_p),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function dC(r,e,n,s){return new fC(r,e,n,s)}async function $T(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let y=Me();for(const g of l){d.push(g.batchId);for(const A of g.mutations)y=y.add(A.key)}for(const g of u){p.push(g.batchId);for(const A of g.mutations)y=y.add(A.key)}return n.localDocuments.getDocuments(s,y).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function mC(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,g,A){const S=g.batch,D=S.keys();let H=J.resolve();return D.forEach((Z=>{H=H.next((()=>A.getEntry(y,Z))).next((te=>{const W=g.docVersions.get(Z);Fe(W!==null,48541),te.version.compareTo(W)<0&&(S.applyToRemoteDocument(te,g),te.isValidDocument()&&(te.setReadTime(g.commitVersion),A.addEntry(te)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Me();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function JT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function pC(r,e){const n=Ae(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((A,S)=>{const D=l.get(S);if(!D)return;p.push(n.Pi.removeMatchingKeys(u,A.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,A.addedDocuments,S))));let H=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken($t.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),l=l.insert(S,H),(function(te,W,de){return te.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=hC?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(D,H,A)&&p.push(n.Pi.updateTargetData(u,H))}));let y=yr(),g=Me();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))})),p.push(gC(u,d,e.documentUpdates).next((A=>{y=A.ks,g=A.qs}))),!s.isEqual(ve.min())){const A=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(A)}return J.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function gC(r,e,n){let s=Me(),l=Me();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let d=yr();return n.forEach(((p,y)=>{const g=u.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(ve.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):se(Ip,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function yC(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=mp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function _C(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,J.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new is(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jm(r,e,n){const s=Ae(r),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ro(d))throw d;se(Ip,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function UE(r,e,n){const s=Ae(r);let l=ve.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,g,A){const S=Ae(y),D=S.xs.get(A);return D!==void 0?J.resolve(S.Ms.get(D)):S.Pi.getTargetData(g,A)})(s,d,Vi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?l:ve.min(),n?u:Me()))).next((p=>(vC(s,sI(e),p),{documents:p,Qs:u})))))}function vC(r,e,n){let s=r.Os.get(e)||ve.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class LE{constructor(){this.activeTargetIds=hI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EC{constructor(){this.Mo=new LE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new LE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TC{Oo(e){}shutdown(){}}const jE="ConnectivityMonitor";class zE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(jE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(jE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function Zm(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const Am="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const d=Zm(),p=this.zo(e,n.toUriEncodedString());se(Am,`Sending RPC '${e}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:g}=new URL(p),A=To(g);return this.Jo(e,p,y,s,A).then((S=>(se(Am,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw po(Am,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,n,s,l,u,d){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=AC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class bC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class wC extends SC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const d=Zm();return new Promise(((p,y)=>{const g=new Z0;g.setWithCredentials(!0),g.listenOnce(W0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case oh.NO_ERROR:const S=g.getResponseJson();se(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case oh.TIMEOUT:se(Zt,`RPC '${e}' ${d} timed out`),y(new re(Y.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const D=g.getStatus();if(se(Zt,`RPC '${e}' ${d} failed with status:`,D,"response text:",g.getResponseText()),D>0){let H=g.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const te=(function(de){const Ee=de.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Ee)>=0?Ee:Y.UNKNOWN})(Z.status);y(new re(te,Z.message))}else y(new re(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new re(Y.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{se(Zt,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);se(Zt,`RPC '${e}' ${d} sending request:`,l),g.send(n,"POST",A,s,15)}))}T_(e,n,s){const l=Zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=nT(),p=tT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const A=u.join("");se(Zt,`Creating RPC '${e}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let D=!1,H=!1;const Z=new bC({Yo:W=>{H?se(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(D||(se(Zt,`Opening RPC '${e}' stream ${l} transport.`),S.open(),D=!0),se(Zt,`RPC '${e}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),te=(W,de,Ee)=>{W.listen(de,(pe=>{try{Ee(pe)}catch(He){setTimeout((()=>{throw He}),0)}}))};return te(S,ql.EventType.OPEN,(()=>{H||(se(Zt,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),te(S,ql.EventType.CLOSE,(()=>{H||(H=!0,se(Zt,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),te(S,ql.EventType.ERROR,(W=>{H||(H=!0,po(Zt,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new re(Y.UNAVAILABLE,"The operation could not be completed")))})),te(S,ql.EventType.MESSAGE,(W=>{if(!H){const de=W.data[0];Fe(!!de,16349);const Ee=de,pe=Ee?.error||Ee[0]?.error;if(pe){se(Zt,`RPC '${e}' stream ${l} received error:`,pe);const He=pe.status;let G=(function(b){const w=Nt[b];if(w!==void 0)return LT(w)})(He),fe=pe.message;G===void 0&&(G=Y.INTERNAL,fe="Unknown error status: "+He+" with message "+pe.message),H=!0,Z.a_(new re(G,fe)),S.close()}else se(Zt,`RPC '${e}' stream ${l} received:`,de),Z.u_(de)}})),te(p,eT.STAT_EVENT,(W=>{W.stat===jm.PROXY?se(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===jm.NOPROXY&&se(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sm(){return typeof document<"u"?document:null}function Xh(r){return new NI(r,!0)}class ZT{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qE="PersistentStream";class WT{constructor(e,n,s,l,u,d,p,y){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new re(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(se(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RC extends WT{constructor(e,n,s,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?ki(d.readTime):ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=(function(u,d){let p;const y=d.target;if(p=Fm(y)?{documents:kI(u,y)}:{query:PI(u,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=qT(u,d.resumeToken);const g=Km(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(ve.min())>0){p.readTime=bh(u,d.snapshotVersion.toTimestamp());const g=Km(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=LI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class IC extends WT{constructor(e,n,s,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VI(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>MI(this.serializer,s)))};this.q_(n)}}class CC{}class NC extends CC{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Ym(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(Y.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Ym(n,s),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new re(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class OC{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{fa(this)&&(se(sa,"Restarting streams for network reachability change."),await(async function(y){const g=Ae(y);g.Ea.add(4),await gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await $h(g)})(this))}))})),this.Ra=new DC(s,l)}}async function $h(r){if(fa(r))for(const e of r.da)await e(!0)}async function gu(r){for(const e of r.da)await e(!1)}function eA(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Op(n)?Dp(n):Co(n).O_()&&Np(n,e))}function Cp(r,e){const n=Ae(r),s=Co(n);n.Ia.delete(e),s.O_()&&tA(n,e),n.Ia.size===0&&(s.O_()?s.L_():fa(n)&&n.Ra.set("Unknown"))}function Np(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).Y_(e)}function tA(r,e){r.Va.Ue(e),Co(r).Z_(e)}function Dp(r){r.Va=new wI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.Ra.ua()}function Op(r){return fa(r)&&!Co(r).x_()&&r.Ia.size>0}function fa(r){return Ae(r).Ea.size===0}function nA(r){r.Va=void 0}async function xC(r){r.Ra.set("Online")}async function MC(r){r.Ia.forEach(((e,n)=>{Np(r,e)}))}async function VC(r,e){nA(r),Op(r)?(r.Ra.ha(e),Dp(r)):r.Ra.set("Unknown")}async function kC(r,e,n){if(r.Ra.set("Online"),e instanceof zT&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,e)}catch(s){se(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(r,s)}else if(e instanceof hh?r.Va.Ze(e):e instanceof jT?r.Va.st(e):r.Va.tt(e),!n.isEqual(ve.min()))try{const s=await JT(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const A=u.Ia.get(g);A&&u.Ia.set(g,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,g)=>{const A=u.Ia.get(y);if(!A)return;u.Ia.set(y,A.withResumeToken($t.EMPTY_BYTE_STRING,A.snapshotVersion)),tA(u,y);const S=new is(A.target,y,g,A.sequenceNumber);Np(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){se(sa,"Failed to raise snapshot:",s),await Rh(r,s)}}async function Rh(r,e,n){if(!Ro(e))throw e;r.Ea.add(1),await gu(r),r.Ra.set("Offline"),n||(n=()=>JT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{se(sa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await $h(r)}))}function iA(r,e){return e().catch((n=>Rh(r,n,e)))}async function Jh(r){const e=Ae(r),n=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mp;for(;PC(e);)try{const l=await yC(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,UC(e,l)}catch(l){await Rh(e,l)}rA(e)&&sA(e)}function PC(r){return fa(r)&&r.Ta.length<10}function UC(r,e){r.Ta.push(e);const n=hs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function rA(r){return fa(r)&&!hs(r).x_()&&r.Ta.length>0}function sA(r){hs(r).start()}async function LC(r){hs(r).ra()}async function jC(r){const e=hs(r);for(const n of r.Ta)e.ea(n.mutations)}async function zC(r,e,n){const s=r.Ta.shift(),l=Tp.from(s,e,n);await iA(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Jh(r)}async function qC(r,e){e&&hs(r).X_&&await(async function(s,l){if((function(d){return AI(d)&&d!==Y.ABORTED})(l.code)){const u=s.Ta.shift();hs(s).B_(),await iA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Jh(s)}})(r,e),rA(r)&&sA(r)}async function BE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),se(sa,"RemoteStore received new credentials");const s=fa(n);n.Ea.add(3),await gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $h(n)}async function BC(r,e){const n=Ae(r);e?(n.Ea.delete(2),await $h(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function Co(r){return r.ma||(r.ma=(function(n,s,l){const u=Ae(n);return u.sa(),new RC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:xC.bind(null,r),t_:MC.bind(null,r),r_:VC.bind(null,r),H_:kC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Op(r)?Dp(r):r.Ra.set("Unknown")):(await r.ma.stop(),nA(r))}))),r.ma}function hs(r){return r.fa||(r.fa=(function(n,s,l){const u=Ae(n);return u.sa(),new IC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:LC.bind(null,r),r_:qC.bind(null,r),ta:jC.bind(null,r),na:zC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Jh(r)):(await r.fa.stop(),r.Ta.length>0&&(se(sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class xp{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const d=Date.now()+s,p=new xp(e,n,d,l,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(r,e){if(gr("AsyncQueue",`${e}: ${r}`),Ro(r))return new re(Y.UNAVAILABLE,`${e}: ${r}`);throw r}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ce.comparator(n.key,s.key):(n,s)=>ce.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class HE{constructor(){this.ga=new ht(ce.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,l,u,d,p,y,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Eo(e,n,co.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class HC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FC{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Ae(n),u=l.queries;l.queries=FE(),u.forEach(((d,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new re(Y.ABORTED,"Firestore shutting down"))}}function FE(){return new ha((r=>bT(r)),Fh)}async function Vp(r,e){const n=Ae(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new HC,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Mp(d,`Initialization of query '${so(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Pp(n)}async function kp(r,e){const n=Ae(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GC(r,e){const n=Ae(r);let s=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&Pp(n)}function QC(r,e,n){const s=Ae(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function Pp(r){r.Ca.forEach((e=>{e.next()}))}var Wm,GE;(GE=Wm||(Wm={})).Ma="default",GE.Cache="cache";class Up{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}class aA{constructor(e){this.key=e}}class oA{constructor(e){this.key=e}}class KC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=wT(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new HE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const D=l.get(A),H=Gh(this.query,S)?S:null,Z=!!D&&this.mutatedKeys.has(D.key),te=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;D&&H?D.data.isEqual(H.data)?Z!==te&&(s.track({type:3,doc:H}),W=!0):this.su(D,H)||(s.track({type:2,doc:H}),W=!0,(y&&this.eu(H,y)>0||g&&this.eu(H,g)<0)&&(p=!0)):!D&&H?(s.track({type:0,doc:H}),W=!0):D&&!H&&(s.track({type:1,doc:D}),W=!0,(y||g)&&(p=!0)),W&&(H?(d=d.add(H),u=te?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(H,Z){const te=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:W})}};return te(H)-te(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,g=y!==this.Za;return this.Za=y,d.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,d,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new oA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new aA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lp="SyncEngine";class YC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XC{constructor(e){this.key=e,this.hu=!1}}class $C{constructor(e,n,s,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((p=>bT(p)),Fh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ce.comparator),this.Au=new Map,this.Ru=new bp,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JC(r,e,n=!0){const s=dA(r);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await lA(s,e,n,!0),l}async function ZC(r,e){const n=dA(r);await lA(n,e,!0,!1)}async function lA(r,e,n,s){const l=await _C(r.localStore,Vi(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await WC(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&eA(r.remoteStore,l),p}async function WC(r,e,n,s,l){r.pu=(S,D,H)=>(async function(te,W,de,Ee){let pe=W.view.ru(de);pe.Cs&&(pe=await UE(te.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,pe))));const He=Ee&&Ee.targetChanges.get(W.targetId),G=Ee&&Ee.targetMismatches.get(W.targetId)!=null,fe=W.view.applyChanges(pe,te.isPrimaryClient,He,G);return KE(te,W.targetId,fe.au),fe.snapshot})(r,S,D,H);const u=await UE(r.localStore,e,!0),d=new KC(e,u.Qs),p=d.ru(u.documents),y=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),g=d.applyChanges(p,r.isPrimaryClient,y);KE(r,n,g.au);const A=new YC(e,n,d);return r.Tu.set(e,A),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function e2(r,e,n){const s=Ae(r),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!Fh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Jm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Cp(s.remoteStore,l.targetId),ep(s,l.targetId)})).catch(wo)):(ep(s,l.targetId),await Jm(s.localStore,l.targetId,!0))}async function t2(r,e){const n=Ae(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Cp(n.remoteStore,s.targetId))}async function n2(r,e,n){const s=u2(r);try{const l=await(function(d,p){const y=Ae(d),g=rt.now(),A=p.reduce(((H,Z)=>H.add(Z.key)),Me());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=yr(),te=Me();return y.Ns.getEntries(H,A).next((W=>{Z=W,Z.forEach(((de,Ee)=>{Ee.isValidDocument()||(te=te.add(de))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,Z))).next((W=>{S=W;const de=[];for(const Ee of p){const pe=yI(Ee,S.get(Ee.key).overlayedDocument);pe!=null&&de.push(new ps(Ee.key,pe,gT(pe.value.mapValue),oi.exists(!0)))}return y.mutationQueue.addMutationBatch(H,g,de,p)})).next((W=>{D=W;const de=W.applyToLocalDocumentSet(S,te);return y.documentOverlayCache.saveOverlays(H,W.batchId,de)}))})).then((()=>({batchId:D.batchId,changes:IT(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let g=d.Vu[d.currentUser.toKey()];g||(g=new ht(xe)),g=g.insert(p,y),d.Vu[d.currentUser.toKey()]=g})(s,l.batchId,n),await yu(s,l.changes),await Jh(s.remoteStore)}catch(l){const u=Mp(l,"Failed to persist write");n.reject(u)}}async function uA(r,e){const n=Ae(r);try{const s=await pC(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Fe(d.hu,14607):l.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await yu(n,s,e)}catch(s){await wo(s)}}function QE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Ae(d);y.onlineState=p;let g=!1;y.queries.forEach(((A,S)=>{for(const D of S.Sa)D.va(p)&&(g=!0)})),g&&Pp(y)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function i2(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let d=new ht(ce.comparator);d=d.insert(u,en.newNoDocument(u,ve.min()));const p=Me().add(u),y=new Yh(ve.min(),new Map,new ht(xe),d,p);await uA(s,y),s.du=s.du.remove(u),s.Au.delete(e),jp(s)}else await Jm(s.localStore,e,!1).then((()=>ep(s,e,n))).catch(wo)}async function r2(r,e){const n=Ae(r),s=e.batch.batchId;try{const l=await mC(n.localStore,e);hA(n,s,null),cA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,l)}catch(l){await wo(l)}}async function s2(r,e,n){const s=Ae(r);try{const l=await(function(d,p){const y=Ae(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let A;return y.mutationQueue.lookupMutationBatch(g,p).next((S=>(Fe(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(g,S)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,A))).next((()=>y.localDocuments.getDocuments(g,A)))}))})(s.localStore,e);hA(s,e,n),cA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,l)}catch(l){await wo(l)}}function cA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function hA(r,e,n){const s=Ae(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function ep(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||fA(r,s)}))}function fA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Cp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),jp(r))}function KE(r,e,n){for(const s of n)s instanceof aA?(r.Ru.addReference(s.key,e),a2(r,s)):s instanceof oA?(se(Lp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||fA(r,s.key)):ye(19791,{wu:s})}function a2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(se(Lp,"New document in limbo: "+n),r.Eu.add(s),jp(r))}function jp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ce(et.fromString(e)),s=r.fu.next();r.Au.set(s,new XC(n)),r.du=r.du.insert(n,s),eA(r.remoteStore,new is(Vi(Hh(n.path)),s,"TargetPurposeLimboResolution",zh.ce))}}async function yu(r,e,n){const s=Ae(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(g){l.push(g);const A=Rp.As(y.targetId,g);u.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,g){const A=Ae(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(g,(D=>J.forEach(D.Es,(H=>A.persistence.referenceDelegate.addReference(S,D.targetId,H))).next((()=>J.forEach(D.ds,(H=>A.persistence.referenceDelegate.removeReference(S,D.targetId,H)))))))))}catch(S){if(!Ro(S))throw S;se(Ip,"Failed to update sequence numbers: "+S)}for(const S of g){const D=S.targetId;if(!S.fromCache){const H=A.Ms.get(D),Z=H.snapshotVersion,te=H.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(D,te)}}})(s.localStore,u))}async function o2(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){se(Lp,"User change. New user:",e.toKey());const s=await $T(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new re(Y.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ls)}}function l2(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let l=Me();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function dA(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i2.bind(null,e),e.Pu.H_=GC.bind(null,e.eventManager),e.Pu.yu=QC.bind(null,e.eventManager),e}function u2(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s2.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dC(this.persistence,new cC,e.initialUser,this.serializer)}Cu(e){return new XT(wp.mi,this.serializer)}Du(e){return new EC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class c2 extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new XT((s=>wh.mi(s,n)),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>QE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=o2.bind(null,this.syncEngine),await BC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FC})()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=(function(u){return new wC(u)})(e.databaseInfo);return(function(u,d,p,y){return new NC(u,d,p,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,d,p){return new OC(s,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>QE(this.syncEngine,n,0)),(function(){return zE.v()?new zE:new TC})())}createSyncEngine(e,n){return(function(l,u,d,p,y,g,A){const S=new $C(l,u,d,p,y,g);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);se(sa,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tp.provider={build:()=>new tp};class zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fs="FirestoreClient";class h2{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{se(fs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(se(fs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function bm(r,e){r.asyncQueue.verifyOperationInProgress(),se(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await $T(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function YE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await f2(r);se(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>BE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>BE(e.remoteStore,l))),r._onlineComponents=e}async function f2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(fs,"Using user provided OfflineComponentProvider");try{await bm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await bm(r,new Ih)}}else se(fs,"Using default OfflineComponentProvider"),await bm(r,new c2(void 0));return r._offlineComponents}async function mA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(fs,"Using user provided OnlineComponentProvider"),await YE(r,r._uninitializedComponentsProvider._online)):(se(fs,"Using default OnlineComponentProvider"),await YE(r,new tp))),r._onlineComponents}function d2(r){return mA(r).then((e=>e.syncEngine))}async function Ch(r){const e=await mA(r),n=e.eventManager;return n.onListen=JC.bind(null,e.syncEngine),n.onUnlisten=e2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t2.bind(null,e.syncEngine),n}function m2(r,e,n={}){const s=new dr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,y,g){const A=new zp({next:D=>{A.Nu(),d.enqueueAndForget((()=>kp(u,S)));const H=D.docs.has(p);!H&&D.fromCache?g.reject(new re(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&y&&y.source==="server"?g.reject(new re(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(D)},error:D=>g.reject(D)}),S=new Up(Hh(p.path),A,{includeMetadataChanges:!0,qa:!0});return Vp(u,S)})(await Ch(r),r.asyncQueue,e,n,s))),s.promise}function p2(r,e,n={}){const s=new dr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,y,g){const A=new zp({next:D=>{A.Nu(),d.enqueueAndForget((()=>kp(u,S))),D.fromCache&&y.source==="server"?g.reject(new re(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(D)},error:D=>g.reject(D)}),S=new Up(p,A,{includeMetadataChanges:!0,qa:!0});return Vp(u,S)})(await Ch(r),r.asyncQueue,e,n,s))),s.promise}function pA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const XE=new Map;const gA="firestore.googleapis.com",$E=!0;class JE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gA,this.ssl=$E}else this.host=e.host,this.ssl=e.ssl??$E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KI)throw new re(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new AR;switch(s.type){case"firstParty":return new RR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=XE.get(n);s&&(se("ComponentProvider","Removing Datastore"),XE.delete(n),s.terminate())})(this),Promise.resolve()}}function g2(r,e,n,s={}){r=Gn(r,Zh);const l=To(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;l&&(B0(`https://${p}`),H0("Firestore",!0)),u.host!==gA&&u.host!==p&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:l,emulatorOptions:s};if(!ia(y,d)&&(r._setSettings(y),s.mockUserToken)){let g,A;if(typeof s.mockUserToken=="string")g=s.mockUserToken,A=Wt.MOCK_USER;else{g=Jw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new re(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Wt(S)}r._authCredentials=new SR(new rT(g,A))}}class gs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,vt._jsonSchema))return new vt(e,s||null,new ce(et.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Ot("string",vt._jsonSchemaVersion),referencePath:Ot("string")};class as extends gs{constructor(e,n,s){super(e,n,Hh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ce(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function mn(r,e,...n){if(r=xt(r),sT("collection","path",e),r instanceof Zh){const s=et.fromString(e,...n);return cE(s),new as(r,null,s)}{if(!(r instanceof vt||r instanceof as))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return cE(s),new as(r.firestore,null,s)}}function si(r,e,...n){if(r=xt(r),arguments.length===1&&(e=dp.newId()),sT("doc","path",e),r instanceof Zh){const s=et.fromString(e,...n);return uE(s),new vt(r,null,new ce(s))}{if(!(r instanceof vt||r instanceof as))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return uE(s),new vt(r.firestore,r instanceof as?r.converter:null,new ce(s))}}const ZE="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZT(this,"async_queue_retry"),this._c=()=>{const s=Sm();s&&se(ZE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;se(ZE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",e0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=xp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:e0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function e0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function t0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ds extends Zh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new WE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function y2(r,e){const n=typeof r=="object"?r:hp(),s=typeof r=="string"?r:Th,l=Ao(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=Xw("firestore");u&&g2(l,...u)}return l}function Wh(r){if(r._terminated)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_2(r),r._firestoreClient}function _2(r){const e=r._freezeSettings(),n=(function(l,u,d,p){return new HR(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,pA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new h2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn($t.fromBase64String(e))}catch(n){throw new re(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ot("string",Hn._jsonSchemaVersion),bytes:Ot("string")};class ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._methodName=e}}class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(du(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Ot("string",Pi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ui(e.vectorValues);throw new re(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Ot("string",Ui._jsonSchemaVersion),vectorValues:Ot("object")};const v2=/^__.*__$/;class E2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class yA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _A(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class qp{constructor(e,n,s,l,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_A(this.Ac)&&v2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class T2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}Cc(e,n,s,l=!1){return new qp({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(r){const e=r._freezeSettings(),n=Xh(r._databaseId);return new T2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function A2(r,e,n,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);Gp("Data must be an object, but it was:",d,s);const p=vA(s,d);let y,g;if(u.merge)y=new In(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const S of u.mergeFields){const D=np(e,S,n);if(!d.contains(D))throw new re(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);TA(A,D)||A.push(D)}y=new In(A),g=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,g=d.fieldTransforms;return new E2(new gn(p),y,g)}class tf extends _u{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class Hp extends _u{_toFieldTransform(e){return new kT(e.path,new ru)}isEqual(e){return e instanceof Hp}}class Fp extends _u{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new ou(e.serializer,DT(e.serializer,this.Fc));return new kT(e.path,n)}isEqual(e){return e instanceof Fp&&this.Fc===e.Fc}}function S2(r,e,n,s){const l=r.Cc(1,e,n);Gp("Data must be an object, but it was:",l,s);const u=[],d=gn.empty();ms(s,((y,g)=>{const A=Qp(e,y,n);g=xt(g);const S=l.yc(A);if(g instanceof tf)u.push(A);else{const D=vu(g,S);D!=null&&(u.push(A),d.set(A,D))}}));const p=new In(u);return new yA(d,p,l.fieldTransforms)}function b2(r,e,n,s,l,u){const d=r.Cc(1,e,n),p=[np(e,s,n)],y=[l];if(u.length%2!=0)throw new re(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)p.push(np(e,u[D])),y.push(u[D+1]);const g=[],A=gn.empty();for(let D=p.length-1;D>=0;--D)if(!TA(g,p[D])){const H=p[D];let Z=y[D];Z=xt(Z);const te=d.yc(H);if(Z instanceof tf)g.push(H);else{const W=vu(Z,te);W!=null&&(g.push(H),A.set(H,W))}}const S=new In(g);return new yA(A,S,d.fieldTransforms)}function w2(r,e,n,s=!1){return vu(n,r.Cc(s?4:3,e))}function vu(r,e){if(EA(r=xt(r)))return Gp("Unsupported field value:",e,r),vA(r,e);if(r instanceof _u)return(function(s,l){if(!_A(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const p of s){let y=vu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DT(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:bh(l.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(l.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:qT(l.serializer,s._byteString)};if(s instanceof vt){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ui)return(function(d,p){return{mapValue:{fields:{[mT]:{stringValue:pT},[Ah]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return vp(p.serializer,g)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${jh(s)}`)})(r,e)}function vA(r,e){const n={};return lT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(r,((s,l)=>{const u=vu(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function EA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Pi||r instanceof Hn||r instanceof vt||r instanceof _u||r instanceof Ui)}function Gp(r,e,n){if(!EA(n)||!aT(n)){const s=jh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function np(r,e,n){if((e=xt(e))instanceof ef)return e._internalPath;if(typeof e=="string")return Qp(r,e);throw Nh("Field path arguments must be of type string or ",r,!1,void 0,n)}const R2=new RegExp("[~\\*/\\[\\]]");function Qp(r,e,n){if(e.search(R2)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ef(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nh(r,e,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new re(Y.INVALID_ARGUMENT,p+r+y)}function TA(r,e){return r.some((n=>n.isEqual(e)))}class AA{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I2 extends AA{data(){return super.data()}}function nf(r,e){return typeof e=="string"?Qp(r,e):e instanceof ef?e._internalPath:e._delegate._internalPath}function SA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new re(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class bA extends Kp{}function Js(r,e,...n){let s=[];e instanceof Kp&&s.push(e),s=s.concat(n),(function(u){const d=u.filter((y=>y instanceof Yp)).length,p=u.filter((y=>y instanceof rf)).length;if(d>1||d>0&&p>0)throw new re(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class rf extends bA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new rf(e,n,s)}_apply(e){const n=this._parse(e);return wA(e._query,n),new gs(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=Bp(e.firestore);return(function(u,d,p,y,g,A,S){let D;if(g.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new re(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){r0(S,A);const Z=[];for(const te of S)Z.push(i0(y,u,te));D={arrayValue:{values:Z}}}else D=i0(y,u,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||r0(S,A),D=w2(p,d,S,A==="in"||A==="not-in");return Dt.create(g,A,D)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fl(r,e,n){const s=e,l=nf("where",r);return rf._create(l,s,n)}class Yp extends Kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const y of p)wA(d,y),d=Gm(d,y)})(e._query,n),new gs(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xp extends bA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xp(e,n)}_apply(e){const n=(function(l,u,d){if(l.startAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(u,d)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new Io(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function n0(r,e="asc"){const n=e,s=nf("orderBy",r);return Xp._create(s,n)}function i0(r,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new re(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(e)&&n.indexOf("/")!==-1)throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!ce.isDocumentKey(s))throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _E(r,new ce(s))}if(n instanceof vt)return _E(r,n._key);throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function r0(r,e){if(!Array.isArray(r)||r.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wA(r,e){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class C2{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ms(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ah].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Ui(n)}convertGeoPoint(e){return new Pi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Bh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=ls(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(KT(s),9688,{name:e});const l=new tu(s.get(1),s.get(3)),u=new ce(s.popFirst(5));return l.isEqual(n)||gr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function N2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends AA{constructor(e,n,s,l,u,d){super(e,n,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(nf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Ot("string",ta._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class fh extends ta{data(e={}){return super.data(e)}}class na{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Gl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new fh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new fh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,A=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:D2(p.type),doc:y,oldIndex:g,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}function rh(r){r=Gn(r,vt);const e=Gn(r.firestore,ds);return m2(Wh(e),r._key).then((n=>RA(e,r,n)))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Ot("string",na._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class $p extends C2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function dh(r){r=Gn(r,gs);const e=Gn(r.firestore,ds),n=Wh(e),s=new $p(e);return SA(r._query),p2(n,r._query).then((l=>new na(e,s,r,l)))}function sh(r,e,n,...s){r=Gn(r,vt);const l=Gn(r.firestore,ds),u=Bp(l);let d;return d=typeof(e=xt(e))=="string"||e instanceof ef?b2(u,"updateDoc",r._key,e,n,s):S2(u,"updateDoc",r._key,e),Jp(l,[d.toMutation(r._key,oi.exists(!0))])}function wm(r){return Jp(Gn(r.firestore,ds),[new Ep(r._key,oi.none())])}function Zs(r,e){const n=Gn(r.firestore,ds),s=si(r),l=N2(r.converter,e);return Jp(n,[A2(Bp(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then((()=>s))}function Rm(r,...e){r=xt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||t0(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(t0(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let u,d,p;if(r instanceof vt)d=Gn(r.firestore,ds),p=Hh(r._key.path),u={next:y=>{e[s]&&e[s](RA(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Gn(r,gs);d=Gn(y.firestore,ds),p=y._query;const g=new $p(d);u={next:A=>{e[s]&&e[s](new na(d,g,y,A))},error:e[s+1],complete:e[s+2]},SA(r._query)}return(function(g,A,S,D){const H=new zp(D),Z=new Up(A,H,S);return g.asyncQueue.enqueueAndForget((async()=>Vp(await Ch(g),Z))),()=>{H.Nu(),g.asyncQueue.enqueueAndForget((async()=>kp(await Ch(g),Z)))}})(Wh(d),p,l,u)}function Jp(r,e){return(function(s,l){const u=new dr;return s.asyncQueue.enqueueAndForget((async()=>n2(await d2(s),l,u))),u.promise})(Wh(r),e)}function RA(r,e,n){const s=n.docs.get(e._key),l=new $p(r);return new ta(r,l,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function qn(){return new Hp("serverTimestamp")}function O2(r){return new Fp("increment",r)}(function(e,n=!0){(function(l){bo=l})(So),zi(new li("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new ds(new bR(s.getProvider("auth-internal")),new IR(d,s.getProvider("app-check-internal")),(function(g,A){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new re(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,A)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Fn(sE,aE,e),Fn(sE,aE,"esm2020")})();function IA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x2=IA,CA=new ca("auth","Firebase",IA());const Dh=new up("@firebase/auth");function M2(r,...e){Dh.logLevel<=Oe.WARN&&Dh.warn(`Auth (${So}): ${r}`,...e)}function mh(r,...e){Dh.logLevel<=Oe.ERROR&&Dh.error(`Auth (${So}): ${r}`,...e)}function ci(r,...e){throw Zp(r,...e)}function Li(r,...e){return Zp(r,...e)}function NA(r,e,n){const s={...x2(),[e]:n};return new ca("auth","Firebase",s).create(e,{appName:r.name})}function mr(r){return NA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return CA.create(r,...e)}function ge(r,e,...n){if(!r)throw Zp(e,...n)}function cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function _r(r,e){r||cr(e)}function ip(){return typeof self<"u"&&self.location?.href||""}function V2(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function k2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V2()||i1()||"connection"in navigator)?navigator.onLine:!0}function P2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=e1()||r1()}get(){return k2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wp(r,e){_r(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class DA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const U2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const L2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j2=new Eu(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function _s(r,e,n,s,l={}){return OA(r,l,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=fu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...u};return n1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(g.credentials="include"),DA.fetch()(await xA(r,r.config.apiHost,n,p),g)})}async function OA(r,e,n){r._canInitEmulator=!1;const s={...U2,...e};try{const l=new q2(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw ah(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw ah(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw NA(r,A,g);ci(r,A)}}catch(l){if(l instanceof Bi)throw l;ci(r,"network-request-failed",{message:String(l)})}}async function Tu(r,e,n,s,l={}){const u=await _s(r,e,n,s,l);return"mfaPendingCredential"in u&&ci(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function xA(r,e,n,s){const l=`${e}${n}?${s}`,u=r,d=u.config.emulator?Wp(r.config,l):`${r.config.apiScheme}://${l}`;return L2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function z2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Li(this.auth,"network-request-failed")),j2.get())})}}function ah(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Li(r,e,s);return l.customData._tokenResponse=n,l}function a0(r){return r!==void 0&&r.enterprise!==void 0}class B2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function H2(r,e){return _s(r,"GET","/v2/recaptchaConfig",ys(r,e))}async function F2(r,e){return _s(r,"POST","/v1/accounts:delete",e)}async function Oh(r,e){return _s(r,"POST","/v1/accounts:lookup",e)}function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G2(r,e=!1){const n=xt(r),s=await n.getIdToken(e),l=eg(s);ge(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Jl(Im(l.auth_time)),issuedAtTime:Jl(Im(l.iat)),expirationTime:Jl(Im(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Im(r){return Number(r)*1e3}function eg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const l=L0(n);return l?JSON.parse(l):(mh("Failed to decode base64 JWT payload"),null)}catch(l){return mh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function o0(r){const e=eg(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Bi&&Q2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Q2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class K2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(r){const e=r.auth,n=await r.getIdToken(),s=await lu(r,Oh(e,{idToken:n}));ge(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?MA(l.providerUserInfo):[],d=X2(r.providerData,u),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,g=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rp(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,A)}async function Y2(r){const e=xt(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X2(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function MA(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $2(r,e){const n=await OA(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await xA(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(y.credentials="include"),DA.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J2(r,e){return _s(r,"POST","/v2/accounts:revokeToken",ys(r,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=o0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await $2(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new ho;return s&&(ge(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(ge(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(ge(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return cr("not implemented")}}function Zr(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new K2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G2(this,e)}reload(){return Y2(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await lu(this,F2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:H,providerData:Z,stsTokenManager:te}=n;ge(S&&te,e,"internal-error");const W=ho.fromJSON(this.name,te);ge(typeof S=="string",e,"internal-error"),Zr(s,e.name),Zr(l,e.name),ge(typeof D=="boolean",e,"internal-error"),ge(typeof H=="boolean",e,"internal-error"),Zr(u,e.name),Zr(d,e.name),Zr(p,e.name),Zr(y,e.name),Zr(g,e.name),Zr(A,e.name);const de=new ai({uid:S,auth:e,email:l,emailVerified:D,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:g,lastLoginAt:A});return Z&&Array.isArray(Z)&&(de.providerData=Z.map(Ee=>({...Ee}))),y&&(de._redirectEventId=y),de}static async _fromIdTokenResponse(e,n,s=!1){const l=new ho;l.updateFromServerResponse(n);const u=new ai({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ge(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?MA(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new ho;p.updateFromIdToken(s);const y=new ai({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new rp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,g),y}}const l0=new Map;function hr(r){_r(r instanceof Function,"Expected a class definition");let e=l0.get(r);return e?(_r(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,l0.set(r,e),e)}class VA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VA.type="NONE";const u0=VA;function ph(r,e,n){return`firebase:${r}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=ph(this.userKey,l.apiKey,u),this.fullPersistenceKey=ph("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(hr(u0),e,s);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||hr(u0);const d=ph(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const A=await g._get(d);if(A){let S;if(typeof A=="string"){const D=await Oh(e,{idToken:A}).catch(()=>{});if(!D)break;S=await ai._fromGetAccountInfoResponse(e,D,A)}else S=ai._fromJSON(e,A);g!==u&&(p=S),u=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new fo(u,e,s):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new fo(u,e,s))}}function c0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zA(e))return"Blackberry";if(qA(e))return"Webos";if(PA(e))return"Safari";if((e.includes("chrome/")||UA(e))&&!e.includes("edge/"))return"Chrome";if(jA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function kA(r=tn()){return/firefox\//i.test(r)}function PA(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UA(r=tn()){return/crios\//i.test(r)}function LA(r=tn()){return/iemobile/i.test(r)}function jA(r=tn()){return/android/i.test(r)}function zA(r=tn()){return/blackberry/i.test(r)}function qA(r=tn()){return/webos/i.test(r)}function tg(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Z2(r=tn()){return tg(r)&&!!window.navigator?.standalone}function W2(){return s1()&&document.documentMode===10}function BA(r=tn()){return tg(r)||jA(r)||qA(r)||zA(r)||/windows phone/i.test(r)||LA(r)}function HA(r,e=[]){let n;switch(r){case"Browser":n=c0(tn());break;case"Worker":n=`${c0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}class eN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,p)=>{try{const y=e(u);d(y)}catch(y){p(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function tN(r,e={}){return _s(r,"GET","/v2/passwordPolicy",ys(r,e))}const nN=6;class iN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class rN{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new eN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(mr(this));const n=e?xt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tN(this),n=new iN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ca("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await J2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&M2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(r){return xt(r)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=f1(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(r){sf=r}function FA(r){return sf.loadJS(r)}function aN(){return sf.recaptchaEnterpriseScript}function oN(){return sf.gapiScript}function lN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class uN{constructor(){this.enterprise=new cN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hN="recaptcha-enterprise",GA="NO_RECAPTCHA";class fN{constructor(e){this.type=hN,this.auth=da(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{H2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new B2(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(y=>{p(y)})})}function l(u,d,p){const y=window.grecaptcha;a0(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(GA)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uN().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!n&&a0(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=aN();y.length!==0&&(y+=p),FA(y).then(()=>{l(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function f0(r,e,n,s=!1,l=!1){const u=new fN(r);let d;if(l)d=GA;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function sp(r,e,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await f0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await f0(r,e,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function dN(r,e){const n=Ao(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ia(u,e??{}))return l;ci(l,"already-initialized")}return n.initialize({options:e})}function mN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(hr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function pN(r,e,n){const s=da(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=QA(e),{host:d,port:p}=gN(e),y=p===null?"":`:${p}`,g={url:`${u}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(ia(g,s.config.emulator)&&ia(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,To(d)?(B0(`${u}//${d}${y}`),H0("Auth",!0)):yN()}function QA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function gN(r){const e=QA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:d0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:d0(d)}}}function d0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function yN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function _N(r,e){return _s(r,"POST","/v1/accounts:signUp",e)}async function vN(r,e){return Tu(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}async function EN(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function TN(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}class uu extends ng{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,n,"signInWithPassword",vN);case"emailLink":return EN(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,s,"signUpPassword",_N);case"emailLink":return TN(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mo(r,e){return Tu(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}const AN="http://localhost";class aa extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new aa(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function SN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bN(r){const e=jl(zl(r)).link,n=e?jl(zl(e)).deep_link_id:null,s=jl(zl(r)).deep_link_id;return(s?jl(zl(s)).link:null)||s||n||e||r}class ig{constructor(e){const n=jl(zl(e)),s=n.apiKey??null,l=n.oobCode??null,u=SN(n.mode??null);ge(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=bN(e);try{return new ig(n)}catch{return null}}}class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ig.parseLink(n);return ge(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class KA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Au extends KA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends Au{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class es extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class ts extends Au{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends Au{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function wN(r,e){return Tu(r,"POST","/v1/accounts:signUp",ys(r,e))}class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await ai._fromIdTokenResponse(e,s,l),d=m0(s);return new oa({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=m0(s);return new oa({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function m0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Mh extends Bi{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Mh(e,n,s,l)}}function YA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(r,u,e,s):u})}async function RN(r,e,n=!1){const s=await lu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return oa._forOperation(r,"link",s)}async function IN(r,e,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(mr(s));const l="reauthenticate";try{const u=await lu(r,YA(s,l,e,r),n);ge(u.idToken,s,"internal-error");const d=eg(u.idToken);ge(d,s,"internal-error");const{sub:p}=d;return ge(r.uid===p,s,"user-mismatch"),oa._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ci(s,"user-mismatch"),u}}async function XA(r,e,n=!1){if(Bn(r.app))return Promise.reject(mr(r));const s="signIn",l=await YA(r,s,e),u=await oa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function CN(r,e){return XA(da(r),e)}async function $A(r){const e=da(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NN(r,e,n){if(Bn(r.app))return Promise.reject(mr(r));const s=da(r),d=await sp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wN).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&$A(r),y}),p=await oa._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function DN(r,e,n){return Bn(r.app)?Promise.reject(mr(r)):CN(xt(r),No.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$A(r),s})}function ON(r,e,n,s){return xt(r).onIdTokenChanged(e,n,s)}function xN(r,e,n){return xt(r).beforeAuthStateChanged(e,n)}function MN(r,e,n,s){return xt(r).onAuthStateChanged(e,n,s)}function p0(r){return xt(r).signOut()}const Vh="__sak";class JA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VN=1e3,kN=10;class ZA extends JA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);W2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,kN):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},VN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZA.type="LOCAL";const PN=ZA;class WA extends JA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WA.type="SESSION";const eS=WA;function UN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async g=>g(n.origin,u)),y=await UN(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function rg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class LN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const g=rg("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===g)switch(D.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(A),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ji(){return window}function jN(r){ji().location.href=r}function tS(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function zN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qN(){return navigator?.serviceWorker?.controller||null}function BN(){return tS()?self:null}const nS="firebaseLocalStorageDb",HN=1,kh="firebaseLocalStorage",iS="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function FN(){const r=indexedDB.deleteDatabase(nS);return new Su(r).toPromise()}function ap(){const r=indexedDB.open(nS,HN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:iS})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await FN(),e(await ap()))})})}async function g0(r,e,n){const s=of(r,!0).put({[iS]:e,value:n});return new Su(s).toPromise()}async function GN(r,e){const n=of(r,!1).get(e),s=await new Su(n).toPromise();return s===void 0?null:s.value}function y0(r,e){const n=of(r,!0).delete(e);return new Su(n).toPromise()}const QN=800,KN=3;class rS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>KN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(BN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zN(),!this.activeServiceWorker)return;this.sender=new LN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await g0(e,Vh,"1"),await y0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>g0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>GN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=of(l,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rS.type="LOCAL";const YN=rS;new Eu(3e4,6e4);function XN(r,e){return e?hr(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class sg extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $N(r){return XA(r.auth,new sg(r),r.bypassAuthState)}function JN(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),IN(n,new sg(r),r.bypassAuthState)}async function ZN(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),RN(n,new sg(r),r.bypassAuthState)}class sS{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $N;case"linkViaPopup":case"linkViaRedirect":return ZN;case"reauthViaPopup":case"reauthViaRedirect":return JN;default:ci(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WN=new Eu(2e3,1e4);class uo extends sS{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}uo.currentPopupAction=null;const eD="pendingRedirect",gh=new Map;class tD extends sS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await nD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nD(r,e){const n=sD(e),s=rD(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function iD(r,e){gh.set(r._key(),e)}function rD(r){return hr(r._redirectPersistence)}function sD(r){return ph(eD,r.config.apiKey,r.name)}async function aD(r,e,n=!1){if(Bn(r.app))return Promise.reject(mr(r));const s=da(r),l=XN(s,e),d=await new tD(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const oD=600*1e3;class lD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!aS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oD&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function aS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function uD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(r);default:return!1}}async function cD(r,e={}){return _s(r,"GET","/v1/projects",e)}const hD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fD=/^https?/;async function dD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await cD(r);for(const n of e)try{if(mD(n))return}catch{}ci(r,"unauthorized-domain")}function mD(r){const e=ip(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!fD.test(n))return!1;if(hD.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const pD=new Eu(3e4,6e4);function v0(){const r=ji().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function gD(r){return new Promise((e,n)=>{function s(){v0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v0(),n(Li(r,"network-request-failed"))},timeout:pD.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)s();else{const l=lN("iframefcb");return ji()[l]=()=>{gapi.load?s():n(Li(r,"network-request-failed"))},FA(`${oN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function yD(r){return yh=yh||gD(r),yh}const _D=new Eu(5e3,15e3),vD="__/auth/iframe",ED="emulator/auth/iframe",TD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SD(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Wp(e,ED):`https://${r.config.authDomain}/${vD}`,s={apiKey:e.apiKey,appName:r.name,v:So},l=AD.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function bD(r){const e=await yD(r),n=ji().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:SD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TD,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Li(r,"network-request-failed"),p=ji().setTimeout(()=>{u(d)},_D.get());function y(){ji().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{u(d)})}))}const wD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RD=500,ID=600,CD="_blank",ND="http://localhost";class E0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DD(r,e,n,s=RD,l=ID){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...wD,width:s.toString(),height:l.toString(),top:u,left:d},g=tn().toLowerCase();n&&(p=UA(g)?CD:n),kA(g)&&(e=e||ND,y.scrollbars="yes");const A=Object.entries(y).reduce((D,[H,Z])=>`${D}${H}=${Z},`,"");if(Z2(g)&&p!=="_self")return OD(e||"",p),new E0(null);const S=window.open(e||"",p,A);ge(S,r,"popup-blocked");try{S.focus()}catch{}return new E0(S)}function OD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const xD="__/auth/handler",MD="emulator/auth/handler",VD=encodeURIComponent("fac");async function T0(r,e,n,s,l,u){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:l};if(e instanceof KA){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",h1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof Au){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),g=y?`#${VD}=${encodeURIComponent(y)}`:"";return`${kD(r)}?${fu(p).slice(1)}${g}`}function kD({config:r}){return r.emulator?Wp(r,MD):`https://${r.authDomain}/${xD}`}const Cm="webStorageSupport";class PD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eS,this._completeRedirectFn=aD,this._overrideRedirectResult=iD}async _openPopup(e,n,s,l){_r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await T0(e,n,s,ip(),l);return DD(e,u,rg())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await T0(e,n,s,ip(),l);return jN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await bD(e),s=new lD(e);return n.register("authEvent",l=>(ge(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cm,{type:Cm},l=>{const u=l?.[0]?.[Cm];u!==void 0&&n(!!u),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BA()||PA()||tg()}}const UD=PD;var A0="@firebase/auth",S0="1.12.0";class LD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zD(r){zi(new li("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;ge(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HA(r)},g=new rN(s,l,u,y);return mN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),zi(new li("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new LD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(A0,S0,jD(r)),Fn(A0,S0,"esm2020")}const qD=300,BD=q0("authIdTokenMaxAge")||qD;let b0=null;const HD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>BD)return;const l=n?.token;b0!==l&&(b0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function FD(r=hp()){const e=Ao(r,"auth");if(e.isInitialized())return e.getImmediate();const n=dN(r,{popupRedirectResolver:UD,persistence:[YN,PN,eS]}),s=q0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=HD(u.toString());xN(n,d,()=>d(n.currentUser)),ON(n,p=>d(p))}}const l=j0("auth");return l&&pN(n,`http://${l}`),n}function GD(){return document.getElementsByTagName("head")?.[0]??document}sN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=Li("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",GD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zD("Browser");var QD="firebase",KD="12.7.0";Fn(QD,KD,"app");const oS="@firebase/installations",ag="0.6.19";const lS=1e4,uS=`w:${ag}`,cS="FIS_v2",YD="https://firebaseinstallations.googleapis.com/v1",XD=3600*1e3,$D="installations",JD="Installations";const ZD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new ca($D,JD,ZD);function hS(r){return r instanceof Bi&&r.code.includes("request-failed")}function fS({projectId:r}){return`${YD}/projects/${r}/installations`}function dS(r){return{token:r.token,requestStatus:2,expiresIn:eO(r.expiresIn),creationTime:Date.now()}}async function mS(r,e){const s=(await e.json()).error;return la.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function pS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function WD(r,{refreshToken:e}){const n=pS(r);return n.append("Authorization",tO(e)),n}async function gS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function eO(r){return Number(r.replace("s","000"))}function tO(r){return`${cS} ${r}`}async function nO({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=fS(r),l=pS(r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:n,authVersion:cS,appId:r.appId,sdkVersion:uS},p={method:"POST",headers:l,body:JSON.stringify(d)},y=await gS(()=>fetch(s,p));if(y.ok){const g=await y.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:dS(g.authToken)}}else throw await mS("Create Installation",y)}function yS(r){return new Promise(e=>{setTimeout(e,r)})}function iO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const rO=/^[cdef][\w-]{21}$/,op="";function sO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=aO(r);return rO.test(n)?n:op}catch{return op}}function aO(r){return iO(r).substr(0,22)}function lf(r){return`${r.appName}!${r.appId}`}const _S=new Map;function vS(r,e){const n=lf(r);ES(n,e),oO(n,e)}function ES(r,e){const n=_S.get(r);if(n)for(const s of n)s(e)}function oO(r,e){const n=lO();n&&n.postMessage({key:r,fid:e}),uO()}let ea=null;function lO(){return!ea&&"BroadcastChannel"in self&&(ea=new BroadcastChannel("[Firebase] FID Change"),ea.onmessage=r=>{ES(r.data.key,r.data.fid)}),ea}function uO(){_S.size===0&&ea&&(ea.close(),ea=null)}const cO="firebase-installations-database",hO=1,ua="firebase-installations-store";let Nm=null;function og(){return Nm||(Nm=Lh(cO,hO,{upgrade:(r,e)=>{e===0&&r.createObjectStore(ua)}})),Nm}async function Ph(r,e){const n=lf(r),l=(await og()).transaction(ua,"readwrite"),u=l.objectStore(ua),d=await u.get(n);return await u.put(e,n),await l.done,(!d||d.fid!==e.fid)&&vS(r,e.fid),e}async function TS(r){const e=lf(r),s=(await og()).transaction(ua,"readwrite");await s.objectStore(ua).delete(e),await s.done}async function uf(r,e){const n=lf(r),l=(await og()).transaction(ua,"readwrite"),u=l.objectStore(ua),d=await u.get(n),p=e(d);return p===void 0?await u.delete(n):await u.put(p,n),await l.done,p&&(!d||d.fid!==p.fid)&&vS(r,p.fid),p}async function lg(r){let e;const n=await uf(r.appConfig,s=>{const l=fO(s),u=dO(r,l);return e=u.registrationPromise,u.installationEntry});return n.fid===op?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function fO(r){const e=r||{fid:sO(),registrationStatus:0};return AS(e)}function dO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=mO(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pO(r)}:{installationEntry:e}}async function mO(r,e){try{const n=await nO(r,e);return Ph(r.appConfig,n)}catch(n){throw hS(n)&&n.customData.serverCode===409?await TS(r.appConfig):await Ph(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function pO(r){let e=await w0(r.appConfig);for(;e.registrationStatus===1;)await yS(100),e=await w0(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await lg(r);return s||n}return e}function w0(r){return uf(r,e=>{if(!e)throw la.create("installation-not-found");return AS(e)})}function AS(r){return gO(r)?{fid:r.fid,registrationStatus:0}:r}function gO(r){return r.registrationStatus===1&&r.registrationTime+lS<Date.now()}async function yO({appConfig:r,heartbeatServiceProvider:e},n){const s=_O(r,n),l=WD(r,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:uS,appId:r.appId}},p={method:"POST",headers:l,body:JSON.stringify(d)},y=await gS(()=>fetch(s,p));if(y.ok){const g=await y.json();return dS(g)}else throw await mS("Generate Auth Token",y)}function _O(r,{fid:e}){return`${fS(r)}/${e}/authTokens:generate`}async function ug(r,e=!1){let n;const s=await uf(r.appConfig,u=>{if(!SS(u))throw la.create("not-registered");const d=u.authToken;if(!e&&TO(d))return u;if(d.requestStatus===1)return n=vO(r,e),u;{if(!navigator.onLine)throw la.create("app-offline");const p=SO(u);return n=EO(r,p),p}});return n?await n:s.authToken}async function vO(r,e){let n=await R0(r.appConfig);for(;n.authToken.requestStatus===1;)await yS(100),n=await R0(r.appConfig);const s=n.authToken;return s.requestStatus===0?ug(r,e):s}function R0(r){return uf(r,e=>{if(!SS(e))throw la.create("not-registered");const n=e.authToken;return bO(n)?{...e,authToken:{requestStatus:0}}:e})}async function EO(r,e){try{const n=await yO(r,e),s={...e,authToken:n};return await Ph(r.appConfig,s),n}catch(n){if(hS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await TS(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Ph(r.appConfig,s)}throw n}}function SS(r){return r!==void 0&&r.registrationStatus===2}function TO(r){return r.requestStatus===2&&!AO(r)}function AO(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+XD}function SO(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function bO(r){return r.requestStatus===1&&r.requestTime+lS<Date.now()}async function wO(r){const e=r,{installationEntry:n,registrationPromise:s}=await lg(e);return s?s.catch(console.error):ug(e).catch(console.error),n.fid}async function RO(r,e=!1){const n=r;return await IO(n),(await ug(n,e)).token}async function IO(r){const{registrationPromise:e}=await lg(r);e&&await e}function CO(r){if(!r||!r.options)throw Dm("App Configuration");if(!r.name)throw Dm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Dm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Dm(r){return la.create("missing-app-config-values",{valueName:r})}const bS="installations",NO="installations-internal",DO=r=>{const e=r.getProvider("app").getImmediate(),n=CO(e),s=Ao(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},OO=r=>{const e=r.getProvider("app").getImmediate(),n=Ao(e,bS).getImmediate();return{getId:()=>wO(n),getToken:l=>RO(n,l)}};function xO(){zi(new li(bS,DO,"PUBLIC")),zi(new li(NO,OO,"PRIVATE"))}xO();Fn(oS,ag);Fn(oS,ag,"esm2020");const MO="/firebase-messaging-sw.js",VO="/firebase-cloud-messaging-push-scope",wS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kO="https://fcmregistrations.googleapis.com/v1",RS="google.c.a.c_id",PO="google.c.a.c_l",UO="google.c.a.ts",LO="google.c.a.e",I0=1e4;var C0;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(C0||(C0={}));var cu;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(cu||(cu={}));function lr(r){const e=new Uint8Array(r);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jO(r){const e="=".repeat((4-r.length%4)%4),n=(r+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),l=new Uint8Array(s.length);for(let u=0;u<s.length;++u)l[u]=s.charCodeAt(u);return l}const Om="fcm_token_details_db",zO=5,N0="fcm_token_object_Store";async function qO(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(Om))return null;let e=null;return(await Lh(Om,zO,{upgrade:async(s,l,u,d)=>{if(l<2||!s.objectStoreNames.contains(N0))return;const p=d.objectStore(N0),y=await p.index("fcmSenderId").get(r);if(await p.clear(),!!y){if(l===2){const g=y;if(!g.auth||!g.p256dh||!g.endpoint)return;e={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:lr(g.vapidKey)}}}else if(l===3){const g=y;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:lr(g.auth),p256dh:lr(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:lr(g.vapidKey)}}}else if(l===4){const g=y;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:lr(g.auth),p256dh:lr(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:lr(g.vapidKey)}}}}}})).close(),await ym(Om),await ym("fcm_vapid_details_db"),await ym("undefined"),BO(e)?e:null}function BO(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:e}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const HO="firebase-messaging-database",FO=1,hu="firebase-messaging-store";let xm=null;function IS(){return xm||(xm=Lh(HO,FO,{upgrade:(r,e)=>{e===0&&r.createObjectStore(hu)}})),xm}async function GO(r){const e=CS(r),s=await(await IS()).transaction(hu).objectStore(hu).get(e);if(s)return s;{const l=await qO(r.appConfig.senderId);if(l)return await cg(r,l),l}}async function cg(r,e){const n=CS(r),l=(await IS()).transaction(hu,"readwrite");return await l.objectStore(hu).put(e,n),await l.done,e}function CS({appConfig:r}){return r.appId}const QO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new ca("messaging","Messaging",QO);async function KO(r,e){const n=await fg(r),s=NS(e),l={method:"POST",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(hg(r.appConfig),l)).json()}catch(d){throw an.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw an.create("token-subscribe-no-token");return u.token}async function YO(r,e){const n=await fg(r),s=NS(e.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(`${hg(r.appConfig)}/${e.token}`,l)).json()}catch(d){throw an.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-update-failed",{errorInfo:d})}if(!u.token)throw an.create("token-update-no-token");return u.token}async function XO(r,e){const s={method:"DELETE",headers:await fg(r)};try{const u=await(await fetch(`${hg(r.appConfig)}/${e}`,s)).json();if(u.error){const d=u.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw an.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function hg({projectId:r}){return`${kO}/projects/${r}/registrations`}async function fg({appConfig:r,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function NS({p256dh:r,auth:e,endpoint:n,vapidKey:s}){const l={web:{endpoint:n,auth:e,p256dh:r}};return s!==wS&&(l.web.applicationPubKey=s),l}const $O=10080*60*1e3;async function JO(r){const e=await WO(r.swRegistration,r.vapidKey),n={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:e.endpoint,auth:lr(e.getKey("auth")),p256dh:lr(e.getKey("p256dh"))},s=await GO(r.firebaseDependencies);if(s){if(ex(s.subscriptionOptions,n))return Date.now()>=s.createTime+$O?ZO(r,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await XO(r.firebaseDependencies,s.token)}catch(l){console.warn(l)}return D0(r.firebaseDependencies,n)}else return D0(r.firebaseDependencies,n)}async function ZO(r,e){try{const n=await YO(r.firebaseDependencies,e),s={...e,token:n,createTime:Date.now()};return await cg(r.firebaseDependencies,s),n}catch(n){throw n}}async function D0(r,e){const s={token:await KO(r,e),createTime:Date.now(),subscriptionOptions:e};return await cg(r,s),s.token}async function WO(r,e){const n=await r.pushManager.getSubscription();return n||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jO(e)})}function ex(r,e){const n=e.vapidKey===r.vapidKey,s=e.endpoint===r.endpoint,l=e.auth===r.auth,u=e.p256dh===r.p256dh;return n&&s&&l&&u}function O0(r){const e={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return tx(e,r),nx(e,r),ix(e,r),e}function tx(r,e){if(!e.notification)return;r.notification={};const n=e.notification.title;n&&(r.notification.title=n);const s=e.notification.body;s&&(r.notification.body=s);const l=e.notification.image;l&&(r.notification.image=l);const u=e.notification.icon;u&&(r.notification.icon=u)}function nx(r,e){e.data&&(r.data=e.data)}function ix(r,e){if(!e.fcmOptions&&!e.notification?.click_action)return;r.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(r.fcmOptions.link=n);const s=e.fcmOptions?.analytics_label;s&&(r.fcmOptions.analyticsLabel=s)}function rx(r){return typeof r=="object"&&!!r&&RS in r}function sx(r){if(!r||!r.options)throw Mm("App Configuration Object");if(!r.name)throw Mm("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=r;for(const s of e)if(!n[s])throw Mm(s);return{appName:r.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Mm(r){return an.create("missing-app-config-values",{valueName:r})}class ax{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=sx(e);this.firebaseDependencies={app:e,appConfig:l,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function ox(r){try{r.swRegistration=await navigator.serviceWorker.register(MO,{scope:VO}),r.swRegistration.update().catch(()=>{}),await lx(r.swRegistration)}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function lx(r){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${I0} ms`)),I0),l=r.installing||r.waiting;r.active?(clearTimeout(s),e()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}async function ux(r,e){if(!e&&!r.swRegistration&&await ox(r),!(!e&&r.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");r.swRegistration=e}}async function cx(r,e){e?r.vapidKey=e:r.vapidKey||(r.vapidKey=wS)}async function hx(r,e){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw an.create("permission-blocked");return await cx(r,e?.vapidKey),await ux(r,e?.serviceWorkerRegistration),JO(r)}async function fx(r,e,n){const s=dx(e);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[RS],message_name:n[PO],message_time:n[UO],message_device_time:Math.floor(Date.now()/1e3)})}function dx(r){switch(r){case cu.NOTIFICATION_CLICKED:return"notification_open";case cu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function mx(r,e){const n=e.data;if(!n.isFirebaseMessaging)return;r.onMessageHandler&&n.messageType===cu.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(O0(n)):r.onMessageHandler.next(O0(n)));const s=n.data;rx(s)&&s[LO]==="1"&&await fx(r,n.messageType,s)}const x0="@firebase/messaging",M0="0.12.23";const px=r=>{const e=new ax(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>mx(e,n)),e},gx=r=>{const e=r.getProvider("messaging").getImmediate();return{getToken:s=>hx(e,s)}};function yx(){zi(new li("messaging",px,"PUBLIC")),zi(new li("messaging-internal",gx,"PRIVATE")),Fn(x0,M0),Fn(x0,M0,"esm2020")}async function _x(){try{await G0()}catch{return!1}return typeof window<"u"&&F0()&&o1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function vx(r=hp()){return _x().then(e=>{if(!e)throw an.create("unsupported-browser")},e=>{throw an.create("indexed-db-unsupported")}),Ao(xt(r),"messaging").getImmediate()}yx();const Ex={apiKey:"AIzaSyB5i9OCUpp-VQ9MR4fk01zsP743UuHSVWw",authDomain:"omega-cf92a.firebaseapp.com",projectId:"omega-cf92a",storageBucket:"omega-cf92a.firebasestorage.app",messagingSenderId:"187395193452",appId:"1:187395193452:web:5c0f4aefb2407478687649",measurementId:"G-5114W3WLXR"},dg=Y0(Ex),ut=y2(dg),ur=FD(dg);vx(dg);const ct={QUEUE:"queue",PENDING_REQUESTS:"pendingRequests",NOTIFICATIONS:"notifications",ACTIVITY_LOGS:"activityLogs",USERS:"users",SETTINGS:"settings"},Ue={PENDING:"pending",QUEUED:"queued",SUMMONED:"summoned",STAGING:"staging",LOADING:"loading",COMPLETED:"completed",EXPIRED:"expired"},Rn={SHIPPING_ADMIN:"shipping_admin",ORDER_DESK_ADMIN:"order_desk_admin"},lo={async signIn(r,e){try{let n,s;try{n=await DN(ur,r,e),s=n.user}catch(u){if(u.code==="auth/invalid-credential"&&this.isKnownAdminEmail(r))console.log("Creating new admin account..."),n=await NN(ur,r,e),s=n.user;else throw u}let l=await this.getUserProfile(s.uid);if(!l&&this.isKnownAdminEmail(r)&&(console.log("Creating admin profile..."),l=await this.createAdminProfile(s)),!l||!Object.values(Rn).includes(l.role))throw await p0(ur),new Error("Access denied. Admin account required.");return s}catch(n){throw console.error("Sign in error:",n),new Error(`Sign in failed: ${n.message}`)}},getAdminRole(r){return{"admin@omega.com":Rn.SHIPPING_ADMIN,"shipping@omega.com":Rn.SHIPPING_ADMIN,"shipping@omegaproducts.com":Rn.SHIPPING_ADMIN,"orders@omega.com":Rn.ORDER_DESK_ADMIN,"orders@omegaproducts.com":Rn.ORDER_DESK_ADMIN,"orderdesk@omega.com":Rn.ORDER_DESK_ADMIN}[r.toLowerCase()]||null},isKnownAdminEmail(r){return this.getAdminRole(r)!==null},async createAdminProfile(r){try{const e=this.getAdminRole(r.email);if(!e)throw new Error("Unknown admin email");const n={uid:r.uid,email:r.email,role:e,driverName:"",createdAt:qn(),isActive:!0};return{id:(await Zs(mn(ut,ct.USERS),n)).id,...n}}catch(e){throw console.error("Failed to create admin profile:",e),new Error("Failed to create admin profile")}},async signOut(){try{await p0(ur)}catch(r){throw new Error(`Sign out failed: ${r.message}`)}},onAuthStateChange(r){return MN(ur,r)},getCurrentUser(){return ur.currentUser},async getUserProfile(r){try{const e=Js(mn(ut,ct.USERS),Fl("uid","==",r)),n=await dh(e);return n.empty?null:{id:n.docs[0].id,...n.docs[0].data()}}catch(e){if(e.code==="permission-denied")return console.warn("Permission denied accessing user profile, user may not exist yet"),null;throw new Error(`Failed to get user profile: ${e.message}`)}}},Pl={async approveRequest(r){try{const e=await rh(si(ut,ct.PENDING_REQUESTS,r));if(!e.exists())throw new Error("Request not found");const n=e.data(),l=(await dh(Js(mn(ut,ct.QUEUE),Fl("status","==",Ue.QUEUED)))).size+1,u=await Zs(mn(ut,ct.QUEUE),{...n,status:Ue.QUEUED,position:l,joinedAt:qn(),approvedBy:ur.currentUser?.uid});return await wm(si(ut,ct.PENDING_REQUESTS,r)),await this.sendNotification(n.userId||"anonymous","success",`Request approved - joined queue at position ${l}`,n.poNumber),await this.logActivity("request_approved",`Request approved for ${n.driverName}`,n.poNumber),u.id}catch(e){throw new Error(`Failed to approve request: ${e.message}`)}},async rejectRequest(r,e){try{const n=await rh(si(ut,ct.PENDING_REQUESTS,r));if(!n.exists())throw new Error("Request not found");const s=n.data();await wm(si(ut,ct.PENDING_REQUESTS,r)),await this.sendNotification(s.userId||"anonymous","error",`Request rejected: ${e}`,s.poNumber),await this.logActivity("request_rejected",`Request rejected for ${s.driverName}: ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to reject request: ${n.message}`)}},async updateQueuePositions(r){try{const e=[];for(let n=0;n<r.length;n++){const s=r[n];e.push(sh(si(ut,ct.QUEUE,s.id),{position:n+1,updatedAt:qn()}))}await Promise.all(e),await this.logActivity("queue_reordered","Queue positions updated by admin")}catch(e){throw new Error(`Failed to update queue positions: ${e.message}`)}},async removeFromQueue(r,e="Removed by admin"){try{const n=await rh(si(ut,ct.QUEUE,r));if(!n.exists())throw new Error("Queue item not found");const s=n.data();await wm(si(ut,ct.QUEUE,r));const l=await dh(Js(mn(ut,ct.QUEUE),Fl("position",">",s.position))),u=[];l.forEach(d=>{u.push(sh(d.ref,{position:O2(-1),updatedAt:qn()}))}),await Promise.all(u),await this.sendNotification(s.userId||"anonymous","admin_action",`Removed from queue: ${e}`,s.poNumber),await this.logActivity("removed_from_queue",`${s.driverName} removed from queue: ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to remove from queue: ${n.message}`)}},async updateQueueStatus(r,e){try{await sh(si(ut,ct.QUEUE,r),{status:e,updatedAt:qn()});const s=(await rh(si(ut,ct.QUEUE,r))).data();let l="";switch(e){case Ue.SUMMONED:l="You are summoned! Please proceed to the staging area.";break;case Ue.STAGING:l="You are now in the staging area.";break;case Ue.LOADING:l="You are now in the loading bay.";break;case Ue.COMPLETED:l="Loading completed. Thank you!";break;default:l=`Status updated to ${e}`}await this.sendNotification(s.userId||"anonymous","status_update",l,s.poNumber),await this.logActivity("status_updated",`${s.driverName} status updated to ${e}`,s.poNumber)}catch(n){throw new Error(`Failed to update status: ${n.message}`)}},async sendNotification(r,e,n,s=null){try{await Zs(mn(ut,ct.NOTIFICATIONS),{userId:r,type:e,message:n,poNumber:s,timestamp:qn(),read:!1})}catch(l){console.error("Failed to send notification:",l)}},async logActivity(r,e,n=null){try{await Zs(mn(ut,ct.ACTIVITY_LOGS),{type:r,message:e,poNumber:n,timestamp:qn(),userId:ur.currentUser?.uid||null,userEmail:ur.currentUser?.email||null})}catch(s){console.error("Failed to log activity:",s)}},onPendingRequestsChange(r,e){const n=Js(mn(ut,ct.PENDING_REQUESTS),n0("requestedAt","desc"));return Rm(n,r,e||(s=>{console.error("Pending requests subscription error:",s)}))},onQueueChange(r,e){const n=Js(mn(ut,ct.QUEUE),Fl("status","in",[Ue.QUEUED,Ue.SUMMONED,Ue.STAGING,Ue.LOADING]));return Rm(n,s=>{const l={...s,docs:[...s.docs].sort((u,d)=>{const p=u.data().position||0,y=d.data().position||0;return p-y})};r(l)},e||(s=>{console.error("Queue subscription error:",s)}))},onActivityLogsChange(r,e){const n=Js(mn(ut,ct.ACTIVITY_LOGS),n0("timestamp","desc"));return Rm(n,r,e||(s=>{console.error("Activity logs subscription error:",s)}))},async validatePO(r,e,n=""){try{const s=si(ut,ct.QUEUE,r);await sh(s,{poValidated:e,poValidationReason:n,poValidatedAt:qn()}),await Zs(mn(ut,ct.ACTIVITY_LOGS),{type:"admin_action",action:e?"po_validated":"po_invalidated",message:`PO ${e?"validated":"invalidated"} by order desk admin${n?": "+n:""}`,queueId:r,timestamp:qn()})}catch(s){throw new Error(`Failed to ${e?"validate":"invalidate"} PO: ${s.message}`)}},async createManualTicket(r){try{const n=(await dh(Js(mn(ut,ct.QUEUE),Fl("status","in",[Ue.QUEUED,Ue.SUMMONED])))).docs.map(u=>u.data().position||0),s=n.length>0?Math.max(...n)+1:1,l=await Zs(mn(ut,ct.QUEUE),{...r,status:Ue.QUEUED,position:s,joinedAt:qn(),requestedAt:qn(),userId:"manual_admin_entry",sessionId:"admin_"+Date.now(),poValidated:!0,createdByAdmin:!0});return await Zs(mn(ut,ct.ACTIVITY_LOGS),{type:"admin_action",action:"manual_ticket_created",message:`Manual ticket created by order desk admin for PO ${r.poNumber}`,poNumber:r.poNumber,queueId:l.id,position:s,timestamp:qn()}),{id:l.id,position:s}}catch(e){throw new Error(`Failed to create manual ticket: ${e.message}`)}}},DS=()=>R.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),R.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),Tx=({selectedTicket:r,onClose:e,onConfirm:n})=>{const[s,l]=it.useState("");return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:R.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[R.jsx(Ul,{className:"w-6 h-6 text-blue-500"}),R.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"PO Validation"})]}),R.jsxs("div",{className:"mb-4",children:[R.jsxs("p",{className:"text-gray-600 mb-3",children:["Validate PO ",R.jsx("strong",{children:r?.poNumber}),"?"]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional):"}),R.jsx("textarea",{value:s,onChange:u=>l(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter validation notes..."})]})]}),R.jsxs("div",{className:"flex gap-3",children:[R.jsx("button",{onClick:e,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),R.jsx("button",{onClick:()=>n(r.id,!1,s),className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-medium py-3 rounded-lg transition-colors",children:"Invalidate"}),R.jsx("button",{onClick:()=>n(r.id,!0,s),className:"flex-1 bg-green-500 hover:bg-green-600 text-white font-medium py-3 rounded-lg transition-colors",children:"Validate"})]})]})})},Ax=({onClose:r,onConfirm:e})=>{const[n,s]=it.useState({poNumber:"",phoneNumber:"",orderType:"pickup"}),[l,u]=it.useState(!1),d=async p=>{if(p.preventDefault(),!(!n.poNumber||!n.phoneNumber)){u(!0);try{await e(n),r()}catch(y){console.error("Error creating manual ticket:",y)}finally{u(!1)}}};return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:R.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[R.jsx(Ll,{className:"w-6 h-6 text-blue-500"}),R.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Create Manual Ticket"})]}),R.jsxs("form",{onSubmit:d,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Number"}),R.jsx("input",{type:"text",value:n.poNumber,onChange:p=>s(y=>({...y,poNumber:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"PO123456",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),R.jsx("input",{type:"tel",value:n.phoneNumber,onChange:p=>s(y=>({...y,phoneNumber:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(555) 123-4567",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type"}),R.jsxs("select",{value:n.orderType,onChange:p=>s(y=>({...y,orderType:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[R.jsx("option",{value:"pickup",children:"Pickup"}),R.jsx("option",{value:"delivery",children:"Delivery"})]})]}),R.jsxs("div",{className:"flex gap-3 pt-4",children:[R.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),R.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white font-medium py-3 rounded-lg transition-colors",children:l?"Creating...":"Create Ticket"})]})]})]})})},Sx=({selectedTicket:r,newStatus:e,onClose:n,onConfirm:s})=>{const l={[Ue.QUEUED]:"In Queue",[Ue.SUMMONED]:"Active (Summoned)",[Ue.COMPLETED]:"Resolved"},u={[Ue.QUEUED]:"Move back to waiting in queue",[Ue.SUMMONED]:"Summon driver - they will be notified to come to the facility",[Ue.COMPLETED]:"Mark as resolved - driver has completed loading and left"},d=r?.status,p=e===Ue.QUEUED&&d!==Ue.QUEUED;return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:R.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[R.jsx(k0,{className:`w-6 h-6 ${p?"text-orange-500":"text-blue-500"}`}),R.jsx("h3",{className:"text-xl font-bold text-gray-800",children:p?"Move Back to Queue?":"Update Status?"})]}),R.jsxs("div",{className:"mb-4",children:[R.jsxs("p",{className:"text-gray-600 mb-3",children:["Change status for PO ",R.jsx("strong",{children:r?.poNumber}),"?"]}),R.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[R.jsxs("div",{className:"flex items-center justify-between text-sm",children:[R.jsx("span",{className:"text-gray-600",children:"Current:"}),R.jsx("span",{className:"font-medium",children:l[d]})]}),R.jsxs("div",{className:"flex items-center justify-center my-2",children:[R.jsx("div",{className:`w-6 h-0.5 ${p?"bg-orange-400":"bg-blue-400"}`}),R.jsx("span",{className:`mx-2 ${p?"text-orange-500":"text-blue-500"}`,children:p?"":""}),R.jsx("div",{className:`w-6 h-0.5 ${p?"bg-orange-400":"bg-blue-400"}`})]}),R.jsxs("div",{className:"flex items-center justify-between text-sm",children:[R.jsx("span",{className:"text-gray-600",children:"New:"}),R.jsx("span",{className:`font-medium ${p?"text-orange-600":"text-blue-600"}`,children:l[e]})]})]}),R.jsx("p",{className:"text-sm text-gray-600",children:u[e]}),p&&R.jsx("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:R.jsxs("p",{className:"text-sm text-orange-800",children:[R.jsx("strong",{children:"Note:"})," Driver will be notified of the status change."]})})]}),R.jsxs("div",{className:"flex gap-3",children:[R.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),R.jsx("button",{onClick:()=>s(r.id,e),className:`flex-1 font-medium py-3 rounded-lg transition-colors text-white ${p?"bg-orange-500 hover:bg-orange-600":"bg-blue-500 hover:bg-blue-600"}`,children:p?"Move Back":"Confirm"})]})]})})},bx=({onLogin:r,loading:e,error:n})=>{const[s,l]=it.useState({email:"",password:""}),[u,d]=it.useState(!1),p=A=>{A.preventDefault(),r(s.email,s.password)},y=()=>{l({email:"shipping@omega.com",password:"shipping123"})},g=()=>{l({email:"orders@omega.com",password:"orders123"})};return R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:R.jsx(Lw,{className:"w-8 h-8 text-blue-600"})}),R.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),R.jsx("p",{className:"text-gray-600",children:"Omega Products Truck Queue"})]}),R.jsxs("form",{onSubmit:p,className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),R.jsx("input",{type:"email",value:s.email,onChange:A=>l(S=>({...S,email:A.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@omega.com",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:u?"text":"password",value:s.password,onChange:A=>l(S=>({...S,password:A.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password",required:!0}),R.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?R.jsx(Cw,{className:"w-5 h-5"}):R.jsx(Dw,{className:"w-5 h-5"})})]})]}),n&&R.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:R.jsx("p",{className:"text-red-800 text-sm",children:n})}),R.jsx("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 rounded-lg transition-colors flex items-center justify-center",children:e?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing In..."]}):"Sign In"}),R.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[R.jsx("button",{type:"button",onClick:y,className:"bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium py-3 rounded-lg transition-colors text-sm",children:"Shipping Admin Demo"}),R.jsx("button",{type:"button",onClick:g,className:"bg-purple-100 hover:bg-purple-200 text-purple-700 font-medium py-3 rounded-lg transition-colors text-sm",children:"Order Desk Demo"})]})]})]})})},wx=({userRole:r})=>{const[e,n]=it.useState("dashboard"),[s,l]=it.useState([]),[u,d]=it.useState([]),[p,y]=it.useState(!0),[g,A]=it.useState({show:!1,ticket:null,newStatus:null}),[S,D]=it.useState({show:!1,ticket:null}),[H,Z]=it.useState({show:!1});it.useEffect(()=>{let G=[],fe;fe=setTimeout(()=>{console.log("Loading timeout reached, setting loading to false"),y(!1)},5e3);try{const N=Pl.onQueueChange(w=>{try{console.log("Queue data received:",w.size,"documents");const V=w.docs.map(O=>({id:O.id,...O.data(),joinedAt:O.data().joinedAt?.toDate?.()?.toISOString()||new Date().toISOString(),requestedAt:O.data().requestedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));l(V),fe&&(clearTimeout(fe),fe=null),y(!1)}catch(V){console.error("Error processing queue data:",V),y(!1)}},w=>{console.error("Queue subscription error:",w),y(!1)});G.push(N);const b=Pl.onActivityLogsChange(w=>{try{console.log("Activity logs data received:",w.size,"documents");const V=w.docs.map(O=>({id:O.id,...O.data(),timestamp:O.data().timestamp?.toDate?.()?.toISOString()||new Date().toISOString()}));d(V)}catch(V){console.error("Error processing activity logs:",V)}},w=>{console.error("Activity logs subscription error:",w)});G.push(b)}catch(N){console.error("Error setting up subscriptions:",N),y(!1)}return()=>{fe&&clearTimeout(fe),G.forEach(N=>{try{N()}catch(b){console.error("Error unsubscribing:",b)}})}},[]);const te=async(G,fe)=>{try{await Pl.updateQueueStatus(G,fe),A({show:!1,ticket:null,newStatus:null})}catch(N){console.error("Error updating status:",N),alert("Failed to update status")}},W=(G,fe)=>{A({show:!0,ticket:G,newStatus:fe})},de=()=>{A({show:!1,ticket:null,newStatus:null})},Ee=async(G,fe,N)=>{try{await Pl.validatePO(G,fe,N),D({show:!1,ticket:null})}catch(b){console.error("Error validating PO:",b),alert("Failed to validate PO")}},pe=async G=>{try{await Pl.createManualTicket(G),Z({show:!1})}catch(fe){console.error("Error creating manual ticket:",fe),alert("Failed to create manual ticket")}},He=async()=>{try{await lo.signOut()}catch(G){console.error("Error signing out:",G)}};return p?R.jsx(DS,{}):R.jsxs("div",{className:"min-h-screen bg-gray-100",children:[g.show&&R.jsx(Sx,{selectedTicket:g.ticket,newStatus:g.newStatus,onClose:de,onConfirm:te}),S.show&&R.jsx(Tx,{selectedTicket:S.ticket,onClose:()=>D({show:!1,ticket:null}),onConfirm:Ee}),H.show&&R.jsx(Ax,{onClose:()=>Z({show:!1}),onConfirm:pe}),R.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:R.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{children:[R.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r===Rn.SHIPPING_ADMIN?"Shipping Admin Portal":"Order Desk Admin Portal"}),R.jsx("p",{className:"text-sm text-gray-600",children:"Omega Products Truck Queue Management"})]}),R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsxs("nav",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>n("dashboard"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="dashboard"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:r===Rn.SHIPPING_ADMIN?"Queue Management":"PO Management"}),R.jsx("button",{onClick:()=>n("history"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="history"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:"History"})]}),r===Rn.ORDER_DESK_ADMIN&&R.jsxs("button",{onClick:()=>Z({show:!0}),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[R.jsx(Ll,{className:"w-4 h-4"}),"Create Ticket"]}),R.jsxs("button",{onClick:He,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[R.jsx(Vw,{className:"w-4 h-4"}),"Sign Out"]})]})]})})}),R.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e==="dashboard"&&r===Rn.SHIPPING_ADMIN&&R.jsx("div",{className:"space-y-6",children:R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[R.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[R.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3",children:[R.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[R.jsx(Qv,{className:"w-5 h-5"}),"Queue (",s.filter(G=>G.status===Ue.QUEUED).length,")"]}),R.jsx("p",{className:"text-blue-100 text-sm",children:"Waiting drivers"})]}),R.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.filter(G=>G.status===Ue.QUEUED).length===0?R.jsxs("div",{className:"p-6 text-center text-gray-500",children:[R.jsx(Qv,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),R.jsx("p",{className:"text-sm",children:"No drivers in queue"})]}):R.jsx("div",{className:"divide-y divide-gray-200",children:s.filter(G=>G.status===Ue.QUEUED).sort((G,fe)=>G.position-fe.position).map(G=>R.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[R.jsx("div",{className:"flex items-center justify-between mb-2",children:R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:["#",G.position]}),R.jsxs("span",{className:"font-semibold text-gray-800 text-sm",children:["PO: ",G.poNumber]})]})}),R.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:[R.jsxs("p",{children:["PO: ",G.poNumber]}),R.jsxs("p",{children:["Joined: ",new Date(G.joinedAt).toLocaleTimeString()]})]}),R.jsx("button",{onClick:()=>W(G,Ue.SUMMONED),className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Summon "})]},G.id))})})]}),R.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[R.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 px-4 py-3",children:[R.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[R.jsx(Gv,{className:"w-5 h-5"}),"Active (",s.filter(G=>G.status===Ue.SUMMONED).length,")"]}),R.jsx("p",{className:"text-yellow-100 text-sm",children:"Currently being processed"})]}),R.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.filter(G=>G.status===Ue.SUMMONED).length===0?R.jsxs("div",{className:"p-6 text-center text-gray-500",children:[R.jsx(Gv,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),R.jsx("p",{className:"text-sm",children:"No active drivers"})]}):R.jsx("div",{className:"divide-y divide-gray-200",children:s.filter(G=>G.status===Ue.SUMMONED).map(G=>R.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(Ll,{className:"w-4 h-4 text-gray-600"}),R.jsxs("span",{className:"font-semibold text-gray-800 text-sm",children:["PO: ",G.poNumber]})]}),R.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full",children:"Summoned"})]}),R.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:[R.jsxs("p",{children:["PO: ",G.poNumber]}),R.jsxs("p",{children:["Summoned: ",new Date(G.joinedAt).toLocaleTimeString()]})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>W(G,Ue.COMPLETED),className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Mark Resolved "}),R.jsx("button",{onClick:()=>W(G,Ue.QUEUED),className:"px-3 bg-gray-400 hover:bg-gray-500 text-white text-sm rounded-lg transition-colors",title:"Move back to queue",children:" Queue"})]})]},G.id))})})]}),R.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[R.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-4 py-3",children:[R.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[R.jsx(Ul,{className:"w-5 h-5"}),"Resolved Today (",u.filter(G=>G.action==="completed"&&new Date(G.timestamp).toDateString()===new Date().toDateString()).length,")"]}),R.jsx("p",{className:"text-green-100 text-sm",children:"Completed loading"})]}),R.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.filter(G=>G.action==="completed"&&new Date(G.timestamp).toDateString()===new Date().toDateString()).length===0?R.jsxs("div",{className:"p-6 text-center text-gray-500",children:[R.jsx(Ul,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),R.jsx("p",{className:"text-sm",children:"No completed drivers today"})]}):R.jsx("div",{className:"divide-y divide-gray-200",children:u.filter(G=>G.action==="completed"&&new Date(G.timestamp).toDateString()===new Date().toDateString()).sort((G,fe)=>new Date(fe.timestamp)-new Date(G.timestamp)).map(G=>R.jsxs("div",{className:"p-4",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(Ul,{className:"w-4 h-4 text-green-600"}),R.jsxs("span",{className:"font-semibold text-gray-800 text-sm",children:["PO: ",G.poNumber]})]}),R.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Resolved"})]}),R.jsxs("div",{className:"text-xs text-gray-600",children:[R.jsxs("p",{children:["PO: ",G.poNumber]}),R.jsxs("p",{children:["Completed: ",new Date(G.timestamp).toLocaleTimeString()]})]})]},G.id))})})]})]})}),e==="dashboard"&&r===Rn.ORDER_DESK_ADMIN&&R.jsx("div",{className:"space-y-6",children:R.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[R.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4",children:[R.jsx("h2",{className:"text-xl font-bold text-white",children:"PO Management & Queue Overview"}),R.jsx("p",{className:"text-purple-100 text-sm",children:"Validate PO numbers and manage queue tickets"})]}),R.jsx("div",{className:"p-6",children:R.jsx("div",{className:"grid gap-4",children:s.length===0?R.jsxs("div",{className:"text-center py-12 text-gray-500",children:[R.jsx(Ll,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),R.jsx("p",{children:"No trucks in queue"})]}):s.map(G=>R.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[R.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${G.status===Ue.QUEUED?"bg-blue-100 text-blue-800":G.status===Ue.SUMMONED?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:G.status===Ue.QUEUED?`#${G.position} in Queue`:G.status===Ue.SUMMONED?"Active":"Resolved"}),R.jsx(Ll,{className:"w-4 h-4 text-gray-600"}),R.jsxs("span",{className:"font-semibold text-gray-800",children:["PO: ",G.poNumber]}),G.createdByAdmin&&R.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"Manual Entry"})]}),R.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[R.jsxs("div",{children:[R.jsx("span",{className:"font-medium",children:"Phone:"})," ",G.phoneNumber]}),R.jsxs("div",{children:[R.jsx("span",{className:"font-medium",children:"Type:"})," ",G.orderType]}),R.jsxs("div",{children:[R.jsx("span",{className:"font-medium",children:"Joined:"})," ",new Date(G.joinedAt).toLocaleTimeString()]})]}),G.poValidated!==void 0&&R.jsxs("div",{className:"mt-2",children:[R.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G.poValidated?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:G.poValidated?" PO Validated":" PO Invalid"}),G.poValidationReason&&R.jsx("span",{className:"ml-2 text-xs text-gray-500",children:G.poValidationReason})]})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[G.poValidated===void 0&&R.jsx("button",{onClick:()=>D({show:!0,ticket:G}),className:"px-3 py-2 bg-purple-500 hover:bg-purple-600 text-white text-sm rounded-lg transition-colors",children:"Validate PO"}),G.poValidated===!1&&R.jsx("button",{onClick:()=>D({show:!0,ticket:G}),className:"px-3 py-2 bg-green-500 hover:bg-green-600 text-white text-sm rounded-lg transition-colors",children:"Re-validate"}),G.poValidated===!0&&R.jsx("button",{onClick:()=>D({show:!0,ticket:G}),className:"px-3 py-2 bg-orange-500 hover:bg-orange-600 text-white text-sm rounded-lg transition-colors",children:"Invalidate"})]})]})},G.id))})})]})}),e==="history"&&R.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[R.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Activity History"}),R.jsxs("div",{className:"space-y-3",children:[u.map(G=>R.jsx("div",{className:"border-l-4 border-blue-500 bg-gray-50 rounded-r-lg p-4",children:R.jsxs("div",{className:"flex items-start gap-3",children:[R.jsxs("div",{className:"flex-shrink-0 mt-1",children:[(G.type==="success"||G.type==="queue_joined"||G.type==="request_approved")&&R.jsx(Ul,{className:"w-5 h-5 text-green-500"}),(G.type==="error"||G.type==="request_rejected")&&R.jsx(ww,{className:"w-5 h-5 text-red-500"}),G.type==="pending"&&R.jsx(k0,{className:"w-5 h-5 text-yellow-500"}),(G.type==="admin_action"||G.type==="removed_from_queue"||G.type==="queue_reordered"||G.type==="status_updated")&&R.jsx(Pw,{className:"w-5 h-5 text-blue-500"})]}),R.jsxs("div",{className:"flex-1",children:[R.jsx("p",{className:"text-sm font-medium text-gray-800",children:G.message}),R.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[G.poNumber&&R.jsx("p",{className:"text-xs text-gray-600",children:G.poNumber}),R.jsx("p",{className:"text-xs text-gray-500",children:new Date(G.timestamp).toLocaleString()}),G.userEmail&&R.jsxs("p",{className:"text-xs text-gray-500",children:["by ",G.userEmail]})]})]})]})},G.id)),u.length===0&&R.jsxs("div",{className:"text-center py-12 text-gray-500",children:[R.jsx(xw,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),R.jsx("p",{children:"No activity logs yet"})]})]})]})]})]})},Rx=()=>{const[r,e]=it.useState(null),[n,s]=it.useState(null),[l,u]=it.useState(!0),[d,p]=it.useState(!1),[y,g]=it.useState("");it.useEffect(()=>{const S=lo.onAuthStateChange(async D=>{if(console.log("Auth state changed:",D?D.email:"signed out"),D)try{const H=await lo.getUserProfile(D.uid);console.log("User profile:",H),H&&Object.values(Rn).includes(H.role)?(e(D),s(H),g("")):(console.log("User is not an admin or profile not found"),g("Access denied. Admin account required."),p(!1),await lo.signOut())}catch(H){console.error("Error getting user profile:",H),g("Failed to verify admin access. Please try again."),p(!1),await lo.signOut()}else e(null),s(null);u(!1)});return()=>S()},[]);const A=async(S,D)=>{p(!0),g("");try{console.log("Attempting login with:",S),await lo.signIn(S,D)}catch(H){console.error("Login error:",H),g(`Sign in failed: ${H.message}`)}finally{p(!1)}};return l?R.jsx(DS,{}):r?R.jsx(wx,{userRole:n?.role}):R.jsx(bx,{onLogin:A,loading:d,error:y})};gw.createRoot(document.getElementById("root")).render(R.jsx(it.StrictMode,{children:R.jsx(Rx,{})}));
