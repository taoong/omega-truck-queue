(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var rm={exports:{}},Ml={};var Mv;function ab(){if(Mv)return Ml;Mv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Ml.Fragment=t,Ml.jsx=n,Ml.jsxs=n,Ml}var xv;function ob(){return xv||(xv=1,rm.exports=ab()),rm.exports}var U=ob(),sm={exports:{}},Et={};var Vv;function lb(){if(Vv)return Et;Vv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function ut(M,X,nt){this.props=M,this.context=X,this.refs=Z,this.updater=nt||J}ut.prototype.isReactComponent={},ut.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},ut.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function vt(){}vt.prototype=ut.prototype;function ft(M,X,nt){this.props=M,this.context=X,this.refs=Z,this.updater=nt||J}var Pt=ft.prototype=new vt;Pt.constructor=ft,et(Pt,ut.prototype),Pt.isPureReactComponent=!0;var Xt=Array.isArray;function Vt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,X,nt){var st=nt.ref;return{$$typeof:r,type:M,key:X,ref:st!==void 0?st:null,props:nt}}function x(M,X){return I(M.type,X,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return X[nt]})}var S=/\/+/g;function At(M,X){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):X.toString(36)}function Gt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Vt,Vt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,X,nt,st,yt){var wt=typeof M;(wt==="undefined"||wt==="boolean")&&(M=null);var Ut=!1;if(M===null)Ut=!0;else switch(wt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(M.$$typeof){case r:case t:Ut=!0;break;case A:return Ut=M._init,H(Ut(M._payload),X,nt,st,yt)}}if(Ut)return yt=yt(M),Ut=st===""?"."+At(M,0):st,Xt(yt)?(nt="",Ut!=null&&(nt=Ut.replace(S,"$&/")+"/"),H(yt,X,nt,"",function(_s){return _s})):yt!=null&&(O(yt)&&(yt=x(yt,nt+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(S,"$&/")+"/")+Ut)),X.push(yt)),1;Ut=0;var Oe=st===""?".":st+":";if(Xt(M))for(var se=0;se<M.length;se++)st=M[se],wt=Oe+At(st,se),Ut+=H(st,X,nt,wt,yt);else if(se=G(M),typeof se=="function")for(M=se.call(M),se=0;!(st=M.next()).done;)st=st.value,wt=Oe+At(st,se++),Ut+=H(st,X,nt,wt,yt);else if(wt==="object"){if(typeof M.then=="function")return H(Gt(M),X,nt,st,yt);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function W(M,X,nt){if(M==null)return M;var st=[],yt=0;return H(M,st,"","",function(wt){return X.call(nt,wt,yt++)}),st}function at(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var pt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qt={map:W,forEach:function(M,X,nt){W(M,function(){X.apply(this,arguments)},nt)},count:function(M){var X=0;return W(M,function(){X++}),X},toArray:function(M){return W(M,function(X){return X})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=b,Et.Children=qt,Et.Component=ut,Et.Fragment=n,Et.Profiler=l,Et.PureComponent=ft,Et.StrictMode=s,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,X,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=et({},M.props),yt=M.key;if(X!=null)for(wt in X.key!==void 0&&(yt=""+X.key),X)!w.call(X,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&X.ref===void 0||(st[wt]=X[wt]);var wt=arguments.length-2;if(wt===1)st.children=nt;else if(1<wt){for(var Ut=Array(wt),Oe=0;Oe<wt;Oe++)Ut[Oe]=arguments[Oe+2];st.children=Ut}return I(M.type,yt,st)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Et.createElement=function(M,X,nt){var st,yt={},wt=null;if(X!=null)for(st in X.key!==void 0&&(wt=""+X.key),X)w.call(X,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=X[st]);var Ut=arguments.length-2;if(Ut===1)yt.children=nt;else if(1<Ut){for(var Oe=Array(Ut),se=0;se<Ut;se++)Oe[se]=arguments[se+2];yt.children=Oe}if(M&&M.defaultProps)for(st in Ut=M.defaultProps,Ut)yt[st]===void 0&&(yt[st]=Ut[st]);return I(M,wt,yt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:g,render:M}},Et.isValidElement=O,Et.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:at}},Et.memo=function(M,X){return{$$typeof:p,type:M,compare:X===void 0?null:X}},Et.startTransition=function(M){var X=C.T,nt={};C.T=nt;try{var st=M(),yt=C.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Vt,pt)}catch(wt){pt(wt)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),C.T=X}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(M){return C.H.use(M)},Et.useActionState=function(M,X,nt){return C.H.useActionState(M,X,nt)},Et.useCallback=function(M,X){return C.H.useCallback(M,X)},Et.useContext=function(M){return C.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,X){return C.H.useDeferredValue(M,X)},Et.useEffect=function(M,X){return C.H.useEffect(M,X)},Et.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(M,X,nt){return C.H.useImperativeHandle(M,X,nt)},Et.useInsertionEffect=function(M,X){return C.H.useInsertionEffect(M,X)},Et.useLayoutEffect=function(M,X){return C.H.useLayoutEffect(M,X)},Et.useMemo=function(M,X){return C.H.useMemo(M,X)},Et.useOptimistic=function(M,X){return C.H.useOptimistic(M,X)},Et.useReducer=function(M,X,nt){return C.H.useReducer(M,X,nt)},Et.useRef=function(M){return C.H.useRef(M)},Et.useState=function(M){return C.H.useState(M)},Et.useSyncExternalStore=function(M,X,nt){return C.H.useSyncExternalStore(M,X,nt)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.3",Et}var kv;function ag(){return kv||(kv=1,sm.exports=lb()),sm.exports}var le=ag(),am={exports:{}},xl={},om={exports:{}},lm={};var Pv;function ub(){return Pv||(Pv=1,(function(r){function t(H,W){var at=H.length;H.push(W);t:for(;0<at;){var pt=at-1>>>1,qt=H[pt];if(0<l(qt,W))H[pt]=W,H[at]=qt,at=pt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var W=H[0],at=H.pop();if(at!==W){H[0]=at;t:for(var pt=0,qt=H.length,M=qt>>>1;pt<M;){var X=2*(pt+1)-1,nt=H[X],st=X+1,yt=H[st];if(0>l(nt,at))st<qt&&0>l(yt,nt)?(H[pt]=yt,H[st]=at,pt=st):(H[pt]=nt,H[X]=at,pt=X);else if(st<qt&&0>l(yt,at))H[pt]=yt,H[st]=at,pt=st;else break t}}return W}function l(H,W){var at=H.sortIndex-W.sortIndex;return at!==0?at:H.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],A=1,b=null,N=3,G=!1,J=!1,et=!1,Z=!1,ut=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var W=n(p);W!==null;){if(W.callback===null)s(p);else if(W.startTime<=H)s(p),W.sortIndex=W.expirationTime,t(y,W);else break;W=n(p)}}function Xt(H){if(et=!1,Pt(H),!J)if(n(y)!==null)J=!0,Vt||(Vt=!0,k());else{var W=n(p);W!==null&&Gt(Xt,W.startTime-H)}}var Vt=!1,C=-1,w=5,I=-1;function x(){return Z?!0:!(r.unstable_now()-I<w)}function O(){if(Z=!1,Vt){var H=r.unstable_now();I=H;var W=!0;try{t:{J=!1,et&&(et=!1,vt(C),C=-1),G=!0;var at=N;try{e:{for(Pt(H),b=n(y);b!==null&&!(b.expirationTime>H&&x());){var pt=b.callback;if(typeof pt=="function"){b.callback=null,N=b.priorityLevel;var qt=pt(b.expirationTime<=H);if(H=r.unstable_now(),typeof qt=="function"){b.callback=qt,Pt(H),W=!0;break e}b===n(y)&&s(y),Pt(H)}else s(y);b=n(y)}if(b!==null)W=!0;else{var M=n(p);M!==null&&Gt(Xt,M.startTime-H),W=!1}}break t}finally{b=null,N=at,G=!1}W=void 0}}finally{W?k():Vt=!1}}}var k;if(typeof ft=="function")k=function(){ft(O)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,At=S.port2;S.port1.onmessage=O,k=function(){At.postMessage(null)}}else k=function(){ut(O,0)};function Gt(H,W){C=ut(function(){H(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(H){switch(N){case 1:case 2:case 3:var W=3;break;default:W=N}var at=N;N=W;try{return H()}finally{N=at}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var at=N;N=H;try{return W()}finally{N=at}},r.unstable_scheduleCallback=function(H,W,at){var pt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?pt+at:pt):at=pt,H){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=at+qt,H={id:A++,callback:W,priorityLevel:H,startTime:at,expirationTime:qt,sortIndex:-1},at>pt?(H.sortIndex=at,t(p,H),n(y)===null&&H===n(p)&&(et?(vt(C),C=-1):et=!0,Gt(Xt,at-pt))):(H.sortIndex=qt,t(y,H),J||G||(J=!0,Vt||(Vt=!0,k()))),H},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(H){var W=N;return function(){var at=N;N=W;try{return H.apply(this,arguments)}finally{N=at}}}})(lm)),lm}var Uv;function cb(){return Uv||(Uv=1,om.exports=ub()),om.exports}var um={exports:{}},Je={};var Lv;function hb(){if(Lv)return Je;Lv=1;var r=ag();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:p,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(y,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(y,p,null,A)},Je.flushSync=function(y){var p=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=A,s.d.f()}},Je.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Je.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Je.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var A=p.as,b=g(A,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,G=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:G}):A==="script"&&s.d.X(y,{crossOrigin:b,integrity:N,fetchPriority:G,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Je.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Je.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,b=g(A,p.crossOrigin);s.d.L(y,A,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Je.preloadModule=function(y,p){if(typeof y=="string")if(p){var A=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Je.requestFormReset=function(y){s.d.r(y)},Je.unstable_batchedUpdates=function(y,p){return y(p)},Je.useFormState=function(y,p,A){return d.H.useFormState(y,p,A)},Je.useFormStatus=function(){return d.H.useHostTransitionStatus()},Je.version="19.2.3",Je}var zv;function fb(){if(zv)return um.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),um.exports=hb(),um.exports}var jv;function db(){if(jv)return xl;jv=1;var r=cb(),t=ag(),n=fb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function A(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=A(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),Xt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ut:return"Profiler";case Z:return"StrictMode";case Xt:return"Suspense";case Vt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ft:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Pt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:At(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return At(e(i))}catch{}}return null}var Gt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},pt=[],qt=-1;function M(e){return{current:e}}function X(e){0>qt||(e.current=pt[qt],pt[qt]=null,qt--)}function nt(e,i){qt++,pt[qt]=e.current,e.current=i}var st=M(null),yt=M(null),wt=M(null),Ut=M(null);function Oe(e,i){switch(nt(wt,i),nt(yt,e),nt(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?ev(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=ev(i),e=nv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(st),nt(st,e)}function se(){X(st),X(yt),X(wt)}function _s(e){e.memoizedState!==null&&nt(Ut,e);var i=st.current,a=nv(i,e.type);i!==a&&(nt(yt,e),nt(st,a))}function fa(e){yt.current===e&&(X(st),X(yt)),Ut.current===e&&(X(Ut),Cl._currentValue=at)}var da,ma;function li(e){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+e+ma}var Co=!1;function vs(e,i){if(!e||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var j=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){j=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){j=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var R=_.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?li(a):""}function No(e,i){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return vs(e.type,!1);case 11:return vs(e.type.render,!1);case 1:return vs(e.type,!0);case 31:return li("Activity");default:return""}}function Do(e){try{var i="",a=null;do i+=No(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,_r=r.unstable_cancelCallback,af=r.unstable_shouldYield,vu=r.unstable_requestPaint,nn=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,of=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,Tu=r.log,Au=r.unstable_setDisableYieldValue,Fn=null,Be=null;function In(e){if(typeof Tu=="function"&&Au(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Fn,e)}catch{}}var fe=Math.clz32?Math.clz32:bu,Su=Math.log,ga=Math.LN2;function bu(e){return e>>>=0,e===0?32:31-(Su(e)/ga|0)|0}var ui=256,Ts=262144,ve=4194304;function ci(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ci(o):(_&=E,_!==0?h=ci(_):a||(a=E&~e,a!==0&&(h=ci(a))))):(E=o&~f,E!==0?h=ci(E):_!==0?h=ci(_):a||(a=o&~e,a!==0&&(h=ci(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Gn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function lf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function fi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function As(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uf(e,i,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var F=31-fe(a),Y=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var B=j[F];B!==null&&(B.lane&=-536870913)}a&=~Y}o!==0&&Ss(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function Ss(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-fe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function xo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Vo(e,i){var a=i&-i;return a=(a&42)!==0?1:bs(a),(a&(e.suspendedLanes|i))!==0?0:a}function bs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ru(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:wv(e.type))}function Qn(e,i){var a=W.p;try{return W.p=e,i()}finally{W.p=a}}var Kn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Kn,Ue="__reactProps$"+Kn,di="__reactContainer$"+Kn,pa="__reactEvents$"+Kn,cf="__reactListeners$"+Kn,Iu="__reactHandles$"+Kn,Cu="__reactResources$"+Kn,mi="__reactMarker$"+Kn;function ya(e){delete e[Ee],delete e[Ue],delete e[pa],delete e[cf],delete e[Iu]}function gi(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[di]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=uv(e);e!==null;){if(a=e[Ee])return a;e=uv(e)}return i}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[Ee]||e[di]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function pi(e){var i=e[Cu];return i||(i=e[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Te(e){e[mi]=!0}var ko=new Set,Po={};function yi(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Po[e]=i,e=0;e<i.length;e++)ko.add(i[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},zo={};function Nu(e){return _e.call(zo,e)?!0:_e.call(Lo,e)?!1:Uo.test(e)?zo[e]=!0:(Lo[e]=!0,!1)}function _a(e,i,a){if(Nu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ae(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Er(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=Er(e)?"checked":"value";e._valueTracker=jo(e,i,""+e[i])}}function ws(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Er(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rs=/[\n"\\]/g;function on(e){return e.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(e,i,a,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?qo(e,_,Le(i)):a!=null?qo(e,_,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function Du(e,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function qo(e,i,a){i==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Tr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ou(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function Ar(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Gt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Mu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ho(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Bo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Bo(e,f,i[f])}function Ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return Sr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Fo=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var br=null,Ei=null;function Is(e){var i=Cn(e);if(i&&(e=i.stateNode)){var a=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(va(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(s(90));va(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ws(o)}break t;case"textarea":Ou(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Tr(e,!!a.multiple,i,!1)}}}var Aa=!1;function wr(e,i,a){if(Aa)return e(i,a);Aa=!0;try{var o=e(i);return o}finally{if(Aa=!1,(br!==null||Ei!==null)&&(Rc(),br&&(i=br,e=Ei,Ei=br=null,Is(i),e)))for(i=0;i<e.length;i++)Is(e[i])}}function Xn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(Dn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Cs=!1}var Ti=null,Go=null,Ns=null;function Qo(){if(Ns)return Ns;var e,i=Go,a=i.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Ns=h.slice(e,1<o?1-o:void 0)}function Ds(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function $n(){return!1}function He(e){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:$n,this.isPropagationStopped=$n,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=He(Fi),Rr=b({},Fi,{view:0,detail:0}),Ko=He(Rr),Ir,Sa,Si,ba=b({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Ir=e.screenX-Si.screenX,Sa=e.screenY-Si.screenY):Sa=Ir=0,Si=e),Ir)},movementY:function(e){return"movementY"in e?e.movementY:Sa}}),Yo=He(ba),Os=b({},ba,{dataTransfer:0}),Vu=He(Os),ku=b({},Rr,{relatedTarget:0}),Ms=He(ku),Xo=b({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=He(Xo),wa=b({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uu=He(wa),Lu=b({},Fi,{data:0}),bi=He(Lu),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=qu[e])?!!i[e]:!1}function Cr(){return Bu}var rn=b({},Rr,{key:function(e){if(e.key){var i=zu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ju[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hu=He(rn),Fu=b({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=He(Fu),c=b({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),m=He(c),v=b({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=He(v),P=b({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(P),tt=b({},Fi,{newState:0,oldState:0}),St=He(tt),de=[9,13,27,32],Bt=Dn&&"CompositionEvent"in window,ae=null;Dn&&"documentMode"in document&&(ae=document.documentMode);var On=Dn&&"TextEvent"in window&&!ae,wi=Dn&&(!Bt||ae&&8<ae&&11>=ae),Jn=" ",Zn=!1;function xs(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function DS(e,i){switch(e){case"compositionend":return Ra(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return e=i.data,e===Jn&&Zn?null:e;default:return null}}function OS(e,i){if(Ia)return e==="compositionend"||!Bt&&xs(e,i)?(e=Qo(),Ns=Go=Ti=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!MS[e.type]:i==="textarea"}function dp(e,i,a,o){br?Ei?Ei.push(o):Ei=[o]:br=o,i=xc(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var $o=null,Jo=null;function xS(e){X_(e,0)}function Gu(e){var i=pn(e);if(ws(i))return e}function mp(e,i){if(e==="change")return i}var gp=!1;if(Dn){var hf;if(Dn){var ff="oninput"in document;if(!ff){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),ff=typeof pp.oninput=="function"}hf=ff}else hf=!1;gp=hf&&(!document.documentMode||9<document.documentMode)}function yp(){$o&&($o.detachEvent("onpropertychange",_p),Jo=$o=null)}function _p(e){if(e.propertyName==="value"&&Gu(Jo)){var i=[];dp(i,Jo,e,Nn(e)),wr(xS,i)}}function VS(e,i,a){e==="focusin"?(yp(),$o=i,Jo=a,$o.attachEvent("onpropertychange",_p)):e==="focusout"&&yp()}function kS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gu(Jo)}function PS(e,i){if(e==="click")return Gu(i)}function US(e,i){if(e==="input"||e==="change")return Gu(i)}function LS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:LS;function Zo(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function vp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ep(e,i){var a=vp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=vp(a)}}function Tp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Tp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ap(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=vi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=vi(e.document)}return i}function df(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var zS=Dn&&"documentMode"in document&&11>=document.documentMode,Ca=null,mf=null,Wo=null,gf=!1;function Sp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Ca==null||Ca!==vi(o)||(o=Ca,"selectionStart"in o&&df(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wo&&Zo(Wo,o)||(Wo=o,o=xc(mf,"onSelect"),0<o.length&&(i=new Ai("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Ca)))}function Vs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Na={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},pf={},bp={};Dn&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function ks(e){if(pf[e])return pf[e];if(!Na[e])return e;var i=Na[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in bp)return pf[e]=i[a];return e}var wp=ks("animationend"),Rp=ks("animationiteration"),Ip=ks("animationstart"),jS=ks("transitionrun"),qS=ks("transitionstart"),BS=ks("transitioncancel"),Cp=ks("transitionend"),Np=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Wn(e,i){Np.set(e,i),yi(i,[e])}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],Da=0,_f=0;function Ku(){for(var e=Da,i=_f=Da=0;i<e;){var a=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var f=Mn[i];if(Mn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Dp(a,h,f)}}function Yu(e,i,a,o){Mn[Da++]=e,Mn[Da++]=i,Mn[Da++]=a,Mn[Da++]=o,_f|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function vf(e,i,a,o){return Yu(e,i,a,o),Xu(e)}function Ps(e,i){return Yu(e,null,null,i),Xu(e)}function Dp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Xu(e){if(50<Tl)throw Tl=0,Cd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Oa={};function HS(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,o){return new HS(e,i,a,o)}function Ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Op(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function $u(e,i,a,o,h,f){var _=0;if(o=e,typeof e=="function")Ef(e)&&(_=1);else if(typeof e=="string")_=Y1(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=vn(31,a,i,h),e.elementType=I,e.lanes=f,e;case et:return Us(a.children,h,f,i);case Z:_=8,h|=24;break;case ut:return e=vn(12,a,i,h|2),e.elementType=ut,e.lanes=f,e;case Xt:return e=vn(13,a,i,h),e.elementType=Xt,e.lanes=f,e;case Vt:return e=vn(19,a,i,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:_=10;break t;case vt:_=9;break t;case Pt:_=11;break t;case C:_=14;break t;case w:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=vn(_,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Us(e,i,a,o){return e=vn(7,e,o,i),e.lanes=a,e}function Tf(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function Mp(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function Af(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var xp=new WeakMap;function xn(e,i){if(typeof e=="object"&&e!==null){var a=xp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Do(i)},xp.set(e,i),i)}return{value:e,source:i,stack:Do(i)}}var Ma=[],xa=0,Ju=null,tl=0,Vn=[],kn=0,Nr=null,Ri=1,Ii="";function Ki(e,i){Ma[xa++]=tl,Ma[xa++]=Ju,Ju=e,tl=i}function Vp(e,i,a){Vn[kn++]=Ri,Vn[kn++]=Ii,Vn[kn++]=Nr,Nr=e;var o=Ri;e=Ii;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ri=1<<32-fe(i)+h|a<<h|o,Ii=f+e}else Ri=1<<f|a<<h|o,Ii=e}function Sf(e){e.return!==null&&(Ki(e,1),Vp(e,1,0))}function bf(e){for(;e===Ju;)Ju=Ma[--xa],Ma[xa]=null,tl=Ma[--xa],Ma[xa]=null;for(;e===Nr;)Nr=Vn[--kn],Vn[kn]=null,Ii=Vn[--kn],Vn[kn]=null,Ri=Vn[--kn],Vn[kn]=null}function kp(e,i){Vn[kn++]=Ri,Vn[kn++]=Ii,Vn[kn++]=Nr,Ri=i.id,Ii=i.overflow,Nr=e}var Fe=null,ne=null,kt=!1,Dr=null,Pn=!1,wf=Error(s(519));function Or(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(xn(i,e)),wf}function Pp(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ee]=e,i[Ue]=o,a){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Ct(Sl[a],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),Du(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),Ar(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||W_(i.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),o.onScroll!=null&&Ct("scroll",i),o.onScrollEnd!=null&&Ct("scrollend",i),o.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Or(e,!0)}function Up(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Fe=Fe.return}}function Va(e){if(e!==Fe)return!1;if(!kt)return Up(e),kt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hd(e.type,e.memoizedProps)),a=!a),a&&ne&&Or(e),Up(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=lv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=lv(e)}else i===27?(i=ne,Gr(e.type)?(e=Yd,Yd=null,ne=e):ne=i):ne=Fe?Ln(e.stateNode.nextSibling):null;return!0}function Ls(){ne=Fe=null,kt=!1}function Rf(){var e=Dr;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Dr=null),e}function el(e){Dr===null?Dr=[e]:Dr.push(e)}var If=M(null),zs=null,Yi=null;function Mr(e,i,a){nt(If,i._currentValue),i._currentValue=a}function Xi(e){e._currentValue=If.current,X(If)}function Cf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Nf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Cf(f.return,a,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Cf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ka(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;_n(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}h=h.return}e!==null&&Nf(i,e,a,o),i.flags|=262144}function Zu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function js(e){zs=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Lp(zs,e)}function Wu(e,i){return zs===null&&js(e),Lp(e,i)}function Lp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(e===null)throw Error(s(308));Yi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Yi=Yi.next=i;return a}var FS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},GS=r.unstable_scheduleCallback,QS=r.unstable_NormalPriority,Se={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new FS,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&GS(QS,function(){e.controller.abort()})}var il=null,Of=0,Pa=0,Ua=null;function KS(e,i){if(il===null){var a=il=[];Of=0,Pa=Vd(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Of++,i.then(zp,zp),i}function zp(){if(--Of===0&&il!==null){Ua!==null&&(Ua.status="fulfilled");var e=il;il=null,Pa=0,Ua=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function YS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var jp=H.S;H.S=function(e,i){S_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&KS(e,i),jp!==null&&jp(e,i)};var qs=M(null);function Mf(){var e=qs.current;return e!==null?e:te.pooledCache}function tc(e,i){i===null?nt(qs,qs.current):nt(qs,i.pool)}function qp(){var e=Mf();return e===null?null:{parent:Se._currentValue,pool:e}}var La=Error(s(460)),xf=Error(s(474)),ec=Error(s(542)),nc={then:function(){}};function Bp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gp(e),e;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gp(e),e}throw Hs=i,La}}function Bs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,La):a}}var Hs=null;function Fp(){if(Hs===null)throw Error(s(459));var e=Hs;return Hs=null,e}function Gp(e){if(e===La||e===ec)throw Error(s(483))}var za=null,rl=0;function ic(e){var i=rl;return rl+=1,za===null&&(za=[]),Hp(za,e,i)}function sl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function rc(e,i){throw i.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Qp(e){function i(V,D){if(e){var L=V.deletions;L===null?(V.deletions=[D],V.flags|=16):L.push(D)}}function a(V,D){if(!e)return null;for(;D!==null;)i(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Qi(V,D),V.index=0,V.sibling=null,V}function f(V,D,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<D?(V.flags|=67108866,D):L):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function _(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,L,Q){return D===null||D.tag!==6?(D=Tf(L,V.mode,Q),D.return=V,D):(D=h(D,L),D.return=V,D)}function R(V,D,L,Q){var ct=L.type;return ct===et?F(V,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&Bs(ct)===D.type)?(D=h(D,L.props),sl(D,L),D.return=V,D):(D=$u(L.type,L.key,L.props,null,V.mode,Q),sl(D,L),D.return=V,D)}function z(V,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Af(L,V.mode,Q),D.return=V,D):(D=h(D,L.children||[]),D.return=V,D)}function F(V,D,L,Q,ct){return D===null||D.tag!==7?(D=Us(L,V.mode,Q,ct),D.return=V,D):(D=h(D,L),D.return=V,D)}function Y(V,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Tf(""+D,V.mode,L),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return L=$u(D.type,D.key,D.props,null,V.mode,L),sl(L,D),L.return=V,L;case J:return D=Af(D,V.mode,L),D.return=V,D;case w:return D=Bs(D),Y(V,D,L)}if(Gt(D)||k(D))return D=Us(D,V.mode,L,null),D.return=V,D;if(typeof D.then=="function")return Y(V,ic(D),L);if(D.$$typeof===ft)return Y(V,Wu(V,D),L);rc(V,D)}return null}function j(V,D,L,Q){var ct=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(V,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===ct?R(V,D,L,Q):null;case J:return L.key===ct?z(V,D,L,Q):null;case w:return L=Bs(L),j(V,D,L,Q)}if(Gt(L)||k(L))return ct!==null?null:F(V,D,L,Q,null);if(typeof L.then=="function")return j(V,D,ic(L),Q);if(L.$$typeof===ft)return j(V,D,Wu(V,L),Q);rc(V,L)}return null}function B(V,D,L,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(L)||null,E(D,V,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return V=V.get(Q.key===null?L:Q.key)||null,R(D,V,Q,ct);case J:return V=V.get(Q.key===null?L:Q.key)||null,z(D,V,Q,ct);case w:return Q=Bs(Q),B(V,D,L,Q,ct)}if(Gt(Q)||k(Q))return V=V.get(L)||null,F(D,V,Q,ct,null);if(typeof Q.then=="function")return B(V,D,L,ic(Q),ct);if(Q.$$typeof===ft)return B(V,D,L,Wu(D,Q),ct);rc(D,Q)}return null}function ot(V,D,L,Q){for(var ct=null,zt=null,lt=D,Rt=D=0,Dt=null;lt!==null&&Rt<L.length;Rt++){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var jt=j(V,lt,L[Rt],Q);if(jt===null){lt===null&&(lt=Dt);break}e&&lt&&jt.alternate===null&&i(V,lt),D=f(jt,D,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt,lt=Dt}if(Rt===L.length)return a(V,lt),kt&&Ki(V,Rt),ct;if(lt===null){for(;Rt<L.length;Rt++)lt=Y(V,L[Rt],Q),lt!==null&&(D=f(lt,D,Rt),zt===null?ct=lt:zt.sibling=lt,zt=lt);return kt&&Ki(V,Rt),ct}for(lt=o(lt);Rt<L.length;Rt++)Dt=B(lt,V,Rt,L[Rt],Q),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?Rt:Dt.key),D=f(Dt,D,Rt),zt===null?ct=Dt:zt.sibling=Dt,zt=Dt);return e&&lt.forEach(function($r){return i(V,$r)}),kt&&Ki(V,Rt),ct}function dt(V,D,L,Q){if(L==null)throw Error(s(151));for(var ct=null,zt=null,lt=D,Rt=D=0,Dt=null,jt=L.next();lt!==null&&!jt.done;Rt++,jt=L.next()){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var $r=j(V,lt,jt.value,Q);if($r===null){lt===null&&(lt=Dt);break}e&&lt&&$r.alternate===null&&i(V,lt),D=f($r,D,Rt),zt===null?ct=$r:zt.sibling=$r,zt=$r,lt=Dt}if(jt.done)return a(V,lt),kt&&Ki(V,Rt),ct;if(lt===null){for(;!jt.done;Rt++,jt=L.next())jt=Y(V,jt.value,Q),jt!==null&&(D=f(jt,D,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return kt&&Ki(V,Rt),ct}for(lt=o(lt);!jt.done;Rt++,jt=L.next())jt=B(lt,V,Rt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?Rt:jt.key),D=f(jt,D,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(sb){return i(V,sb)}),kt&&Ki(V,Rt),ct}function Wt(V,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var ct=L.key;D!==null;){if(D.key===ct){if(ct=L.type,ct===et){if(D.tag===7){a(V,D.sibling),Q=h(D,L.props.children),Q.return=V,V=Q;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&Bs(ct)===D.type){a(V,D.sibling),Q=h(D,L.props),sl(Q,L),Q.return=V,V=Q;break t}a(V,D);break}else i(V,D);D=D.sibling}L.type===et?(Q=Us(L.props.children,V.mode,Q,L.key),Q.return=V,V=Q):(Q=$u(L.type,L.key,L.props,null,V.mode,Q),sl(Q,L),Q.return=V,V=Q)}return _(V);case J:t:{for(ct=L.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(V,D.sibling),Q=h(D,L.children||[]),Q.return=V,V=Q;break t}else{a(V,D);break}else i(V,D);D=D.sibling}Q=Af(L,V.mode,Q),Q.return=V,V=Q}return _(V);case w:return L=Bs(L),Wt(V,D,L,Q)}if(Gt(L))return ot(V,D,L,Q);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(s(150));return L=ct.call(L),dt(V,D,L,Q)}if(typeof L.then=="function")return Wt(V,D,ic(L),Q);if(L.$$typeof===ft)return Wt(V,D,Wu(V,L),Q);rc(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(V,D.sibling),Q=h(D,L),Q.return=V,V=Q):(a(V,D),Q=Tf(L,V.mode,Q),Q.return=V,V=Q),_(V)):a(V,D)}return function(V,D,L,Q){try{rl=0;var ct=Wt(V,D,L,Q);return za=null,ct}catch(lt){if(lt===La||lt===ec)throw lt;var zt=vn(29,lt,null,V.mode);return zt.lanes=Q,zt.return=V,zt}}}var Fs=Qp(!0),Kp=Qp(!1),xr=!1;function Vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Xu(e),Dp(e,null,a),i}return Yu(e,o,i,a),Xu(e)}function al(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,xo(e,a)}}function Pf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Uf=!1;function ol(){if(Uf){var e=Ua;if(e!==null)throw e}}function ll(e,i,a,o){Uf=!1;var h=e.updateQueue;xr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,_===null?f=z:_.next=z,_=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==_&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;_=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,B=j!==E.lane;if(B?(Nt&j)===j:(o&j)===j){j!==0&&j===Pa&&(Uf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,dt=E;j=i;var Wt=a;switch(dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){Y=ot.call(Wt,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,j=typeof ot=="function"?ot.call(Wt,Y,j):ot,j==null)break t;Y=b({},Y,j);break t;case 2:xr=!0}}j=E.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[j]:B.push(j))}else B={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=B,R=Y):F=F.next=B,_|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),jr|=_,e.lanes=_,e.memoizedState=Y}}function Yp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Xp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Yp(a[e],i)}var ja=M(null),sc=M(0);function $p(e,i){e=rr,nt(sc,e),nt(ja,i),rr=e|i.baseLanes}function Lf(){nt(sc,rr),nt(ja,ja.current)}function zf(){rr=sc.current,X(ja),X(sc)}var En=M(null),Un=null;function Pr(e){var i=e.alternate;nt(me,me.current&1),nt(En,e),Un===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(Un=e)}function jf(e){nt(me,me.current),nt(En,e),Un===null&&(Un=e)}function Jp(e){e.tag===22?(nt(me,me.current),nt(En,e),Un===null&&(Un=e)):Ur()}function Ur(){nt(me,me.current),nt(En,En.current)}function Tn(e){X(En),Un===e&&(Un=null),X(me)}var me=M(0);function ac(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,bt=null,Jt=null,be=null,oc=!1,qa=!1,Gs=!1,lc=0,ul=0,Ba=null,XS=0;function ce(){throw Error(s(321))}function qf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function Bf(e,i,a,o,h,f){return $i=f,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?Vy:id,Gs=!1,f=a(o,h),Gs=!1,qa&&(f=Wp(i,a,o,h)),Zp(e),f}function Zp(e){H.H=fl;var i=Jt!==null&&Jt.next!==null;if($i=0,be=Jt=bt=null,oc=!1,ul=0,Ba=null,i)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&Zu(e)&&(we=!0))}function Wp(e,i,a,o){bt=e;var h=0;do{if(qa&&(Ba=null),ul=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,be=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=ky,f=i(a,o)}while(qa);return f}function $S(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?cl(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(bt.flags|=1024),i}function Hf(){var e=lc!==0;return lc=0,e}function Ff(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Gf(e){if(oc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}oc=!1}$i=0,be=Jt=bt=null,qa=!1,ul=lc=0,Ba=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?bt.memoizedState=be=e:be=be.next=e,be}function ge(){if(Jt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=be===null?bt.memoizedState:be.next;if(i!==null)be=i,Jt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},be===null?bt.memoizedState=be=e:be=be.next=e}return be}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var i=ul;return ul+=1,Ba===null&&(Ba=[]),e=Hp(Ba,e,i),i=bt,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Vy:id),e}function cc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===ft)return Ge(e)}throw Error(s(438,String(e)))}function Qf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=x;return i.index++,a}function Ji(e,i){return typeof i=="function"?i(e):i}function hc(e){var i=ge();return Kf(i,Jt,e)}function Kf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=_=null,R=null,z=i,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Nt&Y)===Y:($i&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Pa&&(F=!0);else if(($i&j)===j){z=z.next,j===Pa&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,_=f):R=R.next=Y,bt.lanes|=j,jr|=j;Y=z.action,Gs&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,_=f):R=R.next=j,bt.lanes|=Y,jr|=Y;z=z.next}while(z!==null&&z!==i);if(R===null?_=f:R.next=E,!_n(f,e.memoizedState)&&(we=!0,F&&(a=Ua,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Yf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);_n(f,i.memoizedState)||(we=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function ty(e,i,a){var o=bt,h=ge(),f=kt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,we=!0),h=h.queue,Jf(iy.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,Ha(9,{destroy:void 0},ny.bind(null,o,h,a,i),null),te===null)throw Error(s(349));f||($i&127)!==0||ey(o,i,a)}return a}function ey(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=uc(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ny(e,i,a,o){i.value=a,i.getSnapshot=o,ry(i)&&sy(e)}function iy(e,i,a){return a(function(){ry(i)&&sy(e)})}function ry(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function sy(e){var i=Ps(e,2);i!==null&&dn(i,e,2)}function Xf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Gs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},i}function ay(e,i,a,o){return e.baseState=a,Kf(e,Jt,typeof o=="function"?o:Ji)}function JS(e,i,a,o,h){if(mc(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,oy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function oy(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=H.T,_={};H.T=_;try{var E=a(h,o),R=H.S;R!==null&&R(_,E),ly(e,i,E)}catch(z){$f(e,i,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),H.T=f}}else try{f=a(h,o),ly(e,i,f)}catch(z){$f(e,i,z)}}function ly(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){uy(e,i,o)},function(o){return $f(e,i,o)}):uy(e,i,a)}function uy(e,i,a){i.status="fulfilled",i.value=a,cy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,oy(e,a)))}function $f(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,cy(i),i=i.next;while(i!==o)}e.action=null}function cy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function hy(e,i){return i}function fy(e,i){if(kt){var a=te.formState;if(a!==null){t:{var o=bt;if(kt){if(ne){e:{for(var h=ne,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Ln(h.nextSibling),o=h.data==="F!";break t}}Or(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:i},a.queue=o,a=Oy.bind(null,bt,o),o.dispatch=a,o=Xf(!1),f=nd.bind(null,bt,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=JS.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function dy(e){var i=ge();return my(i,Jt,e)}function my(e,i,a){if(i=Kf(e,i,hy)[0],e=hc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=cl(i)}catch(_){throw _===La?ec:_}else o=i;i=ge();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,Ha(9,{destroy:void 0},ZS.bind(null,h,a),null)),[o,f,e]}function ZS(e,i){e.action=i}function gy(e){var i=ge(),a=Jt;if(a!==null)return my(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ha(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=uc(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function py(){return ge().memoizedState}function fc(e,i,a,o){var h=sn();bt.flags|=e,h.memoizedState=Ha(1|i,{destroy:void 0},a,o===void 0?null:o)}function dc(e,i,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&qf(o,Jt.memoizedState.deps)?h.memoizedState=Ha(i,f,a,o):(bt.flags|=e,h.memoizedState=Ha(1|i,f,a,o))}function yy(e,i){fc(8390656,8,e,i)}function Jf(e,i){dc(2048,8,e,i)}function WS(e){bt.flags|=4;var i=bt.updateQueue;if(i===null)i=uc(),bt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function _y(e){var i=ge().memoizedState;return WS({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function vy(e,i){return dc(4,2,e,i)}function Ey(e,i){return dc(4,4,e,i)}function Ty(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ay(e,i,a){a=a!=null?a.concat([e]):null,dc(4,4,Ty.bind(null,i,e),a)}function Zf(){}function Sy(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&qf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function by(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&qf(i,o[1]))return o[0];if(o=e(),Gs){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,i],o}function Wf(e,i,a){return a===void 0||($i&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=w_(),bt.lanes|=e,jr|=e,a)}function wy(e,i,a,o){return _n(a,i)?a:ja.current!==null?(e=Wf(e,a,o),_n(e,i)||(we=!0),e):($i&42)===0||($i&1073741824)!==0&&(Nt&261930)===0?(we=!0,e.memoizedState=a):(e=w_(),bt.lanes|=e,jr|=e,i)}function Ry(e,i,a,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var _=H.T,E={};H.T=E,nd(e,!1,i,a);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=YS(R,o);hl(e,i,F,bn(e))}else hl(e,i,o,bn(e))}catch(Y){hl(e,i,{then:function(){},status:"rejected",reason:Y},bn())}finally{W.p=f,_!==null&&E.types!==null&&(_.types=E.types),H.T=_}}function t1(){}function td(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Iy(e).queue;Ry(e,h,i,at,a===null?t1:function(){return Cy(e),a(o)})}function Iy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Cy(e){var i=Iy(e);i.next===null&&(i=e.alternate.memoizedState),hl(e,i.next.queue,{},bn())}function ed(){return Ge(Cl)}function Ny(){return ge().memoizedState}function Dy(){return ge().memoizedState}function e1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=Vr(a);var o=kr(i,e,a);o!==null&&(dn(o,i,a),al(o,i,a)),i={cache:Df()},e.payload=i;return}i=i.return}}function n1(e,i,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(e)?My(i,a):(a=vf(e,i,a,o),a!==null&&(dn(a,e,o),xy(a,i,o)))}function Oy(e,i,a){var o=bn();hl(e,i,a,o)}function hl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(e))My(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,_))return Yu(e,i,h,0),te===null&&Ku(),!1}catch{}if(a=vf(e,i,h,o),a!==null)return dn(a,e,o),xy(a,i,o),!0}return!1}function nd(e,i,a,o){if(o={lane:2,revertLane:Vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mc(e)){if(i)throw Error(s(479))}else i=vf(e,a,o,2),i!==null&&dn(i,e,2)}function mc(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function My(e,i){qa=oc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function xy(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,xo(e,a)}}var fl={readContext:Ge,use:cc,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};fl.useEffectEvent=ce;var Vy={readContext:Ge,use:cc,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:yy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,fc(4194308,4,Ty.bind(null,i,e),a)},useLayoutEffect:function(e,i){return fc(4194308,4,e,i)},useInsertionEffect:function(e,i){fc(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(Gs){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Gs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=n1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Xf(e);var i=e.queue,a=Oy.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(e,i){var a=sn();return Wf(a,e,i)},useTransition:function(){var e=Xf(!1);return e=Ry.bind(null,bt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=sn();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(Nt&127)!==0||ey(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,yy(iy.bind(null,o,f,e),[e]),o.flags|=2048,Ha(9,{destroy:void 0},ny.bind(null,o,f,a,i),null),a},useId:function(){var e=sn(),i=te.identifierPrefix;if(kt){var a=Ii,o=Ri;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=XS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:ed,useFormState:fy,useActionState:fy,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Qf,useCacheRefresh:function(){return sn().memoizedState=e1.bind(null,bt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Ge,use:cc,useCallback:Sy,useContext:Ge,useEffect:Jf,useImperativeHandle:Ay,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:by,useReducer:hc,useRef:py,useState:function(){return hc(Ji)},useDebugValue:Zf,useDeferredValue:function(e,i){var a=ge();return wy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=hc(Ji)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:ty,useId:Ny,useHostTransitionStatus:ed,useFormState:dy,useActionState:dy,useOptimistic:function(e,i){var a=ge();return ay(a,Jt,e,i)},useMemoCache:Qf,useCacheRefresh:Dy};id.useEffectEvent=_y;var ky={readContext:Ge,use:cc,useCallback:Sy,useContext:Ge,useEffect:Jf,useImperativeHandle:Ay,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:by,useReducer:Yf,useRef:py,useState:function(){return Yf(Ji)},useDebugValue:Zf,useDeferredValue:function(e,i){var a=ge();return Jt===null?Wf(a,e,i):wy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Yf(Ji)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:ty,useId:Ny,useHostTransitionStatus:ed,useFormState:gy,useActionState:gy,useOptimistic:function(e,i){var a=ge();return Jt!==null?ay(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Dy};ky.useEffectEvent=_y;function rd(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:b({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var sd={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=bn(),h=Vr(o);h.payload=i,a!=null&&(h.callback=a),i=kr(e,h,o),i!==null&&(dn(i,e,o),al(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=bn(),h=Vr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(e,h,o),i!==null&&(dn(i,e,o),al(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),o=Vr(a);o.tag=2,i!=null&&(o.callback=i),i=kr(e,o,a),i!==null&&(dn(i,e,a),al(i,e,a))}};function Py(e,i,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function Uy(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&sd.enqueueReplaceState(i,i.state,null)}function Qs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Ly(e){Qu(e)}function zy(e){console.error(e)}function jy(e){Qu(e)}function gc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function qy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(e,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(e,i)},a}function By(e){return e=Vr(e),e.tag=3,e}function Hy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){qy(i,a,o),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function i1(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Ic():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Od(e,o,h)),!1;case 22:return a.flags|=65536,o===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Od(e,o,h)),!1}throw Error(s(435,a.tag))}return Od(e,o,h),Ic(),!1}if(kt)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==wf&&(e=Error(s(422),{cause:o}),el(xn(e,a)))):(o!==wf&&(i=Error(s(423),{cause:o}),el(xn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,a),h=ad(e.stateNode,o,h),Pf(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=xn(f,a),El===null?El=[f]:El.push(f),he!==4&&(he=2),i===null)return!0;o=xn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ad(a.stateNode,o,e),Pf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qr===null||!qr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=By(h),Hy(h,e,a,o),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),we=!1;function Qe(e,i,a,o){i.child=e===null?Kp(i,null,a,o):Fs(i,e.child,a,o)}function Fy(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return js(i),o=Bf(e,i,a,_,f,h),E=Hf(),e!==null&&!we?(Ff(e,i,h),Zi(e,i,h)):(kt&&E&&Sf(i),i.flags|=1,Qe(e,i,o,h),i.child)}function Gy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Ef(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Qy(e,i,f,o,h)):(e=$u(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!gd(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,o)&&e.ref===i.ref)return Zi(e,i,h)}return i.flags|=1,e=Qi(f,o),e.ref=i.ref,e.return=i,i.child=e}function Qy(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Zo(f,o)&&e.ref===i.ref)if(we=!1,i.pendingProps=o=f,gd(e,h))(e.flags&131072)!==0&&(we=!0);else return i.lanes=e.lanes,Zi(e,i,h)}return ld(e,i,a,o,h)}function Ky(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Yy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&tc(i,f!==null?f.cachePool:null),f!==null?$p(i,f):Lf(),Jp(i);else return o=i.lanes=536870912,Yy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(tc(i,f.cachePool),$p(i,f),Ur(),i.memoizedState=null):(e!==null&&tc(i,null),Lf(),Ur());return Qe(e,i,h,a),i.child}function dl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Yy(e,i,a,o,h){var f=Mf();return f=f===null?null:{parent:Se._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&tc(i,null),Lf(),Jp(i),e!==null&&ka(e,i,o,!0),i.childLanes=h,null}function pc(e,i){return i=_c({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Xy(e,i,a){return Fs(i,e.child,null,a),e=pc(i,i.pendingProps),e.flags|=2,Tn(i),i.memoizedState=null,e}function r1(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=pc(i,o),i.lanes=536870912,dl(null,e);if(jf(i),(e=ne)?(e=ov(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Nr!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Mp(e),a.return=i,i.child=a,Fe=i,ne=null)):e=null,e===null)throw Or(i);return i.lanes=536870912,null}return pc(i,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(jf(i),h)if(i.flags&256)i.flags&=-257,i=Xy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(we||ka(e,i,a,!1),h=(a&e.childLanes)!==0,we||h){if(o=te,o!==null&&(_=Vo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ps(e,_),dn(o,e,_),od;Ic(),i=Xy(e,i,a)}else e=f.treeContext,ne=Ln(_.nextSibling),Fe=i,kt=!0,Dr=null,Pn=!1,e!==null&&kp(i,e),i=pc(i,o),i.flags|=4096;return i}return e=Qi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function yc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ld(e,i,a,o,h){return js(i),a=Bf(e,i,a,o,void 0,h),o=Hf(),e!==null&&!we?(Ff(e,i,h),Zi(e,i,h)):(kt&&o&&Sf(i),i.flags|=1,Qe(e,i,a,h),i.child)}function $y(e,i,a,o,h,f){return js(i),i.updateQueue=null,a=Wp(i,o,a,h),Zp(e),o=Hf(),e!==null&&!we?(Ff(e,i,f),Zi(e,i,f)):(kt&&o&&Sf(i),i.flags|=1,Qe(e,i,a,f),i.child)}function Jy(e,i,a,o,h){if(js(i),i.stateNode===null){var f=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Ge(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Vf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Ge(_):Oa,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&sd.enqueueReplaceState(f,f.state,null),ll(i,o,f,h),ol(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,R=Qs(a,E);f.props=R;var z=f.context,F=a.contextType;_=Oa,typeof F=="object"&&F!==null&&(_=Ge(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==_)&&Uy(i,f,o,_),xr=!1;var j=i.memoizedState;f.state=j,ll(i,o,f,h),ol(),z=i.memoizedState,E||j!==z||xr?(typeof Y=="function"&&(rd(i,a,Y,o),z=i.memoizedState),(R=xr||Py(i,a,R,o,j,z,_))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=_,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,kf(e,i),_=i.memoizedProps,F=Qs(a,_),f.props=F,Y=i.pendingProps,j=f.context,z=a.contextType,R=Oa,typeof z=="object"&&z!==null&&(R=Ge(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Y||j!==R)&&Uy(i,f,o,R),xr=!1,j=i.memoizedState,f.state=j,ll(i,o,f,h),ol();var B=i.memoizedState;_!==Y||j!==B||xr||e!==null&&e.dependencies!==null&&Zu(e.dependencies)?(typeof E=="function"&&(rd(i,a,E,o),B=i.memoizedState),(F=xr||Py(i,a,F,o,j,B,R)||e!==null&&e.dependencies!==null&&Zu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,yc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Fs(i,e.child,null,h),i.child=Fs(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Zi(e,i,h),e}function Zy(e,i,a,o){return Ls(),i.flags|=256,Qe(e,i,a,o),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(e){return{baseLanes:e,cachePool:qp()}}function hd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Sn),e}function Wy(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(kt){if(h?Pr(i):Ur(),(e=ne)?(e=ov(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Nr!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Mp(e),a.return=i,i.child=a,Fe=i,ne=null)):e=null,e===null)throw Or(i);return Kd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ur(),h=i.mode,E=_c({mode:"hidden",children:E},h),o=Us(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=cd(a),o.childLanes=hd(e,_,a),i.memoizedState=ud,dl(null,o)):(Pr(i),fd(i,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(Pr(i),i.flags&=-257,i=dd(e,i,a)):i.memoizedState!==null?(Ur(),i.child=e.child,i.flags|=128,i=null):(Ur(),E=o.fallback,h=i.mode,o=_c({mode:"visible",children:o.children},h),E=Us(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Fs(i,e.child,null,a),o=i.child,o.memoizedState=cd(a),o.childLanes=hd(e,_,a),i.memoizedState=ud,i=dl(null,o));else if(Pr(i),Kd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(s(419)),o.stack="",o.digest=_,el({value:o,source:null,stack:null}),i=dd(e,i,a)}else if(we||ka(e,i,a,!1),_=(a&e.childLanes)!==0,we||_){if(_=te,_!==null&&(o=Vo(_,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ps(e,o),dn(_,e,o),od;Qd(E)||Ic(),i=dd(e,i,a)}else Qd(E)?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ne=Ln(E.nextSibling),Fe=i,kt=!0,Dr=null,Pn=!1,e!==null&&kp(i,e),i=fd(i,o.children),i.flags|=4096);return i}return h?(Ur(),E=o.fallback,h=i.mode,R=e.child,z=R.sibling,o=Qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Qi(z,E):(E=Us(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,dl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=cd(a):(h=E.cachePool,h!==null?(R=Se._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=qp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=hd(e,_,a),i.memoizedState=ud,dl(e.child,o)):(Pr(i),a=e.child,e=a.sibling,a=Qi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function fd(e,i){return i=_c({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _c(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function dd(e,i,a){return Fs(i,e.child,null,a),e=fd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function t_(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Cf(e.return,i,a)}function md(e,i,a,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function e_(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=me.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,nt(me,_),Qe(e,i,o,a),o=kt?tl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&t_(e,a,i);else if(e.tag===19)t_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ac(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ac(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}md(i,!0,a,null,f,o);break;case"together":md(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ka(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function gd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Zu(e)))}function s1(e,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Mr(i,Se,e.memoizedState.cache),Ls();break;case 27:case 5:_s(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wy(e,i,a):(Pr(i),e=Zi(e,i,a),e!==null?e.sibling:null);Pr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(ka(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return e_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return i.lanes=0,Ky(e,i,a,i.pendingProps);case 24:Mr(i,Se,e.memoizedState.cache)}return Zi(e,i,a)}function n_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)we=!0;else{if(!gd(e,a)&&(i.flags&128)===0)return we=!1,s1(e,i,a);we=(e.flags&131072)!==0}else we=!1,kt&&(i.flags&1048576)!==0&&Vp(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Bs(i.elementType),i.type=e,typeof e=="function")Ef(e)?(o=Qs(e,o),i.tag=1,i=Jy(null,i,e,o,a)):(i.tag=0,i=ld(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Pt){i.tag=11,i=Fy(null,i,e,o,a);break t}else if(h===C){i.tag=14,i=Gy(null,i,e,o,a);break t}}throw i=At(e)||e,Error(s(306,i,""))}}return i;case 0:return ld(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Qs(o,i.pendingProps),Jy(e,i,o,h,a);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,kf(e,i),ll(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Mr(i,Se,o),o!==f.cache&&Nf(i,[Se],a,!0),ol(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Zy(e,i,o,a);break t}else if(o!==h){h=xn(Error(s(424)),i),el(h),i=Zy(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Ln(e.firstChild),Fe=i,kt=!0,Dr=null,Pn=!0,a=Kp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),o===h){i=Zi(e,i,a);break t}Qe(e,i,o,a)}i=i.child}return i;case 26:return yc(e,i),e===null?(a=dv(i.type,null,i.pendingProps,null))?i.memoizedState=a:kt||(a=i.type,e=i.pendingProps,o=Vc(wt.current).createElement(a),o[Ee]=i,o[Ue]=e,Ke(o,a,e),Te(o),i.stateNode=o):i.memoizedState=dv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return _s(i),e===null&&kt&&(o=i.stateNode=cv(i.type,i.pendingProps,wt.current),Fe=i,Pn=!0,h=ne,Gr(i.type)?(Yd=h,ne=Ln(o.firstChild)):ne=h),Qe(e,i,i.pendingProps.children,a),yc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&kt&&((h=o=ne)&&(o=k1(o,i.type,i.pendingProps,Pn),o!==null?(i.stateNode=o,Fe=i,ne=Ln(o.firstChild),Pn=!1,h=!0):h=!1),h||Or(i)),_s(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Hd(h,f)?o=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Bf(e,i,$S,null,null,a),Cl._currentValue=h),yc(e,i),Qe(e,i,o,a),i.child;case 6:return e===null&&kt&&((e=a=ne)&&(a=P1(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Fe=i,ne=null,e=!0):e=!1),e||Or(i)),null;case 13:return Wy(e,i,a);case 4:return Oe(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Fs(i,null,o,a):Qe(e,i,o,a),i.child;case 11:return Fy(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Mr(i,i.type,o.value),Qe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,js(i),h=Ge(h),o=o(h),i.flags|=1,Qe(e,i,o,a),i.child;case 14:return Gy(e,i,i.type,i.pendingProps,a);case 15:return Qy(e,i,i.type,i.pendingProps,a);case 19:return e_(e,i,a);case 31:return r1(e,i,a);case 22:return Ky(e,i,a,i.pendingProps);case 24:return js(i),o=Ge(Se),e===null?(h=Mf(),h===null&&(h=te,f=Df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Vf(i),Mr(i,Se,h)):((e.lanes&a)!==0&&(kf(e,i),ll(i,null,null,a),ol()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,Se,o)):(o=f.cache,Mr(i,Se,o),o!==h.cache&&Nf(i,[Se],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Wi(e){e.flags|=4}function pd(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(N_())e.flags|=8192;else throw Hs=nc,xf}else e.flags&=-16777217}function i_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_v(i))if(N_())e.flags|=8192;else throw Hs=nc,xf}function vc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?wu():536870912,e.lanes|=i,Ka|=i)}function ml(e,i){if(!kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function a1(e,i,a){var o=i.pendingProps;switch(bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Xi(Se),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Va(i)?Wi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),ie(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Wi(i),f!==null?(ie(i),i_(i,f)):(ie(i),pd(i,h,null,o,a))):f?f!==e.memoizedState?(Wi(i),ie(i),i_(i,f)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(i),ie(i),pd(i,h,e,o,a)),null;case 27:if(fa(i),a=wt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Wi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=st.current,Va(i)?Pp(i):(e=cv(h,o,a),i.stateNode=e,Wi(i))}return ie(i),null;case 5:if(fa(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Wi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(f=st.current,Va(i))Pp(i);else{var _=Vc(wt.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Ee]=i,f[Ue]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Ke(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(i)}}return ie(i),pd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Wi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=wt.current,Va(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||W_(e.nodeValue,a)),e||Or(i,!0)}else e=Vc(e).createTextNode(o),e[Ee]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Va(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=Rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ie(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Va(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=Rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),ie(i),null);case 4:return se(),e===null&&Ld(i.stateNode.containerInfo),ie(i),null;case 10:return Xi(i.type),ie(i),null;case 19:if(X(me),o=i.memoizedState,o===null)return ie(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)ml(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=ac(e),f!==null){for(i.flags|=128,ml(o,!1),e=f.updateQueue,i.updateQueue=e,vc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Op(a,e),a=a.sibling;return nt(me,me.current&1|2),kt&&Ki(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&nn()>bc&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304)}else{if(!h)if(e=ac(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,vc(i,e),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ie(i),null}else 2*nn()-o.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),kt&&Ki(i,o.treeForkCount),e):(ie(i),null);case 22:case 23:return Tn(i),zf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&X(qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xi(Se),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function o1(e,i){switch(bf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Xi(Se),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Ls()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ls()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(me),null;case 4:return se(),null;case 10:return Xi(i.type),null;case 22:case 23:return Tn(i),zf(),e!==null&&X(qs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Xi(Se),null;case 25:return null;default:return null}}function r_(e,i){switch(bf(i),i.tag){case 3:Xi(Se),se();break;case 26:case 27:case 5:fa(i);break;case 4:se();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:X(me);break;case 10:Xi(i.type);break;case 22:case 23:Tn(i),zf(),e!==null&&X(qs);break;case 24:Xi(Se)}}function gl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Lr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var R=a,z=E;try{z()}catch(F){Yt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Yt(i,i.return,F)}}function s_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Xp(i,a)}catch(o){Yt(e,e.return,o)}}}function a_(e,i,a){a.props=Qs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,i,o)}}function pl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,i,h)}}function Ci(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function o_(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function yd(e,i,a){try{var o=e.stateNode;N1(o,e.type,a,i),o[Ue]=i}catch(h){Yt(e,e.return,h)}}function l_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gr(e.type)||e.tag===4}function _d(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||l_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vd(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(o!==4&&(o===27&&Gr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(vd(e,i,a),e=e.sibling;e!==null;)vd(e,i,a),e=e.sibling}function Ec(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Gr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ec(e,i,a),e=e.sibling;e!==null;)Ec(e,i,a),e=e.sibling}function u_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,o,a),i[Ee]=e,i[Ue]=a}catch(f){Yt(e,e.return,f)}}var tr=!1,Re=!1,Ed=!1,c_=typeof WeakSet=="function"?WeakSet:Set,ze=null;function l1(e,i){if(e=e.containerInfo,qd=qc,e=Ap(e),df(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,R=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var B;Y!==a||h!==0&&Y.nodeType!==3||(E=_+h),Y!==f||o!==0&&Y.nodeType!==3||(R=_+o),Y.nodeType===3&&(_+=Y.nodeValue.length),(B=Y.firstChild)!==null;)j=Y,Y=B;for(;;){if(Y===e)break e;if(j===a&&++z===h&&(E=_),j===f&&++F===o&&(R=_),(B=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:e,selectionRange:a},qc=!1,ze=i;ze!==null;)if(i=ze,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ze=e;else for(;ze!==null;){switch(i=ze,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Qs(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Yt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Gd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ze=e;break}ze=i.return}}function h_(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:nr(e,a),o&4&&gl(5,a);break;case 1:if(nr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}o&64&&s_(a),o&512&&pl(a,a.return);break;case 3:if(nr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Xp(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&o&4&&u_(a);case 26:case 5:nr(e,a),i===null&&o&4&&o_(a),o&512&&pl(a,a.return);break;case 12:nr(e,a);break;case 31:nr(e,a),o&4&&m_(e,a);break;case 13:nr(e,a),o&4&&g_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=y1.bind(null,a),U1(e,a))));break;case 22:if(o=a.memoizedState!==null||tr,!o){i=i!==null&&i.memoizedState!==null||Re,h=tr;var f=Re;tr=o,(Re=i)&&!f?ir(e,a,(a.subtreeFlags&8772)!==0):nr(e,a),tr=h,Re=f}break;case 30:break;default:nr(e,a)}}function f_(e){var i=e.alternate;i!==null&&(e.alternate=null,f_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ya(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,un=!1;function er(e,i,a){for(a=a.child;a!==null;)d_(e,i,a),a=a.sibling}function d_(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Re||Ci(a,i),er(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ci(a,i);var o=oe,h=un;Gr(a.type)&&(oe=a.stateNode,un=!1),er(e,i,a),wl(a.stateNode),oe=o,un=h;break;case 5:Re||Ci(a,i);case 6:if(o=oe,h=un,oe=null,er(e,i,a),oe=o,un=h,oe!==null)if(un)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,i,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,i,f)}break;case 18:oe!==null&&(un?(e=oe,sv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),eo(e)):sv(oe,a.stateNode));break;case 4:o=oe,h=un,oe=a.stateNode.containerInfo,un=!0,er(e,i,a),oe=o,un=h;break;case 0:case 11:case 14:case 15:Lr(2,a,i),Re||Lr(4,a,i),er(e,i,a);break;case 1:Re||(Ci(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&a_(a,i,o)),er(e,i,a);break;case 21:er(e,i,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,er(e,i,a),Re=o;break;default:er(e,i,a)}}function m_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{eo(e)}catch(a){Yt(i,i.return,a)}}}function g_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(a){Yt(i,i.return,a)}}function u1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new c_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new c_),i;default:throw Error(s(435,e.tag))}}function Tc(e,i){var a=u1(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=_1.bind(null,e,o);o.then(h,h)}})}function cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Gr(E.type)){oe=E.stateNode,un=!1;break t}break;case 5:oe=E.stateNode,un=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(oe===null)throw Error(s(160));d_(f,_,h),oe=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)p_(i,e),i=i.sibling}var ti=null;function p_(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),o&4&&(Lr(3,e,e.return),gl(3,e),Lr(5,e,e.return));break;case 1:cn(i,e),hn(e),o&512&&(Re||a===null||Ci(a,a.return)),o&64&&tr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ti;if(cn(i,e),hn(e),o&512&&(Re||a===null||Ci(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,a),f[Ee]=e,Te(f),o=f;break t;case"link":var _=pv("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;case"meta":if(_=pv("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else yv(h,e.type,e.stateNode);else e.stateNode=gv(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?yv(h,e.type,e.stateNode):gv(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&yd(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),o&512&&(Re||a===null||Ci(a,a.return)),a!==null&&o&4&&yd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),o&512&&(Re||a===null||Ci(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(ot){Yt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,yd(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Ed=!0);break;case 6:if(cn(i,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Yt(e,e.return,ot)}}break;case 3:if(Uc=null,h=ti,ti=kc(i.containerInfo),cn(i,e),ti=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(ot){Yt(e,e.return,ot)}Ed&&(Ed=!1,y_(e));break;case 4:o=ti,ti=kc(e.stateNode.containerInfo),cn(i,e),hn(e),ti=o;break;case 12:cn(i,e),hn(e);break;case 31:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=tr,F=Re;if(tr=z||h,Re=F||R,cn(i,e),Re=F,tr=z,hn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||tr||Re||Ks(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Yt(R,R.return,ot)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Yt(R,R.return,ot)}}}else if(i.tag===18){if(a===null){R=i;try{var B=R.stateNode;h?av(B,!0):av(R.stateNode,!1)}catch(ot){Yt(R,R.return,ot)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tc(e,a))));break;case 19:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(l_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=_d(e);Ec(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var E=_d(e);Ec(e,E,_);break;case 3:case 4:var R=a.stateNode.containerInfo,z=_d(e);vd(e,z,R);break;default:throw Error(s(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function y_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;y_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function nr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)h_(e,i.alternate,i),i=i.sibling}function Ks(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),Ks(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&a_(i,i.return,a),Ks(i);break;case 27:wl(i.stateNode);case 26:case 5:Ci(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}e=e.sibling}}function ir(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:ir(h,f,a),gl(4,f);break;case 1:if(ir(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Yp(R[h],E)}catch(z){Yt(o,o.return,z)}}a&&_&64&&s_(f),pl(f,f.return);break;case 27:u_(f);case 26:case 5:ir(h,f,a),a&&o===null&&_&4&&o_(f),pl(f,f.return);break;case 12:ir(h,f,a);break;case 31:ir(h,f,a),a&&_&4&&m_(h,f);break;case 13:ir(h,f,a),a&&_&4&&g_(h,f);break;case 22:f.memoizedState===null&&ir(h,f,a),pl(f,f.return);break;case 30:break;default:ir(h,f,a)}i=i.sibling}}function Td(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function Ad(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e))}function ei(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)__(e,i,a,o),i=i.sibling}function __(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,o),h&2048&&gl(9,i);break;case 1:ei(e,i,a,o);break;case 3:ei(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e)));break;case 12:if(h&2048){ei(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(i,i.return,R)}}else ei(e,i,a,o);break;case 31:ei(e,i,a,o);break;case 13:ei(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?ei(e,i,a,o):yl(e,i):f._visibility&2?ei(e,i,a,o):(f._visibility|=2,Fa(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:ei(e,i,a,o),h&2048&&Ad(i.alternate,i);break;default:ei(e,i,a,o)}}function Fa(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,E=a,R=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:Fa(f,_,E,R,h),gl(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Fa(f,_,E,R,h):yl(f,_):(F._visibility|=2,Fa(f,_,E,R,h)),h&&z&2048&&Td(_.alternate,_);break;case 24:Fa(f,_,E,R,h),h&&z&2048&&Ad(_.alternate,_);break;default:Fa(f,_,E,R,h)}i=i.sibling}}function yl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:yl(a,o),h&2048&&Td(o.alternate,o);break;case 24:yl(a,o),h&2048&&Ad(o.alternate,o);break;default:yl(a,o)}i=i.sibling}}var _l=8192;function Ga(e,i,a){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)v_(e,i,a),e=e.sibling}function v_(e,i,a){switch(e.tag){case 26:Ga(e,i,a),e.flags&_l&&e.memoizedState!==null&&X1(a,ti,e.memoizedState,e.memoizedProps);break;case 5:Ga(e,i,a);break;case 3:case 4:var o=ti;ti=kc(e.stateNode.containerInfo),Ga(e,i,a),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=_l,_l=16777216,Ga(e,i,a),_l=o):Ga(e,i,a));break;default:Ga(e,i,a)}}function E_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function vl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ze=o,A_(o,e)}E_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)T_(e),e=e.sibling}function T_(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&Lr(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ac(e)):vl(e);break;default:vl(e)}}function Ac(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ze=o,A_(o,e)}E_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),Ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(i));break;default:Ac(i)}e=e.sibling}}function A_(e,i){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ze=o;else t:for(a=e;ze!==null;){o=ze;var h=o.sibling,f=o.return;if(f_(o),o===a){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}var c1={getCacheForType:function(e){var i=Ge(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ge(Se).controller.signal}},h1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,It=null,Nt=0,Kt=0,An=null,zr=!1,Qa=!1,Sd=!1,rr=0,he=0,jr=0,Ys=0,bd=0,Sn=0,Ka=0,El=null,fn=null,wd=!1,Sc=0,S_=0,bc=1/0,wc=null,qr=null,xe=0,Br=null,Ya=null,sr=0,Rd=0,Id=null,b_=null,Tl=0,Cd=null;function bn(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:H.T!==null?Vd():Ru()}function w_(){if(Sn===0)if((Nt&536870912)===0||kt){var e=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),Sn=e}else Sn=536870912;return e=En.current,e!==null&&(e.flags|=32),Sn}function dn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Hr(e,Nt,Sn,!1)),As(e,a),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Ys|=a),he===4&&Hr(e,Nt,Sn,!1)),Ni(e))}function R_(e,i,a){if((Ht&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Gn(e,i),h=o?m1(e,i):Dd(e,i,!0),f=o;do{if(h===0){Qa&&!o&&Hr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!f1(a)){h=Dd(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=El;var R=E.current.memoizedState.isDehydrated;if(R&&(Xa(E,_).flags|=256),_=Dd(E,_,!1),_!==2){if(Sd&&!R){E.errorRecoveryDisabledLanes|=f,Ys|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Xa(e,0),Hr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(o,i,Sn,!zr);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sc+300-nn(),10<h)){if(Hr(o,i,Sn,!zr),hi(o,0,!0)!==0)break t;sr=i,o.timeoutHandle=iv(I_.bind(null,o,a,fn,wc,wd,i,Sn,Ys,Ka,zr,f,"Throttled",-0,0),h);break t}I_(o,a,fn,wc,wd,i,Sn,Ys,Ka,zr,f,null,-0,0)}}break}while(!0);Ni(e)}function I_(e,i,a,o,h,f,_,E,R,z,F,Y,j,B){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},v_(i,f,Y);var ot=(f&62914560)===f?Sc-nn():(f&4194048)===f?S_-nn():0;if(ot=$1(Y,ot),ot!==null){sr=f,e.cancelPendingCommit=ot(k_.bind(null,e,i,f,a,o,h,_,E,R,F,Y,null,j,B)),Hr(e,f,_,!z);return}}k_(e,i,f,a,o,h,_,E,R)}function f1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(e,i,a,o){i&=~bd,i&=~Ys,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-fe(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Ss(e,a,i)}function Rc(){return(Ht&6)===0?(Al(0),!1):!0}function Nd(){if(It!==null){if(Kt===0)var e=It.return;else e=It,Yi=zs=null,Gf(e),za=null,rl=0,e=It;for(;e!==null;)r_(e.alternate,e),e=e.return;It=null}}function Xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,M1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sr=0,Nd(),te=e,It=a=Qi(e.current,null),Nt=i,Kt=0,An=null,zr=!1,Qa=Gn(e,i),Sd=!1,Ka=Sn=bd=Ys=jr=he=0,fn=El=null,wd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-fe(o),f=1<<h;i|=e[h],o&=~f}return rr=i,Ku(),a}function C_(e,i){bt=null,H.H=fl,i===La||i===ec?(i=Fp(),Kt=3):i===xf?(i=Fp(),Kt=4):Kt=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,It===null&&(he=1,gc(e,xn(i,e.current)))}function N_(){var e=En.current;return e===null?!0:(Nt&4194048)===Nt?Un===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Un:!1}function D_(){var e=H.H;return H.H=fl,e===null?fl:e}function O_(){var e=H.A;return H.A=c1,e}function Ic(){he=4,zr||(Nt&4194048)!==Nt&&En.current!==null||(Qa=!0),(jr&134217727)===0&&(Ys&134217727)===0||te===null||Hr(te,Nt,Sn,!1)}function Dd(e,i,a){var o=Ht;Ht|=2;var h=D_(),f=O_();(te!==e||Nt!==i)&&(wc=null,Xa(e,i)),i=!1;var _=he;t:do try{if(Kt!==0&&It!==null){var E=It,R=An;switch(Kt){case 8:Nd(),_=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var z=Kt;if(Kt=0,An=null,$a(e,E,R,z),a&&Qa){_=0;break t}break;default:z=Kt,Kt=0,An=null,$a(e,E,R,z)}}d1(),_=he;break}catch(F){C_(e,F)}while(!0);return i&&e.shellSuspendCounter++,Yi=zs=null,Ht=o,H.H=h,H.A=f,It===null&&(te=null,Nt=0,Ku()),_}function d1(){for(;It!==null;)M_(It)}function m1(e,i){var a=Ht;Ht|=2;var o=D_(),h=O_();te!==e||Nt!==i?(wc=null,bc=nn()+500,Xa(e,i)):Qa=Gn(e,i);t:do try{if(Kt!==0&&It!==null){i=It;var f=An;e:switch(Kt){case 1:Kt=0,An=null,$a(e,i,f,1);break;case 2:case 9:if(Bp(f)){Kt=0,An=null,x_(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ni(e)},f.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Bp(f)?(Kt=0,An=null,x_(i)):(Kt=0,An=null,$a(e,i,f,7));break;case 5:var _=null;switch(It.tag){case 26:_=It.memoizedState;case 5:case 27:var E=It;if(_?_v(_):E.stateNode.complete){Kt=0,An=null;var R=E.sibling;if(R!==null)It=R;else{var z=E.return;z!==null?(It=z,Cc(z)):It=null}break e}}Kt=0,An=null,$a(e,i,f,5);break;case 6:Kt=0,An=null,$a(e,i,f,6);break;case 8:Nd(),he=6;break t;default:throw Error(s(462))}}g1();break}catch(F){C_(e,F)}while(!0);return Yi=zs=null,H.H=o,H.A=h,Ht=a,It!==null?0:(te=null,Nt=0,Ku(),he)}function g1(){for(;It!==null&&!af();)M_(It)}function M_(e){var i=n_(e.alternate,e,rr);e.memoizedProps=e.pendingProps,i===null?Cc(e):It=i}function x_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=$y(a,i,i.pendingProps,i.type,void 0,Nt);break;case 11:i=$y(a,i,i.pendingProps,i.type.render,i.ref,Nt);break;case 5:Gf(i);default:r_(a,i),i=It=Op(i,rr),i=n_(a,i,rr)}e.memoizedProps=e.pendingProps,i===null?Cc(e):It=i}function $a(e,i,a,o){Yi=zs=null,Gf(i),za=null,rl=0;var h=i.return;try{if(i1(e,h,i,a,Nt)){he=1,gc(e,xn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;he=1,gc(e,xn(a,e.current)),It=null;return}i.flags&32768?(kt||o===1?e=!0:Qa||(Nt&536870912)!==0?e=!1:(zr=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),V_(i,e)):Cc(i)}function Cc(e){var i=e;do{if((i.flags&32768)!==0){V_(i,zr);return}e=i.return;var a=a1(i.alternate,i,rr);if(a!==null){It=a;return}if(i=i.sibling,i!==null){It=i;return}It=i=e}while(i!==null);he===0&&(he=5)}function V_(e,i){do{var a=o1(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);he=6,It=null}function k_(e,i,a,o,h,f,_,E,R){e.cancelPendingCommit=null;do Nc();while(xe!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=_f,uf(e,a,f,_,E,R),e===te&&(It=te=null,Nt=0),Ya=i,Br=e,sr=a,Rd=f,Id=h,b_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,v1(vr,function(){return j_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,_=Ht,Ht|=4;try{l1(e,i,a)}finally{Ht=_,W.p=h,H.T=o}}xe=1,P_(),U_(),L_()}}function P_(){if(xe===1){xe=0;var e=Br,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=W.p;W.p=2;var h=Ht;Ht|=4;try{p_(i,e);var f=Bd,_=Ap(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Tp(E.ownerDocument.documentElement,E)){if(R!==null&&df(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var B=j.getSelection(),ot=E.textContent.length,dt=Math.min(R.start,ot),Wt=R.end===void 0?dt:Math.min(R.end,ot);!B.extend&&dt>Wt&&(_=Wt,Wt=dt,dt=_);var V=Ep(E,dt),D=Ep(E,Wt);if(V&&D&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),B.removeAllRanges(),dt>Wt?(B.addRange(L),B.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}qc=!!qd,Bd=qd=null}finally{Ht=h,W.p=o,H.T=a}}e.current=i,xe=2}}function U_(){if(xe===2){xe=0;var e=Br,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=W.p;W.p=2;var h=Ht;Ht|=4;try{h_(e,i.alternate,i)}finally{Ht=h,W.p=o,H.T=a}}xe=3}}function L_(){if(xe===4||xe===3){xe=0,vu();var e=Br,i=Ya,a=sr,o=b_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Ya=Br=null,z_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qr=null),Bi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{H.T=i,W.p=h}}(sr&3)!==0&&Nc(),Ni(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Cd?Tl++:(Tl=0,Cd=e):Tl=0,Al(0)}}function z_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,nl(i)))}function Nc(){return P_(),U_(),L_(),j_()}function j_(){if(xe!==5)return!1;var e=Br,i=Rd;Rd=0;var a=Bi(sr),o=H.T,h=W.p;try{W.p=32>a?32:a,H.T=null,a=Id,Id=null;var f=Br,_=sr;if(xe=0,Ya=Br=null,sr=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,T_(f.current),__(f,f.current,_,a),Ht=E,Al(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{W.p=h,H.T=o,z_(e,i)}}function q_(e,i,a){i=xn(a,i),i=ad(e.stateNode,i,2),e=kr(e,i,2),e!==null&&(As(e,2),Ni(e))}function Yt(e,i,a){if(e.tag===3)q_(e,e,a);else for(;i!==null;){if(i.tag===3){q_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qr===null||!qr.has(o))){e=xn(a,e),a=By(2),o=kr(i,a,2),o!==null&&(Hy(a,o,i,e),As(o,2),Ni(o));break}}i=i.return}}function Od(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new h1;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Sd=!0,h.add(a),e=p1.bind(null,e,i,a),i.then(e,e))}function p1(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Nt&a)===a&&(he===4||he===3&&(Nt&62914560)===Nt&&300>nn()-Sc?(Ht&2)===0&&Xa(e,0):bd|=a,Ka===Nt&&(Ka=0)),Ni(e)}function B_(e,i){i===0&&(i=wu()),e=Ps(e,i),e!==null&&(As(e,i),Ni(e))}function y1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),B_(e,a)}function _1(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),B_(e,a)}function v1(e,i){return Me(e,i)}var Dc=null,Ja=null,Md=!1,Oc=!1,xd=!1,Fr=0;function Ni(e){e!==Ja&&e.next===null&&(Ja===null?Dc=Ja=e:Ja=Ja.next=e),Oc=!0,Md||(Md=!0,T1())}function Al(e,i){if(!xd&&Oc){xd=!0;do for(var a=!1,o=Dc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Q_(o,f))}else f=Nt,f=hi(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gn(o,f)||(a=!0,Q_(o,f));o=o.next}while(a);xd=!1}}function E1(){H_()}function H_(){Oc=Md=!1;var e=0;Fr!==0&&O1()&&(e=Fr);for(var i=nn(),a=null,o=Dc;o!==null;){var h=o.next,f=F_(o,i);f===0?(o.next=null,a===null?Dc=h:a.next=h,h===null&&(Ja=a)):(a=o,(e!==0||(f&3)!==0)&&(Oc=!0)),o=h}xe!==0&&xe!==5||Al(e),Fr!==0&&(Fr=0)}function F_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-fe(f),E=1<<_,R=h[_];R===-1?((E&a)===0||(E&o)!==0)&&(h[_]=lf(E,i)):R<=i&&(e.expiredLanes|=E),f&=~E}if(i=te,a=Nt,a=hi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&_r(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&_r(o),Bi(a)){case 2:case 8:a=Mo;break;case 32:a=vr;break;case 268435456:a=Eu;break;default:a=vr}return o=G_.bind(null,e),a=Me(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&_r(o),e.callbackPriority=2,e.callbackNode=null,2}function G_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Nc()&&e.callbackNode!==a)return null;var o=Nt;return o=hi(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(R_(e,o,i),F_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?G_.bind(null,e):null)}function Q_(e,i){if(Nc())return null;R_(e,i,!0)}function T1(){x1(function(){(Ht&6)!==0?Me(Oo,E1):H_()})}function Vd(){if(Fr===0){var e=Pa;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Fr=e}return Fr}function K_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function Y_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function A1(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=K_((h[Ue]||null).action),_=o.submitter;_&&(i=(i=_[Ue]||null)?K_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new Ai("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fr!==0){var R=_?Y_(h,_):new FormData(h);td(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=_?Y_(h,_):new FormData(h),td(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var Pd=yf[kd],S1=Pd.toLowerCase(),b1=Pd[0].toUpperCase()+Pd.slice(1);Wn(S1,"on"+b1)}Wn(wp,"onAnimationEnd"),Wn(Rp,"onAnimationIteration"),Wn(Ip,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(jS,"onTransitionRun"),Wn(qS,"onTransitionStart"),Wn(BS,"onTransitionCancel"),Wn(Cp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function X_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Qu(F)}h.currentTarget=null,f=R}else for(_=0;_<o.length;_++){if(E=o[_],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Qu(F)}h.currentTarget=null,f=R}}}}function Ct(e,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var o=e+"__bubble";a.has(o)||($_(i,e,2,!1),a.add(o))}function Ud(e,i,a){var o=0;i&&(o|=4),$_(a,e,o,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Ld(e){if(!e[Mc]){e[Mc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(w1.has(a)||Ud(a,!1,e),Ud(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,Ud("selectionchange",!1,i))}}function $_(e,i,a,o){switch(wv(i)){case 2:var h=W1;break;case 8:h=tb;break;default:h=Wd}a=h.bind(null,i,a,e),h=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function zd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=gi(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){o=f=_;continue t}E=E.parentNode}}o=o.return}wr(function(){var z=f,F=Nn(a),Y=[];t:{var j=Np.get(e);if(j!==void 0){var B=Ai,ot=e;switch(e){case"keypress":if(Ds(a)===0)break t;case"keydown":case"keyup":B=Hu;break;case"focusin":ot="focus",B=Ms;break;case"focusout":ot="blur",B=Ms;break;case"beforeblur":case"afterblur":B=Ms;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case wp:case Rp:case Ip:B=Pu;break;case Cp:B=T;break;case"scroll":case"scrollend":B=Ko;break;case"wheel":B=q;break;case"copy":case"cut":case"paste":B=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Gi;break;case"toggle":case"beforetoggle":B=St}var dt=(i&4)!==0,Wt=!dt&&(e==="scroll"||e==="scrollend"),V=dt?j!==null?j+"Capture":null:j;dt=[];for(var D=z,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||V===null||(Q=Xn(D,V),Q!=null&&dt.push(bl(D,Q,L))),Wt)break;D=D.return}0<dt.length&&(j=new B(j,ot,null,a,F),Y.push({event:j,listeners:dt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&a!==Fo&&(ot=a.relatedTarget||a.fromElement)&&(gi(ot)||ot[di]))break t;if((B||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,B?(ot=a.relatedTarget||a.toElement,B=z,ot=ot?gi(ot):null,ot!==null&&(Wt=u(ot),dt=ot.tag,ot!==Wt||dt!==5&&dt!==27&&dt!==6)&&(ot=null)):(B=null,ot=z),B!==ot)){if(dt=Yo,Q="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Gi,Q="onPointerLeave",V="onPointerEnter",D="pointer"),Wt=B==null?j:pn(B),L=ot==null?j:pn(ot),j=new dt(Q,D+"leave",B,a,F),j.target=Wt,j.relatedTarget=L,Q=null,gi(F)===z&&(dt=new dt(V,D+"enter",ot,a,F),dt.target=L,dt.relatedTarget=Wt,Q=dt),Wt=Q,B&&ot)e:{for(dt=R1,V=B,D=ot,L=0,Q=V;Q;Q=dt(Q))L++;Q=0;for(var ct=D;ct;ct=dt(ct))Q++;for(;0<L-Q;)V=dt(V),L--;for(;0<Q-L;)D=dt(D),Q--;for(;L--;){if(V===D||D!==null&&V===D.alternate){dt=V;break e}V=dt(V),D=dt(D)}dt=null}else dt=null;B!==null&&J_(Y,j,B,dt,!1),ot!==null&&Wt!==null&&J_(Y,Wt,ot,dt,!0)}}t:{if(j=z?pn(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var zt=mp;else if(fp(j))if(gp)zt=US;else{zt=kS;var lt=VS}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Ea(z.elementType)&&(zt=mp):zt=PS;if(zt&&(zt=zt(e,z))){dp(Y,zt,a,F);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&qo(j,"number",j.value)}switch(lt=z?pn(z):window,e){case"focusin":(fp(lt)||lt.contentEditable==="true")&&(Ca=lt,mf=z,Wo=null);break;case"focusout":Wo=mf=Ca=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Sp(Y,a,F);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Sp(Y,a,F)}var Rt;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Ia?xs(e,a)&&(Dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(wi&&a.locale!=="ko"&&(Ia||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Ia&&(Rt=Qo()):(Ti=F,Go="value"in Ti?Ti.value:Ti.textContent,Ia=!0)),lt=xc(z,Dt),0<lt.length&&(Dt=new bi(Dt,e,null,a,F),Y.push({event:Dt,listeners:lt}),Rt?Dt.data=Rt:(Rt=Ra(a),Rt!==null&&(Dt.data=Rt)))),(Rt=On?DS(e,a):OS(e,a))&&(Dt=xc(z,"onBeforeInput"),0<Dt.length&&(lt=new bi("onBeforeInput","beforeinput",null,a,F),Y.push({event:lt,listeners:Dt}),lt.data=Rt)),A1(Y,e,z,a,F)}X_(Y,i)})}function bl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function xc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,a),h!=null&&o.unshift(bl(e,h,f)),h=Xn(e,i),h!=null&&o.push(bl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function R1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function J_(e,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Xn(a,f),z!=null&&_.unshift(bl(a,z,R))):h||(z=Xn(a,f),z!=null&&_.push(bl(a,z,R)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var I1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function Z_(e){return(typeof e=="string"?e:""+e).replace(I1,`
`).replace(C1,"")}function W_(e,i){return i=Z_(i),Z_(e)===i}function Zt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,o);break;case"style":Ho(e,o,f);break;case"data":if(i!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ta(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ta(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),_a(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_a(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,_a(e,a,o))}}function jd(e,i,a,o,h,f){switch(a){case"style":Ho(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):_a(e,a,o)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,f,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),o&&Zt(e,i,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=f=_=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":_=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Zt(e,i,o,F,a,null)}}Du(e,f,E,R,z,_,h,!1);return;case"select":Ct("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Zt(e,i,h,E,a,null)}i=f,a=_,e.multiple=!!o,i!=null?Tr(e,!!o,i,!1):a!=null&&Tr(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,i,_,E,a,null)}Ar(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,i,R,o,a,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<Sl.length;o++)Ct(Sl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,z,o,a,null)}return;default:if(Ea(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&jd(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,i,E,o,a,null))}function N1(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,R=null,z=null,F=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(B)||Zt(e,i,B,null,o,Y)}}for(var j in o){var B=o[j];if(Y=a[j],o.hasOwnProperty(j)&&(B!=null||Y!=null))switch(j){case"type":f=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":F=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Y&&Zt(e,i,j,B,o,Y)}}va(e,_,E,R,z,F,f,h);return;case"select":B=_=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Zt(e,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==R&&Zt(e,i,h,f,o,R)}i=E,a=_,o=B,j!=null?Tr(e,!!a,j,!1):!!o!=!!a&&(i!=null?Tr(e,!!a,i,!0):Tr(e,!!a,a?[]:"",!1));return;case"textarea":B=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":j=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,i,_,h,o,f)}Ou(e,j,B);return;case"option":for(var ot in a)j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Zt(e,i,ot,null,o,j));for(R in o)j=o[R],B=a[R],o.hasOwnProperty(R)&&j!==B&&(j!=null||B!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Zt(e,i,R,j,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!o.hasOwnProperty(dt)&&Zt(e,i,dt,null,o,j);for(z in o)if(j=o[z],B=a[z],o.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Zt(e,i,z,j,o,B)}return;default:if(Ea(i)){for(var Wt in a)j=a[Wt],a.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&jd(e,i,Wt,void 0,o,j);for(F in o)j=o[F],B=a[F],!o.hasOwnProperty(F)||j===B||j===void 0&&B===void 0||jd(e,i,F,j,o,B);return}}for(var V in a)j=a[V],a.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&Zt(e,i,V,null,o,j);for(Y in o)j=o[Y],B=a[Y],!o.hasOwnProperty(Y)||j===B||j==null&&B==null||Zt(e,i,Y,j,o,B)}function tv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&tv(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var F=R.transferSize,Y=R.initiatorType;F&&tv(Y)&&(R=R.responseEnd,_+=F*(R<E?1:(E-z)/(R-z)))}if(--o,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qd=null,Bd=null;function Vc(e){return e.nodeType===9?e:e.ownerDocument}function ev(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Hd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function O1(){var e=window.event;return e&&e.type==="popstate"?e===Fd?!1:(Fd=e,!0):(Fd=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(e){return rv.resolve(null).then(e).catch(V1)}:iv;function V1(e){setTimeout(function(){throw e})}function Gr(e){return e==="head"}function sv(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),eo(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")wl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&wl(e.ownerDocument.body);a=h}while(a);eo(i)}function av(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Gd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function k1(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function P1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function ov(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ln(e.nextSibling),e===null))return null;return e}function Qd(e){return e.data==="$?"||e.data==="$~"}function Kd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function U1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Yd=null;function lv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function uv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function cv(e,i,a){switch(i=Vc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function wl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ya(e)}var zn=new Map,hv=new Set;function kc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ar=W.d;W.d={f:L1,r:z1,D:j1,C:q1,L:B1,m:H1,X:G1,S:F1,M:Q1};function L1(){var e=ar.f(),i=Rc();return e||i}function z1(e){var i=Cn(e);i!==null&&i.tag===5&&i.type==="form"?Cy(i):ar.r(e)}var Za=typeof document>"u"?null:document;function fv(e,i,a){var o=Za;if(o&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),hv.has(h)||(hv.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ke(i,"link",e),Te(i),o.head.appendChild(i)))}}function j1(e){ar.D(e),fv("dns-prefetch",e,null)}function q1(e,i){ar.C(e,i),fv("preconnect",e,i)}function B1(e,i,a){ar.L(e,i,a);var o=Za;if(o&&e&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(i){case"style":f=Wa(e);break;case"script":f=to(e)}zn.has(f)||(e=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),zn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Rl(f))||i==="script"&&o.querySelector(Il(f))||(i=o.createElement("link"),Ke(i,"link",e),Te(i),o.head.appendChild(i)))}}function H1(e,i){ar.m(e,i);var a=Za;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=to(e)}if(!zn.has(f)&&(e=b({rel:"modulepreload",href:e},i),zn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}o=a.createElement("link"),Ke(o,"link",e),Te(o),a.head.appendChild(o)}}}function F1(e,i,a){ar.S(e,i,a);var o=Za;if(o&&e){var h=pi(o).hoistableStyles,f=Wa(e);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Rl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},a),(a=zn.get(f))&&Xd(e,a);var R=_=o.createElement("link");Te(R),Ke(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Pc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function G1(e,i){ar.X(e,i);var a=Za;if(a&&e){var o=pi(a).hoistableScripts,h=to(e),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(e=b({src:e,async:!0},i),(i=zn.get(h))&&$d(e,i),f=a.createElement("script"),Te(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Q1(e,i){ar.M(e,i);var a=Za;if(a&&e){var o=pi(a).hoistableScripts,h=to(e),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(e=b({src:e,async:!0,type:"module"},i),(i=zn.get(h))&&$d(e,i),f=a.createElement("script"),Te(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function dv(e,i,a,o){var h=(h=wt.current)?kc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=pi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Wa(a.href);var f=pi(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Rl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),f||K1(h,e,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=pi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Wa(e){return'href="'+on(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function mv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function K1(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ke(i,"link",a),Te(i),e.head.appendChild(i))}function to(e){return'[src="'+on(e)+'"]'}function Il(e){return"script[async]"+e}function gv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return i.instance=o,Te(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ke(o,"style",h),Pc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Wa(a.href);var f=e.querySelector(Rl(h));if(f)return i.state.loading|=4,i.instance=f,Te(f),f;o=mv(a),(h=zn.get(h))&&Xd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var _=f;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Ke(f,"link",o),i.state.loading|=4,Pc(f,a.precedence,e),i.instance=f;case"script":return f=to(a.src),(h=e.querySelector(Il(f)))?(i.instance=h,Te(h),h):(o=a,(h=zn.get(f))&&(o=b({},a),$d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ke(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Pc(o,a.precedence,e));return i.instance}function Pc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Xd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function $d(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Uc=null;function pv(e,i,a){if(Uc===null){var o=new Map,h=Uc=new Map;h.set(a,o)}else h=Uc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[mi]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function yv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Y1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _v(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function X1(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(o.href),f=i.querySelector(Rl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Lc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Te(f);return}f=i.ownerDocument||i,o=mv(o),(h=zn.get(h))&&Xd(o,h),f=f.createElement("link"),Te(f);var _=f;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Ke(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Lc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function $1(e,i){return e.stylesheets&&e.count===0&&jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Jd===0&&(Jd=62500*D1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Jd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zc=null;function jc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zc=new Map,i.forEach(J1,e),zc=null,Lc.call(e))}function J1(e,i){if(!(i.state.loading&4)){var a=zc.get(e);if(a)var o=a.get(null);else{a=new Map,zc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Cl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function Z1(e,i,a,o,h,f,_,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function vv(e,i,a,o,h,f,_,E,R,z,F,Y){return e=new Z1(e,i,a,_,R,z,F,Y,E),i=1,f===!0&&(i|=24),f=vn(3,null,null,i),e.current=f,f.stateNode=e,i=Df(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Vf(f),e}function Ev(e){return e?(e=Oa,e):Oa}function Tv(e,i,a,o,h,f){h=Ev(h),o.context===null?o.context=h:o.pendingContext=h,o=Vr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=kr(e,o,i),a!==null&&(dn(a,e,i),al(a,e,i))}function Av(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Zd(e,i){Av(e,i),(e=e.alternate)&&Av(e,i)}function Sv(e){if(e.tag===13||e.tag===31){var i=Ps(e,67108864);i!==null&&dn(i,e,67108864),Zd(e,67108864)}}function bv(e){if(e.tag===13||e.tag===31){var i=bn();i=bs(i);var a=Ps(e,i);a!==null&&dn(a,e,i),Zd(e,i)}}var qc=!0;function W1(e,i,a,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,Wd(e,i,a,o)}finally{W.p=f,H.T=h}}function tb(e,i,a,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,Wd(e,i,a,o)}finally{W.p=f,H.T=h}}function Wd(e,i,a,o){if(qc){var h=tm(o);if(h===null)zd(e,i,o,Bc,a),Rv(e,o);else if(nb(h,e,i,a,o))o.stopPropagation();else if(Rv(e,o),i&4&&-1<eb.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ci(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-fe(_);E.entanglements[1]|=R,_&=~R}Ni(f),(Ht&6)===0&&(bc=nn()+500,Al(0))}}break;case 31:case 13:E=Ps(f,2),E!==null&&dn(E,f,2),Rc(),Zd(f,2)}if(f=tm(o),f===null&&zd(e,i,o,Bc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else zd(e,i,o,null,a)}}function tm(e){return e=Nn(e),em(e)}var Bc=null;function em(e){if(Bc=null,e=gi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Bc=e,null}function wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Oo:return 2;case Mo:return 8;case vr:case of:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var nm=!1,Qr=null,Kr=null,Yr=null,Nl=new Map,Dl=new Map,Xr=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(e,i){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ol(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&Sv(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function nb(e,i,a,o,h){switch(i){case"focusin":return Qr=Ol(Qr,e,i,a,o,h),!0;case"dragenter":return Kr=Ol(Kr,e,i,a,o,h),!0;case"mouseover":return Yr=Ol(Yr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Nl.set(f,Ol(Nl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Dl.set(f,Ol(Dl.get(f)||null,e,i,a,o,h)),!0}return!1}function Iv(e){var i=gi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){bv(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){bv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=tm(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Fo=o,a.target.dispatchEvent(o),Fo=null}else return i=Cn(a),i!==null&&Sv(i),e.blockedOn=a,!1;i.shift()}return!0}function Cv(e,i,a){Hc(e)&&a.delete(i)}function ib(){nm=!1,Qr!==null&&Hc(Qr)&&(Qr=null),Kr!==null&&Hc(Kr)&&(Kr=null),Yr!==null&&Hc(Yr)&&(Yr=null),Nl.forEach(Cv),Dl.forEach(Cv)}function Fc(e,i){e.blockedOn===i&&(e.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ib)))}var Gc=null;function Nv(e){Gc!==e&&(Gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===e&&(Gc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(em(o||a)===null)continue;break}var f=Cn(a);f!==null&&(e.splice(i,3),i-=3,td(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function eo(e){function i(R){return Fc(R,e)}Qr!==null&&Fc(Qr,e),Kr!==null&&Fc(Kr,e),Yr!==null&&Fc(Yr,e),Nl.forEach(i),Dl.forEach(i);for(var a=0;a<Xr.length;a++){var o=Xr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Ue]||null;if(typeof f=="function")_||Nv(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Ue]||null)E=_.formAction;else if(em(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Nv(a)}}}function Dv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(e){this._internalRoot=e}Qc.prototype.render=im.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=bn();Tv(a,o,e,i,null,null)},Qc.prototype.unmount=im.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Tv(e.current,2,null,e,null,null),Rc(),i[di]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ru();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Xr.length&&i!==0&&i<Xr[a].priority;a++);Xr.splice(a,0,e),a===0&&Iv(e)}};var Ov=t.version;if(Ov!=="19.2.3")throw Error(s(527,Ov,"19.2.3"));W.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var rb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Fn=Kc.inject(rb),Be=Kc}catch{}}return xl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Ly,f=zy,_=jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=vv(e,1,!1,null,null,a,o,null,h,f,_,Dv),e[di]=i.current,Ld(e),new im(i)},xl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Ly,_=zy,E=jy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=vv(e,1,!0,i,a??null,o,h,R,f,_,E,Dv),i.context=Ev(null),a=i.current,o=bn(),o=bs(o),h=Vr(o),h.callback=null,kr(a,h,o),a=o,i.current.lanes=a,As(i,a),Ni(i),e[di]=i.current,Ld(e),new Qc(i)},xl.version="19.2.3",xl}var qv;function mb(){if(qv)return am.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),am.exports=db(),am.exports}var gb=mb();const pb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Bv=r=>{const t=yb(r);return t.charAt(0).toUpperCase()+t.slice(1)},MT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),_b=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var vb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Eb=le.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...g},y)=>le.createElement("svg",{ref:y,...vb,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:MT("lucide",l),...!u&&!_b(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,A])=>le.createElement(p,A)),...Array.isArray(u)?u:[u]]));const Rn=(r,t)=>{const n=le.forwardRef(({className:s,...l},u)=>le.createElement(Eb,{ref:u,iconNode:t,className:MT(`lucide-${pb(Bv(r))}`,`lucide-${r}`,s),...l}));return n.displayName=Bv(r),n};const Tb=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hv=Rn("bell",Tb);const Ab=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xT=Rn("circle-alert",Ab);const Sb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bb=Rn("circle-check-big",Sb);const wb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],VT=Rn("circle-x",wb);const Rb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ib=Rn("eye-off",Rb);const Cb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nb=Rn("eye",Cb);const Db=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Ob=Rn("grip-vertical",Db);const Mb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xb=Rn("history",Mb);const Vb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kb=Rn("log-out",Vb);const Pb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ub=Rn("settings",Pb);const Lb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fv=Rn("shield",Lb);const zb=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Gv=Rn("truck",zb);const jb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qb=Rn("x",jb),Bb=()=>{};var Qv={};const kT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Hb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},PT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,p=y?r[l+2]:0,A=u>>2,b=(u&3)<<4|g>>4;let N=(g&15)<<2|p>>6,G=p&63;y||(G=64,d||(N=64)),s.push(n[A],n[b],n[N],n[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(kT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Hb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const p=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||p==null||b==null)throw new Fb;const N=u<<2|g>>4;if(s.push(N),p!==64){const G=g<<4&240|p>>2;if(s.push(G),b!==64){const J=p<<6&192|b;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gb=function(r){const t=kT(r);return PT.encodeByteArray(t,!0)},mh=function(r){return Gb(r).replace(/\./g,"")},UT=function(r){try{return PT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kb=()=>Qb().__FIREBASE_DEFAULTS__,Yb=()=>{if(typeof process>"u"||typeof Qv>"u")return;const r=Qv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Xb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&UT(r[1]);return t&&JSON.parse(t)},xh=()=>{try{return Bb()||Kb()||Yb()||Xb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LT=r=>xh()?.emulatorHosts?.[r],$b=r=>{const t=LT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},zT=()=>xh()?.config,jT=r=>xh()?.[`_${r}`];class Jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qT(r){return(await fetch(r,{credentials:"include"})).ok}function Zb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mh(JSON.stringify(n)),mh(JSON.stringify(d)),""].join(".")}const ql={};function Wb(){const r={prod:[],emulator:[]};for(const t of Object.keys(ql))ql[t]?r.emulator.push(t):r.prod.push(t);return r}function tw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Kv=!1;function BT(r,t){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||ql[r]===t||ql[r]||Kv)return;ql[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=Wb().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,G){N.setAttribute("width","24"),N.setAttribute("id",G),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Kv=!0,d()},N}function A(N,G){N.setAttribute("id",G),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=tw(s),G=n("text"),J=document.getElementById(G)||document.createElement("span"),et=n("learnmore"),Z=document.getElementById(et)||document.createElement("a"),ut=n("preprendIcon"),vt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ft=N.element;g(ft),A(Z,et);const Pt=p();y(vt,ut),ft.append(vt,J,Z,Pt),document.body.appendChild(ft)}u?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ew(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function nw(){const r=xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aw(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ow(){return!nw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HT(){try{return typeof indexedDB=="object"}catch{return!1}}function FT(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}function lw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const uw="FirebaseError";class qi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=uw,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?cw(u,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new qi(l,g,s)}}function cw(r,t){return r.replace(hw,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const hw=/\{\$([^}]+)}/g;function fw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ea(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=t[l];if(Yv(u)&&Yv(d)){if(!ea(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Yv(r){return r!==null&&typeof r=="object"}function ou(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function kl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Pl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function dw(r,t){const n=new mw(r,t);return n.subscribe.bind(n)}class mw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gw(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=cm),l.error===void 0&&(l.error=cm),l.complete===void 0&&(l.complete=cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function cm(){}function De(r){return r&&r._delegate?r._delegate:r}class si{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xs="[DEFAULT]";class pw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Jb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_w(t))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xs){return this.instances.has(t)}getOptions(t=Xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Xs){return this.component?this.component.multipleInstances?t:Xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yw(r){return r===Xs?void 0:r}function _w(r){return r.instantiationMode==="EAGER"}class vw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new pw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const Ew={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Tw=Ot.INFO,Aw={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},Sw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Aw[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class og{constructor(t){this.name=t,this._logLevel=Tw,this._logHandler=Sw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ew[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const bw=(r,t)=>t.some(n=>r instanceof n);let Xv,$v;function ww(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rw(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GT=new WeakMap,Om=new WeakMap,QT=new WeakMap,hm=new WeakMap,lg=new WeakMap;function Iw(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(hr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&GT.set(n,r)}).catch(()=>{}),lg.set(t,r),t}function Cw(r){if(Om.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Om.set(r,t)}let Mm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Om.get(r);if(t==="objectStoreNames")return r.objectStoreNames||QT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Nw(r){Mm=r(Mm)}function Dw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(fm(this),t,...n);return QT.set(s,t.sort?t.sort():[t]),hr(s)}:Rw().includes(r)?function(...t){return r.apply(fm(this),t),hr(GT.get(this))}:function(...t){return hr(r.apply(fm(this),t))}}function Ow(r){return typeof r=="function"?Dw(r):(r instanceof IDBTransaction&&Cw(r),bw(r,ww())?new Proxy(r,Mm):r)}function hr(r){if(r instanceof IDBRequest)return Iw(r);if(hm.has(r))return hm.get(r);const t=Ow(r);return t!==r&&(hm.set(r,t),lg.set(t,r)),t}const fm=r=>lg.get(r);function Vh(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),g=hr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(hr(d.result),y.oldVersion,y.newVersion,hr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}function dm(r,{blocked:t}={}){const n=indexedDB.deleteDatabase(r);return t&&n.addEventListener("blocked",s=>t(s.oldVersion,s)),hr(n).then(()=>{})}const Mw=["get","getKey","getAll","getAllKeys","count"],xw=["put","add","delete","clear"],mm=new Map;function Jv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(mm.get(t))return mm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=xw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Mw.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return mm.set(t,u),u}Nw(r=>({...r,get:(t,n,s)=>Jv(t,n)||r.get(t,n,s),has:(t,n)=>!!Jv(t,n)||r.has(t,n)}));class Vw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kw(r){return r.getComponent()?.type==="VERSION"}const xm="@firebase/app",Zv="0.14.6";const mr=new og("@firebase/app"),Pw="@firebase/app-compat",Uw="@firebase/analytics-compat",Lw="@firebase/analytics",zw="@firebase/app-check-compat",jw="@firebase/app-check",qw="@firebase/auth",Bw="@firebase/auth-compat",Hw="@firebase/database",Fw="@firebase/data-connect",Gw="@firebase/database-compat",Qw="@firebase/functions",Kw="@firebase/functions-compat",Yw="@firebase/installations",Xw="@firebase/installations-compat",$w="@firebase/messaging",Jw="@firebase/messaging-compat",Zw="@firebase/performance",Ww="@firebase/performance-compat",tR="@firebase/remote-config",eR="@firebase/remote-config-compat",nR="@firebase/storage",iR="@firebase/storage-compat",rR="@firebase/firestore",sR="@firebase/ai",aR="@firebase/firestore-compat",oR="firebase",lR="12.6.0";const Vm="[DEFAULT]",uR={[xm]:"fire-core",[Pw]:"fire-core-compat",[Lw]:"fire-analytics",[Uw]:"fire-analytics-compat",[jw]:"fire-app-check",[zw]:"fire-app-check-compat",[qw]:"fire-auth",[Bw]:"fire-auth-compat",[Hw]:"fire-rtdb",[Fw]:"fire-data-connect",[Gw]:"fire-rtdb-compat",[Qw]:"fire-fn",[Kw]:"fire-fn-compat",[Yw]:"fire-iid",[Xw]:"fire-iid-compat",[$w]:"fire-fcm",[Jw]:"fire-fcm-compat",[Zw]:"fire-perf",[Ww]:"fire-perf-compat",[tR]:"fire-rc",[eR]:"fire-rc-compat",[nR]:"fire-gcs",[iR]:"fire-gcs-compat",[rR]:"fire-fst",[aR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};const gh=new Map,cR=new Map,km=new Map;function Wv(r,t){try{r.container.addComponent(t)}catch(n){mr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function zi(r){const t=r.name;if(km.has(t))return mr.debug(`There were multiple attempts to register component ${t}.`),!1;km.set(t,r);for(const n of gh.values())Wv(n,r);for(const n of cR.values())Wv(n,r);return!0}function Eo(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function jn(r){return r==null?!1:r.settings!==void 0}const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new la("app","Firebase",hR);class fR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const To=lR;function KT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Vm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw is.create("bad-app-name",{appName:String(l)});if(n||(n=zT()),!n)throw is.create("no-options");const u=gh.get(l);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw is.create("duplicate-app",{appName:l})}const d=new vw(l);for(const y of km.values())d.addComponent(y);const g=new fR(n,s,d);return gh.set(l,g),g}function ug(r=Vm){const t=gh.get(r);if(!t&&r===Vm&&zT())return KT();if(!t)throw is.create("no-app",{appName:r});return t}function Bn(r,t,n){let s=uR[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mr.warn(d.join(" "));return}zi(new si(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const dR="firebase-heartbeat-database",mR=1,Kl="firebase-heartbeat-store";let gm=null;function YT(){return gm||(gm=Vh(dR,mR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),gm}async function gR(r){try{const n=(await YT()).transaction(Kl),s=await n.objectStore(Kl).get(XT(r));return await n.done,s}catch(t){if(t instanceof qi)mr.warn(t.message);else{const n=is.create("idb-get",{originalErrorMessage:t?.message});mr.warn(n.message)}}}async function tE(r,t){try{const s=(await YT()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(t,XT(r)),await s.done}catch(n){if(n instanceof qi)mr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function XT(r){return`${r.name}!${r.options.appId}`}const pR=1024,yR=30;class _R{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ER(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>yR){const l=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){mr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eE(),{heartbeatsToSend:n,unsentEntries:s}=vR(this._heartbeatsCache.heartbeats),l=mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return mr.warn(t),""}}}function eE(){return new Date().toISOString().substring(0,10)}function vR(r,t=pR){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),nE(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),nE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ER{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HT()?FT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function nE(r){return mh(JSON.stringify({version:2,heartbeats:r})).length}function TR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function AR(r){zi(new si("platform-logger",t=>new Vw(t),"PRIVATE")),zi(new si("heartbeat",t=>new _R(t),"PRIVATE")),Bn(xm,Zv,r),Bn(xm,Zv,"esm2020"),Bn("fire-js","")}AR("");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,$T;(function(){var r;function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(x,O,k){for(var S=Array(arguments.length-2),At=2;At<arguments.length;At++)S[At-2]=arguments[At];return w.prototype[O].apply(x,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)x[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)x[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],O=C.g[2];let k=C.g[3],S;S=w+(k^I&(O^k))+x[0]+3614090360&4294967295,w=I+(S<<7&4294967295|S>>>25),S=k+(O^w&(I^O))+x[1]+3905402710&4294967295,k=w+(S<<12&4294967295|S>>>20),S=O+(I^k&(w^I))+x[2]+606105819&4294967295,O=k+(S<<17&4294967295|S>>>15),S=I+(w^O&(k^w))+x[3]+3250441966&4294967295,I=O+(S<<22&4294967295|S>>>10),S=w+(k^I&(O^k))+x[4]+4118548399&4294967295,w=I+(S<<7&4294967295|S>>>25),S=k+(O^w&(I^O))+x[5]+1200080426&4294967295,k=w+(S<<12&4294967295|S>>>20),S=O+(I^k&(w^I))+x[6]+2821735955&4294967295,O=k+(S<<17&4294967295|S>>>15),S=I+(w^O&(k^w))+x[7]+4249261313&4294967295,I=O+(S<<22&4294967295|S>>>10),S=w+(k^I&(O^k))+x[8]+1770035416&4294967295,w=I+(S<<7&4294967295|S>>>25),S=k+(O^w&(I^O))+x[9]+2336552879&4294967295,k=w+(S<<12&4294967295|S>>>20),S=O+(I^k&(w^I))+x[10]+4294925233&4294967295,O=k+(S<<17&4294967295|S>>>15),S=I+(w^O&(k^w))+x[11]+2304563134&4294967295,I=O+(S<<22&4294967295|S>>>10),S=w+(k^I&(O^k))+x[12]+1804603682&4294967295,w=I+(S<<7&4294967295|S>>>25),S=k+(O^w&(I^O))+x[13]+4254626195&4294967295,k=w+(S<<12&4294967295|S>>>20),S=O+(I^k&(w^I))+x[14]+2792965006&4294967295,O=k+(S<<17&4294967295|S>>>15),S=I+(w^O&(k^w))+x[15]+1236535329&4294967295,I=O+(S<<22&4294967295|S>>>10),S=w+(O^k&(I^O))+x[1]+4129170786&4294967295,w=I+(S<<5&4294967295|S>>>27),S=k+(I^O&(w^I))+x[6]+3225465664&4294967295,k=w+(S<<9&4294967295|S>>>23),S=O+(w^I&(k^w))+x[11]+643717713&4294967295,O=k+(S<<14&4294967295|S>>>18),S=I+(k^w&(O^k))+x[0]+3921069994&4294967295,I=O+(S<<20&4294967295|S>>>12),S=w+(O^k&(I^O))+x[5]+3593408605&4294967295,w=I+(S<<5&4294967295|S>>>27),S=k+(I^O&(w^I))+x[10]+38016083&4294967295,k=w+(S<<9&4294967295|S>>>23),S=O+(w^I&(k^w))+x[15]+3634488961&4294967295,O=k+(S<<14&4294967295|S>>>18),S=I+(k^w&(O^k))+x[4]+3889429448&4294967295,I=O+(S<<20&4294967295|S>>>12),S=w+(O^k&(I^O))+x[9]+568446438&4294967295,w=I+(S<<5&4294967295|S>>>27),S=k+(I^O&(w^I))+x[14]+3275163606&4294967295,k=w+(S<<9&4294967295|S>>>23),S=O+(w^I&(k^w))+x[3]+4107603335&4294967295,O=k+(S<<14&4294967295|S>>>18),S=I+(k^w&(O^k))+x[8]+1163531501&4294967295,I=O+(S<<20&4294967295|S>>>12),S=w+(O^k&(I^O))+x[13]+2850285829&4294967295,w=I+(S<<5&4294967295|S>>>27),S=k+(I^O&(w^I))+x[2]+4243563512&4294967295,k=w+(S<<9&4294967295|S>>>23),S=O+(w^I&(k^w))+x[7]+1735328473&4294967295,O=k+(S<<14&4294967295|S>>>18),S=I+(k^w&(O^k))+x[12]+2368359562&4294967295,I=O+(S<<20&4294967295|S>>>12),S=w+(I^O^k)+x[5]+4294588738&4294967295,w=I+(S<<4&4294967295|S>>>28),S=k+(w^I^O)+x[8]+2272392833&4294967295,k=w+(S<<11&4294967295|S>>>21),S=O+(k^w^I)+x[11]+1839030562&4294967295,O=k+(S<<16&4294967295|S>>>16),S=I+(O^k^w)+x[14]+4259657740&4294967295,I=O+(S<<23&4294967295|S>>>9),S=w+(I^O^k)+x[1]+2763975236&4294967295,w=I+(S<<4&4294967295|S>>>28),S=k+(w^I^O)+x[4]+1272893353&4294967295,k=w+(S<<11&4294967295|S>>>21),S=O+(k^w^I)+x[7]+4139469664&4294967295,O=k+(S<<16&4294967295|S>>>16),S=I+(O^k^w)+x[10]+3200236656&4294967295,I=O+(S<<23&4294967295|S>>>9),S=w+(I^O^k)+x[13]+681279174&4294967295,w=I+(S<<4&4294967295|S>>>28),S=k+(w^I^O)+x[0]+3936430074&4294967295,k=w+(S<<11&4294967295|S>>>21),S=O+(k^w^I)+x[3]+3572445317&4294967295,O=k+(S<<16&4294967295|S>>>16),S=I+(O^k^w)+x[6]+76029189&4294967295,I=O+(S<<23&4294967295|S>>>9),S=w+(I^O^k)+x[9]+3654602809&4294967295,w=I+(S<<4&4294967295|S>>>28),S=k+(w^I^O)+x[12]+3873151461&4294967295,k=w+(S<<11&4294967295|S>>>21),S=O+(k^w^I)+x[15]+530742520&4294967295,O=k+(S<<16&4294967295|S>>>16),S=I+(O^k^w)+x[2]+3299628645&4294967295,I=O+(S<<23&4294967295|S>>>9),S=w+(O^(I|~k))+x[0]+4096336452&4294967295,w=I+(S<<6&4294967295|S>>>26),S=k+(I^(w|~O))+x[7]+1126891415&4294967295,k=w+(S<<10&4294967295|S>>>22),S=O+(w^(k|~I))+x[14]+2878612391&4294967295,O=k+(S<<15&4294967295|S>>>17),S=I+(k^(O|~w))+x[5]+4237533241&4294967295,I=O+(S<<21&4294967295|S>>>11),S=w+(O^(I|~k))+x[12]+1700485571&4294967295,w=I+(S<<6&4294967295|S>>>26),S=k+(I^(w|~O))+x[3]+2399980690&4294967295,k=w+(S<<10&4294967295|S>>>22),S=O+(w^(k|~I))+x[10]+4293915773&4294967295,O=k+(S<<15&4294967295|S>>>17),S=I+(k^(O|~w))+x[1]+2240044497&4294967295,I=O+(S<<21&4294967295|S>>>11),S=w+(O^(I|~k))+x[8]+1873313359&4294967295,w=I+(S<<6&4294967295|S>>>26),S=k+(I^(w|~O))+x[15]+4264355552&4294967295,k=w+(S<<10&4294967295|S>>>22),S=O+(w^(k|~I))+x[6]+2734768916&4294967295,O=k+(S<<15&4294967295|S>>>17),S=I+(k^(O|~w))+x[13]+1309151649&4294967295,I=O+(S<<21&4294967295|S>>>11),S=w+(O^(I|~k))+x[4]+4149444226&4294967295,w=I+(S<<6&4294967295|S>>>26),S=k+(I^(w|~O))+x[11]+3174756917&4294967295,k=w+(S<<10&4294967295|S>>>22),S=O+(w^(k|~I))+x[2]+718787259&4294967295,O=k+(S<<15&4294967295|S>>>17),S=I+(k^(O|~w))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,x=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(x[O++]=C.charCodeAt(k++),O==this.blockSize){l(this,x),O=0;break}}else for(;k<w;)if(x[O++]=C[k++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)C[w++]=this.g[I]>>>x&255;return C};function u(C,w){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let x=!0;for(let O=C.length-1;O>=0;O--){const k=C[O]|0;x&&k==w||(I[O]=k,x=!1)}this.g=I}var g={};function y(C){return-128<=C&&C<128?u(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return Z(p(-C));const w=[];let I=1;for(let x=0;C>=I;x++)w[x]=C/I|0,I*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return Z(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(w,8));let x=b;for(let k=0;k<C.length;k+=8){var O=Math.min(8,C.length-k);const S=parseInt(C.substring(k,k+O),w);O<8?(O=p(Math.pow(w,O)),x=x.j(O).add(p(S))):(x=x.j(I),x=x.add(p(S)))}return x}var b=y(0),N=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(et(this))return-Z(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);C+=(x>=0?x:4294967296+x)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(et(this))return"-"+Z(this).toString(C);const w=p(Math.pow(C,6));var I=this;let x="";for(;;){const O=Pt(I,w).g;I=ut(I,O.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,J(I))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=ut(this,C),et(C)?-1:J(C)?0:1};function Z(C){const w=C.g.length,I=[];for(let x=0;x<w;x++)I[x]=~C.g[x];return new d(I,~C.h).add(N)}r.abs=function(){return et(this)?Z(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let x=0;for(let O=0;O<=w;O++){let k=x+(this.i(O)&65535)+(C.i(O)&65535),S=(k>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);x=S>>>16,k&=65535,S&=65535,I[O]=S<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ut(C,w){return C.add(Z(w))}r.j=function(C){if(J(this)||J(C))return b;if(et(this))return et(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(et(C))return Z(this.j(Z(C)));if(this.l(G)<0&&C.l(G)<0)return p(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<C.g.length;O++){const k=this.i(x)>>>16,S=this.i(x)&65535,At=C.i(O)>>>16,Gt=C.i(O)&65535;I[2*x+2*O]+=S*Gt,vt(I,2*x+2*O),I[2*x+2*O+1]+=k*Gt,vt(I,2*x+2*O+1),I[2*x+2*O+1]+=S*At,vt(I,2*x+2*O+1),I[2*x+2*O+2]+=k*At,vt(I,2*x+2*O+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function vt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ft(C,w){this.g=C,this.h=w}function Pt(C,w){if(J(w))throw Error("division by zero");if(J(C))return new ft(b,b);if(et(C))return w=Pt(Z(C),w),new ft(Z(w.g),Z(w.h));if(et(w))return w=Pt(C,Z(w)),new ft(Z(w.g),w.h);if(C.g.length>30){if(et(C)||et(w))throw Error("slowDivide_ only works with positive integers.");for(var I=N,x=w;x.l(C)<=0;)I=Xt(I),x=Xt(x);var O=Vt(I,1),k=Vt(x,1);for(x=Vt(x,2),I=Vt(I,2);!J(x);){var S=k.add(x);S.l(C)<=0&&(O=O.add(I),k=S),x=Vt(x,1),I=Vt(I,1)}return w=ut(C,O.j(w)),new ft(O,w)}for(O=b;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=p(I),S=k.j(w);et(S)||S.l(C)>0;)I-=x,k=p(I),S=k.j(w);J(k)&&(k=N),O=O.add(k),C=ut(C,S)}return new ft(O,C)}r.B=function(C){return Pt(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&C.i(x);return new d(I,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|C.i(x);return new d(I,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^C.i(x);return new d(I,this.h^C.h)};function Xt(C){const w=C.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new d(I,C.h)}function Vt(C,w){const I=w>>5;w%=32;const x=C.g.length-I,O=[];for(let k=0;k<x;k++)O[k]=w>0?C.i(k+I)>>>w|C.i(k+I+1)<<32-w:C.i(k+I);return new d(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$T=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=A,rs=d}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JT,Ul,ZT,nh,Pm,WT,t0,e0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var P=c[T];if(!(P in v))break t;v=v[P]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function A(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function b(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(T,P,q){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[P].apply(T,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function G(c){const m=c.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function J(c,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let tt=0;tt<q;tt++)c[v+tt]=P[tt]}else c.push(P)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){d.setTimeout(()=>{throw c},0)}function ut(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const T=ft.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new et(()=>new Pt,c=>c.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,Vt=!1,C=new vt,w=()=>{const c=Promise.resolve(void 0);Xt=()=>{c.then(I)}};function I(){for(var c;c=ut();){try{c.h.call(c.g)}catch(v){Z(v)}var m=ft;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Vt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function At(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}b(At,O),At.prototype.init=function(c,m){const v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&At.Z.h.call(this)},At.prototype.h=function(){At.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Gt="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(c,m,v,T,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++H,this.da=this.fa=!1}function at(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pt(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function qt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)c[v]=T[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,T,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const tt=wt(c,m,T,P);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new W(m,this.src,q,!!T,P),m.fa=v,c.push(m)),m};function yt(c,m){const v=m.type;if(v in c.g){var T=c.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(at(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function wt(c,m,v,T){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Oe={};function se(c,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)se(c,m[q],v,T,P);return null}return v=Do(v),c&&c[Gt]?c.J(m,v,g(T)?!!T.capture:!1,P):_s(c,m,v,!1,T,P)}function _s(c,m,v,T,P,q){if(!m)throw Error("Invalid event type");const tt=g(P)?!!P.capture:!!P;let St=vs(c);if(St||(c[Ut]=St=new st(c)),v=St.add(m,v,T,tt,q),v.proxy)return v;if(T=fa(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)k||(P=tt),P===void 0&&(P=!1),c.addEventListener(m.toString(),T,P);else if(c.attachEvent)c.attachEvent(li(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fa(){function c(v){return m.call(c.src,c.listener,v)}const m=Co;return c}function da(c,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)da(c,m[q],v,T,P);else T=g(T)?!!T.capture:!!T,v=Do(v),c&&c[Gt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=wt(m,v,T,P),v>-1&&(at(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=vs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=wt(m,v,T,P)),(v=c>-1?m[c]:null)&&ma(v))}function ma(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Gt])yt(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(li(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=vs(m))?(yt(v,c),v.h==0&&(v.src=null,m[Ut]=null)):at(c)}}}function li(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function Co(c,m){if(c.da)c=!0;else{m=new At(m,this);const v=c.listener,T=c.ha||c.src;c.fa&&ma(c),c=v.call(T,m)}return c}function vs(c){return c=c[Ut],c instanceof st?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(c){return typeof c=="function"?c:(c[No]||(c[No]=function(m){return c.handleEvent(m)}),c[No])}function _e(){x.call(this),this.i=new st(this),this.M=this,this.G=null}b(_e,x),_e.prototype[Gt]=!0,_e.prototype.removeEventListener=function(c,m,v,T){da(this,c,m,v,T)};function Me(c,m){var v,T=c.G;if(T)for(v=[];T;T=T.G)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var P=m;m=new O(T,c),nt(m,P)}P=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],P=_r(q,T,!0,m)&&P;if(q=m.g=c,P=_r(q,T,!0,m)&&P,P=_r(q,T,!1,m)&&P,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],P=_r(q,T,!1,m)&&P}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let T=0;T<v.length;T++)at(v[T]);delete c.g[m],c.h--}}this.G=null},_e.prototype.J=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},_e.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function _r(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const St=tt.listener,de=tt.ha||tt.src;tt.fa&&yt(c.i,tt),P=St.call(de,T)!==!1&&P}}return P&&!T.defaultPrevented}function af(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function vu(c){c.g=af(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){x.call(this),this.h=c,this.g={}}b(Es,x);var Oo=[];function Mo(c){pt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ma(m)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Mo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=d.JSON.stringify,of=d.JSON.parse,Eu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Tu(){}function Au(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){O.call(this,"d")}b(Be,O);function In(){O.call(this,"c")}b(In,O);var fe={},Su=null;function ga(){return Su=Su||new _e}fe.Ia="serverreachability";function bu(c){O.call(this,fe.Ia,c)}b(bu,O);function ui(c){const m=ga();Me(m,new bu(m))}fe.STAT_EVENT="statevent";function Ts(c,m){O.call(this,fe.STAT_EVENT,c),this.stat=m}b(Ts,O);function ve(c){const m=ga();Me(m,new Ts(m,c))}fe.Ja="timingevent";function ci(c,m){O.call(this,fe.Ja,c),this.size=m}b(ci,O);function hi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function lf(c,m,v,T,P,q){c.info(function(){if(c.g)if(q){var tt="",St=q.split("&");for(let Bt=0;Bt<St.length;Bt++){var de=St[Bt].split("=");if(de.length>1){const ae=de[0];de=de[1];const On=ae.split("_");tt=On.length>=2&&On[1]=="type"?tt+(ae+"="+de+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+tt})}function wu(c,m,v,T,P,q,tt){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+tt})}function fi(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+uf(c,v)+(T?" "+T:"")})}function As(c,m){c.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function uf(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return vr(q)}catch{return m}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function bs(){}b(bs,Tu),bs.prototype.g=function(){return new XMLHttpRequest},Vo=new bs;function Bi(c){return encodeURIComponent(String(c))}function Ru(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Qn(c,m,v,T){this.j=c,this.i=m,this.l=v,this.S=T||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Ee={},Ue={};function di(c,m,v){c.M=1,c.A=ws(Ae(m)),c.u=v,c.R=!0,pa(c,null)}function pa(c,m){c.F=Date.now(),mi(c),c.B=Ae(c.A);var v=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Ea(v.i,"t",T),c.C=0,v=c.j.L,c.h=new Kn,c.g=qu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,T=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Oo[0]=P.toString()),P=Oo);for(let q=0;q<P.length;q++){const tt=se(v,P[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ui(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&$n(c)==3?m.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)t:{const St=$n(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||St!=4||de==7||(de==8||Bt<=0?ui(3):ui(2)),gi(this);var m=this.g.ca();this.X=m;var v=cf(this);if(this.o=m==200,wu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var q=T;break e}}q=null}if(c=q)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,ve(12),pn(this),Cn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=Cu(this,v),ae==Ue){St==4&&(this.m=4,ve(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,ae,null),pi(this,ae);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(tt),tt.P=!0,ve(11))}}else fi(this.i,this.l,v,null),pi(this,v);St==4&&pn(this),this.o&&!this.K&&(St==4?Uu(this.j,this):(this.o=!1,mi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),pn(this),Cn(this)}}}catch{}};function cf(c){if(!Iu(c))return c.g.la();const m=He(c.g);if(m==="")return"";let v="";const T=m.length,P=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?Ue:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ue:(m=m.slice(T,T+v),c.C=T+v,m)))}Qn.prototype.cancel=function(){this.K=!0,pn(this)};function mi(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(p(c.aa,c),m)}function gi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(ui(),ve(17)),pn(this),this.m=2,Cn(this)):ya(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Uu(c.j,c)}function pn(c){gi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Mo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function pi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)wa(v),Ir(v);else break t;Ms(v),ve(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(p(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&wa(v),!S(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Bt=P[m];const ae=Bt[0];if(!(ae<=v.K))if(v.K=ae,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const On=Bt[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const wi=Bt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Jn=Bt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(T=1.5*Jn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Zn=c.g;if(Zn){const xs=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var q=T.h;q.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(T.G){const Ra=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(T.wa=Ra,Qt(T.J,T.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=c;if(T.na=ju(T,T.L?T.ba:null,T.W),tt.L){Lo(T.h,tt);var St=tt,de=T.O;de&&(St.H=de),St.D&&(gi(St),mi(St)),T.g=tt}else ku(T);v.i.length>0&&Si(v)}else Bt[0]!="stop"&&Bt[0]!="close"||bi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?bi(v,7):Ko(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ui(4)}catch{}}var Te=class{constructor(c,m){this.g=c,this.map=m}};function ko(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Uo(c,m){c.g?c.g.add(m):c.h=m}function Lo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ko.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return G(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const T=c[v].indexOf("=");let P,q=null;T>=0?(P=c[v].substring(0,T),q=c[v].substring(T+1)):P=c[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,jo(this,xu(c.i)),this.m=c.m):c&&(m=String(c).match(Nu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),Er(this,m[4]),this.h=vi(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Rs(m,va,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Rs(m,va,!0),"@"),c.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?qo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,Ou)),c.join("")},yn.prototype.resolve=function(c){const m=Ae(this);let v=!!c.j;v?Le(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var T=c.h;if(v)Er(m,c.u);else if(v=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let tt=0;tt<P.length;){const St=P[tt++];St=="."?T&&tt==P.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&tt==P.length&&q.push("")):(q.push(St),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=c.i.toString()!=="",v?jo(m,xu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Ae(c){return new yn(c)}function Le(c,m,v){c.j=v?vi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function jo(c,m,v){m instanceof Ar?(c.i=m,Ta(c.i,c.l)):(v||(m=Rs(m,Tr)),c.i=new Ar(m,c.l))}function Qt(c,m,v){c.i.set(m,v)}function ws(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,Du=/[#\?:]/g,qo=/[#\?]/g,Tr=/[#\?@]/g,Ou=/#/g;function Ar(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ar.prototype,r.add=function(c,m){ln(this),this.i=null,c=Sr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Mu(c,m){ln(c),m=Sr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Bo(c,m){return ln(c),m=Sr(c,m),c.g.has(m)}r.forEach=function(c,m){ln(this),this.g.forEach(function(v,T){v.forEach(function(P){c.call(m,P,T,this)},this)},this)};function Ho(c,m){ln(c);let v=[];if(typeof m=="string")Bo(c,m)&&(v=v.concat(c.g.get(Sr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return ln(this),this.i=null,c=Sr(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Ho(this,c),c.length>0?String(c[0]):m):m};function Ea(c,m,v){Mu(c,m),v.length>0&&(c.i=null,c.g.set(Sr(c,m),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Bi(v);v=Ho(this,v);for(let q=0;q<v.length;q++){let tt=P;v[q]!==""&&(tt+="="+Bi(v[q])),c.push(tt)}}return this.i=c.join("&")};function xu(c){const m=new Ar;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Sr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Ta(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(Mu(this,T),Ea(this,P,v))},c)),c.j=m}function Yn(c,m){const v=new Gn;if(d.Image){const T=new Image;T.onload=A(Nn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Nn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Nn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Nn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function Fo(c,m){const v=new Gn,T=new AbortController,P=setTimeout(()=>{T.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Nn(v,"TestPingServer: error",!1,m)})}function Nn(c,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function br(){this.g=new Eu}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ei,Tu),Ei.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,m){_e.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Is,_e),r=Is.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?wr(this):Xn(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let m="";return pt(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Cs(c,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Dn(v),typeof c=="string"?v!=null&&Bi(v):Qt(c,m,v))}function $t(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,_e);var Ti=/^https?$/i,Go=["POST","PUT"];r=$t.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Ns(this,q);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Go,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ns(this,q)}};function Ns(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Qo(c),Hi(c)}function Qo(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),$n(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let tt=String(c.D).match(Nu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ti.test(tt?tt.toLowerCase():"")}v=T}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var P=$n(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Qo(c)}}finally{Hi(c)}}}}function Hi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),of(m)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const m={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(S(c[T]))continue;var v=Ru(c[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}qt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Rr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,T){ve(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=ju(this,null,this.W),Si(this)};function Ko(c){if(Sa(c),c.I==3){var m=c.V++,v=Ae(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Os(c,v),m=new Qn(c,c.j,m),m.M=2,m.A=ws(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=qu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}zu(c)}function Ir(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function Sa(c){Ir(c),c.v&&(d.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Si(c){if(!Po(c.h)&&!c.m){c.m=!0;var m=c.Ea;Xt||w(),Vt||(Xt(),Vt=!0),C.add(m,c),c.D=0}}function ba(c,m){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(p(c.Ea,c,m),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Vu(this,P,m),v=Ae(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Os(this,v),q&&(this.R?m="headers="+Bi(Dn(q))+"&"+m:this.u&&Cs(v,this.u,q)),Uo(this.h,P),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),P.U=!0,di(P,v,null)):di(P,v,m),this.I=2}}else this.I==3&&(c?Yo(this,c):this.i.length==0||Po(this.h)||Yo(this))};function Yo(c,m){var v;m?v=m.l:v=c.V++;const T=Ae(c.J);Qt(T,"SID",c.M),Qt(T,"RID",v),Qt(T,"AID",c.K),Os(c,T),c.u&&c.o&&Cs(T,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),di(v,T,m)}function Os(c,m){c.H&&pt(c.H,function(v,T){Qt(m,T,v)}),c.l&&pt({},function(v,T){Qt(m,T,v)})}function Vu(c,m,v){v=Math.min(c.i.length,v);const T=c.l?p(c.l.Ka,c.l,c):null;t:{var P=c.i;let St=-1;for(;;){const de=["count="+v];St==-1?v>0?(St=P[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let Bt=!0;for(let ae=0;ae<v;ae++){var q=P[ae].g;const On=P[ae].map;if(q-=St,q<0)St=Math.max(0,P[ae].g-100),Bt=!1;else try{q="req"+q+"_"||"";try{var tt=On instanceof Map?On:Object.entries(On);for(const[wi,Jn]of tt){let Zn=Jn;g(Jn)&&(Zn=vr(Jn)),de.push(q+wi+"="+encodeURIComponent(Zn))}}catch(wi){throw de.push(q+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(On)}}if(Bt){tt=de.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function ku(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Xt||w(),Vt||(Xt(),Vt=!0),C.add(m,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(p(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Ir(this),Pu(this))};function Xo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ae(c.na);Qt(m,"RID","rpc"),Qt(m,"SID",c.M),Qt(m,"AID",c.K),Qt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(m,"TO",c.ia),Qt(m,"TYPE","xmlhttp"),Os(c,m),c.u&&c.o&&Cs(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ws(Ae(m)),v.u=null,v.R=!0,pa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ir(this),Ms(this),ve(19))};function wa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Uu(c,m){var v=null;if(c.g==m){wa(c),Xo(c),c.g=null;var T=2}else if(_i(c.h,m))v=m.G,Lo(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;T=ga(),Me(T,new ci(T,v)),Si(c)}else ku(c);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ba(c,m)||T==2&&Ms(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Lu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function bi(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),T=c.Ua;const P=!T;T=new yn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),ws(T),P?Yn(T.toString(),v):Fo(T.toString(),v)}else ve(2);c.I=0,c.l&&c.l.pa(m),zu(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const m=zo(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.oa()}}function ju(c,m,v){var T=v instanceof yn?Ae(v):new yn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Er(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new yn(null);T&&Le(q,T),m&&(q.g=m),P&&Er(q,P),v&&(q.h=v),T=q}return v=c.G,m=c.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",c.ka),Os(c,T),T}function qu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $t(new Ei({ab:v})):new $t(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){_e.call(this),this.g=new Rr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!S(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Gi(this)}b(rn,_e),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ko(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vr(c),c=v);m.i.push(new Te(m.Ya++,c)),m.I==3&&Si(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,rn.Z.N.call(this)};function Hu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(Hu,Be);function Fu(){In.call(this),this.status=1}b(Fu,In);function Gi(c){this.g=c}b(Gi,Bu),Gi.prototype.ra=function(){Me(this.g,"a")},Gi.prototype.qa=function(c){Me(this.g,new Hu(c))},Gi.prototype.pa=function(c){Me(this.g,new Fu)},Gi.prototype.oa=function(){Me(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,e0=function(){return new Cr},t0=function(){return ga()},WT=fe,Pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,nh=Ss,xo.COMPLETE="complete",ZT=xo,Au.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Ul=Au,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,JT=$t}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const rE="@firebase/firestore",sE="4.9.3";class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let Ao="12.7.0";const na=new og("@firebase/firestore");function no(){return na.logLevel}function rt(r,...t){if(na.logLevel<=Ot.DEBUG){const n=t.map(cg);na.debug(`Firestore (${Ao}): ${r}`,...n)}}function gr(r,...t){if(na.logLevel<=Ot.ERROR){const n=t.map(cg);na.error(`Firestore (${Ao}): ${r}`,...n)}}function fo(r,...t){if(na.logLevel<=Ot.WARN){const n=t.map(cg);na.warn(`Firestore (${Ao}): ${r}`,...n)}}function cg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,n0(r,s,n)}function n0(r,t,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function Ft(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||n0(t,l,s)}function Tt(r,t){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends qi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class i0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class bR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wR{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new i0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class RR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new RR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class hg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=NR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Mt(r,t){return r<t?-1:r>t?1:0}function Um(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return pm(l)===pm(u)?Mt(l,u):pm(l)?1:-1}return Mt(r.length,t.length)}const DR=55296,OR=57343;function pm(r){const t=r.charCodeAt(0);return t>=DR&&t<=OR}function mo(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const oE="__name__";class Mi{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Mi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Mt(t.length,n.length)}static compareSegments(t,n){const s=Mi.isNumericId(t),l=Mi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Mi.extractNumericId(t).compare(Mi.extractNumericId(n)):Um(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rs.fromString(t.substring(4,t.length-2))}}class ee extends Mi{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Mi{construct(t,n,s){return new Xe(t,n,s)}static isValidIdentifier(t){return MR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oE}static keyField(){return new Xe([oE])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new it(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(u(),l++)}if(u(),d)throw new it(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ee.fromString(t))}static fromName(t){return new ht(ee.fromString(t).popFirst(5))}static empty(){return new ht(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ee(t.slice()))}}function r0(r,t,n){if(!n)throw new it(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function xR(r,t,n,s){if(t===!0&&s===!0)throw new it(K.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function lE(r){if(!ht.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function uE(r){if(ht.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function s0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Hn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(r);throw new it(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ne(r,t){const n={typeString:r};return t&&(n.value=t),n}function lu(r,t){if(!s0(r))throw new it(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new it(K.INVALID_ARGUMENT,n);return!0}const cE=-62135596800,hE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*hE);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<cE)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new re(0,0))}static max(){return new _t(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function VR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new as(l,ht.empty(),t)}function kR(r){return new as(r.readTime,r.key,Yl)}class as{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new as(_t.min(),ht.empty(),Yl)}static max(){return new as(_t.max(),ht.empty(),Yl)}}function PR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:Mt(r.largestBatchId,t.largestBatchId))}const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function So(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==UR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>s(y)))})),d=!0,u===l&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,l)=>{const u=t.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(t[p]).next((A=>{d[p]=A,++g,g===u&&s(d)}),(A=>l(A)))}}))}static doWhile(t,n){return new $(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function zR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}class Ph{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ph.ce=-1;const fg=-1;function Uh(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function jR(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const a0="";function qR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=fE(t)),t=BR(r.get(n),t);return fE(t)}function BR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case a0:n+="";break;default:n+=u}}return n}function fE(r){return r+a0+""}function dE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ds(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function o0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xc(this.root,t,this.comparator,!0)}}class Xc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Ye.RED,this.left=l??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Ye(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new mE(this.data.getIterator())}getIteratorFrom(t){return new mE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class mE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new wn([])}unionWith(t){let n=new Pe(Xe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class l0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new l0("Invalid base64 string: "+u):u}})(t);return new $e(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const HR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=HR.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}const u0="server_timestamp",c0="__type__",h0="__previous_value__",f0="__local_write_time__";function dg(r){return(r?.mapValue?.fields||{})[c0]?.stringValue===u0}function Lh(r){const t=r.mapValue.fields[h0];return dg(t)?Lh(t):t}function Xl(r){const t=os(r.mapValue.fields[f0].timestampValue);return new re(t.seconds,t.nanos)}class FR{constructor(t,n,s,l,u,d,g,y,p,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=A}}const yh="(default)";class $l{constructor(t,n){this.projectId=t,this.database=n||yh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===yh}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}const d0="__type__",GR="__max__",$c={mapValue:{}},m0="__vector__",_h="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dg(r)?4:KR(r)?9007199254740991:QR(r)?10:11:gt(28295,{value:r})}function ji(r,t){if(r===t)return!0;const n=us(r);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Xl(r).isEqual(Xl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=os(l.timestampValue),g=os(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return ls(l.bytesValue).isEqual(ls(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return pe(l.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return pe(l.integerValue)===pe(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=pe(l.doubleValue),g=pe(u.doubleValue);return d===g?ph(d)===ph(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return mo(r.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(dE(d)!==dE(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ji(d[y],g[y])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Jl(r,t){return(r.values||[]).find((n=>ji(n,t)))!==void 0}function go(r,t){if(r===t)return 0;const n=us(r),s=us(t);if(n!==s)return Mt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=pe(u.integerValue||u.doubleValue),y=pe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return gE(r.timestampValue,t.timestampValue);case 4:return gE(Xl(r),Xl(t));case 5:return Um(r.stringValue,t.stringValue);case 6:return(function(u,d){const g=ls(u),y=ls(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const A=Mt(g[p],y[p]);if(A!==0)return A}return Mt(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Mt(pe(u.latitude),pe(d.latitude));return g!==0?g:Mt(pe(u.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return pE(r.arrayValue,t.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[_h]?.arrayValue,A=y[_h]?.arrayValue,b=Mt(p?.values?.length||0,A?.values?.length||0);return b!==0?b:pE(p,A)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===$c.mapValue&&d===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(d===$c.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},A=Object.keys(p);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const N=Um(y[b],A[b]);if(N!==0)return N;const G=go(g[y[b]],p[A[b]]);if(G!==0)return G}return Mt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:n})}}function gE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const n=os(r),s=os(t),l=Mt(n.seconds,s.seconds);return l!==0?l:Mt(n.nanos,s.nanos)}function pE(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=go(n[l],s[l]);if(u)return u}return Mt(n.length,s.length)}function po(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ht.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Lm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${Lm(n.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function ih(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lh(r);return t?16+ih(t):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ds(s.fields,((u,d)=>{l+=u.length+ih(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function yE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function zm(r){return!!r&&"integerValue"in r}function mg(r){return!!r&&"arrayValue"in r}function _E(r){return!!r&&"nullValue"in r}function vE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function QR(r){return(r?.mapValue?.fields||{})[d0]?.stringValue===m0}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ds(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Bl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return t}return{...r}}function KR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GR}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(n)}setAll(t){let n=Xe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=Bl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];rh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){ds(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new gn(Bl(this.value))}}function g0(r){const t=[];return ds(r.fields,((n,s)=>{const l=new Xe([n]);if(rh(s)){const u=g0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new wn(t)}class tn{constructor(t,n,s,l,u,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new tn(t,0,_t.min(),_t.min(),_t.min(),gn.empty(),0)}static newFoundDocument(t,n,s,l){return new tn(t,1,n,_t.min(),s,l,0)}static newNoDocument(t,n){return new tn(t,2,n,_t.min(),_t.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,_t.min(),_t.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(t,n){this.position=t,this.inclusive=n}}function EE(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),n.key):s=go(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function TE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ji(r.position[n],t.position[n]))return!1;return!0}class Zl{constructor(t,n="asc"){this.field=t,this.dir=n}}function YR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class p0{}class Ce extends p0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new $R(t,n,s):n==="array-contains"?new WR(t,s):n==="in"?new tI(t,s):n==="not-in"?new eI(t,s):n==="array-contains-any"?new nI(t,s):new Ce(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new JR(t,s):new ZR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends p0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ai(t,n)}matches(t){return y0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y0(r){return r.op==="and"}function _0(r){return XR(r)&&y0(r)}function XR(r){for(const t of r.filters)if(t instanceof ai)return!1;return!0}function jm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+po(r.value);if(_0(r))return r.filters.map((t=>jm(t))).join(",");{const t=r.filters.map((n=>jm(n))).join(",");return`${r.op}(${t})`}}function v0(r,t){return r instanceof Ce?(function(s,l){return l instanceof Ce&&s.op===l.op&&s.field.isEqual(l.field)&&ji(s.value,l.value)})(r,t):r instanceof ai?(function(s,l){return l instanceof ai&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,g)=>u&&v0(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function E0(r){return r instanceof Ce?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(E0).join(" ,")+"}"})(r):"Filter"}class $R extends Ce{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class JR extends Ce{constructor(t,n){super(t,"in",n),this.keys=T0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class ZR extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=T0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function T0(r,t){return(t.arrayValue?.values||[]).map((n=>ht.fromName(n.referenceValue)))}class WR extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return mg(n)&&Jl(n.arrayValue,this.value)}}class tI extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class eI extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class nI extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class iI{constructor(t,n=null,s=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function AE(r,t=null,n=[],s=[],l=null,u=null,d=null){return new iI(r,t,n,s,l,u,d)}function gg(r){const t=Tt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>jm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>po(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>po(s))).join(",")),t.Te=n}return t.Te}function pg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!YR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!v0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!TE(r.startAt,t.startAt)&&TE(r.endAt,t.endAt)}function qm(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wo{constructor(t,n=null,s=[],l=[],u=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rI(r,t,n,s,l,u,d,g){return new wo(r,t,n,s,l,u,d,g)}function zh(r){return new wo(r)}function SE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function A0(r){return r.collectionGroup!==null}function Hl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Pe(Xe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Zl(u,s))})),n.has(Xe.keyField().canonicalString())||t.Ie.push(new Zl(Xe.keyField(),s))}return t.Ie}function xi(r){const t=Tt(r);return t.Ee||(t.Ee=sI(t,Hl(r))),t.Ee}function sI(r,t){if(r.limitType==="F")return AE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Zl(l.field,u)}));const n=r.endAt?new vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vh(r.startAt.position,r.startAt.inclusive):null;return AE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Bm(r,t){const n=r.filters.concat([t]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Hm(r,t,n){return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function jh(r,t){return pg(xi(r),xi(t))&&r.limitType===t.limitType}function S0(r){return`${gg(xi(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>E0(l))).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>po(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>po(l))).join(",")),`Target(${s})`})(xi(r))}; limitType=${r.limitType})`}function qh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ht.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Hl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const p=EE(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,Hl(s),l)||s.endAt&&!(function(d,g,y){const p=EE(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,Hl(s),l))})(r,t)}function aI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function b0(r){return(t,n)=>{let s=!1;for(const l of Hl(r)){const u=oI(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function oI(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?go(y,p):gt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class ua{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ds(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return o0(this.inner)}size(){return this.innerSize}}const lI=new ue(ht.comparator);function pr(){return lI}const w0=new ue(ht.comparator);function Ll(...r){let t=w0;for(const n of r)t=t.insert(n.key,n);return t}function R0(r){let t=w0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Js(){return Fl()}function I0(){return Fl()}function Fl(){return new ua((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uI=new ue(ht.comparator),cI=new Pe(ht.comparator);function xt(...r){let t=cI;for(const n of r)t=t.add(n);return t}const hI=new Pe(Mt);function fI(){return hI}function yg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(t)?"-0":t}}function C0(r){return{integerValue:""+r}}function N0(r,t){return jR(t)?C0(t):yg(r,t)}class Bh{constructor(){this._=void 0}}function dI(r,t,n){return r instanceof Wl?(function(l,u){const d={fields:{[c0]:{stringValue:u0},[f0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&dg(u)&&(u=Lh(u)),u&&(d.fields[h0]=u),{mapValue:d}})(n,t):r instanceof tu?O0(r,t):r instanceof eu?M0(r,t):(function(l,u){const d=D0(l,u),g=bE(d)+bE(l.Ae);return zm(d)&&zm(l.Ae)?C0(g):yg(l.serializer,g)})(r,t)}function mI(r,t,n){return r instanceof tu?O0(r,t):r instanceof eu?M0(r,t):n}function D0(r,t){return r instanceof nu?(function(s){return zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Wl extends Bh{}class tu extends Bh{constructor(t){super(),this.elements=t}}function O0(r,t){const n=x0(t);for(const s of r.elements)n.some((l=>ji(l,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends Bh{constructor(t){super(),this.elements=t}}function M0(r,t){let n=x0(t);for(const s of r.elements)n=n.filter((l=>!ji(l,s)));return{arrayValue:{values:n}}}class nu extends Bh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function bE(r){return pe(r.integerValue||r.doubleValue)}function x0(r){return mg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class V0{constructor(t,n){this.field=t,this.transform=n}}function gI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof tu&&l instanceof tu||s instanceof eu&&l instanceof eu?mo(s.elements,l.elements,ji):s instanceof nu&&l instanceof nu?ji(s.Ae,l.Ae):s instanceof Wl&&l instanceof Wl})(r.transform,t.transform)}class pI{constructor(t,n){this.version=t,this.transformResults=n}}class ri{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ri}static exists(t){return new ri(void 0,t)}static updateTime(t){return new ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Hh{}function k0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new _g(r.key,ri.none()):new uu(r.key,r.data,ri.none());{const n=r.data,s=gn.empty();let l=new Pe(Xe.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ms(r.key,s,new wn(l.toArray()),ri.none())}}function yI(r,t,n){r instanceof uu?(function(l,u,d){const g=l.value.clone(),y=RE(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,n):r instanceof ms?(function(l,u,d){if(!sh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=RE(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(P0(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Gl(r,t,n,s){return r instanceof uu?(function(u,d,g,y){if(!sh(u.precondition,d))return g;const p=u.value.clone(),A=IE(u.fieldTransforms,y,d);return p.setAll(A),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,t,n,s):r instanceof ms?(function(u,d,g,y){if(!sh(u.precondition,d))return g;const p=IE(u.fieldTransforms,y,d),A=d.data;return A.setAll(P0(u)),A.setAll(p),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,t,n,s):(function(u,d,g){return sh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,n)}function _I(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=D0(s.transform,l||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function wE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&mo(s,l,((u,d)=>gI(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class uu extends Hh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ms extends Hh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function RE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,g=t.data.field(u.field);s.set(u.field,mI(d,g,n[l]))}return s}function IE(r,t,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,dI(u,d,t))}return s}class _g extends Hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends Hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EI{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&yI(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=I0();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=k0(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),xt())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,((n,s)=>wE(n,s)))&&mo(this.baseMutations,t.baseMutations,((n,s)=>wE(n,s)))}}class vg{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return uI})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new vg(t,n,s,l)}}class TI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ie,Lt;function SI(r){switch(r){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function U0(r){if(r===void 0)return gr("GRPC error has no .code"),K.UNKNOWN;switch(r){case Ie.OK:return K.OK;case Ie.CANCELLED:return K.CANCELLED;case Ie.UNKNOWN:return K.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return K.INTERNAL;case Ie.UNAVAILABLE:return K.UNAVAILABLE;case Ie.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ie.NOT_FOUND:return K.NOT_FOUND;case Ie.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ie.ABORTED:return K.ABORTED;case Ie.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ie.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:r})}}(Lt=Ie||(Ie={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function bI(){return new TextEncoder}const wI=new rs([4294967295,4294967295],0);function CE(r){const t=bI().encode(r),n=new $T;return n.update(t),new Uint8Array(n.digest())}function NE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new rs([n,s],0),new rs([l,u],0)]}class Eg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=rs.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(rs.fromNumber(s)));return l.compare(wI)===1&&(l=new rs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=CE(t),[s,l]=NE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Eg(u,l,n);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const n=CE(t),[s,l]=NE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,cu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Fh(_t.min(),l,new ue(Mt),pr(),xt())}}class cu{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new cu(s,n,xt(),xt(),xt())}}class ah{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class L0{constructor(t,n){this.targetId=t,this.Ce=n}}class z0{constructor(t,n,s=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class DE{constructor(){this.ve=0,this.Fe=OE(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),n=xt(),s=xt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:u})}})),new cu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=OE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RI{constructor(t){this.Ge=t,this.ze=new Map,this.je=pr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ue(Mt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(qm(u))if(s===0){const d=new ht(u.path);this.et(n,d,tn.newNoDocument(d,_t.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=ls(s).toUint8Array()}catch(y){if(y instanceof l0)return fo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Eg(d,l,u)}catch(y){return fo(y instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&qm(g.target)){const y=new ht(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,tn.newNoDocument(y,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=xt();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Fh(t,n,this.Ye,this.je,s);return this.je=pr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ue(Mt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new DE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Pe(Mt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Pe(Mt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new DE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Jc(){return new ue(ht.comparator)}function OE(){return new ue(ht.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class DI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Fm(r,t){return r.useProto3Json||Uh(t)?t:{value:t}}function Eh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function OI(r,t){return Eh(r,t.toTimestamp())}function Vi(r){return Ft(!!r,49232),_t.fromTimestamp((function(n){const s=os(n);return new re(s.seconds,s.nanos)})(r))}function Tg(r,t){return Gm(r,t).canonicalString()}function Gm(r,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function q0(r){const t=ee.fromString(r);return Ft(Q0(t),10190,{key:t.toString()}),t}function Qm(r,t){return Tg(r.databaseId,t.path)}function ym(r,t){const n=q0(t);if(n.get(1)!==r.databaseId.projectId)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(H0(n))}function B0(r,t){return Tg(r.databaseId,t)}function MI(r){const t=q0(r);return t.length===4?ee.emptyPath():H0(t)}function Km(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function H0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ME(r,t,n){return{name:Qm(r,t),fields:n.value.mapValue.fields}}function xI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:gt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(p,A){return p.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),$e.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),$e.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(p){const A=p.code===void 0?K.UNKNOWN:U0(p.code);return new it(A,p.message||"")})(d);n=new z0(s,l,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=ym(r,s.document.name),u=Vi(s.document.updateTime),d=s.document.createTime?Vi(s.document.createTime):_t.min(),g=new gn({mapValue:{fields:s.document.fields}}),y=tn.newFoundDocument(l,u,d,g),p=s.targetIds||[],A=s.removedTargetIds||[];n=new ah(p,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=ym(r,s.document),u=s.readTime?Vi(s.readTime):_t.min(),d=tn.newNoDocument(l,u),g=s.removedTargetIds||[];n=new ah([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=ym(r,s.document),u=s.removedTargetIds||[];n=new ah([],u,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new AI(l,u),g=s.targetId;n=new L0(g,d)}}return n}function VI(r,t){let n;if(t instanceof uu)n={update:ME(r,t.key,t.value)};else if(t instanceof _g)n={delete:Qm(r,t.key)};else if(t instanceof ms)n={update:ME(r,t.key,t.data),updateMask:HI(t.fieldMask)};else{if(!(t instanceof vI))return gt(16599,{Vt:t.type});n={verify:Qm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const g=d.transform;if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:OI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),n}function kI(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?Vi(l.updateTime):Vi(u);return d.isEqual(_t.min())&&(d=Vi(u)),new pI(d,l.transformResults||[])})(n,t)))):[]}function PI(r,t){return{documents:[B0(r,t.path)]}}function UI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=B0(r,l);const u=(function(p){if(p.length!==0)return G0(ai.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((A=>(function(N){return{field:ro(N.field),direction:jI(N.dir)}})(A)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Fm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:l}}function LI(r){let t=MI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ft(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let u=[];n.where&&(u=(function(b){const N=F0(b);return N instanceof ai&&_0(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((N=>(function(J){return new Zl(so(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(b){let N;return N=typeof b=="object"?b.value:b,Uh(N)?null:N})(n.limit));let y=null;n.startAt&&(y=(function(b){const N=!!b.before,G=b.values||[];return new vh(G,N)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const N=!b.before,G=b.values||[];return new vh(G,N)})(n.endAt)),rI(t,l,d,u,g,"F",y,p)}function zI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function F0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=so(n.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(n.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ce.create(so(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>F0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(r):gt(30097,{filter:r})}function jI(r){return II[r]}function qI(r){return CI[r]}function BI(r){return NI[r]}function ro(r){return{fieldPath:r.canonicalString()}}function so(r){return Xe.fromServerFormat(r.fieldPath)}function G0(r){return r instanceof Ce?(function(n){if(n.op==="=="){if(vE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:qI(n.op),value:n.value}}})(r):r instanceof ai?(function(n){const s=n.getFilters().map((l=>G0(l)));return s.length===1?s[0]:{compositeFilter:{op:BI(n.op),filters:s}}})(r):gt(54877,{filter:r})}function HI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Q0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ns{constructor(t,n,s,l,u=_t.min(),d=_t.min(),g=$e.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new ns(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FI{constructor(t){this.yt=t}}function GI(r){const t=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hm(t,t.limit,"L"):t}class QI{constructor(){this.Cn=new KI}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(as.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(as.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class KI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Pe(ee.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Pe(ee.comparator)).toArray()}}const xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K0=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(K0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class yo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const VE="LruGarbageCollector",YI=1048576;function kE([r,t],[n,s]){const l=Mt(r,n);return l===0?Mt(t,s):l}class XI{constructor(t){this.Ir=t,this.buffer=new Pe(kE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();kE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $I{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(VE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?rt(VE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class JI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Ph.ce);const s=new XI(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(xE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,u,d,g,y,p;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(s=b,g=Date.now(),this.removeTargets(t,s,n)))).next((b=>(u=b,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(p=Date.now(),no()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${b} documents in `+(p-y)+`ms
Total Duration: ${p-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function ZI(r,t){return new JI(r,t)}class WI{constructor(){this.changes=new ua((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class eC{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Gl(s.mutation,l,wn.empty(),re.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,xt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=xt()){const l=Js();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let d=Ll();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Js();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,xt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(t,n,s,l){let u=pr();const d=Fl(),g=(function(){return Fl()})();return n.forEach(((y,p)=>{const A=s.get(p.key);l.has(p.key)&&(A===void 0||A.mutation instanceof ms)?u=u.insert(p.key,p):A!==void 0?(d.set(p.key,A.mutation.getFieldMask()),Gl(A.mutation,p,A.mutation.getFieldMask(),re.now())):d.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((p,A)=>d.set(p,A))),n.forEach(((p,A)=>g.set(p,new tC(A,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(t,n){const s=Fl();let l=new ue(((d,g)=>d-g)),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let A=s.get(y)||wn.empty();A=g.applyToLocalView(p,A),s.set(y,A);const b=(l.get(g.batchId)||xt()).add(y);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,A=y.value,b=I0();A.forEach((N=>{if(!u.has(N)){const G=k0(n.get(N),s.get(N));G!==null&&b.set(N,G),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,p,b))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):A0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):$.resolve(Js());let g=Yl,y=u;return d.next((p=>$.forEach(p,((A,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{y=y.insert(A,N)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,y,p,xt()))).next((A=>({batchId:g,changes:R0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next((s=>{let l=Ll();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(t,u).next((g=>$.forEach(g,(y=>{const p=(function(b,N){return new wo(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,s,l).next((A=>{A.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((d=>{u.forEach(((y,p)=>{const A=p.getKey();d.get(A)===null&&(d=d.insert(A,tn.newInvalidDocument(A)))}));let g=Ll();return d.forEach(((y,p)=>{const A=u.get(y);A!==void 0&&Gl(A.mutation,p,wn.empty(),re.now()),qh(n,p)&&(g=g.insert(y,p))})),g}))}}class nC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:GI(l.bundledQuery),readTime:Vi(l.readTime)}})(n)),$.resolve()}}class iC{constructor(){this.overlays=new ue(ht.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Js();return $.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=Js(),u=n.length+1,d=new ht(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>s&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new ue(((p,A)=>p-A));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let A=u.get(p.largestBatchId);A===null&&(A=Js(),u=u.insert(p.largestBatchId,A)),A.set(p.getKey(),p)}}const g=Js(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,A)=>g.set(p,A))),!(g.size()>=l)););return $.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new TI(n,s));let u=this.qr.get(n);u===void 0&&(u=xt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class rC{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class Ag{constructor(){this.Qr=new Pe(qe.$r),this.Ur=new Pe(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new qe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new qe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new ht(new ee([])),s=new qe(n,t),l=new qe(n,t+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ht(new ee([])),s=new qe(n,t),l=new qe(n,t+1);let u=xt();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new qe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ht.comparator(t.key,n.key)||Mt(t.Yr,n.Yr)}static Kr(t,n){return Mt(t.Yr,n.Yr)||ht.comparator(t.key,n.key)}}class sC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(qe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new EI(u,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new qe(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?fg:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new qe(n,0),l=new qe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Pe(Mt);return n.forEach((l=>{const u=new qe(l,0),d=new qe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;ht.isDocumentKey(u)||(u=u.child(""));const d=new qe(new ht(u),0);let g=new Pe(Mt);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(l=>{const u=new qe(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new qe(n,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class aC{constructor(t){this.ri=t,this.docs=(function(){return new ue(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=pr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():tn.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=pr();const d=n.path,g=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:A}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||PR(kR(A),s)<=0||(l.has(A.key)||qh(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,l){gt(9500)}ii(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new oC(this)}getSize(t){return $.resolve(this.size)}}class oC extends WI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class lC{constructor(t){this.persistence=t,this.si=new ua((n=>gg(n)),pg),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Ag,this.targetCount=0,this.ai=yo.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}class Y0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new rC,this.referenceDelegate=t(this),this.Pi=new lC(this),this.indexManager=new QI,this.remoteDocumentCache=(function(l){return new aC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new FI(n),this.Ii=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new iC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new sC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const l=new uC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class uC extends LR{constructor(t){super(),this.currentSequenceNumber=t}}class Sg{constructor(t){this.persistence=t,this.Ri=new Ag,this.Vi=null}static mi(t){return new Sg(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=ht.fromPath(s);return this.gi(t,l).next((u=>{u||n.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Th{constructor(t,n){this.persistence=t,this.pi=new ua((s=>qR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=ZI(this,n)}static mi(t,n){return new Th(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?$.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((g=>{g||(s++,u.removeEntry(d,_t.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ih(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class bg{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=xt(),l=xt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new bg(t,n.fromCache,s,l)}}class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class hC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ow()?8:zR(en())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new cC;return this.Ss(t,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(t,n,d,g.size)}))})).next((()=>u.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(no()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(no()<=Ot.DEBUG&&rt("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(no()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):$.resolve())}ys(t,n){if(SE(n))return $.resolve(null);let s=xi(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Hm(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=xt(...u);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const p=this.Ds(n,g);return this.Cs(n,p,d,y.readTime)?this.ys(t,Hm(n,null,"F")):this.vs(t,p,n,y)}))))})))))}ws(t,n,s,l){return SE(n)||l.isEqual(_t.min())?$.resolve(null):this.ps.getDocuments(t,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,l)?$.resolve(null):(no()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),io(n)),this.vs(t,d,n,VR(l,Yl)).next((g=>g)))}))}Ds(t,n){let s=new Pe(b0(t));return n.forEach(((l,u)=>{qh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,s){return no()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(t,n,as.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const wg="LocalStore",fC=3e8;class dC{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new ue(Mt),this.xs=new ua((u=>gg(u)),pg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function mC(r,t,n,s){return new dC(r,t,n,s)}async function X0(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],g=[];let y=xt();for(const p of l){d.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}for(const p of u){g.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}return n.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function gC(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,A){const b=p.batch,N=b.keys();let G=$.resolve();return N.forEach((J=>{G=G.next((()=>A.getEntry(y,J))).next((et=>{const Z=p.docVersions.get(J);Ft(Z!==null,48541),et.version.compareTo(Z)<0&&(b.applyToRemoteDocument(et,p),et.isValidDocument()&&(et.setReadTime(p.commitVersion),A.addEntry(et)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(y,b)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=xt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function $0(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function pC(r,t){const n=Tt(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach(((A,b)=>{const N=l.get(b);if(!N)return;g.push(n.Pi.removeMatchingKeys(u,A.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,A.addedDocuments,b))));let G=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken($e.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),l=l.insert(b,G),(function(et,Z,ut){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=fC?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(N,G,A)&&g.push(n.Pi.updateTargetData(u,G))}));let y=pr(),p=xt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(yC(u,d,t.documentUpdates).next((A=>{y=A.ks,p=A.qs}))),!s.isEqual(_t.min())){const A=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(A)}return $.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function yC(r,t,n){let s=xt(),l=xt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=pr();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):rt(wg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function _C(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=fg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function vC(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new ns(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Ym(r,t,n){const s=Tt(r),l=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!bo(d))throw d;rt(wg,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function PE(r,t,n){const s=Tt(r);let l=_t.min(),u=xt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,A){const b=Tt(y),N=b.xs.get(A);return N!==void 0?$.resolve(b.Ms.get(N)):b.Pi.getTargetData(p,A)})(s,d,xi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:_t.min(),n?u:xt()))).next((g=>(EC(s,aI(t),g),{documents:g,Qs:u})))))}function EC(r,t,n){let s=r.Os.get(t)||_t.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class UE{constructor(){this.activeTargetIds=fI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TC{constructor(){this.Mo=new UE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new UE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AC{Oo(t){}shutdown(){}}const LE="ConnectivityMonitor";class zE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(LE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(LE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Xm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const _m="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,u){const d=Xm(),g=this.zo(t,n.toUriEncodedString());rt(_m,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:p}=new URL(g),A=vo(p);return this.Jo(t,g,y,s,A).then((b=>(rt(_m,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw fo(_m,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",s),b}))}Ho(t,n,s,l,u,d){return this.Go(t,n,s,l,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const s=SC[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class wC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class RC extends bC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,u){const d=Xm();return new Promise(((g,y)=>{const p=new JT;p.setWithCredentials(!0),p.listenOnce(ZT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nh.NO_ERROR:const b=p.getResponseJson();rt(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case nh.TIMEOUT:rt(Ze,`RPC '${t}' ${d} timed out`),y(new it(K.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const N=p.getStatus();if(rt(Ze,`RPC '${t}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let G=p.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const et=(function(ut){const vt=ut.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(vt)>=0?vt:K.UNKNOWN})(J.status);y(new it(et,J.message))}else y(new it(K.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new it(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{rt(Ze,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Ze,`RPC '${t}' ${d} sending request:`,l),p.send(n,"POST",A,s,15)}))}T_(t,n,s){const l=Xm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=e0(),g=t0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const A=u.join("");rt(Ze,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let N=!1,G=!1;const J=new wC({Yo:Z=>{G?rt(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(N||(rt(Ze,`Opening RPC '${t}' stream ${l} transport.`),b.open(),N=!0),rt(Ze,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Zo:()=>b.close()}),et=(Z,ut,vt)=>{Z.listen(ut,(ft=>{try{vt(ft)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return et(b,Ul.EventType.OPEN,(()=>{G||(rt(Ze,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),et(b,Ul.EventType.CLOSE,(()=>{G||(G=!0,rt(Ze,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(b))})),et(b,Ul.EventType.ERROR,(Z=>{G||(G=!0,fo(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new it(K.UNAVAILABLE,"The operation could not be completed")))})),et(b,Ul.EventType.MESSAGE,(Z=>{if(!G){const ut=Z.data[0];Ft(!!ut,16349);const vt=ut,ft=vt?.error||vt[0]?.error;if(ft){rt(Ze,`RPC '${t}' stream ${l} received error:`,ft);const Pt=ft.status;let Xt=(function(w){const I=Ie[w];if(I!==void 0)return U0(I)})(Pt),Vt=ft.message;Xt===void 0&&(Xt=K.INTERNAL,Vt="Unknown error status: "+Pt+" with message "+ft.message),G=!0,J.a_(new it(Xt,Vt)),b.close()}else rt(Ze,`RPC '${t}' stream ${l} received:`,ut),J.u_(ut)}})),et(g,WT.STAT_EVENT,(Z=>{Z.stat===Pm.PROXY?rt(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Pm.NOPROXY&&rt(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function vm(){return typeof document<"u"?document:null}function Gh(r){return new DI(r,!0)}class J0{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const jE="PersistentStream";class Z0{constructor(t,n,s,l,u,d,g,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(jE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(rt(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IC extends Z0{constructor(t,n,s,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=xI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return _t.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Vi(d.readTime):_t.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Km(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=qm(y)?{documents:PI(u,y)}:{query:UI(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=j0(u,d.resumeToken);const p=Fm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Eh(u,d.snapshotVersion.toTimestamp());const p=Fm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,t);const s=zI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Km(this.serializer),n.removeTarget=t,this.q_(n)}}class CC extends Z0{constructor(t,n,s,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=kI(t.writeResults,t.commitTime),s=Vi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Km(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>VI(this.serializer,s)))};this.q_(n)}}class NC{}class DC extends NC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,Gm(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(K.UNKNOWN,u.toString())}))}Ho(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Gm(n,s),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class MC{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ca(this)&&(rt(ia,"Restarting streams for network reachability change."),await(async function(y){const p=Tt(y);p.Ea.add(4),await hu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Qh(p)})(this))}))})),this.Ra=new OC(s,l)}}async function Qh(r){if(ca(r))for(const t of r.da)await t(!0)}async function hu(r){for(const t of r.da)await t(!1)}function W0(r,t){const n=Tt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ng(n)?Cg(n):Ro(n).O_()&&Ig(n,t))}function Rg(r,t){const n=Tt(r),s=Ro(n);n.Ia.delete(t),s.O_()&&tA(n,t),n.Ia.size===0&&(s.O_()?s.L_():ca(n)&&n.Ra.set("Unknown"))}function Ig(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ro(r).Y_(t)}function tA(r,t){r.Va.Ue(t),Ro(r).Z_(t)}function Cg(r){r.Va=new RI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Ra.ua()}function Ng(r){return ca(r)&&!Ro(r).x_()&&r.Ia.size>0}function ca(r){return Tt(r).Ea.size===0}function eA(r){r.Va=void 0}async function xC(r){r.Ra.set("Online")}async function VC(r){r.Ia.forEach(((t,n)=>{Ig(r,t)}))}async function kC(r,t){eA(r),Ng(r)?(r.Ra.ha(t),Cg(r)):r.Ra.set("Unknown")}async function PC(r,t,n){if(r.Ra.set("Online"),t instanceof z0&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){rt(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ah(r,s)}else if(t instanceof ah?r.Va.Ze(t):t instanceof L0?r.Va.st(t):r.Va.tt(t),!n.isEqual(_t.min()))try{const s=await $0(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const A=u.Ia.get(p);A&&u.Ia.set(p,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const A=u.Ia.get(y);if(!A)return;u.Ia.set(y,A.withResumeToken($e.EMPTY_BYTE_STRING,A.snapshotVersion)),tA(u,y);const b=new ns(A.target,y,p,A.sequenceNumber);Ig(u,b)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){rt(ia,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,t,n){if(!bo(t))throw t;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),n||(n=()=>$0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(ia,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Qh(r)}))}function nA(r,t){return t().catch((n=>Ah(r,n,t)))}async function Kh(r){const t=Tt(r),n=cs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:fg;for(;UC(t);)try{const l=await _C(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,LC(t,l)}catch(l){await Ah(t,l)}iA(t)&&rA(t)}function UC(r){return ca(r)&&r.Ta.length<10}function LC(r,t){r.Ta.push(t);const n=cs(r);n.O_()&&n.X_&&n.ea(t.mutations)}function iA(r){return ca(r)&&!cs(r).x_()&&r.Ta.length>0}function rA(r){cs(r).start()}async function zC(r){cs(r).ra()}async function jC(r){const t=cs(r);for(const n of r.Ta)t.ea(n.mutations)}async function qC(r,t,n){const s=r.Ta.shift(),l=vg.from(s,t,n);await nA(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Kh(r)}async function BC(r,t){t&&cs(r).X_&&await(async function(s,l){if((function(d){return SI(d)&&d!==K.ABORTED})(l.code)){const u=s.Ta.shift();cs(s).B_(),await nA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Kh(s)}})(r,t),iA(r)&&rA(r)}async function qE(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),rt(ia,"RemoteStore received new credentials");const s=ca(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Qh(n)}async function HC(r,t){const n=Tt(r);t?(n.Ea.delete(2),await Qh(n)):t||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(n,s,l){const u=Tt(n);return u.sa(),new IC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:xC.bind(null,r),t_:VC.bind(null,r),r_:kC.bind(null,r),H_:PC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Ng(r)?Cg(r):r.Ra.set("Unknown")):(await r.ma.stop(),eA(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,l){const u=Tt(n);return u.sa(),new CC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:zC.bind(null,r),r_:BC.bind(null,r),ta:jC.bind(null,r),na:qC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Kh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Dg{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const d=Date.now()+s,g=new Dg(t,n,d,l,u);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(r,t){if(gr("AsyncQueue",`${t}: ${r}`),bo(r))return new it(K.UNAVAILABLE,`${t}: ${r}`);throw r}class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class BE{constructor(){this.ga=new ue(ht.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class _o{constructor(t,n,s,l,u,d,g,y,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new _o(t,n,lo.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class FC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class GC{constructor(){this.queries=HE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Tt(n),u=l.queries;l.queries=HE(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new it(K.ABORTED,"Firestore shutting down"))}}function HE(){return new ua((r=>S0(r)),jh)}async function Mg(r,t){const n=Tt(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new FC,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Og(d,`Initialization of query '${io(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Vg(n)}async function xg(r,t){const n=Tt(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QC(r,t){const n=Tt(r);let s=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Vg(n)}function KC(r,t,n){const s=Tt(r),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(t)}function Vg(r){r.Ca.forEach((t=>{t.next()}))}var $m,FE;(FE=$m||($m={})).Ma="default",FE.Cache="cache";class kg{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new _o(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$m.Cache}}class sA{constructor(t){this.key=t}}class aA{constructor(t){this.key=t}}class YC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=b0(t),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new BE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const N=l.get(A),G=qh(this.query,b)?b:null,J=!!N&&this.mutatedKeys.has(N.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;N&&G?N.data.isEqual(G.data)?J!==et&&(s.track({type:3,doc:G}),Z=!0):this.su(N,G)||(s.track({type:2,doc:G}),Z=!0,(y&&this.eu(G,y)>0||p&&this.eu(G,p)<0)&&(g=!0)):!N&&G?(s.track({type:0,doc:G}),Z=!0):N&&!G&&(s.track({type:1,doc:N}),Z=!0,(y||p)&&(g=!0)),Z&&(G?(d=d.add(G),u=et?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(G,J){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:Z})}};return et(G)-et(J)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new _o(this.query,t.tu,u,d,t.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new aA(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new sA(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=xt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pg="SyncEngine";class XC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class $C{constructor(t){this.key=t,this.hu=!1}}class JC{constructor(t,n,s,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>S0(g)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(ht.comparator),this.Au=new Map,this.Ru=new Ag,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZC(r,t,n=!0){const s=fA(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await oA(s,t,n,!0),l}async function WC(r,t){const n=fA(r);await oA(n,t,!0,!1)}async function oA(r,t,n,s){const l=await vC(r.localStore,xi(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await t2(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&W0(r.remoteStore,l),g}async function t2(r,t,n,s,l){r.pu=(b,N,G)=>(async function(et,Z,ut,vt){let ft=Z.view.ru(ut);ft.Cs&&(ft=await PE(et.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,ft))));const Pt=vt&&vt.targetChanges.get(Z.targetId),Xt=vt&&vt.targetMismatches.get(Z.targetId)!=null,Vt=Z.view.applyChanges(ft,et.isPrimaryClient,Pt,Xt);return QE(et,Z.targetId,Vt.au),Vt.snapshot})(r,b,N,G);const u=await PE(r.localStore,t,!0),d=new YC(t,u.Qs),g=d.ru(u.documents),y=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),p=d.applyChanges(g,r.isPrimaryClient,y);QE(r,n,p.au);const A=new XC(t,n,d);return r.Tu.set(t,A),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),p.snapshot}async function e2(r,t,n){const s=Tt(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!jh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Ym(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Rg(s.remoteStore,l.targetId),Jm(s,l.targetId)})).catch(So)):(Jm(s,l.targetId),await Ym(s.localStore,l.targetId,!0))}async function n2(r,t){const n=Tt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Rg(n.remoteStore,s.targetId))}async function i2(r,t,n){const s=c2(r);try{const l=await(function(d,g){const y=Tt(d),p=re.now(),A=g.reduce(((G,J)=>G.add(J.key)),xt());let b,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=pr(),et=xt();return y.Ns.getEntries(G,A).next((Z=>{J=Z,J.forEach(((ut,vt)=>{vt.isValidDocument()||(et=et.add(ut))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,J))).next((Z=>{b=Z;const ut=[];for(const vt of g){const ft=_I(vt,b.get(vt.key).overlayedDocument);ft!=null&&ut.push(new ms(vt.key,ft,g0(ft.value.mapValue),ri.exists(!0)))}return y.mutationQueue.addMutationBatch(G,p,ut,g)})).next((Z=>{N=Z;const ut=Z.applyToLocalDocumentSet(b,et);return y.documentOverlayCache.saveOverlays(G,Z.batchId,ut)}))})).then((()=>({batchId:N.batchId,changes:R0(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new ue(Mt)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,l.batchId,n),await fu(s,l.changes),await Kh(s.remoteStore)}catch(l){const u=Og(l,"Failed to persist write");n.reject(u)}}async function lA(r,t){const n=Tt(r);try{const s=await pC(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await fu(n,s,t)}catch(s){await So(s)}}function GE(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Tt(d);y.onlineState=g;let p=!1;y.queries.forEach(((A,b)=>{for(const N of b.Sa)N.va(g)&&(p=!0)})),p&&Vg(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function r2(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let d=new ue(ht.comparator);d=d.insert(u,tn.newNoDocument(u,_t.min()));const g=xt().add(u),y=new Fh(_t.min(),new Map,new ue(Mt),d,g);await lA(s,y),s.du=s.du.remove(u),s.Au.delete(t),Ug(s)}else await Ym(s.localStore,t,!1).then((()=>Jm(s,t,n))).catch(So)}async function s2(r,t){const n=Tt(r),s=t.batch.batchId;try{const l=await gC(n.localStore,t);cA(n,s,null),uA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,l)}catch(l){await So(l)}}async function a2(r,t,n){const s=Tt(r);try{const l=await(function(d,g){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let A;return y.mutationQueue.lookupMutationBatch(p,g).next((b=>(Ft(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(p,b)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,A))).next((()=>y.localDocuments.getDocuments(p,A)))}))})(s.localStore,t);cA(s,t,n),uA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await fu(s,l)}catch(l){await So(l)}}function uA(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function cA(r,t,n){const s=Tt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Jm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||hA(r,s)}))}function hA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Rg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Ug(r))}function QE(r,t,n){for(const s of n)s instanceof sA?(r.Ru.addReference(s.key,t),o2(r,s)):s instanceof aA?(rt(Pg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||hA(r,s.key)):gt(19791,{wu:s})}function o2(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(rt(Pg,"New document in limbo: "+n),r.Eu.add(s),Ug(r))}function Ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ht(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new $C(n)),r.du=r.du.insert(n,s),W0(r.remoteStore,new ns(xi(zh(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function fu(r,t,n){const s=Tt(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const A=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(p){l.push(p);const A=bg.As(y.targetId,p);u.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,p){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(p,(N=>$.forEach(N.Es,(G=>A.persistence.referenceDelegate.addReference(b,N.targetId,G))).next((()=>$.forEach(N.ds,(G=>A.persistence.referenceDelegate.removeReference(b,N.targetId,G)))))))))}catch(b){if(!bo(b))throw b;rt(wg,"Failed to update sequence numbers: "+b)}for(const b of p){const N=b.targetId;if(!b.fromCache){const G=A.Ms.get(N),J=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(N,et)}}})(s.localStore,u))}async function l2(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){rt(Pg,"User change. New user:",t.toKey());const s=await X0(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new it(K.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function u2(r,t){const n=Tt(r),s=n.Au.get(t);if(s&&s.hu)return xt().add(s.key);{let l=xt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function fA(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=r2.bind(null,t),t.Pu.H_=QC.bind(null,t.eventManager),t.Pu.yu=KC.bind(null,t.eventManager),t}function c2(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,t),t}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return mC(this.persistence,new hC,t.initialUser,this.serializer)}Cu(t){return new Y0(Sg.mi,this.serializer)}Du(t){return new TC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class h2 extends Sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $I(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Y0((s=>Th.mi(s,n)),this.serializer)}}class Zm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>GE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GC})()}createDatastore(t){const n=Gh(t.databaseInfo.databaseId),s=(function(u){return new RC(u)})(t.databaseInfo);return(function(u,d,g,y){return new DC(u,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,d,g){return new MC(s,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>GE(this.syncEngine,n,0)),(function(){return zE.v()?new zE:new AC})())}createSyncEngine(t,n){return(function(l,u,d,g,y,p,A){const b=new JC(l,u,d,g,y,p);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Tt(n);rt(ia,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};class Lg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const hs="FirestoreClient";class f2{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{rt(hs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(hs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Og(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Em(r,t){r.asyncQueue.verifyOperationInProgress(),rt(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await X0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function KE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await d2(r);rt(hs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>qE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>qE(t.remoteStore,l))),r._onlineComponents=t}async function d2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(hs,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new Sh)}}else rt(hs,"Using default OfflineComponentProvider"),await Em(r,new h2(void 0));return r._offlineComponents}async function dA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(hs,"Using user provided OnlineComponentProvider"),await KE(r,r._uninitializedComponentsProvider._online)):(rt(hs,"Using default OnlineComponentProvider"),await KE(r,new Zm))),r._onlineComponents}function m2(r){return dA(r).then((t=>t.syncEngine))}async function bh(r){const t=await dA(r),n=t.eventManager;return n.onListen=ZC.bind(null,t.syncEngine),n.onUnlisten=e2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=WC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=n2.bind(null,t.syncEngine),n}function g2(r,t,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const A=new Lg({next:N=>{A.Nu(),d.enqueueAndForget((()=>xg(u,b)));const G=N.docs.has(g);!G&&N.fromCache?p.reject(new it(K.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&N.fromCache&&y&&y.source==="server"?p.reject(new it(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(N)},error:N=>p.reject(N)}),b=new kg(zh(g.path),A,{includeMetadataChanges:!0,qa:!0});return Mg(u,b)})(await bh(r),r.asyncQueue,t,n,s))),s.promise}function p2(r,t,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const A=new Lg({next:N=>{A.Nu(),d.enqueueAndForget((()=>xg(u,b))),N.fromCache&&y.source==="server"?p.reject(new it(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(N)},error:N=>p.reject(N)}),b=new kg(g,A,{includeMetadataChanges:!0,qa:!0});return Mg(u,b)})(await bh(r),r.asyncQueue,t,n,s))),s.promise}function mA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const YE=new Map;const gA="firestore.googleapis.com",XE=!0;class $E{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gA,this.ssl=XE}else this.host=t.host,this.ssl=t.ssl??XE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=K0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YI)throw new it(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new SR;switch(s.type){case"firstParty":return new IR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=YE.get(n);s&&(rt("ComponentProvider","Removing Datastore"),YE.delete(n),s.terminate())})(this),Promise.resolve()}}function y2(r,t,n,s={}){r=Hn(r,Yh);const l=vo(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${n}`;l&&(qT(`https://${g}`),BT("Firestore",!0)),u.host!==gA&&u.host!==g&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:s};if(!ea(y,d)&&(r._setSettings(y),s.mockUserToken)){let p,A;if(typeof s.mockUserToken=="string")p=s.mockUserToken,A=We.MOCK_USER;else{p=Zb(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new it(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new We(b)}r._authCredentials=new bR(new i0(p,A))}}class gs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new gs(this.firestore,t,this._query)}}class ye{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(lu(n,ye._jsonSchema))return new ye(t,s||null,new ht(ee.fromString(n.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:Ne("string",ye._jsonSchemaVersion),referencePath:Ne("string")};class ss extends gs{constructor(t,n,s){super(t,n,zh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new ht(t))}withConverter(t){return new ss(this.firestore,t,this._path)}}function Oi(r,t,...n){if(r=De(r),r0("collection","path",t),r instanceof Yh){const s=ee.fromString(t,...n);return uE(s),new ss(r,null,s)}{if(!(r instanceof ye||r instanceof ss))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return uE(s),new ss(r.firestore,null,s)}}function Di(r,t,...n){if(r=De(r),arguments.length===1&&(t=hg.newId()),r0("doc","path",t),r instanceof Yh){const s=ee.fromString(t,...n);return lE(s),new ye(r,null,new ht(s))}{if(!(r instanceof ye||r instanceof ss))throw new it(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return lE(s),new ye(r.firestore,r instanceof ss?r.converter:null,new ht(s))}}const JE="AsyncQueue";class ZE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J0(this,"async_queue_retry"),this._c=()=>{const s=vm();s&&rt(JE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!bo(t))throw t;rt(JE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",WE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Dg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:WE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function WE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function tT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class fs extends Yh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new ZE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ZE(t),this._firestoreClient=void 0,await t}}}function _2(r,t){const n=typeof r=="object"?r:ug(),s=typeof r=="string"?r:yh,l=Eo(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=$b("firestore");u&&y2(l,...u)}return l}function Xh(r){if(r._terminated)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||v2(r),r._firestoreClient}function v2(r){const t=r._freezeSettings(),n=(function(l,u,d,g){return new FR(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,mA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new f2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn($e.fromBase64String(t))}catch(n){throw new it(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lu(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ne("string",qn._jsonSchemaVersion),bytes:Ne("string")};class $h{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class du{constructor(t){this._methodName=t}}class ki{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(lu(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ne("string",ki._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Pi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lu(t,Pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Pi(t.vectorValues);throw new it(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Ne("string",Pi._jsonSchemaVersion),vectorValues:Ne("object")};const E2=/^__.*__$/;class T2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ms(t,this.data,this.fieldMask,n,this.fieldTransforms):new uu(t,this.data,n,this.fieldTransforms)}}class pA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ms(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function yA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class zg{constructor(t,n,s,l,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new zg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return wh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(yA(this.Ac)&&E2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class A2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(t)}Cc(t,n,s,l=!1){return new zg({Ac:t,methodName:n,Dc:s,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(r){const t=r._freezeSettings(),n=Gh(r._databaseId);return new A2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function S2(r,t,n,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,t,n,l);Hg("Data must be an object, but it was:",d,s);const g=_A(s,d);let y,p;if(u.merge)y=new wn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const b of u.mergeFields){const N=Wm(t,b,n);if(!d.contains(N))throw new it(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);EA(A,N)||A.push(N)}y=new wn(A),p=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,p=d.fieldTransforms;return new T2(new gn(g),y,p)}class Jh extends du{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jh}}class qg extends du{_toFieldTransform(t){return new V0(t.path,new Wl)}isEqual(t){return t instanceof qg}}class Bg extends du{constructor(t,n){super(t),this.Fc=n}_toFieldTransform(t){const n=new nu(t.serializer,N0(t.serializer,this.Fc));return new V0(t.path,n)}isEqual(t){return t instanceof Bg&&this.Fc===t.Fc}}function b2(r,t,n,s){const l=r.Cc(1,t,n);Hg("Data must be an object, but it was:",l,s);const u=[],d=gn.empty();ds(s,((y,p)=>{const A=Fg(t,y,n);p=De(p);const b=l.yc(A);if(p instanceof Jh)u.push(A);else{const N=mu(p,b);N!=null&&(u.push(A),d.set(A,N))}}));const g=new wn(u);return new pA(d,g,l.fieldTransforms)}function w2(r,t,n,s,l,u){const d=r.Cc(1,t,n),g=[Wm(t,s,n)],y=[l];if(u.length%2!=0)throw new it(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(Wm(t,u[N])),y.push(u[N+1]);const p=[],A=gn.empty();for(let N=g.length-1;N>=0;--N)if(!EA(p,g[N])){const G=g[N];let J=y[N];J=De(J);const et=d.yc(G);if(J instanceof Jh)p.push(G);else{const Z=mu(J,et);Z!=null&&(p.push(G),A.set(G,Z))}}const b=new wn(p);return new pA(A,b,d.fieldTransforms)}function R2(r,t,n,s=!1){return mu(n,r.Cc(s?4:3,t))}function mu(r,t){if(vA(r=De(r)))return Hg("Unsupported field value:",t,r),_A(r,t);if(r instanceof du)return(function(s,l){if(!yA(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const g of s){let y=mu(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=De(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N0(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Eh(l.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(l.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:j0(l.serializer,s._byteString)};if(s instanceof ye){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pi)return(function(d,g){return{mapValue:{fields:{[d0]:{stringValue:m0},[_h]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return yg(g.serializer,p)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${kh(s)}`)})(r,t)}function _A(r,t){const n={};return o0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ds(r,((s,l)=>{const u=mu(l,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof ki||r instanceof qn||r instanceof ye||r instanceof du||r instanceof Pi)}function Hg(r,t,n){if(!vA(n)||!s0(n)){const s=kh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Wm(r,t,n){if((t=De(t))instanceof $h)return t._internalPath;if(typeof t=="string")return Fg(r,t);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const I2=new RegExp("[~\\*/\\[\\]]");function Fg(r,t,n){if(t.search(I2)>=0)throw wh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $h(...t.split("."))._internalPath}catch{throw wh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,t,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new it(K.INVALID_ARGUMENT,g+r+y)}function EA(r,t){return r.some((n=>n.isEqual(t)))}class TA{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new C2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Zh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C2 extends TA{data(){return super.data()}}function Zh(r,t){return typeof t=="string"?Fg(r,t):t instanceof $h?t._internalPath:t._delegate._internalPath}function AA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gg{}class SA extends Gg{}function ao(r,t,...n){let s=[];t instanceof Gg&&s.push(t),s=s.concat(n),(function(u){const d=u.filter((y=>y instanceof Qg)).length,g=u.filter((y=>y instanceof Wh)).length;if(d>1||d>0&&g>0)throw new it(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Wh extends SA{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Wh(t,n,s)}_apply(t){const n=this._parse(t);return bA(t._query,n),new gs(t.firestore,t.converter,Bm(t._query,n))}_parse(t){const n=jg(t.firestore);return(function(u,d,g,y,p,A,b){let N;if(p.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){nT(b,A);const J=[];for(const et of b)J.push(eT(y,u,et));N={arrayValue:{values:J}}}else N=eT(y,u,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||nT(b,A),N=R2(g,d,b,A==="in"||A==="not-in");return Ce.create(p,A,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function oh(r,t,n){const s=t,l=Zh("where",r);return Wh._create(l,s,n)}class Qg extends Gg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Qg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)bA(d,y),d=Bm(d,y)})(t._query,n),new gs(t.firestore,t.converter,Bm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kg extends SA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Kg(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,d)})(t._query,this._field,this._direction);return new gs(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new wo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function Wc(r,t="asc"){const n=t,s=Zh("orderBy",r);return Kg._create(s,n)}function eT(r,t,n){if(typeof(n=De(n))=="string"){if(n==="")throw new it(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A0(t)&&n.indexOf("/")!==-1)throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!ht.isDocumentKey(s))throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yE(r,new ht(s))}if(n instanceof ye)return yE(r,n._key);throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function nT(r,t){if(!Array.isArray(r)||r.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bA(r,t){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class N2{convertValue(t,n="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ds(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[_h].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new Pi(n)}convertGeoPoint(t){return new ki(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Lh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const n=os(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ft(Q0(s),9688,{name:t});const l=new $l(s.get(1),s.get(3)),u=new ht(s.popFirst(5));return l.isEqual(n)||gr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function D2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class jl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ws extends TA{constructor(t,n,s,l,u,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Zh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Ne("string",Ws._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class lh extends Ws{data(t={}){return super.data(t)}}class ta{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new jl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new lh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new lh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,A=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:O2(g.type),doc:y,oldIndex:p,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ta._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function O2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}function th(r){r=Hn(r,ye);const t=Hn(r.firestore,fs);return g2(Xh(t),r._key).then((n=>wA(t,r,n)))}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Ne("string",ta._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Yg extends N2{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,n)}}function tg(r){r=Hn(r,gs);const t=Hn(r.firestore,fs),n=Xh(t),s=new Yg(t);return AA(r._query),p2(n,r._query).then((l=>new ta(t,s,r,l)))}function Tm(r,t,n,...s){r=Hn(r,ye);const l=Hn(r.firestore,fs),u=jg(l);let d;return d=typeof(t=De(t))=="string"||t instanceof $h?w2(u,"updateDoc",r._key,t,n,s):b2(u,"updateDoc",r._key,t),Xg(l,[d.toMutation(r._key,ri.exists(!0))])}function Am(r){return Xg(Hn(r.firestore,fs),[new _g(r._key,ri.none())])}function uh(r,t){const n=Hn(r.firestore,fs),s=Di(r),l=D2(r.converter,t);return Xg(n,[S2(jg(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function Sm(r,...t){r=De(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||tT(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tT(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,d,g;if(r instanceof ye)d=Hn(r.firestore,fs),g=zh(r._key.path),u={next:y=>{t[s]&&t[s](wA(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Hn(r,gs);d=Hn(y.firestore,fs),g=y._query;const p=new Yg(d);u={next:A=>{t[s]&&t[s](new ta(d,p,y,A))},error:t[s+1],complete:t[s+2]},AA(r._query)}return(function(p,A,b,N){const G=new Lg(N),J=new kg(A,G,b);return p.asyncQueue.enqueueAndForget((async()=>Mg(await bh(p),J))),()=>{G.Nu(),p.asyncQueue.enqueueAndForget((async()=>xg(await bh(p),J)))}})(Xh(d),g,l,u)}function Xg(r,t){return(function(s,l){const u=new fr;return s.asyncQueue.enqueueAndForget((async()=>i2(await m2(s),l,u))),u.promise})(Xh(r),t)}function wA(r,t,n){const s=n.docs.get(t._key),l=new Yg(r);return new Ws(r,l,t._key,s,new jl(n.hasPendingWrites,n.fromCache),t.converter)}function $s(){return new qg("serverTimestamp")}function M2(r){return new Bg("increment",r)}(function(t,n=!0){(function(l){Ao=l})(To),zi(new si("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),g=new fs(new wR(s.getProvider("auth-internal")),new CR(d,s.getProvider("app-check-internal")),(function(p,A){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new it(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(p.options.projectId,A)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Bn(rE,sE,t),Bn(rE,sE,"esm2020")})();function RA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x2=RA,IA=new la("auth","Firebase",RA());const Rh=new og("@firebase/auth");function V2(r,...t){Rh.logLevel<=Ot.WARN&&Rh.warn(`Auth (${To}): ${r}`,...t)}function ch(r,...t){Rh.logLevel<=Ot.ERROR&&Rh.error(`Auth (${To}): ${r}`,...t)}function oi(r,...t){throw $g(r,...t)}function Ui(r,...t){return $g(r,...t)}function CA(r,t,n){const s={...x2(),[t]:n};return new la("auth","Firebase",s).create(t,{appName:r.name})}function dr(r){return CA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $g(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return IA.create(r,...t)}function mt(r,t,...n){if(!r)throw $g(t,...n)}function ur(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ch(t),new Error(t)}function yr(r,t){r||ur(t)}function eg(){return typeof self<"u"&&self.location?.href||""}function k2(){return iT()==="http:"||iT()==="https:"}function iT(){return typeof self<"u"&&self.location?.protocol||null}function P2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||rw()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class gu{constructor(t,n){this.shortDelay=t,this.longDelay=n,yr(n>t,"Short delay should be less than long delay!"),this.isMobile=ew()||sw()}get(){return P2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jg(r,t){yr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class NA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const L2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j2=new gu(3e4,6e4);function ps(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ys(r,t,n,s,l={}){return DA(r,l,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const g=ou({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p={method:t,headers:y,...u};return iw()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&vo(r.emulatorConfig.host)&&(p.credentials="include"),NA.fetch()(await OA(r,r.config.apiHost,n,g),p)})}async function DA(r,t,n){r._canInitEmulator=!1;const s={...L2,...t};try{const l=new B2(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw eh(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw eh(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw CA(r,A,p);oi(r,A)}}catch(l){if(l instanceof qi)throw l;oi(r,"network-request-failed",{message:String(l)})}}async function pu(r,t,n,s,l={}){const u=await ys(r,t,n,s,l);return"mfaPendingCredential"in u&&oi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function OA(r,t,n,s){const l=`${t}${n}?${s}`,u=r,d=u.config.emulator?Jg(r.config,l):`${r.config.apiScheme}://${l}`;return z2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function q2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),j2.get())})}}function eh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ui(r,t,s);return l.customData._tokenResponse=n,l}function rT(r){return r!==void 0&&r.enterprise!==void 0}class H2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return q2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F2(r,t){return ys(r,"GET","/v2/recaptchaConfig",ps(r,t))}async function G2(r,t){return ys(r,"POST","/v1/accounts:delete",t)}async function Ih(r,t){return ys(r,"POST","/v1/accounts:lookup",t)}function Ql(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Q2(r,t=!1){const n=De(r),s=await n.getIdToken(t),l=Zg(s);mt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Ql(bm(l.auth_time)),issuedAtTime:Ql(bm(l.iat)),expirationTime:Ql(bm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(r){return Number(r)*1e3}function Zg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const l=UT(n);return l?JSON.parse(l):(ch("Failed to decode base64 JWT payload"),null)}catch(l){return ch("Caught error parsing JWT payload as JSON",l?.toString()),null}}function sT(r){const t=Zg(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function iu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof qi&&K2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function K2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Y2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ng{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const t=r.auth,n=await r.getIdToken(),s=await iu(r,Ih(t,{idToken:n}));mt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?MA(l.providerUserInfo):[],d=$2(r.providerData,u),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,p=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ng(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(r,A)}async function X2(r){const t=De(r);await Ch(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $2(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function MA(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function J2(r,t){const n=await DA(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await OA(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&vo(r.emulatorConfig.host)&&(y.credentials="include"),NA.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z2(r,t){return ys(r,"POST","/v2/accounts:revokeToken",ps(r,t))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const n=sT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await J2(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new uo;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(mt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return ur("not implemented")}}function Jr(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ng(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await iu(this,this.stsTokenManager.getToken(this.auth,t));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Q2(this,t)}reload(){return X2(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(dr(this.auth));const t=await this.getIdToken();return await iu(this,G2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:G,providerData:J,stsTokenManager:et}=n;mt(b&&et,t,"internal-error");const Z=uo.fromJSON(this.name,et);mt(typeof b=="string",t,"internal-error"),Jr(s,t.name),Jr(l,t.name),mt(typeof N=="boolean",t,"internal-error"),mt(typeof G=="boolean",t,"internal-error"),Jr(u,t.name),Jr(d,t.name),Jr(g,t.name),Jr(y,t.name),Jr(p,t.name),Jr(A,t.name);const ut=new ii({uid:b,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:Z,createdAt:p,lastLoginAt:A});return J&&Array.isArray(J)&&(ut.providerData=J.map(vt=>({...vt}))),y&&(ut._redirectEventId=y),ut}static async _fromIdTokenResponse(t,n,s=!1){const l=new uo;l.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];mt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?MA(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new uo;g.updateFromIdToken(s);const y=new ii({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new ng(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const aT=new Map;function cr(r){yr(r instanceof Function,"Expected a class definition");let t=aT.get(r);return t?(yr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,aT.set(r,t),t)}class xA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}xA.type="NONE";const oT=xA;function hh(r,t,n){return`firebase:${r}:${t}:${n}`}class co{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=hh(this.userKey,l.apiKey,u),this.fullPersistenceKey=hh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Ih(this.auth,{idToken:t}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new co(cr(oT),t,s);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||cr(oT);const d=hh(s,t.config.apiKey,t.name);let g=null;for(const p of n)try{const A=await p._get(d);if(A){let b;if(typeof A=="string"){const N=await Ih(t,{idToken:A}).catch(()=>{});if(!N)break;b=await ii._fromGetAccountInfoResponse(t,N,A)}else b=ii._fromJSON(t,A);p!==u&&(g=b),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new co(u,t,s):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new co(u,t,s))}}function lT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zA(t))return"Blackberry";if(jA(t))return"Webos";if(kA(t))return"Safari";if((t.includes("chrome/")||PA(t))&&!t.includes("edge/"))return"Chrome";if(LA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function VA(r=en()){return/firefox\//i.test(r)}function kA(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PA(r=en()){return/crios\//i.test(r)}function UA(r=en()){return/iemobile/i.test(r)}function LA(r=en()){return/android/i.test(r)}function zA(r=en()){return/blackberry/i.test(r)}function jA(r=en()){return/webos/i.test(r)}function Wg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function W2(r=en()){return Wg(r)&&!!window.navigator?.standalone}function tN(){return aw()&&document.documentMode===10}function qA(r=en()){return Wg(r)||LA(r)||jA(r)||zA(r)||/windows phone/i.test(r)||UA(r)}function BA(r,t=[]){let n;switch(r){case"Browser":n=lT(en());break;case"Worker":n=`${lT(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}class eN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,g)=>{try{const y=t(u);d(y)}catch(y){g(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nN(r,t={}){return ys(r,"GET","/v2/passwordPolicy",ps(r,t))}const iN=6;class rN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class sN{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new eN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ih(this,{idToken:t}),s=await ii._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ch(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=U2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(dr(this));const n=t?De(t):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nN(this),n=new rN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new la("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Z2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cr(t)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&V2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ha(r){return De(r)}class uT{constructor(t){this.auth=t,this.observer=null,this.addObserver=dw(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aN(r){tf=r}function HA(r){return tf.loadJS(r)}function oN(){return tf.recaptchaEnterpriseScript}function lN(){return tf.gapiScript}function uN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class cN{constructor(){this.enterprise=new hN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class hN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const fN="recaptcha-enterprise",FA="NO_RECAPTCHA";class dN{constructor(t){this.type=fN,this.auth=ha(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{F2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new H2(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;rT(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(p=>{d(p)}).catch(()=>{d(FA)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cN().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(g=>{if(!n&&rT(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=oN();y.length!==0&&(y+=g),HA(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function cT(r,t,n,s=!1,l=!1){const u=new dN(r);let d;if(l)d=FA;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ig(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await cT(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await cT(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function mN(r,t){const n=Eo(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ea(u,t??{}))return l;oi(l,"already-initialized")}return n.initialize({options:t})}function gN(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function pN(r,t,n){const s=ha(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=GA(t),{host:d,port:g}=yN(t),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(ea(p,s.config.emulator)&&ea(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,vo(d)?(qT(`${u}//${d}${y}`),BT("Auth",!0)):_N()}function GA(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function yN(r){const t=GA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:hT(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:hT(d)}}}function hT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function _N(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class tp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(t){return ur("not implemented")}_linkToIdToken(t,n){return ur("not implemented")}_getReauthenticationResolver(t){return ur("not implemented")}}async function vN(r,t){return ys(r,"POST","/v1/accounts:signUp",t)}async function EN(r,t){return pu(r,"POST","/v1/accounts:signInWithPassword",ps(r,t))}async function TN(r,t){return pu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,t))}async function AN(r,t){return pu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,t))}class ru extends tp{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new ru(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ru(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(t,n,"signInWithPassword",EN);case"emailLink":return TN(t,{email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(t,s,"signUpPassword",vN);case"emailLink":return AN(t,{idToken:n,email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ho(r,t){return pu(r,"POST","/v1/accounts:signInWithIdp",ps(r,t))}const SN="http://localhost";class ra extends tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new ra(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return ho(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ho(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ho(t,n)}buildRequest(){const t={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ou(n)}return t}}function bN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wN(r){const t=kl(Pl(r)).link,n=t?kl(Pl(t)).deep_link_id:null,s=kl(Pl(r)).deep_link_id;return(s?kl(Pl(s)).link:null)||s||n||t||r}class ep{constructor(t){const n=kl(Pl(t)),s=n.apiKey??null,l=n.oobCode??null,u=bN(n.mode??null);mt(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=wN(t);try{return new ep(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(t,n){return ru._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=ep.parseLink(n);return mt(s,"argument-error"),ru._fromEmailAndCode(t,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class QA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class yu extends QA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zr extends yu{constructor(){super("facebook.com")}static credential(t){return ra._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class Wr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ra._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class ts extends yu{constructor(){super("github.com")}static credential(t){return ra._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class es extends yu{constructor(){super("twitter.com")}static credential(t,n){return ra._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";async function RN(r,t){return pu(r,"POST","/v1/accounts:signUp",ps(r,t))}class sa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await ii._fromIdTokenResponse(t,s,l),d=fT(s);return new sa({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=fT(s);return new sa({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function fT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Nh extends qi{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Nh(t,n,s,l)}}function KA(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,t,s):u})}async function IN(r,t,n=!1){const s=await iu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return sa._forOperation(r,"link",s)}async function CN(r,t,n=!1){const{auth:s}=r;if(jn(s.app))return Promise.reject(dr(s));const l="reauthenticate";try{const u=await iu(r,KA(s,l,t,r),n);mt(u.idToken,s,"internal-error");const d=Zg(u.idToken);mt(d,s,"internal-error");const{sub:g}=d;return mt(r.uid===g,s,"user-mismatch"),sa._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&oi(s,"user-mismatch"),u}}async function YA(r,t,n=!1){if(jn(r.app))return Promise.reject(dr(r));const s="signIn",l=await KA(r,s,t),u=await sa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function NN(r,t){return YA(ha(r),t)}async function XA(r){const t=ha(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function DN(r,t,n){if(jn(r.app))return Promise.reject(dr(r));const s=ha(r),d=await ig(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RN).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&XA(r),y}),g=await sa._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function ON(r,t,n){return jn(r.app)?Promise.reject(dr(r)):NN(De(r),Io.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XA(r),s})}function MN(r,t,n,s){return De(r).onIdTokenChanged(t,n,s)}function xN(r,t,n){return De(r).beforeAuthStateChanged(t,n)}function VN(r,t,n,s){return De(r).onAuthStateChanged(t,n,s)}function dT(r){return De(r).signOut()}const Dh="__sak";class $A{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const kN=1e3,PN=10;class JA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);tN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,PN):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},kN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}JA.type="LOCAL";const UN=JA;class ZA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ZA.type="SESSION";const WA=ZA;function LN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class ef{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new ef(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await LN(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];function np(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class zN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=np("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(A),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function jN(r){Li().location.href=r}function tS(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function qN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){return navigator?.serviceWorker?.controller||null}function HN(){return tS()?self:null}const eS="firebaseLocalStorageDb",FN=1,Oh="firebaseLocalStorage",nS="fbase_key";class _u{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(r,t){return r.transaction([Oh],t?"readwrite":"readonly").objectStore(Oh)}function GN(){const r=indexedDB.deleteDatabase(eS);return new _u(r).toPromise()}function rg(){const r=indexedDB.open(eS,FN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Oh,{keyPath:nS})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Oh)?t(s):(s.close(),await GN(),t(await rg()))})})}async function mT(r,t,n){const s=nf(r,!0).put({[nS]:t,value:n});return new _u(s).toPromise()}async function QN(r,t){const n=nf(r,!1).get(t),s=await new _u(n).toPromise();return s===void 0?null:s.value}function gT(r,t){const n=nf(r,!0).delete(t);return new _u(n).toPromise()}const KN=800,YN=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>YN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(HN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new zN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rg();return await mT(t,Dh,"1"),await gT(t,Dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>mT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>QN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=nf(l,!1).getAll();return new _u(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const XN=iS;new gu(3e4,6e4);function $N(r,t){return t?cr(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ip extends tp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ho(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ho(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ho(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JN(r){return YA(r.auth,new ip(r),r.bypassAuthState)}function ZN(r){const{auth:t,user:n}=r;return mt(n,t,"internal-error"),CN(n,new ip(r),r.bypassAuthState)}async function WN(r){const{auth:t,user:n}=r;return mt(n,t,"internal-error"),IN(n,new ip(r),r.bypassAuthState)}class rS{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JN;case"linkViaPopup":case"linkViaRedirect":return WN;case"reauthViaPopup":case"reauthViaRedirect":return ZN;default:oi(this.auth,"internal-error")}}resolve(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tD=new gu(2e3,1e4);class oo extends rS{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const t=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tD.get())};t()}}oo.currentPopupAction=null;const eD="pendingRedirect",fh=new Map;class nD extends rS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=fh.get(this.auth._key());if(!t){try{const s=await iD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}fh.set(this.auth._key(),t)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iD(r,t){const n=aD(t),s=sD(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function rD(r,t){fh.set(r._key(),t)}function sD(r){return cr(r._redirectPersistence)}function aD(r){return hh(eD,r.config.apiKey,r.name)}async function oD(r,t,n=!1){if(jn(r.app))return Promise.reject(dr(r));const s=ha(r),l=$N(s,t),d=await new nD(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const lD=600*1e3;class uD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!sS(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lD&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(t))}saveEventToCache(t){this.cachedEventUids.add(pT(t)),this.lastProcessedEventTime=Date.now()}}function pT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function sS({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function cD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(r);default:return!1}}async function hD(r,t={}){return ys(r,"GET","/v1/projects",t)}const fD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dD=/^https?/;async function mD(r){if(r.config.emulator)return;const{authorizedDomains:t}=await hD(r);for(const n of t)try{if(gD(n))return}catch{}oi(r,"unauthorized-domain")}function gD(r){const t=eg(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!dD.test(n))return!1;if(fD.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const pD=new gu(3e4,6e4);function yT(){const r=Li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function yD(r){return new Promise((t,n)=>{function s(){yT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yT(),n(Ui(r,"network-request-failed"))},timeout:pD.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const l=uN("iframefcb");return Li()[l]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},HA(`${lN()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw dh=null,t})}let dh=null;function _D(r){return dh=dh||yD(r),dh}const vD=new gu(5e3,15e3),ED="__/auth/iframe",TD="emulator/auth/iframe",AD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bD(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Jg(t,TD):`https://${r.config.authDomain}/${ED}`,s={apiKey:t.apiKey,appName:r.name,v:To},l=SD.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function wD(r){const t=await _D(r),n=Li().gapi;return mt(n,r,"internal-error"),t.open({where:document.body,url:bD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AD,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Ui(r,"network-request-failed"),g=Li().setTimeout(()=>{u(d)},vD.get());function y(){Li().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{u(d)})}))}const RD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ID=500,CD=600,ND="_blank",DD="http://localhost";class _T{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OD(r,t,n,s=ID,l=CD){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...RD,width:s.toString(),height:l.toString(),top:u,left:d},p=en().toLowerCase();n&&(g=PA(p)?ND:n),VA(p)&&(t=t||DD,y.scrollbars="yes");const A=Object.entries(y).reduce((N,[G,J])=>`${N}${G}=${J},`,"");if(W2(p)&&g!=="_self")return MD(t||"",g),new _T(null);const b=window.open(t||"",g,A);mt(b,r,"popup-blocked");try{b.focus()}catch{}return new _T(b)}function MD(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const xD="__/auth/handler",VD="emulator/auth/handler",kD=encodeURIComponent("fac");async function vT(r,t,n,s,l,u){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:l};if(t instanceof QA){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",fw(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof yu){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await r._getAppCheckToken(),p=y?`#${kD}=${encodeURIComponent(y)}`:"";return`${PD(r)}?${ou(g).slice(1)}${p}`}function PD({config:r}){return r.emulator?Jg(r,VD):`https://${r.authDomain}/${xD}`}const wm="webStorageSupport";class UD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WA,this._completeRedirectFn=oD,this._overrideRedirectResult=rD}async _openPopup(t,n,s,l){yr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await vT(t,n,s,eg(),l);return OD(t,u,np())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await vT(t,n,s,eg(),l);return jN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await wD(t),s=new uD(t);return n.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wm,{type:wm},l=>{const u=l?.[0]?.[wm];u!==void 0&&n(!!u),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return qA()||kA()||Wg()}}const LD=UD;var ET="@firebase/auth",TT="1.12.0";class zD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qD(r){zi(new si("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BA(r)},p=new sN(s,l,u,y);return gN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),zi(new si("auth-internal",t=>{const n=ha(t.getProvider("auth").getImmediate());return(s=>new zD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(ET,TT,jD(r)),Bn(ET,TT,"esm2020")}const BD=300,HD=jT("authIdTokenMaxAge")||BD;let AT=null;const FD=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>HD)return;const l=n?.token;AT!==l&&(AT=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GD(r=ug()){const t=Eo(r,"auth");if(t.isInitialized())return t.getImmediate();const n=mN(r,{popupRedirectResolver:LD,persistence:[XN,UN,WA]}),s=jT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=FD(u.toString());xN(n,d,()=>d(n.currentUser)),MN(n,g=>d(g))}}const l=LT("auth");return l&&pN(n,`http://${l}`),n}function QD(){return document.getElementsByTagName("head")?.[0]??document}aN({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=Ui("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",QD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qD("Browser");var KD="firebase",YD="12.7.0";Bn(KD,YD,"app");const aS="@firebase/installations",rp="0.6.19";const oS=1e4,lS=`w:${rp}`,uS="FIS_v2",XD="https://firebaseinstallations.googleapis.com/v1",$D=3600*1e3,JD="installations",ZD="Installations";const WD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},aa=new la(JD,ZD,WD);function cS(r){return r instanceof qi&&r.code.includes("request-failed")}function hS({projectId:r}){return`${XD}/projects/${r}/installations`}function fS(r){return{token:r.token,requestStatus:2,expiresIn:eO(r.expiresIn),creationTime:Date.now()}}async function dS(r,t){const s=(await t.json()).error;return aa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function mS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function tO(r,{refreshToken:t}){const n=mS(r);return n.append("Authorization",nO(t)),n}async function gS(r){const t=await r();return t.status>=500&&t.status<600?r():t}function eO(r){return Number(r.replace("s","000"))}function nO(r){return`${uS} ${r}`}async function iO({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=hS(r),l=mS(r),u=t.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={fid:n,authVersion:uS,appId:r.appId,sdkVersion:lS},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await gS(()=>fetch(s,g));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:fS(p.authToken)}}else throw await dS("Create Installation",y)}function pS(r){return new Promise(t=>{setTimeout(t,r)})}function rO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const sO=/^[cdef][\w-]{21}$/,sg="";function aO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=oO(r);return sO.test(n)?n:sg}catch{return sg}}function oO(r){return rO(r).substr(0,22)}function rf(r){return`${r.appName}!${r.appId}`}const yS=new Map;function _S(r,t){const n=rf(r);vS(n,t),lO(n,t)}function vS(r,t){const n=yS.get(r);if(n)for(const s of n)s(t)}function lO(r,t){const n=uO();n&&n.postMessage({key:r,fid:t}),cO()}let Zs=null;function uO(){return!Zs&&"BroadcastChannel"in self&&(Zs=new BroadcastChannel("[Firebase] FID Change"),Zs.onmessage=r=>{vS(r.data.key,r.data.fid)}),Zs}function cO(){yS.size===0&&Zs&&(Zs.close(),Zs=null)}const hO="firebase-installations-database",fO=1,oa="firebase-installations-store";let Rm=null;function sp(){return Rm||(Rm=Vh(hO,fO,{upgrade:(r,t)=>{t===0&&r.createObjectStore(oa)}})),Rm}async function Mh(r,t){const n=rf(r),l=(await sp()).transaction(oa,"readwrite"),u=l.objectStore(oa),d=await u.get(n);return await u.put(t,n),await l.done,(!d||d.fid!==t.fid)&&_S(r,t.fid),t}async function ES(r){const t=rf(r),s=(await sp()).transaction(oa,"readwrite");await s.objectStore(oa).delete(t),await s.done}async function sf(r,t){const n=rf(r),l=(await sp()).transaction(oa,"readwrite"),u=l.objectStore(oa),d=await u.get(n),g=t(d);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!d||d.fid!==g.fid)&&_S(r,g.fid),g}async function ap(r){let t;const n=await sf(r.appConfig,s=>{const l=dO(s),u=mO(r,l);return t=u.registrationPromise,u.installationEntry});return n.fid===sg?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function dO(r){const t=r||{fid:aO(),registrationStatus:0};return TS(t)}function mO(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(aa.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=gO(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:pO(r)}:{installationEntry:t}}async function gO(r,t){try{const n=await iO(r,t);return Mh(r.appConfig,n)}catch(n){throw cS(n)&&n.customData.serverCode===409?await ES(r.appConfig):await Mh(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function pO(r){let t=await ST(r.appConfig);for(;t.registrationStatus===1;)await pS(100),t=await ST(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ap(r);return s||n}return t}function ST(r){return sf(r,t=>{if(!t)throw aa.create("installation-not-found");return TS(t)})}function TS(r){return yO(r)?{fid:r.fid,registrationStatus:0}:r}function yO(r){return r.registrationStatus===1&&r.registrationTime+oS<Date.now()}async function _O({appConfig:r,heartbeatServiceProvider:t},n){const s=vO(r,n),l=tO(r,n),u=t.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={installation:{sdkVersion:lS,appId:r.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await gS(()=>fetch(s,g));if(y.ok){const p=await y.json();return fS(p)}else throw await dS("Generate Auth Token",y)}function vO(r,{fid:t}){return`${hS(r)}/${t}/authTokens:generate`}async function op(r,t=!1){let n;const s=await sf(r.appConfig,u=>{if(!AS(u))throw aa.create("not-registered");const d=u.authToken;if(!t&&AO(d))return u;if(d.requestStatus===1)return n=EO(r,t),u;{if(!navigator.onLine)throw aa.create("app-offline");const g=bO(u);return n=TO(r,g),g}});return n?await n:s.authToken}async function EO(r,t){let n=await bT(r.appConfig);for(;n.authToken.requestStatus===1;)await pS(100),n=await bT(r.appConfig);const s=n.authToken;return s.requestStatus===0?op(r,t):s}function bT(r){return sf(r,t=>{if(!AS(t))throw aa.create("not-registered");const n=t.authToken;return wO(n)?{...t,authToken:{requestStatus:0}}:t})}async function TO(r,t){try{const n=await _O(r,t),s={...t,authToken:n};return await Mh(r.appConfig,s),n}catch(n){if(cS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ES(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Mh(r.appConfig,s)}throw n}}function AS(r){return r!==void 0&&r.registrationStatus===2}function AO(r){return r.requestStatus===2&&!SO(r)}function SO(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+$D}function bO(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function wO(r){return r.requestStatus===1&&r.requestTime+oS<Date.now()}async function RO(r){const t=r,{installationEntry:n,registrationPromise:s}=await ap(t);return s?s.catch(console.error):op(t).catch(console.error),n.fid}async function IO(r,t=!1){const n=r;return await CO(n),(await op(n,t)).token}async function CO(r){const{registrationPromise:t}=await ap(r);t&&await t}function NO(r){if(!r||!r.options)throw Im("App Configuration");if(!r.name)throw Im("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw Im(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Im(r){return aa.create("missing-app-config-values",{valueName:r})}const SS="installations",DO="installations-internal",OO=r=>{const t=r.getProvider("app").getImmediate(),n=NO(t),s=Eo(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},MO=r=>{const t=r.getProvider("app").getImmediate(),n=Eo(t,SS).getImmediate();return{getId:()=>RO(n),getToken:l=>IO(n,l)}};function xO(){zi(new si(SS,OO,"PUBLIC")),zi(new si(DO,MO,"PRIVATE"))}xO();Bn(aS,rp);Bn(aS,rp,"esm2020");const VO="/firebase-messaging-sw.js",kO="/firebase-cloud-messaging-push-scope",bS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",PO="https://fcmregistrations.googleapis.com/v1",wS="google.c.a.c_id",UO="google.c.a.c_l",LO="google.c.a.ts",zO="google.c.a.e",wT=1e4;var RT;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(RT||(RT={}));var su;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(su||(su={}));function or(r){const t=new Uint8Array(r);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jO(r){const t="=".repeat((4-r.length%4)%4),n=(r+t).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),l=new Uint8Array(s.length);for(let u=0;u<s.length;++u)l[u]=s.charCodeAt(u);return l}const Cm="fcm_token_details_db",qO=5,IT="fcm_token_object_Store";async function BO(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(Cm))return null;let t=null;return(await Vh(Cm,qO,{upgrade:async(s,l,u,d)=>{if(l<2||!s.objectStoreNames.contains(IT))return;const g=d.objectStore(IT),y=await g.index("fcmSenderId").get(r);if(await g.clear(),!!y){if(l===2){const p=y;if(!p.auth||!p.p256dh||!p.endpoint)return;t={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:or(p.vapidKey)}}}else if(l===3){const p=y;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:or(p.auth),p256dh:or(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:or(p.vapidKey)}}}else if(l===4){const p=y;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:or(p.auth),p256dh:or(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:or(p.vapidKey)}}}}}})).close(),await dm(Cm),await dm("fcm_vapid_details_db"),await dm("undefined"),HO(t)?t:null}function HO(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:t}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const FO="firebase-messaging-database",GO=1,au="firebase-messaging-store";let Nm=null;function RS(){return Nm||(Nm=Vh(FO,GO,{upgrade:(r,t)=>{t===0&&r.createObjectStore(au)}})),Nm}async function QO(r){const t=IS(r),s=await(await RS()).transaction(au).objectStore(au).get(t);if(s)return s;{const l=await BO(r.appConfig.senderId);if(l)return await lp(r,l),l}}async function lp(r,t){const n=IS(r),l=(await RS()).transaction(au,"readwrite");return await l.objectStore(au).put(t,n),await l.done,t}function IS({appConfig:r}){return r.appId}const KO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new la("messaging","Messaging",KO);async function YO(r,t){const n=await cp(r),s=CS(t),l={method:"POST",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(up(r.appConfig),l)).json()}catch(d){throw an.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw an.create("token-subscribe-no-token");return u.token}async function XO(r,t){const n=await cp(r),s=CS(t.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(`${up(r.appConfig)}/${t.token}`,l)).json()}catch(d){throw an.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw an.create("token-update-failed",{errorInfo:d})}if(!u.token)throw an.create("token-update-no-token");return u.token}async function $O(r,t){const s={method:"DELETE",headers:await cp(r)};try{const u=await(await fetch(`${up(r.appConfig)}/${t}`,s)).json();if(u.error){const d=u.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw an.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function up({projectId:r}){return`${PO}/projects/${r}/registrations`}async function cp({appConfig:r,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function CS({p256dh:r,auth:t,endpoint:n,vapidKey:s}){const l={web:{endpoint:n,auth:t,p256dh:r}};return s!==bS&&(l.web.applicationPubKey=s),l}const JO=10080*60*1e3;async function ZO(r){const t=await t4(r.swRegistration,r.vapidKey),n={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:t.endpoint,auth:or(t.getKey("auth")),p256dh:or(t.getKey("p256dh"))},s=await QO(r.firebaseDependencies);if(s){if(e4(s.subscriptionOptions,n))return Date.now()>=s.createTime+JO?WO(r,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await $O(r.firebaseDependencies,s.token)}catch(l){console.warn(l)}return CT(r.firebaseDependencies,n)}else return CT(r.firebaseDependencies,n)}async function WO(r,t){try{const n=await XO(r.firebaseDependencies,t),s={...t,token:n,createTime:Date.now()};return await lp(r.firebaseDependencies,s),n}catch(n){throw n}}async function CT(r,t){const s={token:await YO(r,t),createTime:Date.now(),subscriptionOptions:t};return await lp(r,s),s.token}async function t4(r,t){const n=await r.pushManager.getSubscription();return n||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jO(t)})}function e4(r,t){const n=t.vapidKey===r.vapidKey,s=t.endpoint===r.endpoint,l=t.auth===r.auth,u=t.p256dh===r.p256dh;return n&&s&&l&&u}function NT(r){const t={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return n4(t,r),i4(t,r),r4(t,r),t}function n4(r,t){if(!t.notification)return;r.notification={};const n=t.notification.title;n&&(r.notification.title=n);const s=t.notification.body;s&&(r.notification.body=s);const l=t.notification.image;l&&(r.notification.image=l);const u=t.notification.icon;u&&(r.notification.icon=u)}function i4(r,t){t.data&&(r.data=t.data)}function r4(r,t){if(!t.fcmOptions&&!t.notification?.click_action)return;r.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;n&&(r.fcmOptions.link=n);const s=t.fcmOptions?.analytics_label;s&&(r.fcmOptions.analyticsLabel=s)}function s4(r){return typeof r=="object"&&!!r&&wS in r}function a4(r){if(!r||!r.options)throw Dm("App Configuration Object");if(!r.name)throw Dm("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=r;for(const s of t)if(!n[s])throw Dm(s);return{appName:r.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Dm(r){return an.create("missing-app-config-values",{valueName:r})}class o4{constructor(t,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=a4(t);this.firebaseDependencies={app:t,appConfig:l,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function l4(r){try{r.swRegistration=await navigator.serviceWorker.register(VO,{scope:kO}),r.swRegistration.update().catch(()=>{}),await u4(r.swRegistration)}catch(t){throw an.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function u4(r){return new Promise((t,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${wT} ms`)),wT),l=r.installing||r.waiting;r.active?(clearTimeout(s),t()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(s),t())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}async function c4(r,t){if(!t&&!r.swRegistration&&await l4(r),!(!t&&r.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");r.swRegistration=t}}async function h4(r,t){t?r.vapidKey=t:r.vapidKey||(r.vapidKey=bS)}async function f4(r,t){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw an.create("permission-blocked");return await h4(r,t?.vapidKey),await c4(r,t?.serviceWorkerRegistration),ZO(r)}async function d4(r,t,n){const s=m4(t);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[wS],message_name:n[UO],message_time:n[LO],message_device_time:Math.floor(Date.now()/1e3)})}function m4(r){switch(r){case su.NOTIFICATION_CLICKED:return"notification_open";case su.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function g4(r,t){const n=t.data;if(!n.isFirebaseMessaging)return;r.onMessageHandler&&n.messageType===su.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(NT(n)):r.onMessageHandler.next(NT(n)));const s=n.data;s4(s)&&s[zO]==="1"&&await d4(r,n.messageType,s)}const DT="@firebase/messaging",OT="0.12.23";const p4=r=>{const t=new o4(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>g4(t,n)),t},y4=r=>{const t=r.getProvider("messaging").getImmediate();return{getToken:s=>f4(t,s)}};function _4(){zi(new si("messaging",p4,"PUBLIC")),zi(new si("messaging-internal",y4,"PRIVATE")),Bn(DT,OT),Bn(DT,OT,"esm2020")}async function v4(){try{await FT()}catch{return!1}return typeof window<"u"&&HT()&&lw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function E4(r=ug()){return v4().then(t=>{if(!t)throw an.create("unsupported-browser")},t=>{throw an.create("indexed-db-unsupported")}),Eo(De(r),"messaging").getImmediate()}_4();const T4={apiKey:"AIzaSyB5i9OCUpp-VQ9MR4fk01zsP743UuHSVWw",authDomain:"omega-cf92a.firebaseapp.com",projectId:"omega-cf92a",storageBucket:"omega-cf92a.firebasestorage.app",messagingSenderId:"187395193452",appId:"1:187395193452:web:5c0f4aefb2407478687649",measurementId:"G-5114W3WLXR"},hp=KT(T4),Ve=_2(hp),lr=GD(hp);E4(hp);const ke={QUEUE:"queue",PENDING_REQUESTS:"pendingRequests",NOTIFICATIONS:"notifications",ACTIVITY_LOGS:"activityLogs",USERS:"users",SETTINGS:"settings"},je={PENDING:"pending",QUEUED:"queued",SUMMONED:"summoned",STAGING:"staging",LOADING:"loading",COMPLETED:"completed",EXPIRED:"expired"},Vl={async signIn(r,t){try{let n,s;try{n=await ON(lr,r,t),s=n.user}catch(u){if(u.code==="auth/invalid-credential"&&this.isKnownAdminEmail(r))console.log("Creating new admin account..."),n=await DN(lr,r,t),s=n.user;else throw u}let l=await this.getUserProfile(s.uid);if(!l&&this.isKnownAdminEmail(r)&&(console.log("Creating admin profile..."),l=await this.createAdminProfile(s)),!l||l.role!=="admin")throw await dT(lr),new Error("Access denied. Admin account required.");return s}catch(n){throw console.error("Sign in error:",n),new Error(`Sign in failed: ${n.message}`)}},isKnownAdminEmail(r){return["admin@omega.com","admin@omegaproducts.com"].includes(r.toLowerCase())},async createAdminProfile(r){try{const t={uid:r.uid,email:r.email,role:"admin",driverName:"",createdAt:$s(),isActive:!0};return{id:(await uh(Oi(Ve,ke.USERS),t)).id,...t}}catch(t){throw console.error("Failed to create admin profile:",t),new Error("Failed to create admin profile")}},async signOut(){try{await dT(lr)}catch(r){throw new Error(`Sign out failed: ${r.message}`)}},onAuthStateChange(r){return VN(lr,r)},getCurrentUser(){return lr.currentUser},async getUserProfile(r){try{const t=ao(Oi(Ve,ke.USERS),oh("uid","==",r)),n=await tg(t);return n.empty?null:{id:n.docs[0].id,...n.docs[0].data()}}catch(t){if(t.code==="permission-denied")return console.warn("Permission denied accessing user profile, user may not exist yet"),null;throw new Error(`Failed to get user profile: ${t.message}`)}}},ni={async approveRequest(r){try{const t=await th(Di(Ve,ke.PENDING_REQUESTS,r));if(!t.exists())throw new Error("Request not found");const n=t.data(),l=(await tg(ao(Oi(Ve,ke.QUEUE),oh("status","==",je.QUEUED)))).size+1,u=await uh(Oi(Ve,ke.QUEUE),{...n,status:je.QUEUED,position:l,joinedAt:$s(),approvedBy:lr.currentUser?.uid});return await Am(Di(Ve,ke.PENDING_REQUESTS,r)),await this.sendNotification(n.userId||"anonymous","success",`Request approved - joined queue at position ${l}`,n.poNumber),await this.logActivity("request_approved",`Request approved for ${n.driverName}`,n.poNumber),u.id}catch(t){throw new Error(`Failed to approve request: ${t.message}`)}},async rejectRequest(r,t){try{const n=await th(Di(Ve,ke.PENDING_REQUESTS,r));if(!n.exists())throw new Error("Request not found");const s=n.data();await Am(Di(Ve,ke.PENDING_REQUESTS,r)),await this.sendNotification(s.userId||"anonymous","error",`Request rejected: ${t}`,s.poNumber),await this.logActivity("request_rejected",`Request rejected for ${s.driverName}: ${t}`,s.poNumber)}catch(n){throw new Error(`Failed to reject request: ${n.message}`)}},async updateQueuePositions(r){try{const t=[];for(let n=0;n<r.length;n++){const s=r[n];t.push(Tm(Di(Ve,ke.QUEUE,s.id),{position:n+1,updatedAt:$s()}))}await Promise.all(t),await this.logActivity("queue_reordered","Queue positions updated by admin")}catch(t){throw new Error(`Failed to update queue positions: ${t.message}`)}},async removeFromQueue(r,t="Removed by admin"){try{const n=await th(Di(Ve,ke.QUEUE,r));if(!n.exists())throw new Error("Queue item not found");const s=n.data();await Am(Di(Ve,ke.QUEUE,r));const l=await tg(ao(Oi(Ve,ke.QUEUE),oh("position",">",s.position),Wc("position"))),u=[];l.forEach(d=>{u.push(Tm(d.ref,{position:M2(-1),updatedAt:$s()}))}),await Promise.all(u),await this.sendNotification(s.userId||"anonymous","admin_action",`Removed from queue: ${t}`,s.poNumber),await this.logActivity("removed_from_queue",`${s.driverName} removed from queue: ${t}`,s.poNumber)}catch(n){throw new Error(`Failed to remove from queue: ${n.message}`)}},async updateQueueStatus(r,t){try{await Tm(Di(Ve,ke.QUEUE,r),{status:t,updatedAt:$s()});const s=(await th(Di(Ve,ke.QUEUE,r))).data();let l="";switch(t){case je.SUMMONED:l="You are summoned! Please proceed to the staging area.";break;case je.STAGING:l="You are now in the staging area.";break;case je.LOADING:l="You are now in the loading bay.";break;case je.COMPLETED:l="Loading completed. Thank you!";break;default:l=`Status updated to ${t}`}await this.sendNotification(s.userId||"anonymous","status_update",l,s.poNumber),await this.logActivity("status_updated",`${s.driverName} status updated to ${t}`,s.poNumber)}catch(n){throw new Error(`Failed to update status: ${n.message}`)}},async sendNotification(r,t,n,s=null){try{await uh(Oi(Ve,ke.NOTIFICATIONS),{userId:r,type:t,message:n,poNumber:s,timestamp:$s(),read:!1})}catch(l){console.error("Failed to send notification:",l)}},async logActivity(r,t,n=null){try{await uh(Oi(Ve,ke.ACTIVITY_LOGS),{type:r,message:t,poNumber:n,timestamp:$s(),userId:lr.currentUser?.uid||null,userEmail:lr.currentUser?.email||null})}catch(s){console.error("Failed to log activity:",s)}},onPendingRequestsChange(r){const t=ao(Oi(Ve,ke.PENDING_REQUESTS),Wc("requestedAt","desc"));return Sm(t,r)},onQueueChange(r){const t=ao(Oi(Ve,ke.QUEUE),oh("status","in",[je.QUEUED,je.SUMMONED,je.STAGING,je.LOADING]),Wc("position"));return Sm(t,r)},onActivityLogsChange(r){const t=ao(Oi(Ve,ke.ACTIVITY_LOGS),Wc("timestamp","desc"));return Sm(t,r)}},NS=()=>U.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),U.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),A4=({onLogin:r,loading:t,error:n})=>{const[s,l]=le.useState({email:"",password:""}),[u,d]=le.useState(!1),g=y=>{y.preventDefault(),r(s.email,s.password)};return U.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center p-4",children:U.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[U.jsxs("div",{className:"text-center mb-8",children:[U.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:U.jsx(Fv,{className:"w-8 h-8 text-blue-600"})}),U.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),U.jsx("p",{className:"text-gray-600",children:"Omega Products Truck Queue"})]}),U.jsxs("form",{onSubmit:g,className:"space-y-6",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),U.jsx("input",{type:"email",value:s.email,onChange:y=>l(p=>({...p,email:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@omega.com",required:!0})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),U.jsxs("div",{className:"relative",children:[U.jsx("input",{type:u?"text":"password",value:s.password,onChange:y=>l(p=>({...p,password:y.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter admin password",required:!0}),U.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?U.jsx(Ib,{className:"w-5 h-5"}):U.jsx(Nb,{className:"w-5 h-5"})})]})]}),n&&U.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:U.jsx("p",{className:"text-red-700 text-sm",children:n})}),U.jsx("button",{type:"button",onClick:()=>{l({email:"admin@omega.com",password:"password"})},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 rounded-lg transition-colors text-sm",children:"Use Demo Credentials"}),U.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white font-semibold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:t?U.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):U.jsxs(U.Fragment,{children:[U.jsx(Fv,{className:"w-5 h-5"}),"Sign In to Admin Portal"]})})]}),U.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[U.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Demo Admin Account:"}),U.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[U.jsxs("p",{children:[U.jsx("strong",{children:"Email:"})," admin@omega.com"]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Password:"})," password"]}),U.jsxs("p",{className:"mt-2 text-blue-600",children:[U.jsx("strong",{children:"Note:"})," If this is your first time, the account will be created automatically."]})]})]})]})})},S4=({selectedTicket:r,onClose:t,onConfirm:n})=>U.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:U.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[U.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[U.jsx(xT,{className:"w-6 h-6 text-red-500"}),U.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Remove from Queue?"})]}),U.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to remove ",U.jsx("strong",{children:r?.driverName})," (",r?.poNumber,") from the queue? This action cannot be undone."]}),U.jsxs("div",{className:"flex gap-3",children:[U.jsx("button",{onClick:t,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),U.jsx("button",{onClick:()=>n(r.id),className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-medium py-3 rounded-lg transition-colors",children:"Remove"})]})]})}),b4=({selectedTicket:r,rejectReason:t,setRejectReason:n,onClose:s,onConfirm:l})=>U.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:U.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[U.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[U.jsx(VT,{className:"w-6 h-6 text-red-500"}),U.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Reject Request?"})]}),U.jsxs("p",{className:"text-gray-600 mb-4",children:["Reject request from ",U.jsx("strong",{children:r?.driverName})," (",r?.poNumber,")?"]}),U.jsxs("div",{className:"mb-6 space-y-2",children:[U.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[U.jsx("input",{type:"radio",name:"rejectReason",value:"Invalid PO number or confirmation code",checked:t==="Invalid PO number or confirmation code",onChange:u=>n(u.target.value),className:"w-4 h-4"}),U.jsx("span",{className:"text-sm text-gray-700",children:"Invalid PO number or confirmation code"})]}),U.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[U.jsx("input",{type:"radio",name:"rejectReason",value:"Location too far from facility",checked:t==="Location too far from facility",onChange:u=>n(u.target.value),className:"w-4 h-4"}),U.jsx("span",{className:"text-sm text-gray-700",children:"Location too far from facility"})]})]}),U.jsxs("div",{className:"flex gap-3",children:[U.jsx("button",{onClick:s,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),U.jsx("button",{onClick:()=>{if(!t){alert("Please select a reason");return}l(r.id,t)},className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-medium py-3 rounded-lg transition-colors",children:"Reject"})]})]})}),w4=({user:r,onSignOut:t})=>{const[n,s]=le.useState("dashboard"),[l,u]=le.useState([]),[d,g]=le.useState([]),[y,p]=le.useState([]),[A,b]=le.useState(!0),[N,G]=le.useState(!1),[J,et]=le.useState(!1),[Z,ut]=le.useState(null),[vt,ft]=le.useState(""),[Pt,Xt]=le.useState(null);le.useEffect(()=>{const S=[],At=ni.onQueueChange(W=>{const at=W.docs.map(pt=>({id:pt.id,...pt.data(),joinedAt:pt.data().joinedAt?.toDate?.()?.toISOString()||new Date().toISOString(),requestedAt:pt.data().requestedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));u(at),b(!1)});S.push(At);const Gt=ni.onPendingRequestsChange(W=>{const at=W.docs.map(pt=>({id:pt.id,...pt.data(),requestedAt:pt.data().requestedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));g(at)});S.push(Gt);const H=ni.onActivityLogsChange(W=>{const at=W.docs.map(pt=>({id:pt.id,...pt.data(),timestamp:pt.data().timestamp?.toDate?.()?.toISOString()||new Date().toISOString()}));p(at)});return S.push(H),()=>{S.forEach(W=>W())}},[]);const Vt=S=>S*15,C=async S=>{try{await ni.approveRequest(S)}catch(At){alert(`Failed to approve request: ${At.message}`)}},w=async(S,At)=>{try{await ni.rejectRequest(S,At),et(!1),ut(null),ft("")}catch(Gt){alert(`Failed to reject request: ${Gt.message}`)}},I=async S=>{try{await ni.removeFromQueue(S),G(!1),ut(null)}catch(At){alert(`Failed to remove from queue: ${At.message}`)}},x=(S,At)=>{Xt(At),S.dataTransfer.effectAllowed="move"},O=(S,At)=>{if(S.preventDefault(),S.dataTransfer.dropEffect="move",!Pt||Pt.id===At.id)return;const Gt=[...l],H=Gt.findIndex(at=>at.id===Pt.id),W=Gt.findIndex(at=>at.id===At.id);if(H!==-1&&W!==-1){Gt.splice(H,1),Gt.splice(W,0,Pt);const at=Gt.map((pt,qt)=>({...pt,position:qt+1}));ni.updateQueuePositions(at)}},k=()=>{Xt(null)};return A?U.jsx(NS,{}):U.jsxs("div",{className:"min-h-screen bg-gray-100",children:[N&&U.jsx(S4,{selectedTicket:Z,onClose:()=>{G(!1),ut(null)},onConfirm:I}),J&&U.jsx(b4,{selectedTicket:Z,rejectReason:vt,setRejectReason:ft,onClose:()=>{et(!1),ut(null),ft("")},onConfirm:w}),U.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:U.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:U.jsxs("div",{className:"flex items-center justify-between",children:[U.jsxs("div",{children:[U.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Portal"}),U.jsx("p",{className:"text-sm text-gray-600",children:"Omega Products Truck Queue Management"})]}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs("nav",{className:"flex gap-2",children:[U.jsx("button",{onClick:()=>s("dashboard"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="dashboard"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Dashboard"}),U.jsx("button",{onClick:()=>s("history"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="history"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Activity Logs"})]}),d.length>0&&U.jsxs("div",{className:"relative",children:[U.jsx(Hv,{className:"w-6 h-6 text-gray-600"}),U.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:d.length})]}),U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsxs("div",{className:"text-right",children:[U.jsx("p",{className:"text-sm font-medium text-gray-800",children:r.email}),U.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]}),U.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Sign Out",children:U.jsx(kb,{className:"w-5 h-5"})})]})]})]})})}),U.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[n==="dashboard"&&U.jsxs("div",{className:"space-y-6",children:[d.length>0&&U.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 shadow-lg",children:[U.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[U.jsx(Hv,{className:"w-5 h-5 text-yellow-600"}),"Pending Requests (",d.length,")"]}),U.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.map(S=>U.jsxs("div",{className:"bg-white border border-yellow-200 rounded-lg p-4",children:[U.jsxs("div",{className:"mb-3",children:[U.jsxs("div",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[U.jsx(Gv,{className:"w-4 h-4"}),S.driverName]}),U.jsx("p",{className:"text-sm text-gray-600",children:S.poNumber}),U.jsxs("p",{className:"text-xs text-gray-500",children:["Code: ",S.confirmCode,"  ",new Date(S.requestedAt).toLocaleTimeString()]})]}),U.jsxs("div",{className:"flex gap-2",children:[U.jsx("button",{onClick:()=>C(S.id),className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Approve"}),U.jsx("button",{onClick:()=>{ut(S),et(!0)},className:"flex-1 bg-red-500 hover:bg-red-600 text-white text-sm font-medium py-2 rounded-lg transition-colors",children:"Reject"})]})]},S.id))})]}),U.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[U.jsxs("div",{className:"flex items-center justify-between mb-6",children:[U.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Current Queue"}),U.jsxs("div",{className:"text-center bg-blue-50 rounded-lg p-4",children:[U.jsx("p",{className:"text-sm text-gray-600",children:"Trucks in Queue"}),U.jsx("p",{className:"text-3xl font-bold text-blue-600",children:l.length})]})]}),U.jsxs("div",{className:"space-y-3",children:[l.map(S=>U.jsx("div",{draggable:!0,onDragStart:At=>x(At,S),onDragOver:At=>O(At,S),onDragEnd:k,className:`border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow ${Pt?.id===S.id?"opacity-50":""}`,children:U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx(Ob,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-1"}),U.jsxs("div",{className:"flex-1 min-w-0",children:[U.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[U.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full font-bold text-sm flex-shrink-0",children:S.position}),U.jsxs("div",{children:[U.jsx("span",{className:"font-semibold text-gray-800",children:S.driverName}),U.jsx("p",{className:"text-sm text-gray-600",children:S.poNumber})]})]}),U.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[U.jsxs("span",{children:["Joined: ",new Date(S.joinedAt).toLocaleTimeString()]}),U.jsxs("span",{children:["Wait: ~",Vt(S.position)," min"]}),U.jsx("span",{className:"capitalize bg-gray-100 px-2 py-1 rounded",children:S.status})]})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[S.status===je.QUEUED&&U.jsx("button",{onClick:()=>ni.updateQueueStatus(S.id,je.SUMMONED),className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-xs rounded transition-colors",children:"Summon"}),S.status===je.SUMMONED&&U.jsx("button",{onClick:()=>ni.updateQueueStatus(S.id,je.STAGING),className:"px-3 py-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs rounded transition-colors",children:"To Staging"}),S.status===je.STAGING&&U.jsx("button",{onClick:()=>ni.updateQueueStatus(S.id,je.LOADING),className:"px-3 py-1 bg-orange-500 hover:bg-orange-600 text-white text-xs rounded transition-colors",children:"To Loading"}),S.status===je.LOADING&&U.jsx("button",{onClick:()=>ni.updateQueueStatus(S.id,je.COMPLETED),className:"px-3 py-1 bg-green-500 hover:bg-green-600 text-white text-xs rounded transition-colors",children:"Complete"}),U.jsx("button",{onClick:()=>{ut(S),G(!0)},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0",children:U.jsx(qb,{className:"w-4 h-4"})})]})]})},S.id)),l.length===0&&U.jsxs("div",{className:"text-center py-12 text-gray-500",children:[U.jsx(Gv,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),U.jsx("p",{children:"No trucks in queue"})]})]}),l.length>0&&U.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:U.jsxs("p",{className:"text-sm text-blue-800",children:[U.jsx("strong",{children:"Tip:"})," Drag and drop to reorder the queue. Use status buttons to move trucks through the process."]})})]})]}),n==="history"&&U.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[U.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Activity History"}),U.jsxs("div",{className:"space-y-3",children:[y.map(S=>U.jsx("div",{className:"border-l-4 border-blue-500 bg-gray-50 rounded-r-lg p-4",children:U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsxs("div",{className:"flex-shrink-0 mt-1",children:[(S.type==="success"||S.type==="queue_joined"||S.type==="request_approved")&&U.jsx(bb,{className:"w-5 h-5 text-green-500"}),(S.type==="error"||S.type==="request_rejected")&&U.jsx(VT,{className:"w-5 h-5 text-red-500"}),S.type==="pending"&&U.jsx(xT,{className:"w-5 h-5 text-yellow-500"}),(S.type==="admin_action"||S.type==="removed_from_queue"||S.type==="queue_reordered"||S.type==="status_updated")&&U.jsx(Ub,{className:"w-5 h-5 text-blue-500"})]}),U.jsxs("div",{className:"flex-1",children:[U.jsx("p",{className:"text-sm font-medium text-gray-800",children:S.message}),U.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[S.poNumber&&U.jsx("p",{className:"text-xs text-gray-600",children:S.poNumber}),U.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.timestamp).toLocaleString()}),S.userEmail&&U.jsxs("p",{className:"text-xs text-gray-500",children:["by ",S.userEmail]})]})]})]})},S.id)),y.length===0&&U.jsxs("div",{className:"text-center py-12 text-gray-500",children:[U.jsx(xb,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),U.jsx("p",{children:"No activity logs yet"})]})]})]})]})]})},R4=()=>{const[r,t]=le.useState(null),[n,s]=le.useState(!0),[l,u]=le.useState(!1),[d,g]=le.useState("");le.useEffect(()=>Vl.onAuthStateChange(async b=>{if(console.log("Auth state changed:",b?b.email:"signed out"),b)try{const N=await Vl.getUserProfile(b.uid);console.log("User profile:",N),N&&N.role==="admin"?(t(b),u(!1),g("")):(await Vl.signOut(),g("Access denied. Admin account required."),u(!1))}catch(N){console.error("Failed to load user profile:",N),g("Failed to verify admin access."),u(!1)}else t(null),u(!1);s(!1)}),[]);const y=async(A,b)=>{try{u(!0),g(""),console.log("Attempting login for:",A),await Vl.signIn(A,b),console.log("Login successful")}catch(N){console.error("Login failed:",N),g(N.message),u(!1)}},p=async()=>{try{await Vl.signOut()}catch(A){console.error("Sign out error:",A)}};return n?U.jsx(NS,{}):r?U.jsx(w4,{user:r,onSignOut:p}):U.jsx(A4,{onLogin:y,loading:l,error:d})};gb.createRoot(document.getElementById("root")).render(U.jsx(le.StrictMode,{children:U.jsx(R4,{})}));
